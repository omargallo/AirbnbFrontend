var lF=Object.create;var Sv=Object.defineProperty,cF=Object.defineProperties,dF=Object.getOwnPropertyDescriptor,uF=Object.getOwnPropertyDescriptors,pF=Object.getOwnPropertyNames,Pw=Object.getOwnPropertySymbols,fF=Object.getPrototypeOf,Ow=Object.prototype.hasOwnProperty,mF=Object.prototype.propertyIsEnumerable;var kw=(n,e,t)=>e in n?Sv(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ie=(n,e)=>{for(var t in e||={})Ow.call(e,t)&&kw(n,t,e[t]);if(Pw)for(var t of Pw(e))mF.call(e,t)&&kw(n,t,e[t]);return n},Ve=(n,e)=>cF(n,uF(e));var Lc=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var Nl=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var hF=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of pF(e))!Ow.call(n,r)&&r!==t&&Sv(n,r,{get:()=>e[r],enumerable:!(i=dF(e,r))||i.enumerable});return n};var mr=(n,e,t)=>(t=n!=null?lF(fF(n)):{},hF(e||!n||!n.__esModule?Sv(t,"default",{value:n,enumerable:!0}):t,n));var Dp=Nl((KC,_4)=>{"use strict";(function(n,e){typeof KC=="object"&&typeof _4<"u"?_4.exports=e():typeof define=="function"&&define.amd?define(e):n.moment=e()})(KC,function(){"use strict";var n;function e(){return n.apply(null,arguments)}function t(g){n=g}function i(g){return g instanceof Array||Object.prototype.toString.call(g)==="[object Array]"}function r(g){return g!=null&&Object.prototype.toString.call(g)==="[object Object]"}function o(g,x){return Object.prototype.hasOwnProperty.call(g,x)}function a(g){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(g).length===0;var x;for(x in g)if(o(g,x))return!1;return!0}function c(g){return g===void 0}function u(g){return typeof g=="number"||Object.prototype.toString.call(g)==="[object Number]"}function h(g){return g instanceof Date||Object.prototype.toString.call(g)==="[object Date]"}function v(g,x){var D=[],I,G=g.length;for(I=0;I<G;++I)D.push(x(g[I],I));return D}function y(g,x){for(var D in x)o(x,D)&&(g[D]=x[D]);return o(x,"toString")&&(g.toString=x.toString),o(x,"valueOf")&&(g.valueOf=x.valueOf),g}function P(g,x,D,I){return hf(g,x,D,I,!0).utc()}function S(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function M(g){return g._pf==null&&(g._pf=S()),g._pf}var O;Array.prototype.some?O=Array.prototype.some:O=function(g){var x=Object(this),D=x.length>>>0,I;for(I=0;I<D;I++)if(I in x&&g.call(this,x[I],I,x))return!0;return!1};function R(g){var x=null,D=!1,I=g._d&&!isNaN(g._d.getTime());if(I&&(x=M(g),D=O.call(x.parsedDateParts,function(G){return G!=null}),I=x.overflow<0&&!x.empty&&!x.invalidEra&&!x.invalidMonth&&!x.invalidWeekday&&!x.weekdayMismatch&&!x.nullInput&&!x.invalidFormat&&!x.userInvalidated&&(!x.meridiem||x.meridiem&&D),g._strict&&(I=I&&x.charsLeftOver===0&&x.unusedTokens.length===0&&x.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(g))g._isValid=I;else return I;return g._isValid}function B(g){var x=P(NaN);return g!=null?y(M(x),g):M(x).userInvalidated=!0,x}var F=e.momentProperties=[],N=!1;function Y(g,x){var D,I,G,ce=F.length;if(c(x._isAMomentObject)||(g._isAMomentObject=x._isAMomentObject),c(x._i)||(g._i=x._i),c(x._f)||(g._f=x._f),c(x._l)||(g._l=x._l),c(x._strict)||(g._strict=x._strict),c(x._tzm)||(g._tzm=x._tzm),c(x._isUTC)||(g._isUTC=x._isUTC),c(x._offset)||(g._offset=x._offset),c(x._pf)||(g._pf=M(x)),c(x._locale)||(g._locale=x._locale),ce>0)for(D=0;D<ce;D++)I=F[D],G=x[I],c(G)||(g[I]=G);return g}function ne(g){Y(this,g),this._d=new Date(g._d!=null?g._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),N===!1&&(N=!0,e.updateOffset(this),N=!1)}function ue(g){return g instanceof ne||g!=null&&g._isAMomentObject!=null}function fe(g){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+g)}function oe(g,x){var D=!0;return y(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,g),D){var I=[],G,ce,Ee,at=arguments.length;for(ce=0;ce<at;ce++){if(G="",typeof arguments[ce]=="object"){G+=`
[`+ce+"] ";for(Ee in arguments[0])o(arguments[0],Ee)&&(G+=Ee+": "+arguments[0][Ee]+", ");G=G.slice(0,-2)}else G=arguments[ce];I.push(G)}fe(g+`
Arguments: `+Array.prototype.slice.call(I).join("")+`
`+new Error().stack),D=!1}return x.apply(this,arguments)},x)}var J={};function pe(g,x){e.deprecationHandler!=null&&e.deprecationHandler(g,x),J[g]||(fe(x),J[g]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function ge(g){return typeof Function<"u"&&g instanceof Function||Object.prototype.toString.call(g)==="[object Function]"}function re(g){var x,D;for(D in g)o(g,D)&&(x=g[D],ge(x)?this[D]=x:this["_"+D]=x);this._config=g,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ee(g,x){var D=y({},g),I;for(I in x)o(x,I)&&(r(g[I])&&r(x[I])?(D[I]={},y(D[I],g[I]),y(D[I],x[I])):x[I]!=null?D[I]=x[I]:delete D[I]);for(I in g)o(g,I)&&!o(x,I)&&r(g[I])&&(D[I]=y({},D[I]));return D}function se(g){g!=null&&this.set(g)}var ve;Object.keys?ve=Object.keys:ve=function(g){var x,D=[];for(x in g)o(g,x)&&D.push(x);return D};var te={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function K(g,x,D){var I=this._calendar[g]||this._calendar.sameElse;return ge(I)?I.call(x,D):I}function H(g,x,D){var I=""+Math.abs(g),G=x-I.length,ce=g>=0;return(ce?D?"+":"":"-")+Math.pow(10,Math.max(0,G)).toString().substr(1)+I}var Z=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ke=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Be={},Qe={};function Se(g,x,D,I){var G=I;typeof I=="string"&&(G=function(){return this[I]()}),g&&(Qe[g]=G),x&&(Qe[x[0]]=function(){return H(G.apply(this,arguments),x[1],x[2])}),D&&(Qe[D]=function(){return this.localeData().ordinal(G.apply(this,arguments),g)})}function gt(g){return g.match(/\[[\s\S]/)?g.replace(/^\[|\]$/g,""):g.replace(/\\/g,"")}function ze(g){var x=g.match(Z),D,I;for(D=0,I=x.length;D<I;D++)Qe[x[D]]?x[D]=Qe[x[D]]:x[D]=gt(x[D]);return function(G){var ce="",Ee;for(Ee=0;Ee<I;Ee++)ce+=ge(x[Ee])?x[Ee].call(G,g):x[Ee];return ce}}function Ie(g,x){return g.isValid()?(x=Fe(x,g.localeData()),Be[x]=Be[x]||ze(x),Be[x](g)):g.localeData().invalidDate()}function Fe(g,x){var D=5;function I(G){return x.longDateFormat(G)||G}for(ke.lastIndex=0;D>=0&&ke.test(g);)g=g.replace(ke,I),ke.lastIndex=0,D-=1;return g}var Oe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ae(g){var x=this._longDateFormat[g],D=this._longDateFormat[g.toUpperCase()];return x||!D?x:(this._longDateFormat[g]=D.match(Z).map(function(I){return I==="MMMM"||I==="MM"||I==="DD"||I==="dddd"?I.slice(1):I}).join(""),this._longDateFormat[g])}var xe="Invalid date";function Ue(){return this._invalidDate}var st="%d",pt=/\d{1,2}/;function tt(g){return this._ordinal.replace("%d",g)}var vt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function kt(g,x,D,I){var G=this._relativeTime[D];return ge(G)?G(g,x,D,I):G.replace(/%d/i,g)}function jt(g,x){var D=this._relativeTime[g>0?"future":"past"];return ge(D)?D(x):D.replace(/%s/i,x)}var hn={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Lt(g){return typeof g=="string"?hn[g]||hn[g.toLowerCase()]:void 0}function er(g){var x={},D,I;for(I in g)o(g,I)&&(D=Lt(I),D&&(x[D]=g[I]));return x}var tr={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Po(g){var x=[],D;for(D in g)o(g,D)&&x.push({unit:D,priority:tr[D]});return x.sort(function(I,G){return I.priority-G.priority}),x}var va=/\d/,ki=/\d\d/,Ya=/\d{3}/,ko=/\d{4}/,Yr=/[+-]?\d{6}/,bn=/\d\d?/,Oo=/\d\d\d\d?/,yl=/\d\d\d\d\d\d?/,Ps=/\d{1,3}/,ks=/\d{1,4}/,Xo=/[+-]?\d{1,6}/,nr=/\d+/,$i=/[+-]?\d+/,z7=/Z|[+-]\d\d:?\d\d/gi,h0=/Z|[+-]\d\d(?::?\d\d)?/gi,Jp=/[+-]?\d+(\.\d{1,3})?/,bc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,xl=/^[1-9]\d?/,W4=/^([1-9]\d|\d)/,g0;g0={};function ot(g,x,D){g0[g]=ge(x)?x:function(I,G){return I&&D?D:x}}function A7(g,x){return o(g0,g)?g0[g](x._strict,x._locale):new RegExp(N7(g))}function N7(g){return qa(g.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(x,D,I,G,ce){return D||I||G||ce}))}function qa(g){return g.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function qr(g){return g<0?Math.ceil(g)||0:Math.floor(g)}function _n(g){var x=+g,D=0;return x!==0&&isFinite(x)&&(D=qr(x)),D}var G4={};function Gn(g,x){var D,I=x,G;for(typeof g=="string"&&(g=[g]),u(x)&&(I=function(ce,Ee){Ee[x]=_n(ce)}),G=g.length,D=0;D<G;D++)G4[g[D]]=I}function H1(g,x){Gn(g,function(D,I,G,ce){G._w=G._w||{},x(D,G._w,G,ce)})}function ba(g,x,D){x!=null&&o(G4,g)&&G4[g](x,D._a,D,g)}function ut(g){return g%4===0&&g%100!==0||g%400===0}var pr=0,_a=1,Ko=2,Bi=3,so=4,ya=5,Do=6,ef=7,R7=8;Se("Y",0,0,function(){var g=this.year();return g<=9999?H(g,4):"+"+g}),Se(0,["YY",2],0,function(){return this.year()%100}),Se(0,["YYYY",4],0,"year"),Se(0,["YYYYY",5],0,"year"),Se(0,["YYYYYY",6,!0],0,"year"),ot("Y",$i),ot("YY",bn,ki),ot("YYYY",ks,ko),ot("YYYYY",Xo,Yr),ot("YYYYYY",Xo,Yr),Gn(["YYYYY","YYYYYY"],pr),Gn("YYYY",function(g,x){x[pr]=g.length===2?e.parseTwoDigitYear(g):_n(g)}),Gn("YY",function(g,x){x[pr]=e.parseTwoDigitYear(g)}),Gn("Y",function(g,x){x[pr]=parseInt(g,10)});function U1(g){return ut(g)?366:365}e.parseTwoDigitYear=function(g){return _n(g)+(_n(g)>68?1900:2e3)};var tf=Cl("FullYear",!0);function F7(){return ut(this.year())}function Cl(g,x){return function(D){return D!=null?(W1(this,g,D),e.updateOffset(this,x),this):$1(this,g)}}function $1(g,x){if(!g.isValid())return NaN;var D=g._d,I=g._isUTC;switch(x){case"Milliseconds":return I?D.getUTCMilliseconds():D.getMilliseconds();case"Seconds":return I?D.getUTCSeconds():D.getSeconds();case"Minutes":return I?D.getUTCMinutes():D.getMinutes();case"Hours":return I?D.getUTCHours():D.getHours();case"Date":return I?D.getUTCDate():D.getDate();case"Day":return I?D.getUTCDay():D.getDay();case"Month":return I?D.getUTCMonth():D.getMonth();case"FullYear":return I?D.getUTCFullYear():D.getFullYear();default:return NaN}}function W1(g,x,D){var I,G,ce,Ee,at;if(!(!g.isValid()||isNaN(D))){switch(I=g._d,G=g._isUTC,x){case"Milliseconds":return void(G?I.setUTCMilliseconds(D):I.setMilliseconds(D));case"Seconds":return void(G?I.setUTCSeconds(D):I.setSeconds(D));case"Minutes":return void(G?I.setUTCMinutes(D):I.setMinutes(D));case"Hours":return void(G?I.setUTCHours(D):I.setHours(D));case"Date":return void(G?I.setUTCDate(D):I.setDate(D));case"FullYear":break;default:return}ce=D,Ee=g.month(),at=g.date(),at=at===29&&Ee===1&&!ut(ce)?28:at,G?I.setUTCFullYear(ce,Ee,at):I.setFullYear(ce,Ee,at)}}function V7(g){return g=Lt(g),ge(this[g])?this[g]():this}function B7(g,x){if(typeof g=="object"){g=er(g);var D=Po(g),I,G=D.length;for(I=0;I<G;I++)this[D[I].unit](g[D[I].unit])}else if(g=Lt(g),ge(this[g]))return this[g](x);return this}function j7(g,x){return(g%x+x)%x}var Li;Array.prototype.indexOf?Li=Array.prototype.indexOf:Li=function(g){var x;for(x=0;x<this.length;++x)if(this[x]===g)return x;return-1};function Y4(g,x){if(isNaN(g)||isNaN(x))return NaN;var D=j7(x,12);return g+=(x-D)/12,D===1?ut(g)?29:28:31-D%7%2}Se("M",["MM",2],"Mo",function(){return this.month()+1}),Se("MMM",0,0,function(g){return this.localeData().monthsShort(this,g)}),Se("MMMM",0,0,function(g){return this.localeData().months(this,g)}),ot("M",bn,xl),ot("MM",bn,ki),ot("MMM",function(g,x){return x.monthsShortRegex(g)}),ot("MMMM",function(g,x){return x.monthsRegex(g)}),Gn(["M","MM"],function(g,x){x[_a]=_n(g)-1}),Gn(["MMM","MMMM"],function(g,x,D,I){var G=D._locale.monthsParse(g,I,D._strict);G!=null?x[_a]=G:M(D).invalidMonth=g});var q4="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),_c="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Z4=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,nf=bc,G1=bc;function zn(g,x){return g?i(this._months)?this._months[g.month()]:this._months[(this._months.isFormat||Z4).test(x)?"format":"standalone"][g.month()]:i(this._months)?this._months:this._months.standalone}function xi(g,x){return g?i(this._monthsShort)?this._monthsShort[g.month()]:this._monthsShort[Z4.test(x)?"format":"standalone"][g.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function v0(g,x,D){var I,G,ce,Ee=g.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],I=0;I<12;++I)ce=P([2e3,I]),this._shortMonthsParse[I]=this.monthsShort(ce,"").toLocaleLowerCase(),this._longMonthsParse[I]=this.months(ce,"").toLocaleLowerCase();return D?x==="MMM"?(G=Li.call(this._shortMonthsParse,Ee),G!==-1?G:null):(G=Li.call(this._longMonthsParse,Ee),G!==-1?G:null):x==="MMM"?(G=Li.call(this._shortMonthsParse,Ee),G!==-1?G:(G=Li.call(this._longMonthsParse,Ee),G!==-1?G:null)):(G=Li.call(this._longMonthsParse,Ee),G!==-1?G:(G=Li.call(this._shortMonthsParse,Ee),G!==-1?G:null))}function yc(g,x,D){var I,G,ce;if(this._monthsParseExact)return v0.call(this,g,x,D);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),I=0;I<12;I++){if(G=P([2e3,I]),D&&!this._longMonthsParse[I]&&(this._longMonthsParse[I]=new RegExp("^"+this.months(G,"").replace(".","")+"$","i"),this._shortMonthsParse[I]=new RegExp("^"+this.monthsShort(G,"").replace(".","")+"$","i")),!D&&!this._monthsParse[I]&&(ce="^"+this.months(G,"")+"|^"+this.monthsShort(G,""),this._monthsParse[I]=new RegExp(ce.replace(".",""),"i")),D&&x==="MMMM"&&this._longMonthsParse[I].test(g))return I;if(D&&x==="MMM"&&this._shortMonthsParse[I].test(g))return I;if(!D&&this._monthsParse[I].test(g))return I}}function Ml(g,x){if(!g.isValid())return g;if(typeof x=="string"){if(/^\d+$/.test(x))x=_n(x);else if(x=g.localeData().monthsParse(x),!u(x))return g}var D=x,I=g.date();return I=I<29?I:Math.min(I,Y4(g.year(),D)),g._isUTC?g._d.setUTCMonth(D,I):g._d.setMonth(D,I),g}function b0(g){return g!=null?(Ml(this,g),e.updateOffset(this,!0),this):$1(this,"Month")}function rn(){return Y4(this.year(),this.month())}function zi(g){return this._monthsParseExact?(o(this,"_monthsRegex")||Y1.call(this),g?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=nf),this._monthsShortStrictRegex&&g?this._monthsShortStrictRegex:this._monthsShortRegex)}function X4(g){return this._monthsParseExact?(o(this,"_monthsRegex")||Y1.call(this),g?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=G1),this._monthsStrictRegex&&g?this._monthsStrictRegex:this._monthsRegex)}function Y1(){function g($t,En){return En.length-$t.length}var x=[],D=[],I=[],G,ce,Ee,at;for(G=0;G<12;G++)ce=P([2e3,G]),Ee=qa(this.monthsShort(ce,"")),at=qa(this.months(ce,"")),x.push(Ee),D.push(at),I.push(at),I.push(Ee);x.sort(g),D.sort(g),I.sort(g),this._monthsRegex=new RegExp("^("+I.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+D.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+x.join("|")+")","i")}function Eo(g,x,D,I,G,ce,Ee){var at;return g<100&&g>=0?(at=new Date(g+400,x,D,I,G,ce,Ee),isFinite(at.getFullYear())&&at.setFullYear(g)):at=new Date(g,x,D,I,G,ce,Ee),at}function q1(g){var x,D;return g<100&&g>=0?(D=Array.prototype.slice.call(arguments),D[0]=g+400,x=new Date(Date.UTC.apply(null,D)),isFinite(x.getUTCFullYear())&&x.setUTCFullYear(g)):x=new Date(Date.UTC.apply(null,arguments)),x}function wl(g,x,D){var I=7+x-D,G=(7+q1(g,0,I).getUTCDay()-x)%7;return-G+I-1}function Os(g,x,D,I,G){var ce=(7+D-I)%7,Ee=wl(g,I,G),at=1+7*(x-1)+ce+Ee,$t,En;return at<=0?($t=g-1,En=U1($t)+at):at>U1(g)?($t=g+1,En=at-U1(g)):($t=g,En=at),{year:$t,dayOfYear:En}}function bi(g,x,D){var I=wl(g.year(),x,D),G=Math.floor((g.dayOfYear()-I-1)/7)+1,ce,Ee;return G<1?(Ee=g.year()-1,ce=G+Vr(Ee,x,D)):G>Vr(g.year(),x,D)?(ce=G-Vr(g.year(),x,D),Ee=g.year()+1):(Ee=g.year(),ce=G),{week:ce,year:Ee}}function Vr(g,x,D){var I=wl(g,x,D),G=wl(g+1,x,D);return(U1(g)-I+G)/7}Se("w",["ww",2],"wo","week"),Se("W",["WW",2],"Wo","isoWeek"),ot("w",bn,xl),ot("ww",bn,ki),ot("W",bn,xl),ot("WW",bn,ki),H1(["w","ww","W","WW"],function(g,x,D,I){x[I.substr(0,1)]=_n(g)});function Z1(g){return bi(g,this._week.dow,this._week.doy).week}var X1={dow:0,doy:6};function K4(){return this._week.dow}function K1(){return this._week.doy}function Q4(g){var x=this.localeData().week(this);return g==null?x:this.add((g-x)*7,"d")}function J4(g){var x=bi(this,1,4).week;return g==null?x:this.add((g-x)*7,"d")}Se("d",0,"do","day"),Se("dd",0,0,function(g){return this.localeData().weekdaysMin(this,g)}),Se("ddd",0,0,function(g){return this.localeData().weekdaysShort(this,g)}),Se("dddd",0,0,function(g){return this.localeData().weekdays(this,g)}),Se("e",0,0,"weekday"),Se("E",0,0,"isoWeekday"),ot("d",bn),ot("e",bn),ot("E",bn),ot("dd",function(g,x){return x.weekdaysMinRegex(g)}),ot("ddd",function(g,x){return x.weekdaysShortRegex(g)}),ot("dddd",function(g,x){return x.weekdaysRegex(g)}),H1(["dd","ddd","dddd"],function(g,x,D,I){var G=D._locale.weekdaysParse(g,I,D._strict);G!=null?x.d=G:M(D).invalidWeekday=g}),H1(["d","e","E"],function(g,x,D,I){x[I]=_n(g)});function _0(g,x){return typeof g!="string"?g:isNaN(g)?(g=x.weekdaysParse(g),typeof g=="number"?g:null):parseInt(g,10)}function e3(g,x){return typeof g=="string"?x.weekdaysParse(g)%7||7:isNaN(g)?null:g}function Q1(g,x){return g.slice(x,7).concat(g.slice(0,x))}var y0="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),t3="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),n3="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),H7=bc,Jt=bc,xa=bc;function ti(g,x){var D=i(this._weekdays)?this._weekdays:this._weekdays[g&&g!==!0&&this._weekdays.isFormat.test(x)?"format":"standalone"];return g===!0?Q1(D,this._week.dow):g?D[g.day()]:D}function rf(g){return g===!0?Q1(this._weekdaysShort,this._week.dow):g?this._weekdaysShort[g.day()]:this._weekdaysShort}function i3(g){return g===!0?Q1(this._weekdaysMin,this._week.dow):g?this._weekdaysMin[g.day()]:this._weekdaysMin}function r3(g,x,D){var I,G,ce,Ee=g.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],I=0;I<7;++I)ce=P([2e3,1]).day(I),this._minWeekdaysParse[I]=this.weekdaysMin(ce,"").toLocaleLowerCase(),this._shortWeekdaysParse[I]=this.weekdaysShort(ce,"").toLocaleLowerCase(),this._weekdaysParse[I]=this.weekdays(ce,"").toLocaleLowerCase();return D?x==="dddd"?(G=Li.call(this._weekdaysParse,Ee),G!==-1?G:null):x==="ddd"?(G=Li.call(this._shortWeekdaysParse,Ee),G!==-1?G:null):(G=Li.call(this._minWeekdaysParse,Ee),G!==-1?G:null):x==="dddd"?(G=Li.call(this._weekdaysParse,Ee),G!==-1||(G=Li.call(this._shortWeekdaysParse,Ee),G!==-1)?G:(G=Li.call(this._minWeekdaysParse,Ee),G!==-1?G:null)):x==="ddd"?(G=Li.call(this._shortWeekdaysParse,Ee),G!==-1||(G=Li.call(this._weekdaysParse,Ee),G!==-1)?G:(G=Li.call(this._minWeekdaysParse,Ee),G!==-1?G:null)):(G=Li.call(this._minWeekdaysParse,Ee),G!==-1||(G=Li.call(this._weekdaysParse,Ee),G!==-1)?G:(G=Li.call(this._shortWeekdaysParse,Ee),G!==-1?G:null))}function o3(g,x,D){var I,G,ce;if(this._weekdaysParseExact)return r3.call(this,g,x,D);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),I=0;I<7;I++){if(G=P([2e3,1]).day(I),D&&!this._fullWeekdaysParse[I]&&(this._fullWeekdaysParse[I]=new RegExp("^"+this.weekdays(G,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[I]=new RegExp("^"+this.weekdaysShort(G,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[I]=new RegExp("^"+this.weekdaysMin(G,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[I]||(ce="^"+this.weekdays(G,"")+"|^"+this.weekdaysShort(G,"")+"|^"+this.weekdaysMin(G,""),this._weekdaysParse[I]=new RegExp(ce.replace(".",""),"i")),D&&x==="dddd"&&this._fullWeekdaysParse[I].test(g))return I;if(D&&x==="ddd"&&this._shortWeekdaysParse[I].test(g))return I;if(D&&x==="dd"&&this._minWeekdaysParse[I].test(g))return I;if(!D&&this._weekdaysParse[I].test(g))return I}}function Sl(g){if(!this.isValid())return g!=null?this:NaN;var x=$1(this,"Day");return g!=null?(g=_0(g,this.localeData()),this.add(g-x,"d")):x}function a3(g){if(!this.isValid())return g!=null?this:NaN;var x=(this.day()+7-this.localeData()._week.dow)%7;return g==null?x:this.add(g-x,"d")}function J1(g){if(!this.isValid())return g!=null?this:NaN;if(g!=null){var x=e3(g,this.localeData());return this.day(this.day()%7?x:x-7)}else return this.day()||7}function fr(g){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||x0.call(this),g?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=H7),this._weekdaysStrictRegex&&g?this._weekdaysStrictRegex:this._weekdaysRegex)}function Pl(g){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||x0.call(this),g?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Jt),this._weekdaysShortStrictRegex&&g?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function of(g){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||x0.call(this),g?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=xa),this._weekdaysMinStrictRegex&&g?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function x0(){function g(lo,Al){return Al.length-lo.length}var x=[],D=[],I=[],G=[],ce,Ee,at,$t,En;for(ce=0;ce<7;ce++)Ee=P([2e3,1]).day(ce),at=qa(this.weekdaysMin(Ee,"")),$t=qa(this.weekdaysShort(Ee,"")),En=qa(this.weekdays(Ee,"")),x.push(at),D.push($t),I.push(En),G.push(at),G.push($t),G.push(En);x.sort(g),D.sort(g),I.sort(g),G.sort(g),this._weekdaysRegex=new RegExp("^("+G.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+I.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+D.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+x.join("|")+")","i")}function s3(){return this.hours()%12||12}function af(){return this.hours()||24}Se("H",["HH",2],0,"hour"),Se("h",["hh",2],0,s3),Se("k",["kk",2],0,af),Se("hmm",0,0,function(){return""+s3.apply(this)+H(this.minutes(),2)}),Se("hmmss",0,0,function(){return""+s3.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),Se("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),Se("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)});function C0(g,x){Se(g,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),x)})}C0("a",!0),C0("A",!1);function sf(g,x){return x._meridiemParse}ot("a",sf),ot("A",sf),ot("H",bn,W4),ot("h",bn,xl),ot("k",bn,xl),ot("HH",bn,ki),ot("hh",bn,ki),ot("kk",bn,ki),ot("hmm",Oo),ot("hmmss",yl),ot("Hmm",Oo),ot("Hmmss",yl),Gn(["H","HH"],Bi),Gn(["k","kk"],function(g,x,D){var I=_n(g);x[Bi]=I===24?0:I}),Gn(["a","A"],function(g,x,D){D._isPm=D._locale.isPM(g),D._meridiem=g}),Gn(["h","hh"],function(g,x,D){x[Bi]=_n(g),M(D).bigHour=!0}),Gn("hmm",function(g,x,D){var I=g.length-2;x[Bi]=_n(g.substr(0,I)),x[so]=_n(g.substr(I)),M(D).bigHour=!0}),Gn("hmmss",function(g,x,D){var I=g.length-4,G=g.length-2;x[Bi]=_n(g.substr(0,I)),x[so]=_n(g.substr(I,2)),x[ya]=_n(g.substr(G)),M(D).bigHour=!0}),Gn("Hmm",function(g,x,D){var I=g.length-2;x[Bi]=_n(g.substr(0,I)),x[so]=_n(g.substr(I))}),Gn("Hmmss",function(g,x,D){var I=g.length-4,G=g.length-2;x[Bi]=_n(g.substr(0,I)),x[so]=_n(g.substr(I,2)),x[ya]=_n(g.substr(G))});function lf(g){return(g+"").toLowerCase().charAt(0)==="p"}var On=/[ap]\.?m?\.?/i,U7=Cl("Hours",!0);function Qo(g,x,D){return g>11?D?"pm":"PM":D?"am":"AM"}var xc={calendar:te,longDateFormat:Oe,invalidDate:xe,ordinal:st,dayOfMonthOrdinalParse:pt,relativeTime:vt,months:q4,monthsShort:_c,week:X1,weekdays:y0,weekdaysMin:n3,weekdaysShort:t3,meridiemParse:On},ci={},e2={},kl;function $7(g,x){var D,I=Math.min(g.length,x.length);for(D=0;D<I;D+=1)if(g[D]!==x[D])return D;return I}function l3(g){return g&&g.toLowerCase().replace("_","-")}function W7(g){for(var x=0,D,I,G,ce;x<g.length;){for(ce=l3(g[x]).split("-"),D=ce.length,I=l3(g[x+1]),I=I?I.split("-"):null;D>0;){if(G=Cc(ce.slice(0,D).join("-")),G)return G;if(I&&I.length>=D&&$7(ce,I)>=D-1)break;D--}x++}return kl}function G7(g){return!!(g&&g.match("^[^/\\\\]*$"))}function Cc(g){var x=null,D;if(ci[g]===void 0&&typeof _4<"u"&&_4&&_4.exports&&G7(g))try{x=kl._abbr,D=Lc,D("./locale/"+g),Ds(x)}catch{ci[g]=null}return ci[g]}function Ds(g,x){var D;return g&&(c(x)?D=Ca(g):D=Io(g,x),D?kl=D:typeof console<"u"&&console.warn&&console.warn("Locale "+g+" not found. Did you forget to load it?")),kl._abbr}function Io(g,x){if(x!==null){var D,I=xc;if(x.abbr=g,ci[g]!=null)pe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),I=ci[g]._config;else if(x.parentLocale!=null)if(ci[x.parentLocale]!=null)I=ci[x.parentLocale]._config;else if(D=Cc(x.parentLocale),D!=null)I=D._config;else return e2[x.parentLocale]||(e2[x.parentLocale]=[]),e2[x.parentLocale].push({name:g,config:x}),null;return ci[g]=new se(ee(I,x)),e2[g]&&e2[g].forEach(function(G){Io(G.name,G.config)}),Ds(g),ci[g]}else return delete ci[g],null}function Y7(g,x){if(x!=null){var D,I,G=xc;ci[g]!=null&&ci[g].parentLocale!=null?ci[g].set(ee(ci[g]._config,x)):(I=Cc(g),I!=null&&(G=I._config),x=ee(G,x),I==null&&(x.abbr=g),D=new se(x),D.parentLocale=ci[g],ci[g]=D),Ds(g)}else ci[g]!=null&&(ci[g].parentLocale!=null?(ci[g]=ci[g].parentLocale,g===Ds()&&Ds(g)):ci[g]!=null&&delete ci[g]);return ci[g]}function Ca(g){var x;if(g&&g._locale&&g._locale._abbr&&(g=g._locale._abbr),!g)return kl;if(!i(g)){if(x=Cc(g),x)return x;g=[g]}return W7(g)}function Es(){return ve(ci)}function M0(g){var x,D=g._a;return D&&M(g).overflow===-2&&(x=D[_a]<0||D[_a]>11?_a:D[Ko]<1||D[Ko]>Y4(D[pr],D[_a])?Ko:D[Bi]<0||D[Bi]>24||D[Bi]===24&&(D[so]!==0||D[ya]!==0||D[Do]!==0)?Bi:D[so]<0||D[so]>59?so:D[ya]<0||D[ya]>59?ya:D[Do]<0||D[Do]>999?Do:-1,M(g)._overflowDayOfYear&&(x<pr||x>Ko)&&(x=Ko),M(g)._overflowWeeks&&x===-1&&(x=ef),M(g)._overflowWeekday&&x===-1&&(x=R7),M(g).overflow=x),g}var cf=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,c3=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,q7=/Z|[+-]\d\d(?::?\d\d)?/,t2=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],w0=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Z7=/^\/?Date\((-?\d+)/i,X7=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,d3={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function df(g){var x,D,I=g._i,G=cf.exec(I)||c3.exec(I),ce,Ee,at,$t,En=t2.length,lo=w0.length;if(G){for(M(g).iso=!0,x=0,D=En;x<D;x++)if(t2[x][1].exec(G[1])){Ee=t2[x][0],ce=t2[x][2]!==!1;break}if(Ee==null){g._isValid=!1;return}if(G[3]){for(x=0,D=lo;x<D;x++)if(w0[x][1].exec(G[3])){at=(G[2]||" ")+w0[x][0];break}if(at==null){g._isValid=!1;return}}if(!ce&&at!=null){g._isValid=!1;return}if(G[4])if(q7.exec(G[4]))$t="Z";else{g._isValid=!1;return}g._f=Ee+(at||"")+($t||""),n2(g)}else g._isValid=!1}function uf(g,x,D,I,G,ce){var Ee=[pf(g),_c.indexOf(x),parseInt(D,10),parseInt(I,10),parseInt(G,10)];return ce&&Ee.push(parseInt(ce,10)),Ee}function pf(g){var x=parseInt(g,10);return x<=49?2e3+x:x<=999?1900+x:x}function S0(g){return g.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ol(g,x,D){if(g){var I=t3.indexOf(g),G=new Date(x[0],x[1],x[2]).getDay();if(I!==G)return M(D).weekdayMismatch=!0,D._isValid=!1,!1}return!0}function K7(g,x,D){if(g)return d3[g];if(x)return 0;var I=parseInt(D,10),G=I%100,ce=(I-G)/100;return ce*60+G}function Mc(g){var x=X7.exec(S0(g._i)),D;if(x){if(D=uf(x[4],x[3],x[2],x[5],x[6],x[7]),!Ol(x[1],D,g))return;g._a=D,g._tzm=K7(x[8],x[9],x[10]),g._d=q1.apply(null,g._a),g._d.setUTCMinutes(g._d.getUTCMinutes()-g._tzm),M(g).rfc2822=!0}else g._isValid=!1}function To(g){var x=Z7.exec(g._i);if(x!==null){g._d=new Date(+x[1]);return}if(df(g),g._isValid===!1)delete g._isValid;else return;if(Mc(g),g._isValid===!1)delete g._isValid;else return;g._strict?g._isValid=!1:e.createFromInputFallback(g)}e.createFromInputFallback=oe("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(g){g._d=new Date(g._i+(g._useUTC?" UTC":""))});function Dl(g,x,D){return g??x??D}function ff(g){var x=new Date(e.now());return g._useUTC?[x.getUTCFullYear(),x.getUTCMonth(),x.getUTCDate()]:[x.getFullYear(),x.getMonth(),x.getDate()]}function u3(g){var x,D,I=[],G,ce,Ee;if(!g._d){for(G=ff(g),g._w&&g._a[Ko]==null&&g._a[_a]==null&&p3(g),g._dayOfYear!=null&&(Ee=Dl(g._a[pr],G[pr]),(g._dayOfYear>U1(Ee)||g._dayOfYear===0)&&(M(g)._overflowDayOfYear=!0),D=q1(Ee,0,g._dayOfYear),g._a[_a]=D.getUTCMonth(),g._a[Ko]=D.getUTCDate()),x=0;x<3&&g._a[x]==null;++x)g._a[x]=I[x]=G[x];for(;x<7;x++)g._a[x]=I[x]=g._a[x]==null?x===2?1:0:g._a[x];g._a[Bi]===24&&g._a[so]===0&&g._a[ya]===0&&g._a[Do]===0&&(g._nextDay=!0,g._a[Bi]=0),g._d=(g._useUTC?q1:Eo).apply(null,I),ce=g._useUTC?g._d.getUTCDay():g._d.getDay(),g._tzm!=null&&g._d.setUTCMinutes(g._d.getUTCMinutes()-g._tzm),g._nextDay&&(g._a[Bi]=24),g._w&&typeof g._w.d<"u"&&g._w.d!==ce&&(M(g).weekdayMismatch=!0)}}function p3(g){var x,D,I,G,ce,Ee,at,$t,En;x=g._w,x.GG!=null||x.W!=null||x.E!=null?(ce=1,Ee=4,D=Dl(x.GG,g._a[pr],bi(Dn(),1,4).year),I=Dl(x.W,1),G=Dl(x.E,1),(G<1||G>7)&&($t=!0)):(ce=g._locale._week.dow,Ee=g._locale._week.doy,En=bi(Dn(),ce,Ee),D=Dl(x.gg,g._a[pr],En.year),I=Dl(x.w,En.week),x.d!=null?(G=x.d,(G<0||G>6)&&($t=!0)):x.e!=null?(G=x.e+ce,(x.e<0||x.e>6)&&($t=!0)):G=ce),I<1||I>Vr(D,ce,Ee)?M(g)._overflowWeeks=!0:$t!=null?M(g)._overflowWeekday=!0:(at=Os(D,I,G,ce,Ee),g._a[pr]=at.year,g._dayOfYear=at.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function n2(g){if(g._f===e.ISO_8601){df(g);return}if(g._f===e.RFC_2822){Mc(g);return}g._a=[],M(g).empty=!0;var x=""+g._i,D,I,G,ce,Ee,at=x.length,$t=0,En,lo;for(G=Fe(g._f,g._locale).match(Z)||[],lo=G.length,D=0;D<lo;D++)ce=G[D],I=(x.match(A7(ce,g))||[])[0],I&&(Ee=x.substr(0,x.indexOf(I)),Ee.length>0&&M(g).unusedInput.push(Ee),x=x.slice(x.indexOf(I)+I.length),$t+=I.length),Qe[ce]?(I?M(g).empty=!1:M(g).unusedTokens.push(ce),ba(ce,I,g)):g._strict&&!I&&M(g).unusedTokens.push(ce);M(g).charsLeftOver=at-$t,x.length>0&&M(g).unusedInput.push(x),g._a[Bi]<=12&&M(g).bigHour===!0&&g._a[Bi]>0&&(M(g).bigHour=void 0),M(g).parsedDateParts=g._a.slice(0),M(g).meridiem=g._meridiem,g._a[Bi]=Q7(g._locale,g._a[Bi],g._meridiem),En=M(g).era,En!==null&&(g._a[pr]=g._locale.erasConvertYear(En,g._a[pr])),u3(g),M0(g)}function Q7(g,x,D){var I;return D==null?x:g.meridiemHour!=null?g.meridiemHour(x,D):(g.isPM!=null&&(I=g.isPM(D),I&&x<12&&(x+=12),!I&&x===12&&(x=0)),x)}function J7(g){var x,D,I,G,ce,Ee,at=!1,$t=g._f.length;if($t===0){M(g).invalidFormat=!0,g._d=new Date(NaN);return}for(G=0;G<$t;G++)ce=0,Ee=!1,x=Y({},g),g._useUTC!=null&&(x._useUTC=g._useUTC),x._f=g._f[G],n2(x),R(x)&&(Ee=!0),ce+=M(x).charsLeftOver,ce+=M(x).unusedTokens.length*10,M(x).score=ce,at?ce<I&&(I=ce,D=x):(I==null||ce<I||Ee)&&(I=ce,D=x,Ee&&(at=!0));y(g,D||x)}function mf(g){if(!g._d){var x=er(g._i),D=x.day===void 0?x.date:x.day;g._a=v([x.year,x.month,D,x.hour,x.minute,x.second,x.millisecond],function(I){return I&&parseInt(I,10)}),u3(g)}}function ev(g){var x=new ne(M0(Lo(g)));return x._nextDay&&(x.add(1,"d"),x._nextDay=void 0),x}function Lo(g){var x=g._i,D=g._f;return g._locale=g._locale||Ca(g._l),x===null||D===void 0&&x===""?B({nullInput:!0}):(typeof x=="string"&&(g._i=x=g._locale.preparse(x)),ue(x)?new ne(M0(x)):(h(x)?g._d=x:i(D)?J7(g):D?n2(g):wc(g),R(g)||(g._d=null),g))}function wc(g){var x=g._i;c(x)?g._d=new Date(e.now()):h(x)?g._d=new Date(x.valueOf()):typeof x=="string"?To(g):i(x)?(g._a=v(x.slice(0),function(D){return parseInt(D,10)}),u3(g)):r(x)?mf(g):u(x)?g._d=new Date(x):e.createFromInputFallback(g)}function hf(g,x,D,I,G){var ce={};return(x===!0||x===!1)&&(I=x,x=void 0),(D===!0||D===!1)&&(I=D,D=void 0),(r(g)&&a(g)||i(g)&&g.length===0)&&(g=void 0),ce._isAMomentObject=!0,ce._useUTC=ce._isUTC=G,ce._l=D,ce._i=g,ce._f=x,ce._strict=I,ev(ce)}function Dn(g,x,D,I){return hf(g,x,D,I,!1)}var tv=oe("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var g=Dn.apply(null,arguments);return this.isValid()&&g.isValid()?g<this?this:g:B()}),Sc=oe("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var g=Dn.apply(null,arguments);return this.isValid()&&g.isValid()?g>this?this:g:B()});function gf(g,x){var D,I;if(x.length===1&&i(x[0])&&(x=x[0]),!x.length)return Dn();for(D=x[0],I=1;I<x.length;++I)(!x[I].isValid()||x[I][g](D))&&(D=x[I]);return D}function i2(){var g=[].slice.call(arguments,0);return gf("isBefore",g)}function vf(){var g=[].slice.call(arguments,0);return gf("isAfter",g)}var P0=function(){return Date.now?Date.now():+new Date},r2=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Is(g){var x,D=!1,I,G=r2.length;for(x in g)if(o(g,x)&&!(Li.call(r2,x)!==-1&&(g[x]==null||!isNaN(g[x]))))return!1;for(I=0;I<G;++I)if(g[r2[I]]){if(D)return!1;parseFloat(g[r2[I]])!==_n(g[r2[I]])&&(D=!0)}return!0}function k0(){return this._isValid}function nv(){return zo(NaN)}function Pc(g){var x=er(g),D=x.year||0,I=x.quarter||0,G=x.month||0,ce=x.week||x.isoWeek||0,Ee=x.day||0,at=x.hour||0,$t=x.minute||0,En=x.second||0,lo=x.millisecond||0;this._isValid=Is(x),this._milliseconds=+lo+En*1e3+$t*6e4+at*1e3*60*60,this._days=+Ee+ce*7,this._months=+G+I*3+D*12,this._data={},this._locale=Ca(),this._bubble()}function O0(g){return g instanceof Pc}function Jo(g){return g<0?Math.round(-1*g)*-1:Math.round(g)}function iv(g,x,D){var I=Math.min(g.length,x.length),G=Math.abs(g.length-x.length),ce=0,Ee;for(Ee=0;Ee<I;Ee++)(D&&g[Ee]!==x[Ee]||!D&&_n(g[Ee])!==_n(x[Ee]))&&ce++;return ce+G}function El(g,x){Se(g,0,0,function(){var D=this.utcOffset(),I="+";return D<0&&(D=-D,I="-"),I+H(~~(D/60),2)+x+H(~~D%60,2)})}El("Z",":"),El("ZZ",""),ot("Z",h0),ot("ZZ",h0),Gn(["Z","ZZ"],function(g,x,D){D._useUTC=!0,D._tzm=ea(h0,g)});var rv=/([\+\-]|\d\d)/gi;function ea(g,x){var D=(x||"").match(g),I,G,ce;return D===null?null:(I=D[D.length-1]||[],G=(I+"").match(rv)||["-",0,0],ce=+(G[1]*60)+_n(G[2]),ce===0?0:G[0]==="+"?ce:-ce)}function kc(g,x){var D,I;return x._isUTC?(D=x.clone(),I=(ue(g)||h(g)?g.valueOf():Dn(g).valueOf())-D.valueOf(),D._d.setTime(D._d.valueOf()+I),e.updateOffset(D,!1),D):Dn(g).local()}function D0(g){return-Math.round(g._d.getTimezoneOffset())}e.updateOffset=function(){};function f3(g,x,D){var I=this._offset||0,G;if(!this.isValid())return g!=null?this:NaN;if(g!=null){if(typeof g=="string"){if(g=ea(h0,g),g===null)return this}else Math.abs(g)<16&&!D&&(g=g*60);return!this._isUTC&&x&&(G=D0(this)),this._offset=g,this._isUTC=!0,G!=null&&this.add(G,"m"),I!==g&&(!x||this._changeInProgress?o2(this,zo(g-I,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?I:D0(this)}function E0(g,x){return g!=null?(typeof g!="string"&&(g=-g),this.utcOffset(g,x),this):-this.utcOffset()}function m3(g){return this.utcOffset(0,g)}function I0(g){return this._isUTC&&(this.utcOffset(0,g),this._isUTC=!1,g&&this.subtract(D0(this),"m")),this}function Oc(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var g=ea(z7,this._i);g!=null?this.utcOffset(g):this.utcOffset(0,!0)}return this}function T0(g){return this.isValid()?(g=g?Dn(g).utcOffset():0,(this.utcOffset()-g)%60===0):!1}function h3(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function bf(){if(!c(this._isDSTShifted))return this._isDSTShifted;var g={},x;return Y(g,this),g=Lo(g),g._a?(x=g._isUTC?P(g._a):Dn(g._a),this._isDSTShifted=this.isValid()&&iv(g._a,x.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function ov(){return this.isValid()?!this._isUTC:!1}function L0(){return this.isValid()?this._isUTC:!1}function _f(){return this.isValid()?this._isUTC&&this._offset===0:!1}var yf=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,av=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function zo(g,x){var D=g,I=null,G,ce,Ee;return O0(g)?D={ms:g._milliseconds,d:g._days,M:g._months}:u(g)||!isNaN(+g)?(D={},x?D[x]=+g:D.milliseconds=+g):(I=yf.exec(g))?(G=I[1]==="-"?-1:1,D={y:0,d:_n(I[Ko])*G,h:_n(I[Bi])*G,m:_n(I[so])*G,s:_n(I[ya])*G,ms:_n(Jo(I[Do]*1e3))*G}):(I=av.exec(g))?(G=I[1]==="-"?-1:1,D={y:Il(I[2],G),M:Il(I[3],G),w:Il(I[4],G),d:Il(I[5],G),h:Il(I[6],G),m:Il(I[7],G),s:Il(I[8],G)}):D==null?D={}:typeof D=="object"&&("from"in D||"to"in D)&&(Ee=z0(Dn(D.from),Dn(D.to)),D={},D.ms=Ee.milliseconds,D.M=Ee.months),ce=new Pc(D),O0(g)&&o(g,"_locale")&&(ce._locale=g._locale),O0(g)&&o(g,"_isValid")&&(ce._isValid=g._isValid),ce}zo.fn=Pc.prototype,zo.invalid=nv;function Il(g,x){var D=g&&parseFloat(g.replace(",","."));return(isNaN(D)?0:D)*x}function ta(g,x){var D={};return D.months=x.month()-g.month()+(x.year()-g.year())*12,g.clone().add(D.months,"M").isAfter(x)&&--D.months,D.milliseconds=+x-+g.clone().add(D.months,"M"),D}function z0(g,x){var D;return g.isValid()&&x.isValid()?(x=kc(x,g),g.isBefore(x)?D=ta(g,x):(D=ta(x,g),D.milliseconds=-D.milliseconds,D.months=-D.months),D):{milliseconds:0,months:0}}function xf(g,x){return function(D,I){var G,ce;return I!==null&&!isNaN(+I)&&(pe(x,"moment()."+x+"(period, number) is deprecated. Please use moment()."+x+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),ce=D,D=I,I=ce),G=zo(D,I),o2(this,G,g),this}}function o2(g,x,D,I){var G=x._milliseconds,ce=Jo(x._days),Ee=Jo(x._months);g.isValid()&&(I=I??!0,Ee&&Ml(g,$1(g,"Month")+Ee*D),ce&&W1(g,"Date",$1(g,"Date")+ce*D),G&&g._d.setTime(g._d.valueOf()+G*D),I&&e.updateOffset(g,ce||Ee))}var sv=xf(1,"add"),Cf=xf(-1,"subtract");function Mf(g){return typeof g=="string"||g instanceof String}function a2(g){return ue(g)||h(g)||Mf(g)||u(g)||Dc(g)||lv(g)||g===null||g===void 0}function lv(g){var x=r(g)&&!a(g),D=!1,I=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],G,ce,Ee=I.length;for(G=0;G<Ee;G+=1)ce=I[G],D=D||o(g,ce);return x&&D}function Dc(g){var x=i(g),D=!1;return x&&(D=g.filter(function(I){return!u(I)&&Mf(g)}).length===0),x&&D}function wf(g){var x=r(g)&&!a(g),D=!1,I=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],G,ce;for(G=0;G<I.length;G+=1)ce=I[G],D=D||o(g,ce);return x&&D}function Sf(g,x){var D=g.diff(x,"days",!0);return D<-6?"sameElse":D<-1?"lastWeek":D<0?"lastDay":D<1?"sameDay":D<2?"nextDay":D<7?"nextWeek":"sameElse"}function cv(g,x){arguments.length===1&&(arguments[0]?a2(arguments[0])?(g=arguments[0],x=void 0):wf(arguments[0])&&(x=arguments[0],g=void 0):(g=void 0,x=void 0));var D=g||Dn(),I=kc(D,this).startOf("day"),G=e.calendarFormat(this,I)||"sameElse",ce=x&&(ge(x[G])?x[G].call(this,D):x[G]);return this.format(ce||this.localeData().calendar(G,this,Dn(D)))}function Za(){return new ne(this)}function Pf(g,x){var D=ue(g)?g:Dn(g);return this.isValid()&&D.isValid()?(x=Lt(x)||"millisecond",x==="millisecond"?this.valueOf()>D.valueOf():D.valueOf()<this.clone().startOf(x).valueOf()):!1}function kf(g,x){var D=ue(g)?g:Dn(g);return this.isValid()&&D.isValid()?(x=Lt(x)||"millisecond",x==="millisecond"?this.valueOf()<D.valueOf():this.clone().endOf(x).valueOf()<D.valueOf()):!1}function s2(g,x,D,I){var G=ue(g)?g:Dn(g),ce=ue(x)?x:Dn(x);return this.isValid()&&G.isValid()&&ce.isValid()?(I=I||"()",(I[0]==="("?this.isAfter(G,D):!this.isBefore(G,D))&&(I[1]===")"?this.isBefore(ce,D):!this.isAfter(ce,D))):!1}function dv(g,x){var D=ue(g)?g:Dn(g),I;return this.isValid()&&D.isValid()?(x=Lt(x)||"millisecond",x==="millisecond"?this.valueOf()===D.valueOf():(I=D.valueOf(),this.clone().startOf(x).valueOf()<=I&&I<=this.clone().endOf(x).valueOf())):!1}function A0(g,x){return this.isSame(g,x)||this.isAfter(g,x)}function l2(g,x){return this.isSame(g,x)||this.isBefore(g,x)}function Of(g,x,D){var I,G,ce;if(!this.isValid())return NaN;if(I=kc(g,this),!I.isValid())return NaN;switch(G=(I.utcOffset()-this.utcOffset())*6e4,x=Lt(x),x){case"year":ce=c2(this,I)/12;break;case"month":ce=c2(this,I);break;case"quarter":ce=c2(this,I)/3;break;case"second":ce=(this-I)/1e3;break;case"minute":ce=(this-I)/6e4;break;case"hour":ce=(this-I)/36e5;break;case"day":ce=(this-I-G)/864e5;break;case"week":ce=(this-I-G)/6048e5;break;default:ce=this-I}return D?ce:qr(ce)}function c2(g,x){if(g.date()<x.date())return-c2(x,g);var D=(x.year()-g.year())*12+(x.month()-g.month()),I=g.clone().add(D,"months"),G,ce;return x-I<0?(G=g.clone().add(D-1,"months"),ce=(x-I)/(I-G)):(G=g.clone().add(D+1,"months"),ce=(x-I)/(G-I)),-(D+ce)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function uv(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Df(g){if(!this.isValid())return null;var x=g!==!0,D=x?this.clone().utc():this;return D.year()<0||D.year()>9999?Ie(D,x?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ge(Date.prototype.toISOString)?x?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Ie(D,"Z")):Ie(D,x?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Ef(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var g="moment",x="",D,I,G,ce;return this.isLocal()||(g=this.utcOffset()===0?"moment.utc":"moment.parseZone",x="Z"),D="["+g+'("]',I=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",G="-MM-DD[T]HH:mm:ss.SSS",ce=x+'[")]',this.format(D+I+G+ce)}function If(g){g||(g=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var x=Ie(this,g);return this.localeData().postformat(x)}function Tf(g,x){return this.isValid()&&(ue(g)&&g.isValid()||Dn(g).isValid())?zo({to:this,from:g}).locale(this.locale()).humanize(!x):this.localeData().invalidDate()}function Lf(g){return this.from(Dn(),g)}function pv(g,x){return this.isValid()&&(ue(g)&&g.isValid()||Dn(g).isValid())?zo({from:this,to:g}).locale(this.locale()).humanize(!x):this.localeData().invalidDate()}function zf(g){return this.to(Dn(),g)}function g3(g){var x;return g===void 0?this._locale._abbr:(x=Ca(g),x!=null&&(this._locale=x),this)}var Af=oe("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(g){return g===void 0?this.localeData():this.locale(g)});function s(){return this._locale}var f=1e3,b=60*f,w=60*b,E=(365*400+97)*24*w;function W(g,x){return(g%x+x)%x}function ae(g,x,D){return g<100&&g>=0?new Date(g+400,x,D)-E:new Date(g,x,D).valueOf()}function _e(g,x,D){return g<100&&g>=0?Date.UTC(g+400,x,D)-E:Date.UTC(g,x,D)}function we(g){var x,D;if(g=Lt(g),g===void 0||g==="millisecond"||!this.isValid())return this;switch(D=this._isUTC?_e:ae,g){case"year":x=D(this.year(),0,1);break;case"quarter":x=D(this.year(),this.month()-this.month()%3,1);break;case"month":x=D(this.year(),this.month(),1);break;case"week":x=D(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":x=D(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":x=D(this.year(),this.month(),this.date());break;case"hour":x=this._d.valueOf(),x-=W(x+(this._isUTC?0:this.utcOffset()*b),w);break;case"minute":x=this._d.valueOf(),x-=W(x,b);break;case"second":x=this._d.valueOf(),x-=W(x,f);break}return this._d.setTime(x),e.updateOffset(this,!0),this}function je(g){var x,D;if(g=Lt(g),g===void 0||g==="millisecond"||!this.isValid())return this;switch(D=this._isUTC?_e:ae,g){case"year":x=D(this.year()+1,0,1)-1;break;case"quarter":x=D(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":x=D(this.year(),this.month()+1,1)-1;break;case"week":x=D(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":x=D(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":x=D(this.year(),this.month(),this.date()+1)-1;break;case"hour":x=this._d.valueOf(),x+=w-W(x+(this._isUTC?0:this.utcOffset()*b),w)-1;break;case"minute":x=this._d.valueOf(),x+=b-W(x,b)-1;break;case"second":x=this._d.valueOf(),x+=f-W(x,f)-1;break}return this._d.setTime(x),e.updateOffset(this,!0),this}function it(){return this._d.valueOf()-(this._offset||0)*6e4}function Et(){return Math.floor(this.valueOf()/1e3)}function un(){return new Date(this.valueOf())}function Br(){var g=this;return[g.year(),g.month(),g.date(),g.hour(),g.minute(),g.second(),g.millisecond()]}function ir(){var g=this;return{years:g.year(),months:g.month(),date:g.date(),hours:g.hours(),minutes:g.minutes(),seconds:g.seconds(),milliseconds:g.milliseconds()}}function Ao(){return this.isValid()?this.toISOString():null}function Zr(){return R(this)}function Ec(){return y({},M(this))}function fv(){return M(this).overflow}function mv(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Se("N",0,0,"eraAbbr"),Se("NN",0,0,"eraAbbr"),Se("NNN",0,0,"eraAbbr"),Se("NNNN",0,0,"eraName"),Se("NNNNN",0,0,"eraNarrow"),Se("y",["y",1],"yo","eraYear"),Se("y",["yy",2],0,"eraYear"),Se("y",["yyy",3],0,"eraYear"),Se("y",["yyyy",4],0,"eraYear"),ot("N",R0),ot("NN",R0),ot("NNN",R0),ot("NNNN",yv),ot("NNNNN",dR),Gn(["N","NN","NNN","NNNN","NNNNN"],function(g,x,D,I){var G=D._locale.erasParse(g,I,D._strict);G?M(D).era=G:M(D).invalidEra=g}),ot("y",nr),ot("yy",nr),ot("yyy",nr),ot("yyyy",nr),ot("yo",uR),Gn(["y","yy","yyy","yyyy"],pr),Gn(["yo"],function(g,x,D,I){var G;D._locale._eraYearOrdinalRegex&&(G=g.match(D._locale._eraYearOrdinalRegex)),D._locale.eraYearOrdinalParse?x[pr]=D._locale.eraYearOrdinalParse(g,G):x[pr]=parseInt(g,10)});function hv(g,x){var D,I,G,ce=this._eras||Ca("en")._eras;for(D=0,I=ce.length;D<I;++D){switch(typeof ce[D].since){case"string":G=e(ce[D].since).startOf("day"),ce[D].since=G.valueOf();break}switch(typeof ce[D].until){case"undefined":ce[D].until=1/0;break;case"string":G=e(ce[D].until).startOf("day").valueOf(),ce[D].until=G.valueOf();break}}return ce}function Nf(g,x,D){var I,G,ce=this.eras(),Ee,at,$t;for(g=g.toUpperCase(),I=0,G=ce.length;I<G;++I)if(Ee=ce[I].name.toUpperCase(),at=ce[I].abbr.toUpperCase(),$t=ce[I].narrow.toUpperCase(),D)switch(x){case"N":case"NN":case"NNN":if(at===g)return ce[I];break;case"NNNN":if(Ee===g)return ce[I];break;case"NNNNN":if($t===g)return ce[I];break}else if([Ee,at,$t].indexOf(g)>=0)return ce[I]}function gv(g,x){var D=g.since<=g.until?1:-1;return x===void 0?e(g.since).year():e(g.since).year()+(x-g.offset)*D}function Rf(){var g,x,D,I=this.localeData().eras();for(g=0,x=I.length;g<x;++g)if(D=this.clone().startOf("day").valueOf(),I[g].since<=D&&D<=I[g].until||I[g].until<=D&&D<=I[g].since)return I[g].name;return""}function ji(){var g,x,D,I=this.localeData().eras();for(g=0,x=I.length;g<x;++g)if(D=this.clone().startOf("day").valueOf(),I[g].since<=D&&D<=I[g].until||I[g].until<=D&&D<=I[g].since)return I[g].narrow;return""}function N0(){var g,x,D,I=this.localeData().eras();for(g=0,x=I.length;g<x;++g)if(D=this.clone().startOf("day").valueOf(),I[g].since<=D&&D<=I[g].until||I[g].until<=D&&D<=I[g].since)return I[g].abbr;return""}function vv(){var g,x,D,I,G=this.localeData().eras();for(g=0,x=G.length;g<x;++g)if(D=G[g].since<=G[g].until?1:-1,I=this.clone().startOf("day").valueOf(),G[g].since<=I&&I<=G[g].until||G[g].until<=I&&I<=G[g].since)return(this.year()-e(G[g].since).year())*D+G[g].offset;return this.year()}function bv(g){return o(this,"_erasNameRegex")||xv.call(this),g?this._erasNameRegex:this._erasRegex}function _v(g){return o(this,"_erasAbbrRegex")||xv.call(this),g?this._erasAbbrRegex:this._erasRegex}function v3(g){return o(this,"_erasNarrowRegex")||xv.call(this),g?this._erasNarrowRegex:this._erasRegex}function R0(g,x){return x.erasAbbrRegex(g)}function yv(g,x){return x.erasNameRegex(g)}function dR(g,x){return x.erasNarrowRegex(g)}function uR(g,x){return x._eraYearOrdinalRegex||nr}function xv(){var g=[],x=[],D=[],I=[],G,ce,Ee,at,$t,En=this.eras();for(G=0,ce=En.length;G<ce;++G)Ee=qa(En[G].name),at=qa(En[G].abbr),$t=qa(En[G].narrow),x.push(Ee),g.push(at),D.push($t),I.push(Ee),I.push(at),I.push($t);this._erasRegex=new RegExp("^("+I.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+x.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+g.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+D.join("|")+")","i")}Se(0,["gg",2],0,function(){return this.weekYear()%100}),Se(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ff(g,x){Se(0,[g,g.length],0,x)}Ff("gggg","weekYear"),Ff("ggggg","weekYear"),Ff("GGGG","isoWeekYear"),Ff("GGGGG","isoWeekYear"),ot("G",$i),ot("g",$i),ot("GG",bn,ki),ot("gg",bn,ki),ot("GGGG",ks,ko),ot("gggg",ks,ko),ot("GGGGG",Xo,Yr),ot("ggggg",Xo,Yr),H1(["gggg","ggggg","GGGG","GGGGG"],function(g,x,D,I){x[I.substr(0,2)]=_n(g)}),H1(["gg","GG"],function(g,x,D,I){x[I]=e.parseTwoDigitYear(g)});function pR(g){return vw.call(this,g,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function fR(g){return vw.call(this,g,this.isoWeek(),this.isoWeekday(),1,4)}function mR(){return Vr(this.year(),1,4)}function hR(){return Vr(this.isoWeekYear(),1,4)}function gR(){var g=this.localeData()._week;return Vr(this.year(),g.dow,g.doy)}function vR(){var g=this.localeData()._week;return Vr(this.weekYear(),g.dow,g.doy)}function vw(g,x,D,I,G){var ce;return g==null?bi(this,I,G).year:(ce=Vr(g,I,G),x>ce&&(x=ce),bR.call(this,g,x,D,I,G))}function bR(g,x,D,I,G){var ce=Os(g,x,D,I,G),Ee=q1(ce.year,0,ce.dayOfYear);return this.year(Ee.getUTCFullYear()),this.month(Ee.getUTCMonth()),this.date(Ee.getUTCDate()),this}Se("Q",0,"Qo","quarter"),ot("Q",va),Gn("Q",function(g,x){x[_a]=(_n(g)-1)*3});function _R(g){return g==null?Math.ceil((this.month()+1)/3):this.month((g-1)*3+this.month()%3)}Se("D",["DD",2],"Do","date"),ot("D",bn,xl),ot("DD",bn,ki),ot("Do",function(g,x){return g?x._dayOfMonthOrdinalParse||x._ordinalParse:x._dayOfMonthOrdinalParseLenient}),Gn(["D","DD"],Ko),Gn("Do",function(g,x){x[Ko]=_n(g.match(bn)[0])});var bw=Cl("Date",!0);Se("DDD",["DDDD",3],"DDDo","dayOfYear"),ot("DDD",Ps),ot("DDDD",Ya),Gn(["DDD","DDDD"],function(g,x,D){D._dayOfYear=_n(g)});function yR(g){var x=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return g==null?x:this.add(g-x,"d")}Se("m",["mm",2],0,"minute"),ot("m",bn,W4),ot("mm",bn,ki),Gn(["m","mm"],so);var xR=Cl("Minutes",!1);Se("s",["ss",2],0,"second"),ot("s",bn,W4),ot("ss",bn,ki),Gn(["s","ss"],ya);var CR=Cl("Seconds",!1);Se("S",0,0,function(){return~~(this.millisecond()/100)}),Se(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Se(0,["SSS",3],0,"millisecond"),Se(0,["SSSS",4],0,function(){return this.millisecond()*10}),Se(0,["SSSSS",5],0,function(){return this.millisecond()*100}),Se(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),Se(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),Se(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),Se(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),ot("S",Ps,va),ot("SS",Ps,ki),ot("SSS",Ps,Ya);var Ic,_w;for(Ic="SSSS";Ic.length<=9;Ic+="S")ot(Ic,nr);function MR(g,x){x[Do]=_n(("0."+g)*1e3)}for(Ic="S";Ic.length<=9;Ic+="S")Gn(Ic,MR);_w=Cl("Milliseconds",!1),Se("z",0,0,"zoneAbbr"),Se("zz",0,0,"zoneName");function wR(){return this._isUTC?"UTC":""}function SR(){return this._isUTC?"Coordinated Universal Time":""}var Ye=ne.prototype;Ye.add=sv,Ye.calendar=cv,Ye.clone=Za,Ye.diff=Of,Ye.endOf=je,Ye.format=If,Ye.from=Tf,Ye.fromNow=Lf,Ye.to=pv,Ye.toNow=zf,Ye.get=V7,Ye.invalidAt=fv,Ye.isAfter=Pf,Ye.isBefore=kf,Ye.isBetween=s2,Ye.isSame=dv,Ye.isSameOrAfter=A0,Ye.isSameOrBefore=l2,Ye.isValid=Zr,Ye.lang=Af,Ye.locale=g3,Ye.localeData=s,Ye.max=Sc,Ye.min=tv,Ye.parsingFlags=Ec,Ye.set=B7,Ye.startOf=we,Ye.subtract=Cf,Ye.toArray=Br,Ye.toObject=ir,Ye.toDate=un,Ye.toISOString=Df,Ye.inspect=Ef,typeof Symbol<"u"&&Symbol.for!=null&&(Ye[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Ye.toJSON=Ao,Ye.toString=uv,Ye.unix=Et,Ye.valueOf=it,Ye.creationData=mv,Ye.eraName=Rf,Ye.eraNarrow=ji,Ye.eraAbbr=N0,Ye.eraYear=vv,Ye.year=tf,Ye.isLeapYear=F7,Ye.weekYear=pR,Ye.isoWeekYear=fR,Ye.quarter=Ye.quarters=_R,Ye.month=b0,Ye.daysInMonth=rn,Ye.week=Ye.weeks=Q4,Ye.isoWeek=Ye.isoWeeks=J4,Ye.weeksInYear=gR,Ye.weeksInWeekYear=vR,Ye.isoWeeksInYear=mR,Ye.isoWeeksInISOWeekYear=hR,Ye.date=bw,Ye.day=Ye.days=Sl,Ye.weekday=a3,Ye.isoWeekday=J1,Ye.dayOfYear=yR,Ye.hour=Ye.hours=U7,Ye.minute=Ye.minutes=xR,Ye.second=Ye.seconds=CR,Ye.millisecond=Ye.milliseconds=_w,Ye.utcOffset=f3,Ye.utc=m3,Ye.local=I0,Ye.parseZone=Oc,Ye.hasAlignedHourOffset=T0,Ye.isDST=h3,Ye.isLocal=ov,Ye.isUtcOffset=L0,Ye.isUtc=_f,Ye.isUTC=_f,Ye.zoneAbbr=wR,Ye.zoneName=SR,Ye.dates=oe("dates accessor is deprecated. Use date instead.",bw),Ye.months=oe("months accessor is deprecated. Use month instead",b0),Ye.years=oe("years accessor is deprecated. Use year instead",tf),Ye.zone=oe("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",E0),Ye.isDSTShifted=oe("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",bf);function PR(g){return Dn(g*1e3)}function kR(){return Dn.apply(null,arguments).parseZone()}function yw(g){return g}var Rn=se.prototype;Rn.calendar=K,Rn.longDateFormat=Ae,Rn.invalidDate=Ue,Rn.ordinal=tt,Rn.preparse=yw,Rn.postformat=yw,Rn.relativeTime=kt,Rn.pastFuture=jt,Rn.set=re,Rn.eras=hv,Rn.erasParse=Nf,Rn.erasConvertYear=gv,Rn.erasAbbrRegex=_v,Rn.erasNameRegex=bv,Rn.erasNarrowRegex=v3,Rn.months=zn,Rn.monthsShort=xi,Rn.monthsParse=yc,Rn.monthsRegex=X4,Rn.monthsShortRegex=zi,Rn.week=Z1,Rn.firstDayOfYear=K1,Rn.firstDayOfWeek=K4,Rn.weekdays=ti,Rn.weekdaysMin=i3,Rn.weekdaysShort=rf,Rn.weekdaysParse=o3,Rn.weekdaysRegex=fr,Rn.weekdaysShortRegex=Pl,Rn.weekdaysMinRegex=of,Rn.isPM=lf,Rn.meridiem=Qo;function Vf(g,x,D,I){var G=Ca(),ce=P().set(I,x);return G[D](ce,g)}function xw(g,x,D){if(u(g)&&(x=g,g=void 0),g=g||"",x!=null)return Vf(g,x,D,"month");var I,G=[];for(I=0;I<12;I++)G[I]=Vf(g,I,D,"month");return G}function Cv(g,x,D,I){typeof g=="boolean"?(u(x)&&(D=x,x=void 0),x=x||""):(x=g,D=x,g=!1,u(x)&&(D=x,x=void 0),x=x||"");var G=Ca(),ce=g?G._week.dow:0,Ee,at=[];if(D!=null)return Vf(x,(D+ce)%7,I,"day");for(Ee=0;Ee<7;Ee++)at[Ee]=Vf(x,(Ee+ce)%7,I,"day");return at}function OR(g,x){return xw(g,x,"months")}function DR(g,x){return xw(g,x,"monthsShort")}function ER(g,x,D){return Cv(g,x,D,"weekdays")}function IR(g,x,D){return Cv(g,x,D,"weekdaysShort")}function TR(g,x,D){return Cv(g,x,D,"weekdaysMin")}Ds("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(g){var x=g%10,D=_n(g%100/10)===1?"th":x===1?"st":x===2?"nd":x===3?"rd":"th";return g+D}}),e.lang=oe("moment.lang is deprecated. Use moment.locale instead.",Ds),e.langData=oe("moment.langData is deprecated. Use moment.localeData instead.",Ca);var Tl=Math.abs;function LR(){var g=this._data;return this._milliseconds=Tl(this._milliseconds),this._days=Tl(this._days),this._months=Tl(this._months),g.milliseconds=Tl(g.milliseconds),g.seconds=Tl(g.seconds),g.minutes=Tl(g.minutes),g.hours=Tl(g.hours),g.months=Tl(g.months),g.years=Tl(g.years),this}function Cw(g,x,D,I){var G=zo(x,D);return g._milliseconds+=I*G._milliseconds,g._days+=I*G._days,g._months+=I*G._months,g._bubble()}function zR(g,x){return Cw(this,g,x,1)}function AR(g,x){return Cw(this,g,x,-1)}function Mw(g){return g<0?Math.floor(g):Math.ceil(g)}function NR(){var g=this._milliseconds,x=this._days,D=this._months,I=this._data,G,ce,Ee,at,$t;return g>=0&&x>=0&&D>=0||g<=0&&x<=0&&D<=0||(g+=Mw(Mv(D)+x)*864e5,x=0,D=0),I.milliseconds=g%1e3,G=qr(g/1e3),I.seconds=G%60,ce=qr(G/60),I.minutes=ce%60,Ee=qr(ce/60),I.hours=Ee%24,x+=qr(Ee/24),$t=qr(ww(x)),D+=$t,x-=Mw(Mv($t)),at=qr(D/12),D%=12,I.days=x,I.months=D,I.years=at,this}function ww(g){return g*4800/146097}function Mv(g){return g*146097/4800}function RR(g){if(!this.isValid())return NaN;var x,D,I=this._milliseconds;if(g=Lt(g),g==="month"||g==="quarter"||g==="year")switch(x=this._days+I/864e5,D=this._months+ww(x),g){case"month":return D;case"quarter":return D/3;case"year":return D/12}else switch(x=this._days+Math.round(Mv(this._months)),g){case"week":return x/7+I/6048e5;case"day":return x+I/864e5;case"hour":return x*24+I/36e5;case"minute":return x*1440+I/6e4;case"second":return x*86400+I/1e3;case"millisecond":return Math.floor(x*864e5)+I;default:throw new Error("Unknown unit "+g)}}function Ll(g){return function(){return this.as(g)}}var Sw=Ll("ms"),FR=Ll("s"),VR=Ll("m"),BR=Ll("h"),jR=Ll("d"),HR=Ll("w"),UR=Ll("M"),$R=Ll("Q"),WR=Ll("y"),GR=Sw;function YR(){return zo(this)}function qR(g){return g=Lt(g),this.isValid()?this[g+"s"]():NaN}function d2(g){return function(){return this.isValid()?this._data[g]:NaN}}var ZR=d2("milliseconds"),XR=d2("seconds"),KR=d2("minutes"),QR=d2("hours"),JR=d2("days"),eF=d2("months"),tF=d2("years");function nF(){return qr(this.days()/7)}var zl=Math.round,F0={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function iF(g,x,D,I,G){return G.relativeTime(x||1,!!D,g,I)}function rF(g,x,D,I){var G=zo(g).abs(),ce=zl(G.as("s")),Ee=zl(G.as("m")),at=zl(G.as("h")),$t=zl(G.as("d")),En=zl(G.as("M")),lo=zl(G.as("w")),Al=zl(G.as("y")),Tc=ce<=D.ss&&["s",ce]||ce<D.s&&["ss",ce]||Ee<=1&&["m"]||Ee<D.m&&["mm",Ee]||at<=1&&["h"]||at<D.h&&["hh",at]||$t<=1&&["d"]||$t<D.d&&["dd",$t];return D.w!=null&&(Tc=Tc||lo<=1&&["w"]||lo<D.w&&["ww",lo]),Tc=Tc||En<=1&&["M"]||En<D.M&&["MM",En]||Al<=1&&["y"]||["yy",Al],Tc[2]=x,Tc[3]=+g>0,Tc[4]=I,iF.apply(null,Tc)}function oF(g){return g===void 0?zl:typeof g=="function"?(zl=g,!0):!1}function aF(g,x){return F0[g]===void 0?!1:x===void 0?F0[g]:(F0[g]=x,g==="s"&&(F0.ss=x-1),!0)}function sF(g,x){if(!this.isValid())return this.localeData().invalidDate();var D=!1,I=F0,G,ce;return typeof g=="object"&&(x=g,g=!1),typeof g=="boolean"&&(D=g),typeof x=="object"&&(I=Object.assign({},F0,x),x.s!=null&&x.ss==null&&(I.ss=x.s-1)),G=this.localeData(),ce=rF(this,!D,I,G),D&&(ce=G.pastFuture(+this,ce)),G.postformat(ce)}var wv=Math.abs;function V0(g){return(g>0)-(g<0)||+g}function Bf(){if(!this.isValid())return this.localeData().invalidDate();var g=wv(this._milliseconds)/1e3,x=wv(this._days),D=wv(this._months),I,G,ce,Ee,at=this.asSeconds(),$t,En,lo,Al;return at?(I=qr(g/60),G=qr(I/60),g%=60,I%=60,ce=qr(D/12),D%=12,Ee=g?g.toFixed(3).replace(/\.?0+$/,""):"",$t=at<0?"-":"",En=V0(this._months)!==V0(at)?"-":"",lo=V0(this._days)!==V0(at)?"-":"",Al=V0(this._milliseconds)!==V0(at)?"-":"",$t+"P"+(ce?En+ce+"Y":"")+(D?En+D+"M":"")+(x?lo+x+"D":"")+(G||I||g?"T":"")+(G?Al+G+"H":"")+(I?Al+I+"M":"")+(g?Al+Ee+"S":"")):"P0D"}var An=Pc.prototype;An.isValid=k0,An.abs=LR,An.add=zR,An.subtract=AR,An.as=RR,An.asMilliseconds=Sw,An.asSeconds=FR,An.asMinutes=VR,An.asHours=BR,An.asDays=jR,An.asWeeks=HR,An.asMonths=UR,An.asQuarters=$R,An.asYears=WR,An.valueOf=GR,An._bubble=NR,An.clone=YR,An.get=qR,An.milliseconds=ZR,An.seconds=XR,An.minutes=KR,An.hours=QR,An.days=JR,An.weeks=nF,An.months=eF,An.years=tF,An.humanize=sF,An.toISOString=Bf,An.toString=Bf,An.toJSON=Bf,An.locale=g3,An.localeData=s,An.toIsoString=oe("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Bf),An.lang=Af,Se("X",0,0,"unix"),Se("x",0,0,"valueOf"),ot("x",$i),ot("X",Jp),Gn("X",function(g,x,D){D._d=new Date(parseFloat(g)*1e3)}),Gn("x",function(g,x,D){D._d=new Date(_n(g))});return e.version="2.30.1",t(Dn),e.fn=Ye,e.min=i2,e.max=vf,e.now=P0,e.utc=P,e.unix=PR,e.months=OR,e.isDate=h,e.locale=Ds,e.invalid=B,e.duration=zo,e.isMoment=ue,e.weekdays=ER,e.parseZone=kR,e.localeData=Ca,e.isDuration=O0,e.monthsShort=DR,e.weekdaysMin=TR,e.defineLocale=Io,e.updateLocale=Y7,e.locales=Es,e.weekdaysShort=IR,e.normalizeUnits=Lt,e.relativeTimeRounding=oF,e.relativeTimeThreshold=aF,e.calendarFormat=Sf,e.prototype=Ye,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var M4=Nl((C8,xz)=>{"use strict";(function(n,e){typeof C8=="object"&&typeof xz<"u"?e(C8):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis<"u"?globalThis:n||self,e(n.leaflet={}))})(C8,function(n){"use strict";var e="1.9.4";function t(s){var f,b,w,E;for(b=1,w=arguments.length;b<w;b++){E=arguments[b];for(f in E)s[f]=E[f]}return s}var i=Object.create||function(){function s(){}return function(f){return s.prototype=f,new s}}();function r(s,f){var b=Array.prototype.slice;if(s.bind)return s.bind.apply(s,b.call(arguments,1));var w=b.call(arguments,2);return function(){return s.apply(f,w.length?w.concat(b.call(arguments)):arguments)}}var o=0;function a(s){return"_leaflet_id"in s||(s._leaflet_id=++o),s._leaflet_id}function c(s,f,b){var w,E,W,ae;return ae=function(){w=!1,E&&(W.apply(b,E),E=!1)},W=function(){w?E=arguments:(s.apply(b,arguments),setTimeout(ae,f),w=!0)},W}function u(s,f,b){var w=f[1],E=f[0],W=w-E;return s===w&&b?s:((s-E)%W+W)%W+E}function h(){return!1}function v(s,f){if(f===!1)return s;var b=Math.pow(10,f===void 0?6:f);return Math.round(s*b)/b}function y(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function P(s){return y(s).split(/\s+/)}function S(s,f){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?i(s.options):{});for(var b in f)s.options[b]=f[b];return s.options}function M(s,f,b){var w=[];for(var E in s)w.push(encodeURIComponent(b?E.toUpperCase():E)+"="+encodeURIComponent(s[E]));return(!f||f.indexOf("?")===-1?"?":"&")+w.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function R(s,f){return s.replace(O,function(b,w){var E=f[w];if(E===void 0)throw new Error("No value provided for variable "+b);return typeof E=="function"&&(E=E(f)),E})}var B=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function F(s,f){for(var b=0;b<s.length;b++)if(s[b]===f)return b;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Y(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var ne=0;function ue(s){var f=+new Date,b=Math.max(0,16-(f-ne));return ne=f+b,window.setTimeout(s,b)}var fe=window.requestAnimationFrame||Y("RequestAnimationFrame")||ue,oe=window.cancelAnimationFrame||Y("CancelAnimationFrame")||Y("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function J(s,f,b){if(b&&fe===ue)s.call(f);else return fe.call(window,r(s,f))}function pe(s){s&&oe.call(window,s)}var ge={__proto__:null,extend:t,create:i,bind:r,get lastId(){return o},stamp:a,throttle:c,wrapNum:u,falseFn:h,formatNum:v,trim:y,splitWords:P,setOptions:S,getParamString:M,template:R,isArray:B,indexOf:F,emptyImageUrl:N,requestFn:fe,cancelFn:oe,requestAnimFrame:J,cancelAnimFrame:pe};function re(){}re.extend=function(s){var f=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},b=f.__super__=this.prototype,w=i(b);w.constructor=f,f.prototype=w;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(f[E]=this[E]);return s.statics&&t(f,s.statics),s.includes&&(ee(s.includes),t.apply(null,[w].concat(s.includes))),t(w,s),delete w.statics,delete w.includes,w.options&&(w.options=b.options?i(b.options):{},t(w.options,s.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){b.callInitHooks&&b.callInitHooks.call(this),this._initHooksCalled=!0;for(var W=0,ae=w._initHooks.length;W<ae;W++)w._initHooks[W].call(this)}},f},re.include=function(s){var f=this.prototype.options;return t(this.prototype,s),s.options&&(this.prototype.options=f,this.mergeOptions(s.options)),this},re.mergeOptions=function(s){return t(this.prototype.options,s),this},re.addInitHook=function(s){var f=Array.prototype.slice.call(arguments,1),b=typeof s=="function"?s:function(){this[s].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(b),this};function ee(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=B(s)?s:[s];for(var f=0;f<s.length;f++)s[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(s,f,b){if(typeof s=="object")for(var w in s)this._on(w,s[w],f);else{s=P(s);for(var E=0,W=s.length;E<W;E++)this._on(s[E],f,b)}return this},off:function(s,f,b){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var w in s)this._off(w,s[w],f);else{s=P(s);for(var E=arguments.length===1,W=0,ae=s.length;W<ae;W++)E?this._off(s[W]):this._off(s[W],f,b)}return this},_on:function(s,f,b,w){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(s,f,b)===!1){b===this&&(b=void 0);var E={fn:f,ctx:b};w&&(E.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(E)}},_off:function(s,f,b){var w,E,W;if(this._events&&(w=this._events[s],!!w)){if(arguments.length===1){if(this._firingCount)for(E=0,W=w.length;E<W;E++)w[E].fn=h;delete this._events[s];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var ae=this._listens(s,f,b);if(ae!==!1){var _e=w[ae];this._firingCount&&(_e.fn=h,this._events[s]=w=w.slice()),w.splice(ae,1)}}},fire:function(s,f,b){if(!this.listens(s,b))return this;var w=t({},f,{type:s,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var E=this._events[s];if(E){this._firingCount=this._firingCount+1||1;for(var W=0,ae=E.length;W<ae;W++){var _e=E[W],we=_e.fn;_e.once&&this.off(s,we,_e.ctx),we.call(_e.ctx||this,w)}this._firingCount--}}return b&&this._propagateEvent(w),this},listens:function(s,f,b,w){typeof s!="string"&&console.warn('"string" type argument expected');var E=f;typeof f!="function"&&(w=!!f,E=void 0,b=void 0);var W=this._events&&this._events[s];if(W&&W.length&&this._listens(s,E,b)!==!1)return!0;if(w){for(var ae in this._eventParents)if(this._eventParents[ae].listens(s,f,b,w))return!0}return!1},_listens:function(s,f,b){if(!this._events)return!1;var w=this._events[s]||[];if(!f)return!!w.length;b===this&&(b=void 0);for(var E=0,W=w.length;E<W;E++)if(w[E].fn===f&&w[E].ctx===b)return E;return!1},once:function(s,f,b){if(typeof s=="object")for(var w in s)this._on(w,s[w],f,!0);else{s=P(s);for(var E=0,W=s.length;E<W;E++)this._on(s[E],f,b,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[a(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[a(s)],this},_propagateEvent:function(s){for(var f in this._eventParents)this._eventParents[f].fire(s.type,t({layer:s.target,propagatedFrom:s.target},s),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var ve=re.extend(se);function te(s,f,b){this.x=b?Math.round(s):s,this.y=b?Math.round(f):f}var K=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};te.prototype={clone:function(){return new te(this.x,this.y)},add:function(s){return this.clone()._add(H(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(H(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new te(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new te(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=K(this.x),this.y=K(this.y),this},distanceTo:function(s){s=H(s);var f=s.x-this.x,b=s.y-this.y;return Math.sqrt(f*f+b*b)},equals:function(s){return s=H(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=H(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function H(s,f,b){return s instanceof te?s:B(s)?new te(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new te(s.x,s.y):new te(s,f,b)}function Z(s,f){if(s)for(var b=f?[s,f]:s,w=0,E=b.length;w<E;w++)this.extend(b[w])}Z.prototype={extend:function(s){var f,b;if(!s)return this;if(s instanceof te||typeof s[0]=="number"||"x"in s)f=b=H(s);else if(s=ke(s),f=s.min,b=s.max,!f||!b)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=b.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(b.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(b.y,this.max.y)),this},getCenter:function(s){return H((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return H(this.min.x,this.max.y)},getTopRight:function(){return H(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var f,b;return typeof s[0]=="number"||s instanceof te?s=H(s):s=ke(s),s instanceof Z?(f=s.min,b=s.max):f=b=s,f.x>=this.min.x&&b.x<=this.max.x&&f.y>=this.min.y&&b.y<=this.max.y},intersects:function(s){s=ke(s);var f=this.min,b=this.max,w=s.min,E=s.max,W=E.x>=f.x&&w.x<=b.x,ae=E.y>=f.y&&w.y<=b.y;return W&&ae},overlaps:function(s){s=ke(s);var f=this.min,b=this.max,w=s.min,E=s.max,W=E.x>f.x&&w.x<b.x,ae=E.y>f.y&&w.y<b.y;return W&&ae},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var f=this.min,b=this.max,w=Math.abs(f.x-b.x)*s,E=Math.abs(f.y-b.y)*s;return ke(H(f.x-w,f.y-E),H(b.x+w,b.y+E))},equals:function(s){return s?(s=ke(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function ke(s,f){return!s||s instanceof Z?s:new Z(s,f)}function Be(s,f){if(s)for(var b=f?[s,f]:s,w=0,E=b.length;w<E;w++)this.extend(b[w])}Be.prototype={extend:function(s){var f=this._southWest,b=this._northEast,w,E;if(s instanceof Se)w=s,E=s;else if(s instanceof Be){if(w=s._southWest,E=s._northEast,!w||!E)return this}else return s?this.extend(gt(s)||Qe(s)):this;return!f&&!b?(this._southWest=new Se(w.lat,w.lng),this._northEast=new Se(E.lat,E.lng)):(f.lat=Math.min(w.lat,f.lat),f.lng=Math.min(w.lng,f.lng),b.lat=Math.max(E.lat,b.lat),b.lng=Math.max(E.lng,b.lng)),this},pad:function(s){var f=this._southWest,b=this._northEast,w=Math.abs(f.lat-b.lat)*s,E=Math.abs(f.lng-b.lng)*s;return new Be(new Se(f.lat-w,f.lng-E),new Se(b.lat+w,b.lng+E))},getCenter:function(){return new Se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Se(this.getNorth(),this.getWest())},getSouthEast:function(){return new Se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof Se||"lat"in s?s=gt(s):s=Qe(s);var f=this._southWest,b=this._northEast,w,E;return s instanceof Be?(w=s.getSouthWest(),E=s.getNorthEast()):w=E=s,w.lat>=f.lat&&E.lat<=b.lat&&w.lng>=f.lng&&E.lng<=b.lng},intersects:function(s){s=Qe(s);var f=this._southWest,b=this._northEast,w=s.getSouthWest(),E=s.getNorthEast(),W=E.lat>=f.lat&&w.lat<=b.lat,ae=E.lng>=f.lng&&w.lng<=b.lng;return W&&ae},overlaps:function(s){s=Qe(s);var f=this._southWest,b=this._northEast,w=s.getSouthWest(),E=s.getNorthEast(),W=E.lat>f.lat&&w.lat<b.lat,ae=E.lng>f.lng&&w.lng<b.lng;return W&&ae},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,f){return s?(s=Qe(s),this._southWest.equals(s.getSouthWest(),f)&&this._northEast.equals(s.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Qe(s,f){return s instanceof Be?s:new Be(s,f)}function Se(s,f,b){if(isNaN(s)||isNaN(f))throw new Error("Invalid LatLng object: ("+s+", "+f+")");this.lat=+s,this.lng=+f,b!==void 0&&(this.alt=+b)}Se.prototype={equals:function(s,f){if(!s)return!1;s=gt(s);var b=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return b<=(f===void 0?1e-9:f)},toString:function(s){return"LatLng("+v(this.lat,s)+", "+v(this.lng,s)+")"},distanceTo:function(s){return Ie.distance(this,gt(s))},wrap:function(){return Ie.wrapLatLng(this)},toBounds:function(s){var f=180*s/40075017,b=f/Math.cos(Math.PI/180*this.lat);return Qe([this.lat-f,this.lng-b],[this.lat+f,this.lng+b])},clone:function(){return new Se(this.lat,this.lng,this.alt)}};function gt(s,f,b){return s instanceof Se?s:B(s)&&typeof s[0]!="object"?s.length===3?new Se(s[0],s[1],s[2]):s.length===2?new Se(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new Se(s.lat,"lng"in s?s.lng:s.lon,s.alt):f===void 0?null:new Se(s,f,b)}var ze={latLngToPoint:function(s,f){var b=this.projection.project(s),w=this.scale(f);return this.transformation._transform(b,w)},pointToLatLng:function(s,f){var b=this.scale(f),w=this.transformation.untransform(s,b);return this.projection.unproject(w)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var f=this.projection.bounds,b=this.scale(s),w=this.transformation.transform(f.min,b),E=this.transformation.transform(f.max,b);return new Z(w,E)},infinite:!1,wrapLatLng:function(s){var f=this.wrapLng?u(s.lng,this.wrapLng,!0):s.lng,b=this.wrapLat?u(s.lat,this.wrapLat,!0):s.lat,w=s.alt;return new Se(b,f,w)},wrapLatLngBounds:function(s){var f=s.getCenter(),b=this.wrapLatLng(f),w=f.lat-b.lat,E=f.lng-b.lng;if(w===0&&E===0)return s;var W=s.getSouthWest(),ae=s.getNorthEast(),_e=new Se(W.lat-w,W.lng-E),we=new Se(ae.lat-w,ae.lng-E);return new Be(_e,we)}},Ie=t({},ze,{wrapLng:[-180,180],R:6371e3,distance:function(s,f){var b=Math.PI/180,w=s.lat*b,E=f.lat*b,W=Math.sin((f.lat-s.lat)*b/2),ae=Math.sin((f.lng-s.lng)*b/2),_e=W*W+Math.cos(w)*Math.cos(E)*ae*ae,we=2*Math.atan2(Math.sqrt(_e),Math.sqrt(1-_e));return this.R*we}}),Fe=6378137,Oe={R:Fe,MAX_LATITUDE:85.0511287798,project:function(s){var f=Math.PI/180,b=this.MAX_LATITUDE,w=Math.max(Math.min(b,s.lat),-b),E=Math.sin(w*f);return new te(this.R*s.lng*f,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(s){var f=180/Math.PI;return new Se((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*f,s.x*f/this.R)},bounds:function(){var s=Fe*Math.PI;return new Z([-s,-s],[s,s])}()};function Ae(s,f,b,w){if(B(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=f,this._c=b,this._d=w}Ae.prototype={transform:function(s,f){return this._transform(s.clone(),f)},_transform:function(s,f){return f=f||1,s.x=f*(this._a*s.x+this._b),s.y=f*(this._c*s.y+this._d),s},untransform:function(s,f){return f=f||1,new te((s.x/f-this._b)/this._a,(s.y/f-this._d)/this._c)}};function xe(s,f,b,w){return new Ae(s,f,b,w)}var Ue=t({},Ie,{code:"EPSG:3857",projection:Oe,transformation:function(){var s=.5/(Math.PI*Oe.R);return xe(s,.5,-s,.5)}()}),st=t({},Ue,{code:"EPSG:900913"});function pt(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function tt(s,f){var b="",w,E,W,ae,_e,we;for(w=0,W=s.length;w<W;w++){for(_e=s[w],E=0,ae=_e.length;E<ae;E++)we=_e[E],b+=(E?"L":"M")+we.x+" "+we.y;b+=f?ut.svg?"z":"x":""}return b||"M0 0"}var vt=document.documentElement.style,kt="ActiveXObject"in window,jt=kt&&!document.addEventListener,hn="msLaunchUri"in navigator&&!("documentMode"in document),Lt=ba("webkit"),er=ba("android"),tr=ba("android 2")||ba("android 3"),Po=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),va=er&&ba("Google")&&Po<537&&!("AudioNode"in window),ki=!!window.opera,Ya=!hn&&ba("chrome"),ko=ba("gecko")&&!Lt&&!ki&&!kt,Yr=!Ya&&ba("safari"),bn=ba("phantom"),Oo="OTransition"in vt,yl=navigator.platform.indexOf("Win")===0,Ps=kt&&"transition"in vt,ks="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!tr,Xo="MozPerspective"in vt,nr=!window.L_DISABLE_3D&&(Ps||ks||Xo)&&!Oo&&!bn,$i=typeof orientation<"u"||ba("mobile"),z7=$i&&Lt,h0=$i&&ks,Jp=!window.PointerEvent&&window.MSPointerEvent,bc=!!(window.PointerEvent||Jp),xl="ontouchstart"in window||!!window.TouchEvent,W4=!window.L_NO_TOUCH&&(xl||bc),g0=$i&&ki,ot=$i&&ko,A7=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,N7=function(){var s=!1;try{var f=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",h,f),window.removeEventListener("testPassiveEventSupport",h,f)}catch{}return s}(),qa=function(){return!!document.createElement("canvas").getContext}(),qr=!!(document.createElementNS&&pt("svg").createSVGRect),_n=!!qr&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),G4=!qr&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var f=s.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}}(),Gn=navigator.platform.indexOf("Mac")===0,H1=navigator.platform.indexOf("Linux")===0;function ba(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var ut={ie:kt,ielt9:jt,edge:hn,webkit:Lt,android:er,android23:tr,androidStock:va,opera:ki,chrome:Ya,gecko:ko,safari:Yr,phantom:bn,opera12:Oo,win:yl,ie3d:Ps,webkit3d:ks,gecko3d:Xo,any3d:nr,mobile:$i,mobileWebkit:z7,mobileWebkit3d:h0,msPointer:Jp,pointer:bc,touch:W4,touchNative:xl,mobileOpera:g0,mobileGecko:ot,retina:A7,passiveEvents:N7,canvas:qa,svg:qr,vml:G4,inlineSvg:_n,mac:Gn,linux:H1},pr=ut.msPointer?"MSPointerDown":"pointerdown",_a=ut.msPointer?"MSPointerMove":"pointermove",Ko=ut.msPointer?"MSPointerUp":"pointerup",Bi=ut.msPointer?"MSPointerCancel":"pointercancel",so={touchstart:pr,touchmove:_a,touchend:Ko,touchcancel:Bi},ya={touchstart:V7,touchmove:W1,touchend:W1,touchcancel:W1},Do={},ef=!1;function R7(s,f,b){return f==="touchstart"&&$1(),ya[f]?(b=ya[f].bind(this,b),s.addEventListener(so[f],b,!1),b):(console.warn("wrong event specified:",f),h)}function U1(s,f,b){if(!so[f]){console.warn("wrong event specified:",f);return}s.removeEventListener(so[f],b,!1)}function tf(s){Do[s.pointerId]=s}function F7(s){Do[s.pointerId]&&(Do[s.pointerId]=s)}function Cl(s){delete Do[s.pointerId]}function $1(){ef||(document.addEventListener(pr,tf,!0),document.addEventListener(_a,F7,!0),document.addEventListener(Ko,Cl,!0),document.addEventListener(Bi,Cl,!0),ef=!0)}function W1(s,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var b in Do)f.touches.push(Do[b]);f.changedTouches=[f],s(f)}}function V7(s,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&fr(f),W1(s,f)}function B7(s){var f={},b,w;for(w in s)b=s[w],f[w]=b&&b.bind?b.bind(s):b;return s=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var j7=200;function Li(s,f){s.addEventListener("dblclick",f);var b=0,w;function E(W){if(W.detail!==1){w=W.detail;return}if(!(W.pointerType==="mouse"||W.sourceCapabilities&&!W.sourceCapabilities.firesTouchEvents)){var ae=of(W);if(!(ae.some(function(we){return we instanceof HTMLLabelElement&&we.attributes.for})&&!ae.some(function(we){return we instanceof HTMLInputElement||we instanceof HTMLSelectElement}))){var _e=Date.now();_e-b<=j7?(w++,w===2&&f(B7(W))):w=1,b=_e}}}return s.addEventListener("click",E),{dblclick:f,simDblclick:E}}function Y4(s,f){s.removeEventListener("dblclick",f.dblclick),s.removeEventListener("click",f.simDblclick)}var q4=wl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),_c=wl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Z4=_c==="webkitTransition"||_c==="OTransition"?_c+"End":"transitionend";function nf(s){return typeof s=="string"?document.getElementById(s):s}function G1(s,f){var b=s.style[f]||s.currentStyle&&s.currentStyle[f];if((!b||b==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(s,null);b=w?w[f]:null}return b==="auto"?null:b}function zn(s,f,b){var w=document.createElement(s);return w.className=f||"",b&&b.appendChild(w),w}function xi(s){var f=s.parentNode;f&&f.removeChild(s)}function v0(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function yc(s){var f=s.parentNode;f&&f.lastChild!==s&&f.appendChild(s)}function Ml(s){var f=s.parentNode;f&&f.firstChild!==s&&f.insertBefore(s,f.firstChild)}function b0(s,f){if(s.classList!==void 0)return s.classList.contains(f);var b=Y1(s);return b.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(b)}function rn(s,f){if(s.classList!==void 0)for(var b=P(f),w=0,E=b.length;w<E;w++)s.classList.add(b[w]);else if(!b0(s,f)){var W=Y1(s);X4(s,(W?W+" ":"")+f)}}function zi(s,f){s.classList!==void 0?s.classList.remove(f):X4(s,y((" "+Y1(s)+" ").replace(" "+f+" "," ")))}function X4(s,f){s.className.baseVal===void 0?s.className=f:s.className.baseVal=f}function Y1(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Eo(s,f){"opacity"in s.style?s.style.opacity=f:"filter"in s.style&&q1(s,f)}function q1(s,f){var b=!1,w="DXImageTransform.Microsoft.Alpha";try{b=s.filters.item(w)}catch{if(f===1)return}f=Math.round(f*100),b?(b.Enabled=f!==100,b.Opacity=f):s.style.filter+=" progid:"+w+"(opacity="+f+")"}function wl(s){for(var f=document.documentElement.style,b=0;b<s.length;b++)if(s[b]in f)return s[b];return!1}function Os(s,f,b){var w=f||new te(0,0);s.style[q4]=(ut.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(b?" scale("+b+")":"")}function bi(s,f){s._leaflet_pos=f,ut.any3d?Os(s,f):(s.style.left=f.x+"px",s.style.top=f.y+"px")}function Vr(s){return s._leaflet_pos||new te(0,0)}var Z1,X1,K4;if("onselectstart"in document)Z1=function(){Jt(window,"selectstart",fr)},X1=function(){ti(window,"selectstart",fr)};else{var K1=wl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Z1=function(){if(K1){var s=document.documentElement.style;K4=s[K1],s[K1]="none"}},X1=function(){K1&&(document.documentElement.style[K1]=K4,K4=void 0)}}function Q4(){Jt(window,"dragstart",fr)}function J4(){ti(window,"dragstart",fr)}var _0,e3;function Q1(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(y0(),_0=s,e3=s.style.outlineStyle,s.style.outlineStyle="none",Jt(window,"keydown",y0))}function y0(){_0&&(_0.style.outlineStyle=e3,_0=void 0,e3=void 0,ti(window,"keydown",y0))}function t3(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function n3(s){var f=s.getBoundingClientRect();return{x:f.width/s.offsetWidth||1,y:f.height/s.offsetHeight||1,boundingClientRect:f}}var H7={__proto__:null,TRANSFORM:q4,TRANSITION:_c,TRANSITION_END:Z4,get:nf,getStyle:G1,create:zn,remove:xi,empty:v0,toFront:yc,toBack:Ml,hasClass:b0,addClass:rn,removeClass:zi,setClass:X4,getClass:Y1,setOpacity:Eo,testProp:wl,setTransform:Os,setPosition:bi,getPosition:Vr,get disableTextSelection(){return Z1},get enableTextSelection(){return X1},disableImageDrag:Q4,enableImageDrag:J4,preventOutline:Q1,restoreOutline:y0,getSizedParentNode:t3,getScale:n3};function Jt(s,f,b,w){if(f&&typeof f=="object")for(var E in f)r3(s,E,f[E],b);else{f=P(f);for(var W=0,ae=f.length;W<ae;W++)r3(s,f[W],b,w)}return this}var xa="_leaflet_events";function ti(s,f,b,w){if(arguments.length===1)rf(s),delete s[xa];else if(f&&typeof f=="object")for(var E in f)o3(s,E,f[E],b);else if(f=P(f),arguments.length===2)rf(s,function(_e){return F(f,_e)!==-1});else for(var W=0,ae=f.length;W<ae;W++)o3(s,f[W],b,w);return this}function rf(s,f){for(var b in s[xa]){var w=b.split(/\d/)[0];(!f||f(w))&&o3(s,w,null,null,b)}}var i3={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function r3(s,f,b,w){var E=f+a(b)+(w?"_"+a(w):"");if(s[xa]&&s[xa][E])return this;var W=function(_e){return b.call(w||s,_e||window.event)},ae=W;!ut.touchNative&&ut.pointer&&f.indexOf("touch")===0?W=R7(s,f,W):ut.touch&&f==="dblclick"?W=Li(s,W):"addEventListener"in s?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?s.addEventListener(i3[f]||f,W,ut.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(W=function(_e){_e=_e||window.event,C0(s,_e)&&ae(_e)},s.addEventListener(i3[f],W,!1)):s.addEventListener(f,ae,!1):s.attachEvent("on"+f,W),s[xa]=s[xa]||{},s[xa][E]=W}function o3(s,f,b,w,E){E=E||f+a(b)+(w?"_"+a(w):"");var W=s[xa]&&s[xa][E];if(!W)return this;!ut.touchNative&&ut.pointer&&f.indexOf("touch")===0?U1(s,f,W):ut.touch&&f==="dblclick"?Y4(s,W):"removeEventListener"in s?s.removeEventListener(i3[f]||f,W,!1):s.detachEvent("on"+f,W),s[xa][E]=null}function Sl(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function a3(s){return r3(s,"wheel",Sl),this}function J1(s){return Jt(s,"mousedown touchstart dblclick contextmenu",Sl),s._leaflet_disable_click=!0,this}function fr(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Pl(s){return fr(s),Sl(s),this}function of(s){if(s.composedPath)return s.composedPath();for(var f=[],b=s.target;b;)f.push(b),b=b.parentNode;return f}function x0(s,f){if(!f)return new te(s.clientX,s.clientY);var b=n3(f),w=b.boundingClientRect;return new te((s.clientX-w.left)/b.x-f.clientLeft,(s.clientY-w.top)/b.y-f.clientTop)}var s3=ut.linux&&ut.chrome?window.devicePixelRatio:ut.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function af(s){return ut.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/s3:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function C0(s,f){var b=f.relatedTarget;if(!b)return!0;try{for(;b&&b!==s;)b=b.parentNode}catch{return!1}return b!==s}var sf={__proto__:null,on:Jt,off:ti,stopPropagation:Sl,disableScrollPropagation:a3,disableClickPropagation:J1,preventDefault:fr,stop:Pl,getPropagationPath:of,getMousePosition:x0,getWheelDelta:af,isExternalTarget:C0,addListener:Jt,removeListener:ti},lf=ve.extend({run:function(s,f,b,w){this.stop(),this._el=s,this._inProgress=!0,this._duration=b||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=Vr(s),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=J(this._animate,this),this._step()},_step:function(s){var f=+new Date-this._startTime,b=this._duration*1e3;f<b?this._runFrame(this._easeOut(f/b),s):(this._runFrame(1),this._complete())},_runFrame:function(s,f){var b=this._startPos.add(this._offset.multiplyBy(s));f&&b._round(),bi(this._el,b),this.fire("step")},_complete:function(){pe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),On=ve.extend({options:{crs:Ue,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,f){f=S(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(gt(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=_c&&ut.any3d&&!ut.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Jt(this._proxy,Z4,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,f,b){if(f=f===void 0?this._zoom:this._limitZoom(f),s=this._limitCenter(gt(s),f,this.options.maxBounds),b=b||{},this._stop(),this._loaded&&!b.reset&&b!==!0){b.animate!==void 0&&(b.zoom=t({animate:b.animate},b.zoom),b.pan=t({animate:b.animate,duration:b.duration},b.pan));var w=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,f,b.zoom):this._tryAnimatedPan(s,b.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(s,f,b.pan&&b.pan.noMoveStart),this},setZoom:function(s,f){return this._loaded?this.setView(this.getCenter(),s,{zoom:f}):(this._zoom=s,this)},zoomIn:function(s,f){return s=s||(ut.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,f)},zoomOut:function(s,f){return s=s||(ut.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,f)},setZoomAround:function(s,f,b){var w=this.getZoomScale(f),E=this.getSize().divideBy(2),W=s instanceof te?s:this.latLngToContainerPoint(s),ae=W.subtract(E).multiplyBy(1-1/w),_e=this.containerPointToLatLng(E.add(ae));return this.setView(_e,f,{zoom:b})},_getBoundsCenterZoom:function(s,f){f=f||{},s=s.getBounds?s.getBounds():Qe(s);var b=H(f.paddingTopLeft||f.padding||[0,0]),w=H(f.paddingBottomRight||f.padding||[0,0]),E=this.getBoundsZoom(s,!1,b.add(w));if(E=typeof f.maxZoom=="number"?Math.min(f.maxZoom,E):E,E===1/0)return{center:s.getCenter(),zoom:E};var W=w.subtract(b).divideBy(2),ae=this.project(s.getSouthWest(),E),_e=this.project(s.getNorthEast(),E),we=this.unproject(ae.add(_e).divideBy(2).add(W),E);return{center:we,zoom:E}},fitBounds:function(s,f){if(s=Qe(s),!s.isValid())throw new Error("Bounds are not valid.");var b=this._getBoundsCenterZoom(s,f);return this.setView(b.center,b.zoom,f)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,f){return this.setView(s,this._zoom,{pan:f})},panBy:function(s,f){if(s=H(s).round(),f=f||{},!s.x&&!s.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new lf,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){rn(this._mapPane,"leaflet-pan-anim");var b=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,b,f.duration||.25,f.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,f,b){if(b=b||{},b.animate===!1||!ut.any3d)return this.setView(s,f,b);this._stop();var w=this.project(this.getCenter()),E=this.project(s),W=this.getSize(),ae=this._zoom;s=gt(s),f=f===void 0?ae:f;var _e=Math.max(W.x,W.y),we=_e*this.getZoomScale(ae,f),je=E.distanceTo(w)||1,it=1.42,Et=it*it;function un(ji){var N0=ji?-1:1,vv=ji?we:_e,bv=we*we-_e*_e+N0*Et*Et*je*je,_v=2*vv*Et*je,v3=bv/_v,R0=Math.sqrt(v3*v3+1)-v3,yv=R0<1e-9?-18:Math.log(R0);return yv}function Br(ji){return(Math.exp(ji)-Math.exp(-ji))/2}function ir(ji){return(Math.exp(ji)+Math.exp(-ji))/2}function Ao(ji){return Br(ji)/ir(ji)}var Zr=un(0);function Ec(ji){return _e*(ir(Zr)/ir(Zr+it*ji))}function fv(ji){return _e*(ir(Zr)*Ao(Zr+it*ji)-Br(Zr))/Et}function mv(ji){return 1-Math.pow(1-ji,1.5)}var hv=Date.now(),Nf=(un(1)-Zr)/it,gv=b.duration?1e3*b.duration:1e3*Nf*.8;function Rf(){var ji=(Date.now()-hv)/gv,N0=mv(ji)*Nf;ji<=1?(this._flyToFrame=J(Rf,this),this._move(this.unproject(w.add(E.subtract(w).multiplyBy(fv(N0)/je)),ae),this.getScaleZoom(_e/Ec(N0),ae),{flyTo:!0})):this._move(s,f)._moveEnd(!0)}return this._moveStart(!0,b.noMoveStart),Rf.call(this),this},flyToBounds:function(s,f){var b=this._getBoundsCenterZoom(s,f);return this.flyTo(b.center,b.zoom,f)},setMaxBounds:function(s){return s=Qe(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var f=this.options.minZoom;return this.options.minZoom=s,this._loaded&&f!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var f=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&f!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,f){this._enforcingBounds=!0;var b=this.getCenter(),w=this._limitCenter(b,this._zoom,Qe(s));return b.equals(w)||this.panTo(w,f),this._enforcingBounds=!1,this},panInside:function(s,f){f=f||{};var b=H(f.paddingTopLeft||f.padding||[0,0]),w=H(f.paddingBottomRight||f.padding||[0,0]),E=this.project(this.getCenter()),W=this.project(s),ae=this.getPixelBounds(),_e=ke([ae.min.add(b),ae.max.subtract(w)]),we=_e.getSize();if(!_e.contains(W)){this._enforcingBounds=!0;var je=W.subtract(_e.getCenter()),it=_e.extend(W).getSize().subtract(we);E.x+=je.x<0?-it.x:it.x,E.y+=je.y<0?-it.y:it.y,this.panTo(this.unproject(E),f),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=t({animate:!1,pan:!0},s===!0?{animate:!0}:s);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var b=this.getSize(),w=f.divideBy(2).round(),E=b.divideBy(2).round(),W=w.subtract(E);return!W.x&&!W.y?this:(s.animate&&s.pan?this.panBy(W):(s.pan&&this._rawPanBy(W),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:b}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=t({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=r(this._handleGeolocationResponse,this),b=r(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,b,s):navigator.geolocation.getCurrentPosition(f,b,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var f=s.code,b=s.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+b+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var f=s.coords.latitude,b=s.coords.longitude,w=new Se(f,b),E=w.toBounds(s.coords.accuracy*2),W=this._locateOptions;if(W.setView){var ae=this.getBoundsZoom(E);this.setView(w,W.maxZoom?Math.min(ae,W.maxZoom):ae)}var _e={latlng:w,bounds:E,timestamp:s.timestamp};for(var we in s.coords)typeof s.coords[we]=="number"&&(_e[we]=s.coords[we]);this.fire("locationfound",_e)}},addHandler:function(s,f){if(!f)return this;var b=this[s]=new f(this);return this._handlers.push(b),this.options[s]&&b.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),xi(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(pe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)xi(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,f){var b="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),w=zn("div",b,f||this._mapPane);return s&&(this._panes[s]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),f=this.unproject(s.getBottomLeft()),b=this.unproject(s.getTopRight());return new Be(f,b)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,f,b){s=Qe(s),b=H(b||[0,0]);var w=this.getZoom()||0,E=this.getMinZoom(),W=this.getMaxZoom(),ae=s.getNorthWest(),_e=s.getSouthEast(),we=this.getSize().subtract(b),je=ke(this.project(_e,w),this.project(ae,w)).getSize(),it=ut.any3d?this.options.zoomSnap:1,Et=we.x/je.x,un=we.y/je.y,Br=f?Math.max(Et,un):Math.min(Et,un);return w=this.getScaleZoom(Br,w),it&&(w=Math.round(w/(it/100))*(it/100),w=f?Math.ceil(w/it)*it:Math.floor(w/it)*it),Math.max(E,Math.min(W,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new te(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,f){var b=this._getTopLeftPoint(s,f);return new Z(b,b.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,f){var b=this.options.crs;return f=f===void 0?this._zoom:f,b.scale(s)/b.scale(f)},getScaleZoom:function(s,f){var b=this.options.crs;f=f===void 0?this._zoom:f;var w=b.zoom(s*b.scale(f));return isNaN(w)?1/0:w},project:function(s,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(gt(s),f)},unproject:function(s,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(H(s),f)},layerPointToLatLng:function(s){var f=H(s).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(s){var f=this.project(gt(s))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(gt(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Qe(s))},distance:function(s,f){return this.options.crs.distance(gt(s),gt(f))},containerPointToLayerPoint:function(s){return H(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return H(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var f=this.containerPointToLayerPoint(H(s));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(gt(s)))},mouseEventToContainerPoint:function(s){return x0(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var f=this._container=nf(s);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Jt(f,"scroll",this._onScroll,this),this._containerId=a(f)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&ut.any3d,rn(s,"leaflet-container"+(ut.touch?" leaflet-touch":"")+(ut.retina?" leaflet-retina":"")+(ut.ielt9?" leaflet-oldie":"")+(ut.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=G1(s,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),bi(this._mapPane,new te(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(rn(s.markerPane,"leaflet-zoom-hide"),rn(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,f,b){bi(this._mapPane,new te(0,0));var w=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var E=this._zoom!==f;this._moveStart(E,b)._move(s,f)._moveEnd(E),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(s,f){return s&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(s,f,b,w){f===void 0&&(f=this._zoom);var E=this._zoom!==f;return this._zoom=f,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),w?b&&b.pinch&&this.fire("zoom",b):((E||b&&b.pinch)&&this.fire("zoom",b),this.fire("move",b)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return pe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){bi(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[a(this._container)]=this;var f=s?ti:Jt;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),ut.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){pe(this._resizeRequest),this._resizeRequest=J(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,f){for(var b=[],w,E=f==="mouseout"||f==="mouseover",W=s.target||s.srcElement,ae=!1;W;){if(w=this._targets[a(W)],w&&(f==="click"||f==="preclick")&&this._draggableMoved(w)){ae=!0;break}if(w&&w.listens(f,!0)&&(E&&!C0(W,s)||(b.push(w),E))||W===this._container)break;W=W.parentNode}return!b.length&&!ae&&!E&&this.listens(f,!0)&&(b=[this]),b},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var f=s.target||s.srcElement;if(!(!this._loaded||f._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(f))){var b=s.type;b==="mousedown"&&Q1(f),this._fireDOMEvent(s,b)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,f,b){if(s.type==="click"){var w=t({},s);w.type="preclick",this._fireDOMEvent(w,w.type,b)}var E=this._findEventTargets(s,f);if(b){for(var W=[],ae=0;ae<b.length;ae++)b[ae].listens(f,!0)&&W.push(b[ae]);E=W.concat(E)}if(E.length){f==="contextmenu"&&fr(s);var _e=E[0],we={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var je=_e.getLatLng&&(!_e._radius||_e._radius<=10);we.containerPoint=je?this.latLngToContainerPoint(_e.getLatLng()):this.mouseEventToContainerPoint(s),we.layerPoint=this.containerPointToLayerPoint(we.containerPoint),we.latlng=je?_e.getLatLng():this.layerPointToLatLng(we.layerPoint)}for(ae=0;ae<E.length;ae++)if(E[ae].fire(f,we,!0),we.originalEvent._stopped||E[ae].options.bubblingMouseEvents===!1&&F(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,f=this._handlers.length;s<f;s++)this._handlers[s].disable()},whenReady:function(s,f){return this._loaded?s.call(f||this,{target:this}):this.on("load",s,f),this},_getMapPanePos:function(){return Vr(this._mapPane)||new te(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,f){var b=s&&f!==void 0?this._getNewPixelOrigin(s,f):this.getPixelOrigin();return b.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,f){var b=this.getSize()._divideBy(2);return this.project(s,f)._subtract(b)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,f,b){var w=this._getNewPixelOrigin(b,f);return this.project(s,f)._subtract(w)},_latLngBoundsToNewLayerBounds:function(s,f,b){var w=this._getNewPixelOrigin(b,f);return ke([this.project(s.getSouthWest(),f)._subtract(w),this.project(s.getNorthWest(),f)._subtract(w),this.project(s.getSouthEast(),f)._subtract(w),this.project(s.getNorthEast(),f)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,f,b){if(!b)return s;var w=this.project(s,f),E=this.getSize().divideBy(2),W=new Z(w.subtract(E),w.add(E)),ae=this._getBoundsOffset(W,b,f);return Math.abs(ae.x)<=1&&Math.abs(ae.y)<=1?s:this.unproject(w.add(ae),f)},_limitOffset:function(s,f){if(!f)return s;var b=this.getPixelBounds(),w=new Z(b.min.add(s),b.max.add(s));return s.add(this._getBoundsOffset(w,f))},_getBoundsOffset:function(s,f,b){var w=ke(this.project(f.getNorthEast(),b),this.project(f.getSouthWest(),b)),E=w.min.subtract(s.min),W=w.max.subtract(s.max),ae=this._rebound(E.x,-W.x),_e=this._rebound(E.y,-W.y);return new te(ae,_e)},_rebound:function(s,f){return s+f>0?Math.round(s-f)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(f))},_limitZoom:function(s){var f=this.getMinZoom(),b=this.getMaxZoom(),w=ut.any3d?this.options.zoomSnap:1;return w&&(s=Math.round(s/w)*w),Math.max(f,Math.min(b,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){zi(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,f){var b=this._getCenterOffset(s)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(b)?!1:(this.panBy(b,f),!0)},_createAnimProxy:function(){var s=this._proxy=zn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(f){var b=q4,w=this._proxy.style[b];Os(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),w===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){xi(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),f=this.getZoom();Os(this._proxy,this.project(s,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,f,b){if(this._animatingZoom)return!0;if(b=b||{},!this._zoomAnimated||b.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(f),E=this._getCenterOffset(s)._divideBy(1-1/w);return b.animate!==!0&&!this.getSize().contains(E)?!1:(J(function(){this._moveStart(!0,b.noMoveStart||!1)._animateZoom(s,f,!0)},this),!0)},_animateZoom:function(s,f,b,w){this._mapPane&&(b&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=f,rn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:f,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&zi(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function U7(s,f){return new On(s,f)}var Qo=re.extend({options:{position:"topright"},initialize:function(s){S(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var f=this._map;return f&&f.removeControl(this),this.options.position=s,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var f=this._container=this.onAdd(s),b=this.getPosition(),w=s._controlCorners[b];return rn(f,"leaflet-control"),b.indexOf("bottom")!==-1?w.insertBefore(f,w.firstChild):w.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(xi(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),xc=function(s){return new Qo(s)};On.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},f="leaflet-",b=this._controlContainer=zn("div",f+"control-container",this._container);function w(E,W){var ae=f+E+" "+f+W;s[E+W]=zn("div",ae,b)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)xi(this._controlCorners[s]);xi(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ci=Qo.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,f,b,w){return b<w?-1:w<b?1:0}},initialize:function(s,f,b){S(this,b),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in s)this._addLayer(s[w],w);for(w in f)this._addLayer(f[w],w,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Qo.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,f){return this._addLayer(s,f),this._map?this._update():this},addOverlay:function(s,f){return this._addLayer(s,f,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var f=this._getLayer(a(s));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){rn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(rn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):zi(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return zi(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",f=this._container=zn("div",s),b=this.options.collapsed;f.setAttribute("aria-haspopup",!0),J1(f),a3(f);var w=this._section=zn("section",s+"-list");b&&(this._map.on("click",this.collapse,this),Jt(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=zn("a",s+"-toggle",f);E.href="#",E.title="Layers",E.setAttribute("role","button"),Jt(E,{keydown:function(W){W.keyCode===13&&this._expandSafely()},click:function(W){fr(W),this._expandSafely()}},this),b||this.expand(),this._baseLayersList=zn("div",s+"-base",w),this._separator=zn("div",s+"-separator",w),this._overlaysList=zn("div",s+"-overlays",w),f.appendChild(w)},_getLayer:function(s){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&a(this._layers[f].layer)===s)return this._layers[f]},_addLayer:function(s,f,b){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:f,overlay:b}),this.options.sortLayers&&this._layers.sort(r(function(w,E){return this.options.sortFunction(w.layer,E.layer,w.name,E.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;v0(this._baseLayersList),v0(this._overlaysList),this._layerControlInputs=[];var s,f,b,w,E=0;for(b=0;b<this._layers.length;b++)w=this._layers[b],this._addItem(w),f=f||w.overlay,s=s||!w.overlay,E+=w.overlay?0:1;return this.options.hideSingleBase&&(s=s&&E>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=f&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var f=this._getLayer(a(s.target)),b=f.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;b&&this._map.fire(b,f)},_createRadioElement:function(s,f){var b='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(f?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=b,w.firstChild},_addItem:function(s){var f=document.createElement("label"),b=this._map.hasLayer(s.layer),w;s.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=b):w=this._createRadioElement("leaflet-base-layers_"+a(this),b),this._layerControlInputs.push(w),w.layerId=a(s.layer),Jt(w,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+s.name;var W=document.createElement("span");f.appendChild(W),W.appendChild(w),W.appendChild(E);var ae=s.overlay?this._overlaysList:this._baseLayersList;return ae.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,f,b,w=[],E=[];this._handlingClick=!0;for(var W=s.length-1;W>=0;W--)f=s[W],b=this._getLayer(f.layerId).layer,f.checked?w.push(b):f.checked||E.push(b);for(W=0;W<E.length;W++)this._map.hasLayer(E[W])&&this._map.removeLayer(E[W]);for(W=0;W<w.length;W++)this._map.hasLayer(w[W])||this._map.addLayer(w[W]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,f,b,w=this._map.getZoom(),E=s.length-1;E>=0;E--)f=s[E],b=this._getLayer(f.layerId).layer,f.disabled=b.options.minZoom!==void 0&&w<b.options.minZoom||b.options.maxZoom!==void 0&&w>b.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Jt(s,"click",fr),this.expand();var f=this;setTimeout(function(){ti(s,"click",fr),f._preventClick=!1})}}),e2=function(s,f,b){return new ci(s,f,b)},kl=Qo.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var f="leaflet-control-zoom",b=zn("div",f+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,f+"-in",b,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,f+"-out",b,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,f,b,w,E){var W=zn("a",b,w);return W.innerHTML=s,W.href="#",W.title=f,W.setAttribute("role","button"),W.setAttribute("aria-label",f),J1(W),Jt(W,"click",Pl),Jt(W,"click",E,this),Jt(W,"click",this._refocusOnMap,this),W},_updateDisabled:function(){var s=this._map,f="leaflet-disabled";zi(this._zoomInButton,f),zi(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(rn(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(rn(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});On.mergeOptions({zoomControl:!0}),On.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new kl,this.addControl(this.zoomControl))});var $7=function(s){return new kl(s)},l3=Qo.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var f="leaflet-control-scale",b=zn("div",f),w=this.options;return this._addScales(w,f+"-line",b),s.on(w.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),b},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,f,b){s.metric&&(this._mScale=zn("div",f,b)),s.imperial&&(this._iScale=zn("div",f,b))},_update:function(){var s=this._map,f=s.getSize().y/2,b=s.distance(s.containerPointToLatLng([0,f]),s.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(b)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var f=this._getRoundNum(s),b=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,b,f/s)},_updateImperial:function(s){var f=s*3.2808399,b,w,E;f>5280?(b=f/5280,w=this._getRoundNum(b),this._updateScale(this._iScale,w+" mi",w/b)):(E=this._getRoundNum(f),this._updateScale(this._iScale,E+" ft",E/f))},_updateScale:function(s,f,b){s.style.width=Math.round(this.options.maxWidth*b)+"px",s.innerHTML=f},_getRoundNum:function(s){var f=Math.pow(10,(Math.floor(s)+"").length-1),b=s/f;return b=b>=10?10:b>=5?5:b>=3?3:b>=2?2:1,f*b}}),W7=function(s){return new l3(s)},G7='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Cc=Qo.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ut.inlineSvg?G7+" ":"")+"Leaflet</a>"},initialize:function(s){S(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=zn("div","leaflet-control-attribution"),J1(this._container);for(var f in s._layers)s._layers[f].getAttribution&&this.addAttribution(s._layers[f].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var f in this._attributions)this._attributions[f]&&s.push(f);var b=[];this.options.prefix&&b.push(this.options.prefix),s.length&&b.push(s.join(", ")),this._container.innerHTML=b.join(' <span aria-hidden="true">|</span> ')}}});On.mergeOptions({attributionControl:!0}),On.addInitHook(function(){this.options.attributionControl&&new Cc().addTo(this)});var Ds=function(s){return new Cc(s)};Qo.Layers=ci,Qo.Zoom=kl,Qo.Scale=l3,Qo.Attribution=Cc,xc.layers=e2,xc.zoom=$7,xc.scale=W7,xc.attribution=Ds;var Io=re.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Io.addTo=function(s,f){return s.addHandler(f,this),this};var Y7={Events:se},Ca=ut.touch?"touchstart mousedown":"mousedown",Es=ve.extend({options:{clickTolerance:3},initialize:function(s,f,b,w){S(this,w),this._element=s,this._dragStartTarget=f||s,this._preventOutline=b},enable:function(){this._enabled||(Jt(this._dragStartTarget,Ca,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Es._dragging===this&&this.finishDrag(!0),ti(this._dragStartTarget,Ca,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!b0(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Es._dragging===this&&this.finishDrag();return}if(!(Es._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Es._dragging=this,this._preventOutline&&Q1(this._element),Q4(),Z1(),!this._moving)){this.fire("down");var f=s.touches?s.touches[0]:s,b=t3(this._element);this._startPoint=new te(f.clientX,f.clientY),this._startPos=Vr(this._element),this._parentScale=n3(b);var w=s.type==="mousedown";Jt(document,w?"mousemove":"touchmove",this._onMove,this),Jt(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var f=s.touches&&s.touches.length===1?s.touches[0]:s,b=new te(f.clientX,f.clientY)._subtract(this._startPoint);!b.x&&!b.y||Math.abs(b.x)+Math.abs(b.y)<this.options.clickTolerance||(b.x/=this._parentScale.x,b.y/=this._parentScale.y,fr(s),this._moved||(this.fire("dragstart"),this._moved=!0,rn(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),rn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),bi(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){zi(document.body,"leaflet-dragging"),this._lastTarget&&(zi(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ti(document,"mousemove touchmove",this._onMove,this),ti(document,"mouseup touchend touchcancel",this._onUp,this),J4(),X1();var f=this._moved&&this._moving;this._moving=!1,Es._dragging=!1,f&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function M0(s,f,b){var w,E=[1,4,2,8],W,ae,_e,we,je,it,Et,un;for(W=0,it=s.length;W<it;W++)s[W]._code=Ol(s[W],f);for(_e=0;_e<4;_e++){for(Et=E[_e],w=[],W=0,it=s.length,ae=it-1;W<it;ae=W++)we=s[W],je=s[ae],we._code&Et?je._code&Et||(un=S0(je,we,Et,f,b),un._code=Ol(un,f),w.push(un)):(je._code&Et&&(un=S0(je,we,Et,f,b),un._code=Ol(un,f),w.push(un)),w.push(we));s=w}return s}function cf(s,f){var b,w,E,W,ae,_e,we,je,it;if(!s||s.length===0)throw new Error("latlngs not passed");To(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Et=gt([0,0]),un=Qe(s),Br=un.getNorthWest().distanceTo(un.getSouthWest())*un.getNorthEast().distanceTo(un.getNorthWest());Br<1700&&(Et=c3(s));var ir=s.length,Ao=[];for(b=0;b<ir;b++){var Zr=gt(s[b]);Ao.push(f.project(gt([Zr.lat-Et.lat,Zr.lng-Et.lng])))}for(_e=we=je=0,b=0,w=ir-1;b<ir;w=b++)E=Ao[b],W=Ao[w],ae=E.y*W.x-W.y*E.x,we+=(E.x+W.x)*ae,je+=(E.y+W.y)*ae,_e+=ae*3;_e===0?it=Ao[0]:it=[we/_e,je/_e];var Ec=f.unproject(H(it));return gt([Ec.lat+Et.lat,Ec.lng+Et.lng])}function c3(s){for(var f=0,b=0,w=0,E=0;E<s.length;E++){var W=gt(s[E]);f+=W.lat,b+=W.lng,w++}return gt([f/w,b/w])}var q7={__proto__:null,clipPolygon:M0,polygonCenter:cf,centroid:c3};function t2(s,f){if(!f||!s.length)return s.slice();var b=f*f;return s=df(s,b),s=X7(s,b),s}function w0(s,f,b){return Math.sqrt(Mc(s,f,b,!0))}function Z7(s,f,b){return Mc(s,f,b)}function X7(s,f){var b=s.length,w=typeof Uint8Array<"u"?Uint8Array:Array,E=new w(b);E[0]=E[b-1]=1,d3(s,E,f,0,b-1);var W,ae=[];for(W=0;W<b;W++)E[W]&&ae.push(s[W]);return ae}function d3(s,f,b,w,E){var W=0,ae,_e,we;for(_e=w+1;_e<=E-1;_e++)we=Mc(s[_e],s[w],s[E],!0),we>W&&(ae=_e,W=we);W>b&&(f[ae]=1,d3(s,f,b,w,ae),d3(s,f,b,ae,E))}function df(s,f){for(var b=[s[0]],w=1,E=0,W=s.length;w<W;w++)K7(s[w],s[E])>f&&(b.push(s[w]),E=w);return E<W-1&&b.push(s[W-1]),b}var uf;function pf(s,f,b,w,E){var W=w?uf:Ol(s,b),ae=Ol(f,b),_e,we,je;for(uf=ae;;){if(!(W|ae))return[s,f];if(W&ae)return!1;_e=W||ae,we=S0(s,f,_e,b,E),je=Ol(we,b),_e===W?(s=we,W=je):(f=we,ae=je)}}function S0(s,f,b,w,E){var W=f.x-s.x,ae=f.y-s.y,_e=w.min,we=w.max,je,it;return b&8?(je=s.x+W*(we.y-s.y)/ae,it=we.y):b&4?(je=s.x+W*(_e.y-s.y)/ae,it=_e.y):b&2?(je=we.x,it=s.y+ae*(we.x-s.x)/W):b&1&&(je=_e.x,it=s.y+ae*(_e.x-s.x)/W),new te(je,it,E)}function Ol(s,f){var b=0;return s.x<f.min.x?b|=1:s.x>f.max.x&&(b|=2),s.y<f.min.y?b|=4:s.y>f.max.y&&(b|=8),b}function K7(s,f){var b=f.x-s.x,w=f.y-s.y;return b*b+w*w}function Mc(s,f,b,w){var E=f.x,W=f.y,ae=b.x-E,_e=b.y-W,we=ae*ae+_e*_e,je;return we>0&&(je=((s.x-E)*ae+(s.y-W)*_e)/we,je>1?(E=b.x,W=b.y):je>0&&(E+=ae*je,W+=_e*je)),ae=s.x-E,_e=s.y-W,w?ae*ae+_e*_e:new te(E,W)}function To(s){return!B(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Dl(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),To(s)}function ff(s,f){var b,w,E,W,ae,_e,we,je;if(!s||s.length===0)throw new Error("latlngs not passed");To(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var it=gt([0,0]),Et=Qe(s),un=Et.getNorthWest().distanceTo(Et.getSouthWest())*Et.getNorthEast().distanceTo(Et.getNorthWest());un<1700&&(it=c3(s));var Br=s.length,ir=[];for(b=0;b<Br;b++){var Ao=gt(s[b]);ir.push(f.project(gt([Ao.lat-it.lat,Ao.lng-it.lng])))}for(b=0,w=0;b<Br-1;b++)w+=ir[b].distanceTo(ir[b+1])/2;if(w===0)je=ir[0];else for(b=0,W=0;b<Br-1;b++)if(ae=ir[b],_e=ir[b+1],E=ae.distanceTo(_e),W+=E,W>w){we=(W-w)/E,je=[_e.x-we*(_e.x-ae.x),_e.y-we*(_e.y-ae.y)];break}var Zr=f.unproject(H(je));return gt([Zr.lat+it.lat,Zr.lng+it.lng])}var u3={__proto__:null,simplify:t2,pointToSegmentDistance:w0,closestPointOnSegment:Z7,clipSegment:pf,_getEdgeIntersection:S0,_getBitCode:Ol,_sqClosestPointOnSegment:Mc,isFlat:To,_flat:Dl,polylineCenter:ff},p3={project:function(s){return new te(s.lng,s.lat)},unproject:function(s){return new Se(s.y,s.x)},bounds:new Z([-180,-90],[180,90])},n2={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var f=Math.PI/180,b=this.R,w=s.lat*f,E=this.R_MINOR/b,W=Math.sqrt(1-E*E),ae=W*Math.sin(w),_e=Math.tan(Math.PI/4-w/2)/Math.pow((1-ae)/(1+ae),W/2);return w=-b*Math.log(Math.max(_e,1e-10)),new te(s.lng*f*b,w)},unproject:function(s){for(var f=180/Math.PI,b=this.R,w=this.R_MINOR/b,E=Math.sqrt(1-w*w),W=Math.exp(-s.y/b),ae=Math.PI/2-2*Math.atan(W),_e=0,we=.1,je;_e<15&&Math.abs(we)>1e-7;_e++)je=E*Math.sin(ae),je=Math.pow((1-je)/(1+je),E/2),we=Math.PI/2-2*Math.atan(W*je)-ae,ae+=we;return new Se(ae*f,s.x*f/b)}},Q7={__proto__:null,LonLat:p3,Mercator:n2,SphericalMercator:Oe},J7=t({},Ie,{code:"EPSG:3395",projection:n2,transformation:function(){var s=.5/(Math.PI*n2.R);return xe(s,.5,-s,.5)}()}),mf=t({},Ie,{code:"EPSG:4326",projection:p3,transformation:xe(1/180,1,-1/180,.5)}),ev=t({},ze,{projection:p3,transformation:xe(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,f){var b=f.lng-s.lng,w=f.lat-s.lat;return Math.sqrt(b*b+w*w)},infinite:!0});ze.Earth=Ie,ze.EPSG3395=J7,ze.EPSG3857=Ue,ze.EPSG900913=st,ze.EPSG4326=mf,ze.Simple=ev;var Lo=ve.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[a(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[a(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var f=s.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var b=this.getEvents();f.on(b,this),this.once("remove",function(){f.off(b,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});On.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var f=a(s);return this._layers[f]?this:(this._layers[f]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var f=a(s);return this._layers[f]?(this._loaded&&s.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return a(s)in this._layers},eachLayer:function(s,f){for(var b in this._layers)s.call(f,this._layers[b]);return this},_addLayers:function(s){s=s?B(s)?s:[s]:[];for(var f=0,b=s.length;f<b;f++)this.addLayer(s[f])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[a(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var f=a(s);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,f=-1/0,b=this._getZoomSpan();for(var w in this._zoomBoundLayers){var E=this._zoomBoundLayers[w].options;s=E.minZoom===void 0?s:Math.min(s,E.minZoom),f=E.maxZoom===void 0?f:Math.max(f,E.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=s===1/0?void 0:s,b!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var wc=Lo.extend({initialize:function(s,f){S(this,f),this._layers={};var b,w;if(s)for(b=0,w=s.length;b<w;b++)this.addLayer(s[b])},addLayer:function(s){var f=this.getLayerId(s);return this._layers[f]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var f=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(s){var f=typeof s=="number"?s:this.getLayerId(s);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var f=Array.prototype.slice.call(arguments,1),b,w;for(b in this._layers)w=this._layers[b],w[s]&&w[s].apply(w,f);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,f){for(var b in this._layers)s.call(f,this._layers[b]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return a(s)}}),hf=function(s,f){return new wc(s,f)},Dn=wc.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),wc.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),wc.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Be;for(var f in this._layers){var b=this._layers[f];s.extend(b.getBounds?b.getBounds():b.getLatLng())}return s}}),tv=function(s,f){return new Dn(s,f)},Sc=re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){S(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,f){var b=this._getIconUrl(s);if(!b){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(b,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(w,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(s,f){var b=this.options,w=b[f+"Size"];typeof w=="number"&&(w=[w,w]);var E=H(w),W=H(f==="shadow"&&b.shadowAnchor||b.iconAnchor||E&&E.divideBy(2,!0));s.className="leaflet-marker-"+f+" "+(b.className||""),W&&(s.style.marginLeft=-W.x+"px",s.style.marginTop=-W.y+"px"),E&&(s.style.width=E.x+"px",s.style.height=E.y+"px")},_createImg:function(s,f){return f=f||document.createElement("img"),f.src=s,f},_getIconUrl:function(s){return ut.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function gf(s){return new Sc(s)}var i2=Sc.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof i2.imagePath!="string"&&(i2.imagePath=this._detectIconPath()),(this.options.imagePath||i2.imagePath)+Sc.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var f=function(b,w,E){var W=w.exec(b);return W&&W[E]};return s=f(s,/^url\((['"])?(.+)\1\)$/,2),s&&f(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=zn("div","leaflet-default-icon-path",document.body),f=G1(s,"background-image")||G1(s,"backgroundImage");if(document.body.removeChild(s),f=this._stripUrl(f),f)return f;var b=document.querySelector('link[href$="leaflet.css"]');return b?b.href.substring(0,b.href.length-11-1):""}}),vf=Io.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Es(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),rn(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&zi(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var f=this._marker,b=f._map,w=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,W=Vr(f._icon),ae=b.getPixelBounds(),_e=b.getPixelOrigin(),we=ke(ae.min._subtract(_e).add(E),ae.max._subtract(_e).subtract(E));if(!we.contains(W)){var je=H((Math.max(we.max.x,W.x)-we.max.x)/(ae.max.x-we.max.x)-(Math.min(we.min.x,W.x)-we.min.x)/(ae.min.x-we.min.x),(Math.max(we.max.y,W.y)-we.max.y)/(ae.max.y-we.max.y)-(Math.min(we.min.y,W.y)-we.min.y)/(ae.min.y-we.min.y)).multiplyBy(w);b.panBy(je,{animate:!1}),this._draggable._newPos._add(je),this._draggable._startPos._add(je),bi(f._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=J(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(pe(this._panRequest),this._panRequest=J(this._adjustPan.bind(this,s)))},_onDrag:function(s){var f=this._marker,b=f._shadow,w=Vr(f._icon),E=f._map.layerPointToLatLng(w);b&&bi(b,w),f._latlng=E,s.latlng=E,s.oldLatLng=this._oldLatLng,f.fire("move",s).fire("drag",s)},_onDragEnd:function(s){pe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),P0=Lo.extend({options:{icon:new i2,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,f){S(this,f),this._latlng=gt(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var f=this._latlng;return this._latlng=gt(s),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),b=s.icon.createIcon(this._icon),w=!1;b!==this._icon&&(this._icon&&this._removeIcon(),w=!0,s.title&&(b.title=s.title),b.tagName==="IMG"&&(b.alt=s.alt||"")),rn(b,f),s.keyboard&&(b.tabIndex="0",b.setAttribute("role","button")),this._icon=b,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Jt(b,"focus",this._panOnFocus,this);var E=s.icon.createShadow(this._shadow),W=!1;E!==this._shadow&&(this._removeShadow(),W=!0),E&&(rn(E,f),E.alt=""),this._shadow=E,s.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&W&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ti(this._icon,"focus",this._panOnFocus,this),xi(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&xi(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&bi(this._icon,s),this._shadow&&bi(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var f=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(rn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),vf)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new vf(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Eo(this._icon,s),this._shadow&&Eo(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var f=this.options.icon.options,b=f.iconSize?H(f.iconSize):H(0,0),w=f.iconAnchor?H(f.iconAnchor):H(0,0);s.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:b.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function r2(s,f){return new P0(s,f)}var Is=Lo.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return S(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),k0=Is.extend({options:{fill:!0,radius:10},initialize:function(s,f){S(this,f),this._latlng=gt(s),this._radius=this.options.radius},setLatLng:function(s){var f=this._latlng;return this._latlng=gt(s),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var f=s&&s.radius||this._radius;return Is.prototype.setStyle.call(this,s),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,f=this._radiusY||s,b=this._clickTolerance(),w=[s+b,f+b];this._pxBounds=new Z(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function nv(s,f){return new k0(s,f)}var Pc=k0.extend({initialize:function(s,f,b){if(typeof f=="number"&&(f=t({},b,{radius:f})),S(this,f),this._latlng=gt(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Be(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Is.prototype.setStyle,_project:function(){var s=this._latlng.lng,f=this._latlng.lat,b=this._map,w=b.options.crs;if(w.distance===Ie.distance){var E=Math.PI/180,W=this._mRadius/Ie.R/E,ae=b.project([f+W,s]),_e=b.project([f-W,s]),we=ae.add(_e).divideBy(2),je=b.unproject(we).lat,it=Math.acos((Math.cos(W*E)-Math.sin(f*E)*Math.sin(je*E))/(Math.cos(f*E)*Math.cos(je*E)))/E;(isNaN(it)||it===0)&&(it=W/Math.cos(Math.PI/180*f)),this._point=we.subtract(b.getPixelOrigin()),this._radius=isNaN(it)?0:we.x-b.project([je,s-it]).x,this._radiusY=we.y-ae.y}else{var Et=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=b.latLngToLayerPoint(this._latlng),this._radius=this._point.x-b.latLngToLayerPoint(Et).x}this._updateBounds()}});function O0(s,f,b){return new Pc(s,f,b)}var Jo=Is.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,f){S(this,f),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var f=1/0,b=null,w=Mc,E,W,ae=0,_e=this._parts.length;ae<_e;ae++)for(var we=this._parts[ae],je=1,it=we.length;je<it;je++){E=we[je-1],W=we[je];var Et=w(s,E,W,!0);Et<f&&(f=Et,b=w(s,E,W))}return b&&(b.distance=Math.sqrt(f)),b},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ff(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,f){return f=f||this._defaultShape(),s=gt(s),f.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Be,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return To(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var f=[],b=To(s),w=0,E=s.length;w<E;w++)b?(f[w]=gt(s[w]),this._bounds.extend(f[w])):f[w]=this._convertLatLngs(s[w]);return f},_project:function(){var s=new Z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),f=new te(s,s);this._rawPxBounds&&(this._pxBounds=new Z([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(s,f,b){var w=s[0]instanceof Se,E=s.length,W,ae;if(w){for(ae=[],W=0;W<E;W++)ae[W]=this._map.latLngToLayerPoint(s[W]),b.extend(ae[W]);f.push(ae)}else for(W=0;W<E;W++)this._projectLatlngs(s[W],f,b)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,b,w,E,W,ae,_e,we;for(b=0,E=0,W=this._rings.length;b<W;b++)for(we=this._rings[b],w=0,ae=we.length;w<ae-1;w++)_e=pf(we[w],we[w+1],s,w,!0),_e&&(f[E]=f[E]||[],f[E].push(_e[0]),(_e[1]!==we[w+1]||w===ae-2)&&(f[E].push(_e[1]),E++))}},_simplifyPoints:function(){for(var s=this._parts,f=this.options.smoothFactor,b=0,w=s.length;b<w;b++)s[b]=t2(s[b],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,f){var b,w,E,W,ae,_e,we=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(b=0,W=this._parts.length;b<W;b++)for(_e=this._parts[b],w=0,ae=_e.length,E=ae-1;w<ae;E=w++)if(!(!f&&w===0)&&w0(s,_e[E],_e[w])<=we)return!0;return!1}});function iv(s,f){return new Jo(s,f)}Jo._flat=Dl;var El=Jo.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return cf(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var f=Jo.prototype._convertLatLngs.call(this,s),b=f.length;return b>=2&&f[0]instanceof Se&&f[0].equals(f[b-1])&&f.pop(),f},_setLatLngs:function(s){Jo.prototype._setLatLngs.call(this,s),To(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return To(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,f=this.options.weight,b=new te(f,f);if(s=new Z(s.min.subtract(b),s.max.add(b)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,E=this._rings.length,W;w<E;w++)W=M0(this._rings[w],s,!0),W.length&&this._parts.push(W)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var f=!1,b,w,E,W,ae,_e,we,je;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(W=0,we=this._parts.length;W<we;W++)for(b=this._parts[W],ae=0,je=b.length,_e=je-1;ae<je;_e=ae++)w=b[ae],E=b[_e],w.y>s.y!=E.y>s.y&&s.x<(E.x-w.x)*(s.y-w.y)/(E.y-w.y)+w.x&&(f=!f);return f||Jo.prototype._containsPoint.call(this,s,!0)}});function rv(s,f){return new El(s,f)}var ea=Dn.extend({initialize:function(s,f){S(this,f),this._layers={},s&&this.addData(s)},addData:function(s){var f=B(s)?s:s.features,b,w,E;if(f){for(b=0,w=f.length;b<w;b++)E=f[b],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var W=this.options;if(W.filter&&!W.filter(s))return this;var ae=kc(s,W);return ae?(ae.feature=T0(s),ae.defaultOptions=ae.options,this.resetStyle(ae),W.onEachFeature&&W.onEachFeature(s,ae),this.addLayer(ae)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=t({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(f){this._setLayerStyle(f,s)},this)},_setLayerStyle:function(s,f){s.setStyle&&(typeof f=="function"&&(f=f(s.feature)),s.setStyle(f))}});function kc(s,f){var b=s.type==="Feature"?s.geometry:s,w=b?b.coordinates:null,E=[],W=f&&f.pointToLayer,ae=f&&f.coordsToLatLng||f3,_e,we,je,it;if(!w&&!b)return null;switch(b.type){case"Point":return _e=ae(w),D0(W,s,_e,f);case"MultiPoint":for(je=0,it=w.length;je<it;je++)_e=ae(w[je]),E.push(D0(W,s,_e,f));return new Dn(E);case"LineString":case"MultiLineString":return we=E0(w,b.type==="LineString"?0:1,ae),new Jo(we,f);case"Polygon":case"MultiPolygon":return we=E0(w,b.type==="Polygon"?1:2,ae),new El(we,f);case"GeometryCollection":for(je=0,it=b.geometries.length;je<it;je++){var Et=kc({geometry:b.geometries[je],type:"Feature",properties:s.properties},f);Et&&E.push(Et)}return new Dn(E);case"FeatureCollection":for(je=0,it=b.features.length;je<it;je++){var un=kc(b.features[je],f);un&&E.push(un)}return new Dn(E);default:throw new Error("Invalid GeoJSON object.")}}function D0(s,f,b,w){return s?s(f,b):new P0(b,w&&w.markersInheritOptions&&w)}function f3(s){return new Se(s[1],s[0],s[2])}function E0(s,f,b){for(var w=[],E=0,W=s.length,ae;E<W;E++)ae=f?E0(s[E],f-1,b):(b||f3)(s[E]),w.push(ae);return w}function m3(s,f){return s=gt(s),s.alt!==void 0?[v(s.lng,f),v(s.lat,f),v(s.alt,f)]:[v(s.lng,f),v(s.lat,f)]}function I0(s,f,b,w){for(var E=[],W=0,ae=s.length;W<ae;W++)E.push(f?I0(s[W],To(s[W])?0:f-1,b,w):m3(s[W],w));return!f&&b&&E.length>0&&E.push(E[0].slice()),E}function Oc(s,f){return s.feature?t({},s.feature,{geometry:f}):T0(f)}function T0(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var h3={toGeoJSON:function(s){return Oc(this,{type:"Point",coordinates:m3(this.getLatLng(),s)})}};P0.include(h3),Pc.include(h3),k0.include(h3),Jo.include({toGeoJSON:function(s){var f=!To(this._latlngs),b=I0(this._latlngs,f?1:0,!1,s);return Oc(this,{type:(f?"Multi":"")+"LineString",coordinates:b})}}),El.include({toGeoJSON:function(s){var f=!To(this._latlngs),b=f&&!To(this._latlngs[0]),w=I0(this._latlngs,b?2:f?1:0,!0,s);return f||(w=[w]),Oc(this,{type:(b?"Multi":"")+"Polygon",coordinates:w})}}),wc.include({toMultiPoint:function(s){var f=[];return this.eachLayer(function(b){f.push(b.toGeoJSON(s).geometry.coordinates)}),Oc(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(s){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(s);var b=f==="GeometryCollection",w=[];return this.eachLayer(function(E){if(E.toGeoJSON){var W=E.toGeoJSON(s);if(b)w.push(W.geometry);else{var ae=T0(W);ae.type==="FeatureCollection"?w.push.apply(w,ae.features):w.push(ae)}}}),b?Oc(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function bf(s,f){return new ea(s,f)}var ov=bf,L0=Lo.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,f,b){this._url=s,this._bounds=Qe(f),S(this,b)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(rn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){xi(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&yc(this._image),this},bringToBack:function(){return this._map&&Ml(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Qe(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",f=this._image=s?this._url:zn("img");if(rn(f,"leaflet-image-layer"),this._zoomAnimated&&rn(f,"leaflet-zoom-animated"),this.options.className&&rn(f,this.options.className),f.onselectstart=h,f.onmousemove=h,f.onload=r(this.fire,this,"load"),f.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(s){var f=this._map.getZoomScale(s.zoom),b=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Os(this._image,b,f)},_reset:function(){var s=this._image,f=new Z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),b=f.getSize();bi(s,f.min),s.style.width=b.x+"px",s.style.height=b.y+"px"},_updateOpacity:function(){Eo(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),_f=function(s,f,b){return new L0(s,f,b)},yf=L0.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",f=this._image=s?this._url:zn("video");if(rn(f,"leaflet-image-layer"),this._zoomAnimated&&rn(f,"leaflet-zoom-animated"),this.options.className&&rn(f,this.options.className),f.onselectstart=h,f.onmousemove=h,f.onloadeddata=r(this.fire,this,"load"),s){for(var b=f.getElementsByTagName("source"),w=[],E=0;E<b.length;E++)w.push(b[E].src);this._url=b.length>0?w:[f.src];return}B(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var W=0;W<this._url.length;W++){var ae=zn("source");ae.src=this._url[W],f.appendChild(ae)}}});function av(s,f,b){return new yf(s,f,b)}var zo=L0.extend({_initImage:function(){var s=this._image=this._url;rn(s,"leaflet-image-layer"),this._zoomAnimated&&rn(s,"leaflet-zoom-animated"),this.options.className&&rn(s,this.options.className),s.onselectstart=h,s.onmousemove=h}});function Il(s,f,b){return new zo(s,f,b)}var ta=Lo.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,f){s&&(s instanceof Se||B(s))?(this._latlng=gt(s),S(this,f)):(S(this,s),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Eo(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Eo(this._container,1),this.bringToFront(),this.options.interactive&&(rn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Eo(this._container,0),this._removeTimeout=setTimeout(r(xi,void 0,this._container),200)):xi(this._container),this.options.interactive&&(zi(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=gt(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&yc(this._container),this},bringToBack:function(){return this._map&&Ml(this._container),this},_prepareOpen:function(s){var f=this._source;if(!f._map)return!1;if(f instanceof Dn){f=null;var b=this._source._layers;for(var w in b)if(b[w]._map){f=b[w];break}if(!f)return!1;this._source=f}if(!s)if(f.getCenter)s=f.getCenter();else if(f.getLatLng)s=f.getLatLng();else if(f.getBounds)s=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")s.innerHTML=f;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),f=H(this.options.offset),b=this._getAnchor();this._zoomAnimated?bi(this._container,s.add(b)):f=f.add(s).add(b);var w=this._containerBottom=-f.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=w+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});On.include({_initOverlay:function(s,f,b,w){var E=f;return E instanceof s||(E=new s(w).setContent(f)),b&&E.setLatLng(b),E}}),Lo.include({_initOverlay:function(s,f,b,w){var E=b;return E instanceof s?(S(E,w),E._source=this):(E=f&&!w?f:new s(w,this),E.setContent(b)),E}});var z0=ta.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,ta.prototype.openOn.call(this,s)},onAdd:function(s){ta.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Is||this._source.on("preclick",Sl))},onRemove:function(s){ta.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Is||this._source.off("preclick",Sl))},getEvents:function(){var s=ta.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",f=this._container=zn("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),b=this._wrapper=zn("div",s+"-content-wrapper",f);if(this._contentNode=zn("div",s+"-content",b),J1(f),a3(this._contentNode),Jt(f,"contextmenu",Sl),this._tipContainer=zn("div",s+"-tip-container",f),this._tip=zn("div",s+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=zn("a",s+"-close-button",f);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',Jt(w,"click",function(E){fr(E),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,f=s.style;f.width="",f.whiteSpace="nowrap";var b=s.offsetWidth;b=Math.min(b,this.options.maxWidth),b=Math.max(b,this.options.minWidth),f.width=b+1+"px",f.whiteSpace="",f.height="";var w=s.offsetHeight,E=this.options.maxHeight,W="leaflet-popup-scrolled";E&&w>E?(f.height=E+"px",rn(s,W)):zi(s,W),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var f=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),b=this._getAnchor();bi(this._container,f.add(b))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,f=parseInt(G1(this._container,"marginBottom"),10)||0,b=this._container.offsetHeight+f,w=this._containerWidth,E=new te(this._containerLeft,-b-this._containerBottom);E._add(Vr(this._container));var W=s.layerPointToContainerPoint(E),ae=H(this.options.autoPanPadding),_e=H(this.options.autoPanPaddingTopLeft||ae),we=H(this.options.autoPanPaddingBottomRight||ae),je=s.getSize(),it=0,Et=0;W.x+w+we.x>je.x&&(it=W.x+w-je.x+we.x),W.x-it-_e.x<0&&(it=W.x-_e.x),W.y+b+we.y>je.y&&(Et=W.y+b-je.y+we.y),W.y-Et-_e.y<0&&(Et=W.y-_e.y),(it||Et)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([it,Et]))}},_getAnchor:function(){return H(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),xf=function(s,f){return new z0(s,f)};On.mergeOptions({closePopupOnClick:!0}),On.include({openPopup:function(s,f,b){return this._initOverlay(z0,s,f,b).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Lo.include({bindPopup:function(s,f){return this._popup=this._initOverlay(z0,this._popup,s,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Dn||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Pl(s);var f=s.layer||s.target;if(this._popup._source===f&&!(f instanceof Is)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=f,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var o2=ta.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){ta.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){ta.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=ta.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",f=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=zn("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var f,b,w=this._map,E=this._container,W=w.latLngToContainerPoint(w.getCenter()),ae=w.layerPointToContainerPoint(s),_e=this.options.direction,we=E.offsetWidth,je=E.offsetHeight,it=H(this.options.offset),Et=this._getAnchor();_e==="top"?(f=we/2,b=je):_e==="bottom"?(f=we/2,b=0):_e==="center"?(f=we/2,b=je/2):_e==="right"?(f=0,b=je/2):_e==="left"?(f=we,b=je/2):ae.x<W.x?(_e="right",f=0,b=je/2):(_e="left",f=we+(it.x+Et.x)*2,b=je/2),s=s.subtract(H(f,b,!0)).add(it).add(Et),zi(E,"leaflet-tooltip-right"),zi(E,"leaflet-tooltip-left"),zi(E,"leaflet-tooltip-top"),zi(E,"leaflet-tooltip-bottom"),rn(E,"leaflet-tooltip-"+_e),bi(E,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Eo(this._container,s)},_animateZoom:function(s){var f=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(f)},_getAnchor:function(){return H(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),sv=function(s,f){return new o2(s,f)};On.include({openTooltip:function(s,f,b){return this._initOverlay(o2,s,f,b).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Lo.include({bindTooltip:function(s,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(o2,this._tooltip,s,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var f=s?"off":"on",b={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?b.add=this._openTooltip:(b.mouseover=this._openTooltip,b.mouseout=this.closeTooltip,b.click=this._openTooltip,this._map?this._addFocusListeners():b.add=this._addFocusListeners),this._tooltip.options.sticky&&(b.mousemove=this._moveTooltip),this[f](b),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Dn||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var f=typeof s.getElement=="function"&&s.getElement();f&&(Jt(f,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Jt(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var f=typeof s.getElement=="function"&&s.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var f=s.latlng,b,w;this._tooltip.options.sticky&&s.originalEvent&&(b=this._map.mouseEventToContainerPoint(s.originalEvent),w=this._map.containerPointToLayerPoint(b),f=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(f)}});var Cf=Sc.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var f=s&&s.tagName==="DIV"?s:document.createElement("div"),b=this.options;if(b.html instanceof Element?(v0(f),f.appendChild(b.html)):f.innerHTML=b.html!==!1?b.html:"",b.bgPos){var w=H(b.bgPos);f.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function Mf(s){return new Cf(s)}Sc.Default=i2;var a2=Lo.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ut.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){S(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),xi(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(yc(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ml(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof te?s:new te(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var f=this.getPane().children,b=-s(-1/0,1/0),w=0,E=f.length,W;w<E;w++)W=f[w].style.zIndex,f[w]!==this._container&&W&&(b=s(b,+W));isFinite(b)&&(this.options.zIndex=b+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ut.ielt9){Eo(this._container,this.options.opacity);var s=+new Date,f=!1,b=!1;for(var w in this._tiles){var E=this._tiles[w];if(!(!E.current||!E.loaded)){var W=Math.min(1,(s-E.loaded)/200);Eo(E.el,W),W<1?f=!0:(E.active?b=!0:this._onOpaqueTile(E),E.active=!0)}}b&&!this._noPrune&&this._pruneTiles(),f&&(pe(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=zn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,f=this.options.maxZoom;if(s!==void 0){for(var b in this._levels)b=Number(b),this._levels[b].el.children.length||b===s?(this._levels[b].el.style.zIndex=f-Math.abs(s-b),this._onUpdateLevel(b)):(xi(this._levels[b].el),this._removeTilesAtZoom(b),this._onRemoveLevel(b),delete this._levels[b]);var w=this._levels[s],E=this._map;return w||(w=this._levels[s]={},w.el=zn("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=f,w.origin=E.project(E.unproject(E.getPixelOrigin()),s).round(),w.zoom=s,this._setZoomTransform(w,E.getCenter(),E.getZoom()),h(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var s,f,b=this._map.getZoom();if(b>this.options.maxZoom||b<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)f=this._tiles[s],f.retain=f.current;for(s in this._tiles)if(f=this._tiles[s],f.current&&!f.active){var w=f.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var f in this._tiles)this._tiles[f].coords.z===s&&this._removeTile(f)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)xi(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,f,b,w){var E=Math.floor(s/2),W=Math.floor(f/2),ae=b-1,_e=new te(+E,+W);_e.z=+ae;var we=this._tileCoordsToKey(_e),je=this._tiles[we];return je&&je.active?(je.retain=!0,!0):(je&&je.loaded&&(je.retain=!0),ae>w?this._retainParent(E,W,ae,w):!1)},_retainChildren:function(s,f,b,w){for(var E=2*s;E<2*s+2;E++)for(var W=2*f;W<2*f+2;W++){var ae=new te(E,W);ae.z=b+1;var _e=this._tileCoordsToKey(ae),we=this._tiles[_e];if(we&&we.active){we.retain=!0;continue}else we&&we.loaded&&(we.retain=!0);b+1<w&&this._retainChildren(E,W,b+1,w)}},_resetView:function(s){var f=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var f=this.options;return f.minNativeZoom!==void 0&&s<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<s?f.maxNativeZoom:s},_setView:function(s,f,b,w){var E=Math.round(f);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var W=this.options.updateWhenZooming&&E!==this._tileZoom;(!w||W)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(s),b||this._pruneTiles(),this._noPrune=!!b),this._setZoomTransforms(s,f)},_setZoomTransforms:function(s,f){for(var b in this._levels)this._setZoomTransform(this._levels[b],s,f)},_setZoomTransform:function(s,f,b){var w=this._map.getZoomScale(b,s.zoom),E=s.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(f,b)).round();ut.any3d?Os(s.el,E,w):bi(s.el,E)},_resetGrid:function(){var s=this._map,f=s.options.crs,b=this._tileSize=this.getTileSize(),w=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,f.wrapLng[0]],w).x/b.x),Math.ceil(s.project([0,f.wrapLng[1]],w).x/b.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([f.wrapLat[0],0],w).y/b.x),Math.ceil(s.project([f.wrapLat[1],0],w).y/b.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var f=this._map,b=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),w=f.getZoomScale(b,this._tileZoom),E=f.project(s,this._tileZoom).floor(),W=f.getSize().divideBy(w*2);return new Z(E.subtract(W),E.add(W))},_update:function(s){var f=this._map;if(f){var b=this._clampZoom(f.getZoom());if(s===void 0&&(s=f.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(s),E=this._pxBoundsToTileRange(w),W=E.getCenter(),ae=[],_e=this.options.keepBuffer,we=new Z(E.getBottomLeft().subtract([_e,-_e]),E.getTopRight().add([_e,-_e]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var je in this._tiles){var it=this._tiles[je].coords;(it.z!==this._tileZoom||!we.contains(new te(it.x,it.y)))&&(this._tiles[je].current=!1)}if(Math.abs(b-this._tileZoom)>1){this._setView(s,b);return}for(var Et=E.min.y;Et<=E.max.y;Et++)for(var un=E.min.x;un<=E.max.x;un++){var Br=new te(un,Et);if(Br.z=this._tileZoom,!!this._isValidTile(Br)){var ir=this._tiles[this._tileCoordsToKey(Br)];ir?ir.current=!0:ae.push(Br)}}if(ae.sort(function(Zr,Ec){return Zr.distanceTo(W)-Ec.distanceTo(W)}),ae.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ao=document.createDocumentFragment();for(un=0;un<ae.length;un++)this._addTile(ae[un],Ao);this._level.el.appendChild(Ao)}}}},_isValidTile:function(s){var f=this._map.options.crs;if(!f.infinite){var b=this._globalTileRange;if(!f.wrapLng&&(s.x<b.min.x||s.x>b.max.x)||!f.wrapLat&&(s.y<b.min.y||s.y>b.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(s);return Qe(this.options.bounds).overlaps(w)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var f=this._map,b=this.getTileSize(),w=s.scaleBy(b),E=w.add(b),W=f.unproject(w,s.z),ae=f.unproject(E,s.z);return[W,ae]},_tileCoordsToBounds:function(s){var f=this._tileCoordsToNwSe(s),b=new Be(f[0],f[1]);return this.options.noWrap||(b=this._map.wrapLatLngBounds(b)),b},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var f=s.split(":"),b=new te(+f[0],+f[1]);return b.z=+f[2],b},_removeTile:function(s){var f=this._tiles[s];f&&(xi(f.el),delete this._tiles[s],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){rn(s,"leaflet-tile");var f=this.getTileSize();s.style.width=f.x+"px",s.style.height=f.y+"px",s.onselectstart=h,s.onmousemove=h,ut.ielt9&&this.options.opacity<1&&Eo(s,this.options.opacity)},_addTile:function(s,f){var b=this._getTilePos(s),w=this._tileCoordsToKey(s),E=this.createTile(this._wrapCoords(s),r(this._tileReady,this,s));this._initTile(E),this.createTile.length<2&&J(r(this._tileReady,this,s,null,E)),bi(E,b),this._tiles[w]={el:E,coords:s,current:!0},f.appendChild(E),this.fire("tileloadstart",{tile:E,coords:s})},_tileReady:function(s,f,b){f&&this.fire("tileerror",{error:f,tile:b,coords:s});var w=this._tileCoordsToKey(s);b=this._tiles[w],b&&(b.loaded=+new Date,this._map._fadeAnimated?(Eo(b.el,0),pe(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this)):(b.active=!0,this._pruneTiles()),f||(rn(b.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:b.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ut.ielt9||!this._map._fadeAnimated?J(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var f=new te(this._wrapX?u(s.x,this._wrapX):s.x,this._wrapY?u(s.y,this._wrapY):s.y);return f.z=s.z,f},_pxBoundsToTileRange:function(s){var f=this.getTileSize();return new Z(s.min.unscaleBy(f).floor(),s.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function lv(s){return new a2(s)}var Dc=a2.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,f){this._url=s,f=S(this,f),f.detectRetina&&ut.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,f){return this._url===s&&f===void 0&&(f=!0),this._url=s,f||this.redraw(),this},createTile:function(s,f){var b=document.createElement("img");return Jt(b,"load",r(this._tileOnLoad,this,f,b)),Jt(b,"error",r(this._tileOnError,this,f,b)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(b.referrerPolicy=this.options.referrerPolicy),b.alt="",b.src=this.getTileUrl(s),b},getTileUrl:function(s){var f={r:ut.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var b=this._globalTileRange.max.y-s.y;this.options.tms&&(f.y=b),f["-y"]=b}return R(this._url,t(f,this.options))},_tileOnLoad:function(s,f){ut.ielt9?setTimeout(r(s,this,null,f),0):s(null,f)},_tileOnError:function(s,f,b){var w=this.options.errorTileUrl;w&&f.getAttribute("src")!==w&&(f.src=w),s(b,f)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,f=this.options.maxZoom,b=this.options.zoomReverse,w=this.options.zoomOffset;return b&&(s=f-s),s+w},_getSubdomain:function(s){var f=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var s,f;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(f=this._tiles[s].el,f.onload=h,f.onerror=h,!f.complete)){f.src=N;var b=this._tiles[s].coords;xi(f),delete this._tiles[s],this.fire("tileabort",{tile:f,coords:b})}},_removeTile:function(s){var f=this._tiles[s];if(f)return f.el.setAttribute("src",N),a2.prototype._removeTile.call(this,s)},_tileReady:function(s,f,b){if(!(!this._map||b&&b.getAttribute("src")===N))return a2.prototype._tileReady.call(this,s,f,b)}});function wf(s,f){return new Dc(s,f)}var Sf=Dc.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,f){this._url=s;var b=t({},this.defaultWmsParams);for(var w in f)w in this.options||(b[w]=f[w]);f=S(this,f);var E=f.detectRetina&&ut.retina?2:1,W=this.getTileSize();b.width=W.x*E,b.height=W.y*E,this.wmsParams=b},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,Dc.prototype.onAdd.call(this,s)},getTileUrl:function(s){var f=this._tileCoordsToNwSe(s),b=this._crs,w=ke(b.project(f[0]),b.project(f[1])),E=w.min,W=w.max,ae=(this._wmsVersion>=1.3&&this._crs===mf?[E.y,E.x,W.y,W.x]:[E.x,E.y,W.x,W.y]).join(","),_e=Dc.prototype.getTileUrl.call(this,s);return _e+M(this.wmsParams,_e,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ae},setParams:function(s,f){return t(this.wmsParams,s),f||this.redraw(),this}});function cv(s,f){return new Sf(s,f)}Dc.WMS=Sf,wf.wms=cv;var Za=Lo.extend({options:{padding:.1},initialize:function(s){S(this,s),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),rn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,f){var b=this._map.getZoomScale(f,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,f),W=w.multiplyBy(-b).add(E).subtract(this._map._getNewPixelOrigin(s,f));ut.any3d?Os(this._container,W,b):bi(this._container,W)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,f=this._map.getSize(),b=this._map.containerPointToLayerPoint(f.multiplyBy(-s)).round();this._bounds=new Z(b,b.add(f.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Pf=Za.extend({options:{tolerance:0},getEvents:function(){var s=Za.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Za.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Jt(s,"mousemove",this._onMouseMove,this),Jt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Jt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){pe(this._redrawRequest),delete this._ctx,xi(this._container),ti(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var f in this._layers)s=this._layers[f],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Za.prototype._update.call(this);var s=this._bounds,f=this._container,b=s.getSize(),w=ut.retina?2:1;bi(f,s.min),f.width=w*b.x,f.height=w*b.y,f.style.width=b.x+"px",f.style.height=b.y+"px",ut.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Za.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[a(s)]=s;var f=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var f=s._order,b=f.next,w=f.prev;b?b.prev=w:this._drawLast=w,w?w.next=b:this._drawFirst=b,delete s._order,delete this._layers[a(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var f=s.options.dashArray.split(/[, ]+/),b=[],w,E;for(E=0;E<f.length;E++){if(w=Number(f[E]),isNaN(w))return;b.push(w)}s.options._dashArray=b}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||J(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var f=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Z,this._redrawBounds.extend(s._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(s._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var f=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,f=this._redrawBounds;if(this._ctx.save(),f){var b=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,b.x,b.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)s=w.layer,(!f||s._pxBounds&&s._pxBounds.intersects(f))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,f){if(this._drawing){var b,w,E,W,ae=s._parts,_e=ae.length,we=this._ctx;if(_e){for(we.beginPath(),b=0;b<_e;b++){for(w=0,E=ae[b].length;w<E;w++)W=ae[b][w],we[w?"lineTo":"moveTo"](W.x,W.y);f&&we.closePath()}this._fillStroke(we,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var f=s._point,b=this._ctx,w=Math.max(Math.round(s._radius),1),E=(Math.max(Math.round(s._radiusY),1)||w)/w;E!==1&&(b.save(),b.scale(1,E)),b.beginPath(),b.arc(f.x,f.y/E,w,0,Math.PI*2,!1),E!==1&&b.restore(),this._fillStroke(b,s)}},_fillStroke:function(s,f){var b=f.options;b.fill&&(s.globalAlpha=b.fillOpacity,s.fillStyle=b.fillColor||b.color,s.fill(b.fillRule||"evenodd")),b.stroke&&b.weight!==0&&(s.setLineDash&&s.setLineDash(f.options&&f.options._dashArray||[]),s.globalAlpha=b.opacity,s.lineWidth=b.weight,s.strokeStyle=b.color,s.lineCap=b.lineCap,s.lineJoin=b.lineJoin,s.stroke())},_onClick:function(s){for(var f=this._map.mouseEventToLayerPoint(s),b,w,E=this._drawFirst;E;E=E.next)b=E.layer,b.options.interactive&&b._containsPoint(f)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(b))&&(w=b);this._fireEvent(w?[w]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,f)}},_handleMouseOut:function(s){var f=this._hoveredLayer;f&&(zi(this._container,"leaflet-interactive"),this._fireEvent([f],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,f){if(!this._mouseHoverThrottled){for(var b,w,E=this._drawFirst;E;E=E.next)b=E.layer,b.options.interactive&&b._containsPoint(f)&&(w=b);w!==this._hoveredLayer&&(this._handleMouseOut(s),w&&(rn(this._container,"leaflet-interactive"),this._fireEvent([w],s,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(r(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,f,b){this._map._fireDOMEvent(f,b||f.type,s)},_bringToFront:function(s){var f=s._order;if(f){var b=f.next,w=f.prev;if(b)b.prev=w;else return;w?w.next=b:b&&(this._drawFirst=b),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(s)}},_bringToBack:function(s){var f=s._order;if(f){var b=f.next,w=f.prev;if(w)w.next=b;else return;b?b.prev=w:w&&(this._drawLast=w),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(s)}}});function kf(s){return ut.canvas?new Pf(s):null}var s2=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),dv={_initContainer:function(){this._container=zn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Za.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var f=s._container=s2("shape");rn(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",s._path=s2("path"),f.appendChild(s._path),this._updateStyle(s),this._layers[a(s)]=s},_addPath:function(s){var f=s._container;this._container.appendChild(f),s.options.interactive&&s.addInteractiveTarget(f)},_removePath:function(s){var f=s._container;xi(f),s.removeInteractiveTarget(f),delete this._layers[a(s)]},_updateStyle:function(s){var f=s._stroke,b=s._fill,w=s.options,E=s._container;E.stroked=!!w.stroke,E.filled=!!w.fill,w.stroke?(f||(f=s._stroke=s2("stroke")),E.appendChild(f),f.weight=w.weight+"px",f.color=w.color,f.opacity=w.opacity,w.dashArray?f.dashStyle=B(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=w.lineCap.replace("butt","flat"),f.joinstyle=w.lineJoin):f&&(E.removeChild(f),s._stroke=null),w.fill?(b||(b=s._fill=s2("fill")),E.appendChild(b),b.color=w.fillColor||w.color,b.opacity=w.fillOpacity):b&&(E.removeChild(b),s._fill=null)},_updateCircle:function(s){var f=s._point.round(),b=Math.round(s._radius),w=Math.round(s._radiusY||b);this._setPath(s,s._empty()?"M0 0":"AL "+f.x+","+f.y+" "+b+","+w+" 0,"+65535*360)},_setPath:function(s,f){s._path.v=f},_bringToFront:function(s){yc(s._container)},_bringToBack:function(s){Ml(s._container)}},A0=ut.vml?s2:pt,l2=Za.extend({_initContainer:function(){this._container=A0("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=A0("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){xi(this._container),ti(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Za.prototype._update.call(this);var s=this._bounds,f=s.getSize(),b=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,b.setAttribute("width",f.x),b.setAttribute("height",f.y)),bi(b,s.min),b.setAttribute("viewBox",[s.min.x,s.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(s){var f=s._path=A0("path");s.options.className&&rn(f,s.options.className),s.options.interactive&&rn(f,"leaflet-interactive"),this._updateStyle(s),this._layers[a(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){xi(s._path),s.removeInteractiveTarget(s._path),delete this._layers[a(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var f=s._path,b=s.options;f&&(b.stroke?(f.setAttribute("stroke",b.color),f.setAttribute("stroke-opacity",b.opacity),f.setAttribute("stroke-width",b.weight),f.setAttribute("stroke-linecap",b.lineCap),f.setAttribute("stroke-linejoin",b.lineJoin),b.dashArray?f.setAttribute("stroke-dasharray",b.dashArray):f.removeAttribute("stroke-dasharray"),b.dashOffset?f.setAttribute("stroke-dashoffset",b.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),b.fill?(f.setAttribute("fill",b.fillColor||b.color),f.setAttribute("fill-opacity",b.fillOpacity),f.setAttribute("fill-rule",b.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(s,f){this._setPath(s,tt(s._parts,f))},_updateCircle:function(s){var f=s._point,b=Math.max(Math.round(s._radius),1),w=Math.max(Math.round(s._radiusY),1)||b,E="a"+b+","+w+" 0 1,0 ",W=s._empty()?"M0 0":"M"+(f.x-b)+","+f.y+E+b*2+",0 "+E+-b*2+",0 ";this._setPath(s,W)},_setPath:function(s,f){s._path.setAttribute("d",f)},_bringToFront:function(s){yc(s._path)},_bringToBack:function(s){Ml(s._path)}});ut.vml&&l2.include(dv);function Of(s){return ut.svg||ut.vml?new l2(s):null}On.include({getRenderer:function(s){var f=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var f=this._paneRenderers[s];return f===void 0&&(f=this._createRenderer({pane:s}),this._paneRenderers[s]=f),f},_createRenderer:function(s){return this.options.preferCanvas&&kf(s)||Of(s)}});var c2=El.extend({initialize:function(s,f){El.prototype.initialize.call(this,this._boundsToLatLngs(s),f)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Qe(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function uv(s,f){return new c2(s,f)}l2.create=A0,l2.pointsToPath=tt,ea.geometryToLayer=kc,ea.coordsToLatLng=f3,ea.coordsToLatLngs=E0,ea.latLngToCoords=m3,ea.latLngsToCoords=I0,ea.getFeature=Oc,ea.asFeature=T0,On.mergeOptions({boxZoom:!0});var Df=Io.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Jt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ti(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){xi(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Z1(),Q4(),this._startPoint=this._map.mouseEventToContainerPoint(s),Jt(document,{contextmenu:Pl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=zn("div","leaflet-zoom-box",this._container),rn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var f=new Z(this._point,this._startPoint),b=f.getSize();bi(this._box,f.min),this._box.style.width=b.x+"px",this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(xi(this._box),zi(this._container,"leaflet-crosshair")),X1(),J4(),ti(document,{contextmenu:Pl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var f=new Be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});On.addInitHook("addHandler","boxZoom",Df),On.mergeOptions({doubleClickZoom:!0});var Ef=Io.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var f=this._map,b=f.getZoom(),w=f.options.zoomDelta,E=s.originalEvent.shiftKey?b-w:b+w;f.options.doubleClickZoom==="center"?f.setZoom(E):f.setZoomAround(s.containerPoint,E)}});On.addInitHook("addHandler","doubleClickZoom",Ef),On.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var If=Io.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Es(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}rn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){zi(this._map._container,"leaflet-grab"),zi(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=Qe(this._map.options.maxBounds);this._offsetLimit=ke(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var f=this._lastTime=+new Date,b=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(b),this._times.push(f),this._prunePositions(f)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,f){return s-(s-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;s.x<f.min.x&&(s.x=this._viscousLimit(s.x,f.min.x)),s.y<f.min.y&&(s.y=this._viscousLimit(s.y,f.min.y)),s.x>f.max.x&&(s.x=this._viscousLimit(s.x,f.max.x)),s.y>f.max.y&&(s.y=this._viscousLimit(s.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,f=Math.round(s/2),b=this._initialWorldOffset,w=this._draggable._newPos.x,E=(w-f+b)%s+f-b,W=(w+f+b)%s-f-b,ae=Math.abs(E+b)<Math.abs(W+b)?E:W;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ae},_onDragEnd:function(s){var f=this._map,b=f.options,w=!b.inertia||s.noInertia||this._times.length<2;if(f.fire("dragend",s),w)f.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),W=(this._lastTime-this._times[0])/1e3,ae=b.easeLinearity,_e=E.multiplyBy(ae/W),we=_e.distanceTo([0,0]),je=Math.min(b.inertiaMaxSpeed,we),it=_e.multiplyBy(je/we),Et=je/(b.inertiaDeceleration*ae),un=it.multiplyBy(-Et/2).round();!un.x&&!un.y?f.fire("moveend"):(un=f._limitOffset(un,f.options.maxBounds),J(function(){f.panBy(un,{duration:Et,easeLinearity:ae,noMoveStart:!0,animate:!0})}))}}});On.addInitHook("addHandler","dragging",If),On.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Tf=Io.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Jt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ti(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,f=document.documentElement,b=s.scrollTop||f.scrollTop,w=s.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(w,b)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var f=this._panKeys={},b=this.keyCodes,w,E;for(w=0,E=b.left.length;w<E;w++)f[b.left[w]]=[-1*s,0];for(w=0,E=b.right.length;w<E;w++)f[b.right[w]]=[s,0];for(w=0,E=b.down.length;w<E;w++)f[b.down[w]]=[0,s];for(w=0,E=b.up.length;w<E;w++)f[b.up[w]]=[0,-1*s]},_setZoomDelta:function(s){var f=this._zoomKeys={},b=this.keyCodes,w,E;for(w=0,E=b.zoomIn.length;w<E;w++)f[b.zoomIn[w]]=s;for(w=0,E=b.zoomOut.length;w<E;w++)f[b.zoomOut[w]]=-s},_addHooks:function(){Jt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ti(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var f=s.keyCode,b=this._map,w;if(f in this._panKeys){if(!b._panAnim||!b._panAnim._inProgress)if(w=this._panKeys[f],s.shiftKey&&(w=H(w).multiplyBy(3)),b.options.maxBounds&&(w=b._limitOffset(H(w),b.options.maxBounds)),b.options.worldCopyJump){var E=b.wrapLatLng(b.unproject(b.project(b.getCenter()).add(w)));b.panTo(E)}else b.panBy(w)}else if(f in this._zoomKeys)b.setZoom(b.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&b._popup&&b._popup.options.closeOnEscapeKey)b.closePopup();else return;Pl(s)}}});On.addInitHook("addHandler","keyboard",Tf),On.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Lf=Io.extend({addHooks:function(){Jt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ti(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var f=af(s),b=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var w=Math.max(b-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),w),Pl(s)},_performZoom:function(){var s=this._map,f=s.getZoom(),b=this._map.options.zoomSnap||0;s._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,W=b?Math.ceil(E/b)*b:E,ae=s._limitZoom(f+(this._delta>0?W:-W))-f;this._delta=0,this._startTime=null,ae&&(s.options.scrollWheelZoom==="center"?s.setZoom(f+ae):s.setZoomAround(this._lastMousePos,f+ae))}});On.addInitHook("addHandler","scrollWheelZoom",Lf);var pv=600;On.mergeOptions({tapHold:ut.touchNative&&ut.safari&&ut.mobile,tapTolerance:15});var zf=Io.extend({addHooks:function(){Jt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ti(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var f=s.touches[0];this._startPos=this._newPos=new te(f.clientX,f.clientY),this._holdTimeout=setTimeout(r(function(){this._cancel(),this._isTapValid()&&(Jt(document,"touchend",fr),Jt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),pv),Jt(document,"touchend touchcancel contextmenu",this._cancel,this),Jt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){ti(document,"touchend",fr),ti(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),ti(document,"touchend touchcancel contextmenu",this._cancel,this),ti(document,"touchmove",this._onMove,this)},_onMove:function(s){var f=s.touches[0];this._newPos=new te(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,f){var b=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});b._simulated=!0,f.target.dispatchEvent(b)}});On.addInitHook("addHandler","tapHold",zf),On.mergeOptions({touchZoom:ut.touch,bounceAtZoomLimits:!0});var g3=Io.extend({addHooks:function(){rn(this._map._container,"leaflet-touch-zoom"),Jt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){zi(this._map._container,"leaflet-touch-zoom"),ti(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var f=this._map;if(!(!s.touches||s.touches.length!==2||f._animatingZoom||this._zooming)){var b=f.mouseEventToContainerPoint(s.touches[0]),w=f.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(b.add(w)._divideBy(2))),this._startDist=b.distanceTo(w),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),Jt(document,"touchmove",this._onTouchMove,this),Jt(document,"touchend touchcancel",this._onTouchEnd,this),fr(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var f=this._map,b=f.mouseEventToContainerPoint(s.touches[0]),w=f.mouseEventToContainerPoint(s.touches[1]),E=b.distanceTo(w)/this._startDist;if(this._zoom=f.getScaleZoom(E,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&E<1||this._zoom>f.getMaxZoom()&&E>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var W=b._add(w)._divideBy(2)._subtract(this._centerPoint);if(E===1&&W.x===0&&W.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(W),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),pe(this._animRequest);var ae=r(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=J(ae,this,!0),fr(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,pe(this._animRequest),ti(document,"touchmove",this._onTouchMove,this),ti(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});On.addInitHook("addHandler","touchZoom",g3),On.BoxZoom=Df,On.DoubleClickZoom=Ef,On.Drag=If,On.Keyboard=Tf,On.ScrollWheelZoom=Lf,On.TapHold=zf,On.TouchZoom=g3,n.Bounds=Z,n.Browser=ut,n.CRS=ze,n.Canvas=Pf,n.Circle=Pc,n.CircleMarker=k0,n.Class=re,n.Control=Qo,n.DivIcon=Cf,n.DivOverlay=ta,n.DomEvent=sf,n.DomUtil=H7,n.Draggable=Es,n.Evented=ve,n.FeatureGroup=Dn,n.GeoJSON=ea,n.GridLayer=a2,n.Handler=Io,n.Icon=Sc,n.ImageOverlay=L0,n.LatLng=Se,n.LatLngBounds=Be,n.Layer=Lo,n.LayerGroup=wc,n.LineUtil=u3,n.Map=On,n.Marker=P0,n.Mixin=Y7,n.Path=Is,n.Point=te,n.PolyUtil=q7,n.Polygon=El,n.Polyline=Jo,n.Popup=z0,n.PosAnimation=lf,n.Projection=Q7,n.Rectangle=c2,n.Renderer=Za,n.SVG=l2,n.SVGOverlay=zo,n.TileLayer=Dc,n.Tooltip=o2,n.Transformation=Ae,n.Util=ge,n.VideoOverlay=yf,n.bind=r,n.bounds=ke,n.canvas=kf,n.circle=O0,n.circleMarker=nv,n.control=xc,n.divIcon=Mf,n.extend=t,n.featureGroup=tv,n.geoJSON=bf,n.geoJson=ov,n.gridLayer=lv,n.icon=gf,n.imageOverlay=_f,n.latLng=gt,n.latLngBounds=Qe,n.layerGroup=hf,n.map=U7,n.marker=r2,n.point=H,n.polygon=rv,n.polyline=iv,n.popup=xf,n.rectangle=uv,n.setOptions=S,n.stamp=a,n.svg=Of,n.svgOverlay=Il,n.tileLayer=wf,n.tooltip=sv,n.transformation=xe,n.version=e,n.videoOverlay=av;var Af=window.L;n.noConflict=function(){return window.L=Af,this},window.L=n})});var Ep=Nl((eM,tM)=>{"use strict";(function(n,e){typeof eM=="object"&&typeof tM<"u"?tM.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self).dayjs=e()})(eM,function(){"use strict";var n=1e3,e=6e4,t=36e5,i="millisecond",r="second",o="minute",a="hour",c="day",u="week",h="month",v="quarter",y="year",P="date",S="Invalid Date",M=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,O=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,R={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(re){var ee=["th","st","nd","rd"],se=re%100;return"["+re+(ee[(se-20)%10]||ee[se]||ee[0])+"]"}},B=function(re,ee,se){var ve=String(re);return!ve||ve.length>=ee?re:""+Array(ee+1-ve.length).join(se)+re},F={s:B,z:function(re){var ee=-re.utcOffset(),se=Math.abs(ee),ve=Math.floor(se/60),te=se%60;return(ee<=0?"+":"-")+B(ve,2,"0")+":"+B(te,2,"0")},m:function re(ee,se){if(ee.date()<se.date())return-re(se,ee);var ve=12*(se.year()-ee.year())+(se.month()-ee.month()),te=ee.clone().add(ve,h),K=se-te<0,H=ee.clone().add(ve+(K?-1:1),h);return+(-(ve+(se-te)/(K?te-H:H-te))||0)},a:function(re){return re<0?Math.ceil(re)||0:Math.floor(re)},p:function(re){return{M:h,y,w:u,d:c,D:P,h:a,m:o,s:r,ms:i,Q:v}[re]||String(re||"").toLowerCase().replace(/s$/,"")},u:function(re){return re===void 0}},N="en",Y={};Y[N]=R;var ne="$isDayjsObject",ue=function(re){return re instanceof pe||!(!re||!re[ne])},fe=function re(ee,se,ve){var te;if(!ee)return N;if(typeof ee=="string"){var K=ee.toLowerCase();Y[K]&&(te=K),se&&(Y[K]=se,te=K);var H=ee.split("-");if(!te&&H.length>1)return re(H[0])}else{var Z=ee.name;Y[Z]=ee,te=Z}return!ve&&te&&(N=te),te||!ve&&N},oe=function(re,ee){if(ue(re))return re.clone();var se=typeof ee=="object"?ee:{};return se.date=re,se.args=arguments,new pe(se)},J=F;J.l=fe,J.i=ue,J.w=function(re,ee){return oe(re,{locale:ee.$L,utc:ee.$u,x:ee.$x,$offset:ee.$offset})};var pe=function(){function re(se){this.$L=fe(se.locale,null,!0),this.parse(se),this.$x=this.$x||se.x||{},this[ne]=!0}var ee=re.prototype;return ee.parse=function(se){this.$d=function(ve){var te=ve.date,K=ve.utc;if(te===null)return new Date(NaN);if(J.u(te))return new Date;if(te instanceof Date)return new Date(te);if(typeof te=="string"&&!/Z$/i.test(te)){var H=te.match(M);if(H){var Z=H[2]-1||0,ke=(H[7]||"0").substring(0,3);return K?new Date(Date.UTC(H[1],Z,H[3]||1,H[4]||0,H[5]||0,H[6]||0,ke)):new Date(H[1],Z,H[3]||1,H[4]||0,H[5]||0,H[6]||0,ke)}}return new Date(te)}(se),this.init()},ee.init=function(){var se=this.$d;this.$y=se.getFullYear(),this.$M=se.getMonth(),this.$D=se.getDate(),this.$W=se.getDay(),this.$H=se.getHours(),this.$m=se.getMinutes(),this.$s=se.getSeconds(),this.$ms=se.getMilliseconds()},ee.$utils=function(){return J},ee.isValid=function(){return this.$d.toString()!==S},ee.isSame=function(se,ve){var te=oe(se);return this.startOf(ve)<=te&&te<=this.endOf(ve)},ee.isAfter=function(se,ve){return oe(se)<this.startOf(ve)},ee.isBefore=function(se,ve){return this.endOf(ve)<oe(se)},ee.$g=function(se,ve,te){return J.u(se)?this[ve]:this.set(te,se)},ee.unix=function(){return Math.floor(this.valueOf()/1e3)},ee.valueOf=function(){return this.$d.getTime()},ee.startOf=function(se,ve){var te=this,K=!!J.u(ve)||ve,H=J.p(se),Z=function(Fe,Oe){var Ae=J.w(te.$u?Date.UTC(te.$y,Oe,Fe):new Date(te.$y,Oe,Fe),te);return K?Ae:Ae.endOf(c)},ke=function(Fe,Oe){return J.w(te.toDate()[Fe].apply(te.toDate("s"),(K?[0,0,0,0]:[23,59,59,999]).slice(Oe)),te)},Be=this.$W,Qe=this.$M,Se=this.$D,gt="set"+(this.$u?"UTC":"");switch(H){case y:return K?Z(1,0):Z(31,11);case h:return K?Z(1,Qe):Z(0,Qe+1);case u:var ze=this.$locale().weekStart||0,Ie=(Be<ze?Be+7:Be)-ze;return Z(K?Se-Ie:Se+(6-Ie),Qe);case c:case P:return ke(gt+"Hours",0);case a:return ke(gt+"Minutes",1);case o:return ke(gt+"Seconds",2);case r:return ke(gt+"Milliseconds",3);default:return this.clone()}},ee.endOf=function(se){return this.startOf(se,!1)},ee.$set=function(se,ve){var te,K=J.p(se),H="set"+(this.$u?"UTC":""),Z=(te={},te[c]=H+"Date",te[P]=H+"Date",te[h]=H+"Month",te[y]=H+"FullYear",te[a]=H+"Hours",te[o]=H+"Minutes",te[r]=H+"Seconds",te[i]=H+"Milliseconds",te)[K],ke=K===c?this.$D+(ve-this.$W):ve;if(K===h||K===y){var Be=this.clone().set(P,1);Be.$d[Z](ke),Be.init(),this.$d=Be.set(P,Math.min(this.$D,Be.daysInMonth())).$d}else Z&&this.$d[Z](ke);return this.init(),this},ee.set=function(se,ve){return this.clone().$set(se,ve)},ee.get=function(se){return this[J.p(se)]()},ee.add=function(se,ve){var te,K=this;se=Number(se);var H=J.p(ve),Z=function(Qe){var Se=oe(K);return J.w(Se.date(Se.date()+Math.round(Qe*se)),K)};if(H===h)return this.set(h,this.$M+se);if(H===y)return this.set(y,this.$y+se);if(H===c)return Z(1);if(H===u)return Z(7);var ke=(te={},te[o]=e,te[a]=t,te[r]=n,te)[H]||1,Be=this.$d.getTime()+se*ke;return J.w(Be,this)},ee.subtract=function(se,ve){return this.add(-1*se,ve)},ee.format=function(se){var ve=this,te=this.$locale();if(!this.isValid())return te.invalidDate||S;var K=se||"YYYY-MM-DDTHH:mm:ssZ",H=J.z(this),Z=this.$H,ke=this.$m,Be=this.$M,Qe=te.weekdays,Se=te.months,gt=te.meridiem,ze=function(Oe,Ae,xe,Ue){return Oe&&(Oe[Ae]||Oe(ve,K))||xe[Ae].slice(0,Ue)},Ie=function(Oe){return J.s(Z%12||12,Oe,"0")},Fe=gt||function(Oe,Ae,xe){var Ue=Oe<12?"AM":"PM";return xe?Ue.toLowerCase():Ue};return K.replace(O,function(Oe,Ae){return Ae||function(xe){switch(xe){case"YY":return String(ve.$y).slice(-2);case"YYYY":return J.s(ve.$y,4,"0");case"M":return Be+1;case"MM":return J.s(Be+1,2,"0");case"MMM":return ze(te.monthsShort,Be,Se,3);case"MMMM":return ze(Se,Be);case"D":return ve.$D;case"DD":return J.s(ve.$D,2,"0");case"d":return String(ve.$W);case"dd":return ze(te.weekdaysMin,ve.$W,Qe,2);case"ddd":return ze(te.weekdaysShort,ve.$W,Qe,3);case"dddd":return Qe[ve.$W];case"H":return String(Z);case"HH":return J.s(Z,2,"0");case"h":return Ie(1);case"hh":return Ie(2);case"a":return Fe(Z,ke,!0);case"A":return Fe(Z,ke,!1);case"m":return String(ke);case"mm":return J.s(ke,2,"0");case"s":return String(ve.$s);case"ss":return J.s(ve.$s,2,"0");case"SSS":return J.s(ve.$ms,3,"0");case"Z":return H}return null}(Oe)||H.replace(":","")})},ee.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ee.diff=function(se,ve,te){var K,H=this,Z=J.p(ve),ke=oe(se),Be=(ke.utcOffset()-this.utcOffset())*e,Qe=this-ke,Se=function(){return J.m(H,ke)};switch(Z){case y:K=Se()/12;break;case h:K=Se();break;case v:K=Se()/3;break;case u:K=(Qe-Be)/6048e5;break;case c:K=(Qe-Be)/864e5;break;case a:K=Qe/t;break;case o:K=Qe/e;break;case r:K=Qe/n;break;default:K=Qe}return te?K:J.a(K)},ee.daysInMonth=function(){return this.endOf(h).$D},ee.$locale=function(){return Y[this.$L]},ee.locale=function(se,ve){if(!se)return this.$L;var te=this.clone(),K=fe(se,ve,!0);return K&&(te.$L=K),te},ee.clone=function(){return J.w(this.$d,this)},ee.toDate=function(){return new Date(this.valueOf())},ee.toJSON=function(){return this.isValid()?this.toISOString():null},ee.toISOString=function(){return this.$d.toISOString()},ee.toString=function(){return this.$d.toUTCString()},re}(),ge=pe.prototype;return oe.prototype=ge,[["$ms",i],["$s",r],["$m",o],["$H",a],["$W",c],["$M",h],["$y",y],["$D",P]].forEach(function(re){ge[re[1]]=function(ee){return this.$g(ee,re[0],re[1])}}),oe.extend=function(re,ee){return re.$i||(re(ee,pe,oe),re.$i=!0),oe},oe.locale=fe,oe.isDayjs=ue,oe.unix=function(re){return oe(1e3*re)},oe.en=Y[N],oe.Ls=Y,oe.p={},oe})});var wz=Nl((nM,iM)=>{"use strict";(function(n,e){typeof nM=="object"&&typeof iM<"u"?iM.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_utc=e()})(nM,function(){"use strict";var n="minute",e=/[+-]\d\d(?::?\d\d)?/g,t=/([+-]|\d\d)/g;return function(i,r,o){var a=r.prototype;o.utc=function(S){var M={date:S,utc:!0,args:arguments};return new r(M)},a.utc=function(S){var M=o(this.toDate(),{locale:this.$L,utc:!0});return S?M.add(this.utcOffset(),n):M},a.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var c=a.parse;a.parse=function(S){S.utc&&(this.$u=!0),this.$utils().u(S.$offset)||(this.$offset=S.$offset),c.call(this,S)};var u=a.init;a.init=function(){if(this.$u){var S=this.$d;this.$y=S.getUTCFullYear(),this.$M=S.getUTCMonth(),this.$D=S.getUTCDate(),this.$W=S.getUTCDay(),this.$H=S.getUTCHours(),this.$m=S.getUTCMinutes(),this.$s=S.getUTCSeconds(),this.$ms=S.getUTCMilliseconds()}else u.call(this)};var h=a.utcOffset;a.utcOffset=function(S,M){var O=this.$utils().u;if(O(S))return this.$u?0:O(this.$offset)?h.call(this):this.$offset;if(typeof S=="string"&&(S=function(N){N===void 0&&(N="");var Y=N.match(e);if(!Y)return null;var ne=(""+Y[0]).match(t)||["-",0,0],ue=ne[0],fe=60*+ne[1]+ +ne[2];return fe===0?0:ue==="+"?fe:-fe}(S),S===null))return this;var R=Math.abs(S)<=16?60*S:S,B=this;if(M)return B.$offset=R,B.$u=S===0,B;if(S!==0){var F=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(B=this.local().add(R+F,n)).$offset=R,B.$x.$localOffset=F}else B=this.utc();return B};var v=a.format;a.format=function(S){var M=S||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return v.call(this,M)},a.valueOf=function(){var S=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*S},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var y=a.toDate;a.toDate=function(S){return S==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():y.call(this)};var P=a.diff;a.diff=function(S,M,O){if(S&&this.$u===S.$u)return P.call(this,S,M,O);var R=this.local(),B=o(S).local();return P.call(R,B,M,O)}}})});var Sz=Nl((rM,oM)=>{"use strict";(function(n,e){typeof rM=="object"&&typeof oM<"u"?oM.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_timezone=e()})(rM,function(){"use strict";var n={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(t,i,r){var o,a=function(v,y,P){P===void 0&&(P={});var S=new Date(v),M=function(O,R){R===void 0&&(R={});var B=R.timeZoneName||"short",F=O+"|"+B,N=e[F];return N||(N=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:O,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:B}),e[F]=N),N}(y,P);return M.formatToParts(S)},c=function(v,y){for(var P=a(v,y),S=[],M=0;M<P.length;M+=1){var O=P[M],R=O.type,B=O.value,F=n[R];F>=0&&(S[F]=parseInt(B,10))}var N=S[3],Y=N===24?0:N,ne=S[0]+"-"+S[1]+"-"+S[2]+" "+Y+":"+S[4]+":"+S[5]+":000",ue=+v;return(r.utc(ne).valueOf()-(ue-=ue%1e3))/6e4},u=i.prototype;u.tz=function(v,y){v===void 0&&(v=o);var P,S=this.utcOffset(),M=this.toDate(),O=M.toLocaleString("en-US",{timeZone:v}),R=Math.round((M-new Date(O))/1e3/60),B=15*-Math.round(M.getTimezoneOffset()/15)-R;if(!Number(B))P=this.utcOffset(0,y);else if(P=r(O,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(B,!0),y){var F=P.utcOffset();P=P.add(S-F,"minute")}return P.$x.$timezone=v,P},u.offsetName=function(v){var y=this.$x.$timezone||r.tz.guess(),P=a(this.valueOf(),y,{timeZoneName:v}).find(function(S){return S.type.toLowerCase()==="timezonename"});return P&&P.value};var h=u.startOf;u.startOf=function(v,y){if(!this.$x||!this.$x.$timezone)return h.call(this,v,y);var P=r(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return h.call(P,v,y).tz(this.$x.$timezone,!0)},r.tz=function(v,y,P){var S=P&&y,M=P||y||o,O=c(+r(),M);if(typeof v!="string")return r(v).tz(M);var R=function(Y,ne,ue){var fe=Y-60*ne*1e3,oe=c(fe,ue);if(ne===oe)return[fe,ne];var J=c(fe-=60*(oe-ne)*1e3,ue);return oe===J?[fe,oe]:[Y-60*Math.min(oe,J)*1e3,Math.max(oe,J)]}(r.utc(v,S).valueOf(),O,M),B=R[0],F=R[1],N=r(B).utcOffset(F);return N.$x.$timezone=M,N},r.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},r.tz.setDefault=function(v){o=v}}})});var Ez=Nl((aM,sM)=>{"use strict";(function(n,e){typeof aM=="object"&&typeof sM<"u"?sM.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_localeData=e()})(aM,function(){"use strict";return function(n,e,t){var i=e.prototype,r=function(h){return h&&(h.indexOf?h:h.s)},o=function(h,v,y,P,S){var M=h.name?h:h.$locale(),O=r(M[v]),R=r(M[y]),B=O||R.map(function(N){return N.slice(0,P)});if(!S)return B;var F=M.weekStart;return B.map(function(N,Y){return B[(Y+(F||0))%7]})},a=function(){return t.Ls[t.locale()]},c=function(h,v){return h.formats[v]||function(y){return y.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(P,S,M){return S||M.slice(1)})}(h.formats[v.toUpperCase()])},u=function(){var h=this;return{months:function(v){return v?v.format("MMMM"):o(h,"months")},monthsShort:function(v){return v?v.format("MMM"):o(h,"monthsShort","months",3)},firstDayOfWeek:function(){return h.$locale().weekStart||0},weekdays:function(v){return v?v.format("dddd"):o(h,"weekdays")},weekdaysMin:function(v){return v?v.format("dd"):o(h,"weekdaysMin","weekdays",2)},weekdaysShort:function(v){return v?v.format("ddd"):o(h,"weekdaysShort","weekdays",3)},longDateFormat:function(v){return c(h.$locale(),v)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return u.bind(this)()},t.localeData=function(){var h=a();return{firstDayOfWeek:function(){return h.weekStart||0},weekdays:function(){return t.weekdays()},weekdaysShort:function(){return t.weekdaysShort()},weekdaysMin:function(){return t.weekdaysMin()},months:function(){return t.months()},monthsShort:function(){return t.monthsShort()},longDateFormat:function(v){return c(h,v)},meridiem:h.meridiem,ordinal:h.ordinal}},t.months=function(){return o(a(),"months")},t.monthsShort=function(){return o(a(),"monthsShort","months",3)},t.weekdays=function(h){return o(a(),"weekdays",null,null,h)},t.weekdaysShort=function(h){return o(a(),"weekdaysShort","weekdays",3,h)},t.weekdaysMin=function(h){return o(a(),"weekdaysMin","weekdays",2,h)}}})});var Iz=Nl((lM,cM)=>{"use strict";(function(n,e){typeof lM=="object"&&typeof cM<"u"?cM.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_en=e()})(lM,function(){"use strict";return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var e=["th","st","nd","rd"],t=n%100;return"["+n+(e[(t-20)%10]||e[t]||e[0])+"]"}}})});var Tz=Nl((dM,uM)=>{"use strict";(function(n,e){typeof dM=="object"&&typeof uM<"u"?uM.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_isSameOrAfter=e()})(dM,function(){"use strict";return function(n,e){e.prototype.isSameOrAfter=function(t,i){return this.isSame(t,i)||this.isAfter(t,i)}}})});var Lz=Nl((pM,fM)=>{"use strict";(function(n,e){typeof pM=="object"&&typeof fM<"u"?fM.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_isSameOrBefore=e()})(pM,function(){"use strict";return function(n,e){e.prototype.isSameOrBefore=function(t,i){return this.isSame(t,i)||this.isBefore(t,i)}}})});var Pv;function jf(){return Pv}function Ts(n){let e=Pv;return Pv=n,e}var Dw=Symbol("NotFound");function B0(n){return n===Dw||n?.name==="\u0275NotFound"}function Gf(n,e){return Object.is(n,e)}var hr=null,Hf=!1,kv=1,gF=null,jr=Symbol("SIGNAL");function Ft(n){let e=hr;return hr=n,e}function Yf(){return hr}var zc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function u2(n){if(Hf)throw new Error("");if(hr===null)return;hr.consumerOnSignalRead(n);let e=hr.nextProducerIndex++;if(Xf(hr),e<hr.producerNode.length&&hr.producerNode[e]!==n&&_3(hr)){let t=hr.producerNode[e];Zf(t,hr.producerIndexOfThis[e])}hr.producerNode[e]!==n&&(hr.producerNode[e]=n,hr.producerIndexOfThis[e]=_3(hr)?Iw(n,hr,e):0),hr.producerLastReadVersion[e]=n.version}function Ew(){kv++}function qf(n){if(!(_3(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===kv)){if(!n.producerMustRecompute(n)&&!j0(n)){Wf(n);return}n.producerRecomputeValue(n),Wf(n)}}function Ov(n){if(n.liveConsumerNode===void 0)return;let e=Hf;Hf=!0;try{for(let t of n.liveConsumerNode)t.dirty||vF(t)}finally{Hf=e}}function Dv(){return hr?.consumerAllowSignalWrites!==!1}function vF(n){n.dirty=!0,Ov(n),n.consumerMarkedDirty?.(n)}function Wf(n){n.dirty=!1,n.lastCleanEpoch=kv}function Ac(n){return n&&(n.nextProducerIndex=0),Ft(n)}function p2(n,e){if(Ft(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(_3(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Zf(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function j0(n){Xf(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(qf(t),i!==t.version))return!0}return!1}function H0(n){if(Xf(n),_3(n))for(let e=0;e<n.producerNode.length;e++)Zf(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Iw(n,e,t){if(Tw(n),n.liveConsumerNode.length===0&&Lw(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=Iw(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Zf(n,e){if(Tw(n),n.liveConsumerNode.length===1&&Lw(n))for(let i=0;i<n.producerNode.length;i++)Zf(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Xf(r),r.producerIndexOfThis[i]=e}}function _3(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Xf(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Tw(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Lw(n){return n.producerNode!==void 0}function Kf(n){gF?.(n)}function Qf(n,e){let t=Object.create(bF);t.computation=n,e!==void 0&&(t.equal=e);let i=()=>{if(qf(t),u2(t),t.value===b3)throw t.error;return t.value};return i[jr]=t,Kf(t),i}var Uf=Symbol("UNSET"),$f=Symbol("COMPUTING"),b3=Symbol("ERRORED"),bF=Ve(ie({},zc),{value:Uf,dirty:!0,error:null,equal:Gf,kind:"computed",producerMustRecompute(n){return n.value===Uf||n.value===$f},producerRecomputeValue(n){if(n.value===$f)throw new Error("");let e=n.value;n.value=$f;let t=Ac(n),i,r=!1;try{i=n.computation(),Ft(null),r=e!==Uf&&e!==b3&&i!==b3&&n.equal(e,i)}catch(o){i=b3,n.error=o}finally{p2(n,t)}if(r){n.value=e;return}n.value=i,n.version++}});function _F(){throw new Error}var zw=_F;function Aw(n){zw(n)}function Ev(n){zw=n}var yF=null;function Iv(n,e){let t=Object.create(Jf);t.value=n,e!==void 0&&(t.equal=e);let i=()=>Nw(t);return i[jr]=t,Kf(t),[i,a=>f2(t,a),a=>Tv(t,a)]}function Nw(n){return u2(n),n.value}function f2(n,e){Dv()||Aw(n),n.equal(n.value,e)||(n.value=e,xF(n))}function Tv(n,e){Dv()||Aw(n),f2(n,e(n.value))}var Jf=Ve(ie({},zc),{equal:Gf,value:void 0,kind:"signal"});function xF(n){n.version++,Ew(),Ov(n),yF?.(n)}function tn(n){return typeof n=="function"}function Nc(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var em=Nc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function m2(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var jn=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(tn(i))try{i()}catch(o){e=o instanceof em?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Rw(o)}catch(a){e=e??[],a instanceof em?e=[...e,...a.errors]:e.push(a)}}if(e)throw new em(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Rw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&m2(t,e)}remove(e){let{_finalizers:t}=this;t&&m2(t,e),e instanceof n&&e._removeParent(this)}};jn.EMPTY=(()=>{let n=new jn;return n.closed=!0,n})();var Lv=jn.EMPTY;function tm(n){return n instanceof jn||n&&"closed"in n&&tn(n.remove)&&tn(n.add)&&tn(n.unsubscribe)}function Rw(n){tn(n)?n():n.unsubscribe()}var Xa={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var U0={setTimeout(n,e,...t){let{delegate:i}=U0;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=U0;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function nm(n){U0.setTimeout(()=>{let{onUnhandledError:e}=Xa;if(e)e(n);else throw n})}function y3(){}var Fw=zv("C",void 0,void 0);function Vw(n){return zv("E",void 0,n)}function Bw(n){return zv("N",n,void 0)}function zv(n,e,t){return{kind:n,value:e,error:t}}var h2=null;function $0(n){if(Xa.useDeprecatedSynchronousErrorHandling){let e=!h2;if(e&&(h2={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=h2;if(h2=null,t)throw i}}else n()}function jw(n){Xa.useDeprecatedSynchronousErrorHandling&&h2&&(h2.errorThrown=!0,h2.error=n)}var g2=class extends jn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,tm(e)&&e.add(this)):this.destination=wF}static create(e,t,i){return new Rl(e,t,i)}next(e){this.isStopped?Nv(Bw(e),this):this._next(e)}error(e){this.isStopped?Nv(Vw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Nv(Fw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},CF=Function.prototype.bind;function Av(n,e){return CF.call(n,e)}var Rv=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){im(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){im(i)}else im(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){im(t)}}},Rl=class extends g2{constructor(e,t,i){super();let r;if(tn(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Xa.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Av(e.next,o),error:e.error&&Av(e.error,o),complete:e.complete&&Av(e.complete,o)}):r=e}this.destination=new Rv(r)}};function im(n){Xa.useDeprecatedSynchronousErrorHandling?jw(n):nm(n)}function MF(n){throw n}function Nv(n,e){let{onStoppedNotification:t}=Xa;t&&U0.setTimeout(()=>t(n,e))}var wF={closed:!0,next:y3,error:MF,complete:y3};var W0=typeof Symbol=="function"&&Symbol.observable||"@@observable";function co(n){return n}function Fv(...n){return Vv(n)}function Vv(n){return n.length===0?co:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var It=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=PF(t)?t:new Rl(t,i,r);return $0(()=>{let{operator:a,source:c}=this;o.add(a?a.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=Hw(i),new i((r,o)=>{let a=new Rl({next:c=>{try{t(c)}catch(u){o(u),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[W0](){return this}pipe(...t){return Vv(t)(this)}toPromise(t){return t=Hw(t),new t((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return n.create=e=>new n(e),n})();function Hw(n){var e;return(e=n??Xa.Promise)!==null&&e!==void 0?e:Promise}function SF(n){return n&&tn(n.next)&&tn(n.error)&&tn(n.complete)}function PF(n){return n&&n instanceof g2||SF(n)&&tm(n)}function Bv(n){return tn(n?.lift)}function Wt(n){return e=>{if(Bv(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ht(n,e,t,i,r){return new jv(n,e,t,i,r)}var jv=class extends g2{constructor(e,t,i,r,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=r?function(c){try{r(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function G0(){return Wt((n,e)=>{let t=null;n._refCount++;let i=Ht(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var Rc=class extends It{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Bv(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new jn;let t=this.getSubject();e.add(this.source.subscribe(Ht(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=jn.EMPTY)}return e}refCount(){return G0()(this)}};var Y0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame,{delegate:i}=Y0;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);let r=e(o=>{t=void 0,n(o)});return new jn(()=>t?.(r))},requestAnimationFrame(...n){let{delegate:e}=Y0;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:e}=Y0;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var Uw=Nc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Re=(()=>{class n extends It{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new rm(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Uw}next(t){$0(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){$0(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){$0(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Lv:(this.currentObservers=null,o.push(t),new jn(()=>{this.currentObservers=null,m2(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new It;return t.source=this,t}}return n.create=(e,t)=>new rm(e,t),n})(),rm=class extends Re{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:Lv}};var Sn=class extends Re{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var x3={now(){return(x3.delegate||Date).now()},delegate:void 0};var om=class extends Re{constructor(e=1/0,t=1/0,i=x3){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:a}=this;t||(i.push(e),!r&&i.push(o.now()+a)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let a=0;a<o.length&&!e.closed;a+=i?1:2)e.next(o[a]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let a=t.now(),c=0;for(let u=1;u<i.length&&i[u]<=a;u+=2)c=u;c&&i.splice(0,c+1)}}};var am=class extends jn{constructor(e,t){super()}schedule(e,t=0){return this}};var C3={setInterval(n,e,...t){let{delegate:i}=C3;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=C3;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Fc=class extends am{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return C3.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&C3.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,m2(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var kF=1,Hv,Uv={};function $w(n){return n in Uv?(delete Uv[n],!0):!1}var Ww={setImmediate(n){let e=kF++;return Uv[e]=!0,Hv||(Hv=Promise.resolve()),Hv.then(()=>$w(e)&&n()),e},clearImmediate(n){$w(n)}};var{setImmediate:OF,clearImmediate:DF}=Ww,M3={setImmediate(...n){let{delegate:e}=M3;return(e?.setImmediate||OF)(...n)},clearImmediate(n){let{delegate:e}=M3;return(e?.clearImmediate||DF)(n)},delegate:void 0};var sm=class extends Fc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return i!==null&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=M3.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(i!=null?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);let{actions:o}=e;t!=null&&((r=o[o.length-1])===null||r===void 0?void 0:r.id)!==t&&(M3.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}};var q0=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};q0.now=x3.now;var Vc=class extends q0{constructor(e,t=q0.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var lm=class extends Vc{flush(e){this._active=!0;let t=this._scheduled;this._scheduled=void 0;let{actions:i}=this,r;e=e||i.shift();do if(r=e.execute(e.state,e.delay))break;while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}};var $v=new lm(sm);var v2=new Vc(Fc),Gw=v2;var cm=class extends Fc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return i!==null&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Y0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(i!=null?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);let{actions:o}=e;t!=null&&t===e._scheduled&&((r=o[o.length-1])===null||r===void 0?void 0:r.id)!==t&&(Y0.cancelAnimationFrame(t),e._scheduled=void 0)}};var dm=class extends Vc{flush(e){this._active=!0;let t;e?t=e.id:(t=this._scheduled,this._scheduled=void 0);let{actions:i}=this,r;e=e||i.shift();do if(r=e.execute(e.state,e.delay))break;while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}};var Wv=new dm(cm);var No=new It(n=>n.complete());function um(n){return n&&tn(n.schedule)}function Yw(n){return n[n.length-1]}function pm(n){return tn(Yw(n))?n.pop():void 0}function Bc(n){return um(Yw(n))?n.pop():void 0}function Zw(n,e,t,i){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function c(v){try{h(i.next(v))}catch(y){a(y)}}function u(v){try{h(i.throw(v))}catch(y){a(y)}}function h(v){v.done?o(v.value):r(v.value).then(c,u)}h((i=i.apply(n,e||[])).next())})}function qw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function b2(n){return this instanceof b2?(this.v=n,this):new b2(n)}function Xw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(S){return function(M){return Promise.resolve(M).then(S,y)}}function c(S,M){i[S]&&(r[S]=function(O){return new Promise(function(R,B){o.push([S,O,R,B])>1||u(S,O)})},M&&(r[S]=M(r[S])))}function u(S,M){try{h(i[S](M))}catch(O){P(o[0][3],O)}}function h(S){S.value instanceof b2?Promise.resolve(S.value.v).then(v,y):P(o[0][2],S)}function v(S){u("next",S)}function y(S){u("throw",S)}function P(S,M){S(M),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Kw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof qw=="function"?qw(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(a){return new Promise(function(c,u){a=n[o](a),r(c,u,a.done,a.value)})}}function r(o,a,c,u){Promise.resolve(u).then(function(h){o({value:h,done:c})},a)}}var fm=n=>n&&typeof n.length=="number"&&typeof n!="function";function mm(n){return tn(n?.then)}function hm(n){return tn(n[W0])}function gm(n){return Symbol.asyncIterator&&tn(n?.[Symbol.asyncIterator])}function vm(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function EF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bm=EF();function _m(n){return tn(n?.[bm])}function ym(n){return Xw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield b2(t.read());if(r)return yield b2(void 0);yield yield b2(i)}}finally{t.releaseLock()}})}function xm(n){return tn(n?.getReader)}function di(n){if(n instanceof It)return n;if(n!=null){if(hm(n))return IF(n);if(fm(n))return TF(n);if(mm(n))return LF(n);if(gm(n))return Qw(n);if(_m(n))return zF(n);if(xm(n))return AF(n)}throw vm(n)}function IF(n){return new It(e=>{let t=n[W0]();if(tn(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function TF(n){return new It(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function LF(n){return new It(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,nm)})}function zF(n){return new It(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Qw(n){return new It(e=>{NF(n,e).catch(t=>e.error(t))})}function AF(n){return Qw(ym(n))}function NF(n,e){var t,i,r,o;return Zw(this,void 0,void 0,function*(){try{for(t=Kw(n);i=yield t.next(),!i.done;){let a=i.value;if(e.next(a),e.closed)return}}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function Xr(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Cm(n,e=0){return Wt((t,i)=>{t.subscribe(Ht(i,r=>Xr(i,n,()=>i.next(r),e),()=>Xr(i,n,()=>i.complete(),e),r=>Xr(i,n,()=>i.error(r),e)))})}function Mm(n,e=0){return Wt((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Jw(n,e){return di(n).pipe(Mm(e),Cm(e))}function eS(n,e){return di(n).pipe(Mm(e),Cm(e))}function tS(n,e){return new It(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function nS(n,e){return new It(t=>{let i;return Xr(t,e,()=>{i=n[bm](),Xr(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(a){t.error(a);return}o?t.complete():t.next(r)},0,!0)}),()=>tn(i?.return)&&i.return()})}function wm(n,e){if(!n)throw new Error("Iterable cannot be null");return new It(t=>{Xr(t,e,()=>{let i=n[Symbol.asyncIterator]();Xr(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function iS(n,e){return wm(ym(n),e)}function rS(n,e){if(n!=null){if(hm(n))return Jw(n,e);if(fm(n))return tS(n,e);if(mm(n))return eS(n,e);if(gm(n))return wm(n,e);if(_m(n))return nS(n,e);if(xm(n))return iS(n,e)}throw vm(n)}function Ci(n,e){return e?rS(n,e):di(n)}function qe(...n){let e=Bc(n);return Ci(n,e)}function gr(n,e){let t=tn(n)?n:()=>n,i=r=>r.error(t());return new It(e?r=>e.schedule(i,0,r):i)}function na(n){return!!n&&(n instanceof It||tn(n.lift)&&tn(n.subscribe))}var Fl=Nc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Sm(n){return n instanceof Date&&!isNaN(n)}var RF=Nc(n=>function(t=null){n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t});function Gv(n,e){let{first:t,each:i,with:r=FF,scheduler:o=e??v2,meta:a=null}=Sm(n)?{first:n}:typeof n=="number"?{each:n}:n;if(t==null&&i==null)throw new TypeError("No timeout provided.");return Wt((c,u)=>{let h,v,y=null,P=0,S=M=>{v=Xr(u,o,()=>{try{h.unsubscribe(),di(r({meta:a,lastValue:y,seen:P})).subscribe(u)}catch(O){u.error(O)}},M)};h=c.subscribe(Ht(u,M=>{v?.unsubscribe(),P++,u.next(y=M),i>0&&S(i)},void 0,void 0,()=>{v?.closed||v?.unsubscribe(),y=null})),!P&&S(t!=null?typeof t=="number"?t:+t-o.now():i)})}function FF(n){throw new RF(n)}function Ne(n,e){return Wt((t,i)=>{let r=0;t.subscribe(Ht(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:VF}=Array;function BF(n,e){return VF(e)?n(...e):n(e)}function Pm(n){return Ne(e=>BF(n,e))}var{isArray:jF}=Array,{getPrototypeOf:HF,prototype:UF,keys:$F}=Object;function km(n){if(n.length===1){let e=n[0];if(jF(e))return{args:e,keys:null};if(WF(e)){let t=$F(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function WF(n){return n&&typeof n=="object"&&HF(n)===UF}function Om(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Vl(...n){let e=Bc(n),t=pm(n),{args:i,keys:r}=km(n);if(i.length===0)return Ci([],e);let o=new It(GF(i,e,r?a=>Om(r,a):co));return t?o.pipe(Pm(t)):o}function GF(n,e,t=co){return i=>{oS(e,()=>{let{length:r}=n,o=new Array(r),a=r,c=r;for(let u=0;u<r;u++)oS(e,()=>{let h=Ci(n[u],e),v=!1;h.subscribe(Ht(i,y=>{o[u]=y,v||(v=!0,c--),c||i.next(t(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}function oS(n,e,t){n?Xr(t,n,e):e()}function aS(n,e,t,i,r,o,a,c){let u=[],h=0,v=0,y=!1,P=()=>{y&&!u.length&&!h&&e.complete()},S=O=>h<i?M(O):u.push(O),M=O=>{o&&e.next(O),h++;let R=!1;di(t(O,v++)).subscribe(Ht(e,B=>{r?.(B),o?S(B):e.next(B)},()=>{R=!0},void 0,()=>{if(R)try{for(h--;u.length&&h<i;){let B=u.shift();a?Xr(e,a,()=>M(B)):M(B)}P()}catch(B){e.error(B)}}))};return n.subscribe(Ht(e,S,()=>{y=!0,P()})),()=>{c?.()}}function Wi(n,e,t=1/0){return tn(e)?Wi((i,r)=>Ne((o,a)=>e(i,o,r,a))(di(n(i,r))),t):(typeof e=="number"&&(t=e),Wt((i,r)=>aS(i,r,n,t)))}function jc(n=1/0){return Wi(co,n)}function sS(){return jc(1)}function Ka(...n){return sS()(Ci(n,Bc(n)))}function Hc(n){return new It(e=>{di(n()).subscribe(e)})}function Bl(...n){let e=pm(n),{args:t,keys:i}=km(n),r=new It(o=>{let{length:a}=t;if(!a){o.complete();return}let c=new Array(a),u=a,h=a;for(let v=0;v<a;v++){let y=!1;di(t[v]).subscribe(Ht(o,P=>{y||(y=!0,h--),c[v]=P},()=>u--,void 0,()=>{(!u||!y)&&(h||o.next(i?Om(i,c):c),o.complete())}))}});return e?r.pipe(Pm(e)):r}function lS(n=0,e,t=Gw){let i=-1;return e!=null&&(um(e)?t=e:i=e),new It(r=>{let o=Sm(n)?+n-t.now():n;o<0&&(o=0);let a=0;return t.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Nn(n,e){return Wt((t,i)=>{let r=0;t.subscribe(Ht(i,o=>n.call(e,o,r++)&&i.next(o)))})}function cS(n){return Wt((e,t)=>{let i=!1,r=null,o=null,a=!1,c=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let h=r;r=null,t.next(h)}a&&t.complete()},u=()=>{o=null,a&&t.complete()};e.subscribe(Ht(t,h=>{i=!0,r=h,o||di(n(h)).subscribe(o=Ht(t,c,u))},()=>{a=!0,(!i||!o||o.closed)&&t.complete()}))})}function w3(n,e=v2){return cS(()=>lS(n,e))}function In(n){return Wt((e,t)=>{let i=null,r=!1,o;i=e.subscribe(Ht(t,void 0,void 0,a=>{o=di(n(a,In(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function dS(n,e,t,i,r){return(o,a)=>{let c=t,u=e,h=0;o.subscribe(Ht(a,v=>{let y=h++;u=c?n(u,v,y):(c=!0,v),i&&a.next(u)},r&&(()=>{c&&a.next(u),a.complete()})))}}function Ma(n,e){return tn(e)?Wi(n,e,1):Wi(n,1)}function ni(n,e=v2){return Wt((t,i)=>{let r=null,o=null,a=null,c=()=>{if(r){r.unsubscribe(),r=null;let h=o;o=null,i.next(h)}};function u(){let h=a+n,v=e.now();if(v<h){r=this.schedule(void 0,h-v),i.add(r);return}c()}t.subscribe(Ht(i,h=>{o=h,a=e.now(),r||(r=e.schedule(u,n),i.add(r))},()=>{c(),i.complete()},void 0,()=>{o=r=null}))})}function Uc(n){return Wt((e,t)=>{let i=!1;e.subscribe(Ht(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function vr(n){return n<=0?()=>No:Wt((e,t)=>{let i=0;e.subscribe(Ht(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Oi(n,e=co){return n=n??YF,Wt((t,i)=>{let r,o=!0;t.subscribe(Ht(i,a=>{let c=e(a);(o||!n(r,c))&&(o=!1,r=c,i.next(a))}))})}function YF(n,e){return n===e}function Dm(n=qF){return Wt((e,t)=>{let i=!1;e.subscribe(Ht(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function qF(){return new Fl}function Kr(n){return Wt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function jl(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Nn((r,o)=>n(r,o,i)):co,vr(1),t?Uc(e):Dm(()=>new Fl))}function Z0(n){return n<=0?()=>No:Wt((e,t)=>{let i=[];e.subscribe(Ht(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Yv(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Nn((r,o)=>n(r,o,i)):co,Z0(1),t?Uc(e):Dm(()=>new Fl))}function qv(){return Wt((n,e)=>{let t,i=!1;n.subscribe(Ht(e,r=>{let o=t;t=r,i&&e.next([o,r]),i=!0}))})}function Zv(n,e){return Wt(dS(n,e,arguments.length>=2,!0))}function uS(n={}){let{connector:e=()=>new Re,resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let a,c,u,h=0,v=!1,y=!1,P=()=>{c?.unsubscribe(),c=void 0},S=()=>{P(),a=u=void 0,v=y=!1},M=()=>{let O=a;S(),O?.unsubscribe()};return Wt((O,R)=>{h++,!y&&!v&&P();let B=u=u??e();R.add(()=>{h--,h===0&&!y&&!v&&(c=Xv(M,r))}),B.subscribe(R),!a&&h>0&&(a=new Rl({next:F=>B.next(F),error:F=>{y=!0,P(),c=Xv(S,t,F),B.error(F)},complete:()=>{v=!0,P(),c=Xv(S,i),B.complete()}}),di(O).subscribe(a))})(o)}}function Xv(n,e,...t){if(e===!0){n();return}if(e===!1)return;let i=new Rl({next:()=>{i.unsubscribe(),n()}});return di(e(...t)).subscribe(i)}function X0(n,e,t){let i,r=!1;return n&&typeof n=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n:i=n??1/0,uS({connector:()=>new om(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function S3(n){return Nn((e,t)=>n<=t)}function $c(...n){let e=Bc(n);return Wt((t,i)=>{(e?Ka(n,t,e):Ka(n,t)).subscribe(i)})}function ii(n,e){return Wt((t,i)=>{let r=null,o=0,a=!1,c=()=>a&&!r&&i.complete();t.subscribe(Ht(i,u=>{r?.unsubscribe();let h=0,v=o++;di(n(u,v)).subscribe(r=Ht(i,y=>i.next(e?e(u,y,v,h++):y),()=>{r=null,c()}))},()=>{a=!0,c()}))})}function rt(n){return Wt((e,t)=>{di(n).subscribe(Ht(t,()=>t.complete(),y3)),!t.closed&&e.subscribe(t)})}function Pn(n,e,t){let i=tn(n)||e||t?{next:n,error:e,complete:t}:n;return i?Wt((r,o)=>{var a;(a=i.subscribe)===null||a===void 0||a.call(i);let c=!0;r.subscribe(Ht(o,u=>{var h;(h=i.next)===null||h===void 0||h.call(i,u),o.next(u)},()=>{var u;c=!1,(u=i.complete)===null||u===void 0||u.call(i),o.complete()},u=>{var h;c=!1,(h=i.error)===null||h===void 0||h.call(i,u),o.error(u)},()=>{var u,h;c&&((u=i.unsubscribe)===null||u===void 0||u.call(i)),(h=i.finalize)===null||h===void 0||h.call(i)}))}):co}function pS(n){let e=Ft(null);try{return n()}finally{Ft(e)}}var zm="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Ze=class extends Error{code;constructor(e,t){super(Ja(e,t)),this.code=e}};function ZF(n){return`NG0${Math.abs(n)}`}function Ja(n,e){return`${ZF(n)}${e?": "+e:""}`}var wa=globalThis;function Yn(n){for(let e in n)if(n[e]===Yn)return e;throw Error("")}function hS(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ul(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Ul).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function Am(n,e){return n?e?`${n} ${e}`:n:e||""}var XF=Yn({__forward_ref__:Yn});function pi(n){return n.__forward_ref__=pi,n.toString=function(){return Ul(this())},n}function Hr(n){return l9(n)?n():n}function l9(n){return typeof n=="function"&&n.hasOwnProperty(XF)&&n.__forward_ref__===pi}function gS(n,e){n==null&&c9(e,n,null,"!=")}function c9(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(i==null?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}function me(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function gn(n){return{providers:n.providers||[],imports:n.imports||[]}}function I3(n){return KF(n,Nm)}function d9(n){return I3(n)!==null}function KF(n,e){return n.hasOwnProperty(e)&&n[e]||null}function QF(n){let e=n?.[Nm]??null;return e||null}function Qv(n){return n&&n.hasOwnProperty(Im)?n[Im]:null}var Nm=Yn({\u0275prov:Yn}),Im=Yn({\u0275inj:Yn}),He=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=me({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function u9(n){return n&&!!n.\u0275providers}var p9=Yn({\u0275cmp:Yn}),f9=Yn({\u0275dir:Yn}),m9=Yn({\u0275pipe:Yn}),h9=Yn({\u0275mod:Yn}),O3=Yn({\u0275fac:Yn}),M2=Yn({__NG_ELEMENT_ID__:Yn}),fS=Yn({__NG_ENV_ID__:Yn});function Sa(n){return typeof n=="string"?n:n==null?"":String(n)}function Tm(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Sa(n)}var g9=Yn({ngErrorCode:Yn}),vS=Yn({ngErrorMessage:Yn}),k3=Yn({ngTokenPath:Yn});function v9(n,e){return bS("",-200,e)}function Rm(n,e){throw new Ze(-201,!1)}function JF(n,e){n[k3]??=[];let t=n[k3],i;typeof e=="object"&&"multi"in e&&e?.multi===!0?(gS(e.provide,"Token with multi: true should have a provide property"),i=Tm(e.provide)):i=Tm(e),t[0]!==i&&n[k3].unshift(i)}function eV(n,e){let t=n[k3],i=n[g9],r=n[vS]||n.message;return n.message=nV(r,i,t,e),n}function bS(n,e,t){let i=new Ze(e,n);return i[g9]=e,i[vS]=n,t&&(i[k3]=t),i}function tV(n){return n[g9]}function nV(n,e,t=[],i=null){let r="";t&&t.length>1&&(r=` Path: ${t.join(" -> ")}.`);let o=i?` Source: ${i}.`:"";return Ja(e,`${n}${o}${r}`)}var Jv;function _S(){return Jv}function uo(n){let e=Jv;return Jv=n,e}function b9(n,e,t){let i=I3(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&8)return null;if(e!==void 0)return e;Rm(n,"Injector")}var iV={},_2=iV,e9="__NG_DI_FLAG__",t9=class{injector;constructor(e){this.injector=e}retrieve(e,t){let i=y2(t)||0;try{return this.injector.get(e,i&8?null:_2,i)}catch(r){if(B0(r))return r;throw r}}};function rV(n,e=0){let t=jf();if(t===void 0)throw new Ze(-203,!1);if(t===null)return b9(n,void 0,e);{let i=oV(e),r=t.retrieve(n,i);if(B0(r)){if(i.optional)return null;throw r}return r}}function De(n,e=0){return(_S()||rV)(Hr(n),e)}function q(n,e){return De(n,y2(e))}function y2(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function oV(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function n9(n){let e=[];for(let t=0;t<n.length;t++){let i=Hr(n[t]);if(Array.isArray(i)){if(i.length===0)throw new Ze(900,!1);let r,o=0;for(let a=0;a<i.length;a++){let c=i[a],u=aV(c);typeof u=="number"?u===-1?r=c.token:o|=u:r=c}e.push(De(r,o))}else e.push(De(i))}return e}function Fm(n,e){return n[e9]=e,n.prototype[e9]=e,n}function aV(n){return n[e9]}function Wc(n,e){let t=n.hasOwnProperty(O3);return t?n[O3]:null}function yS(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function xS(n){return n.flat(Number.POSITIVE_INFINITY)}function Vm(n,e){n.forEach(t=>Array.isArray(t)?Vm(t,e):e(t))}function _9(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function T3(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function CS(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function MS(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function Bm(n,e,t){let i=Q0(n,e);return i>=0?n[i|1]=t:(i=~i,MS(n,i,e,t)),i}function jm(n,e){let t=Q0(n,e);if(t>=0)return n[t|1]}function Q0(n,e){return sV(n,e,1)}function sV(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),a=n[o<<t];if(e===a)return o<<t;a>e?r=o:i=o+1}return~(r<<t)}var Yc={},po=[],$l=new He(""),y9=new He("",-1),x9=new He(""),D3=class{get(e,t=_2){if(t===_2){let r=bS("",-201);throw r.name="\u0275NotFound",r}return t}};function C9(n){return n[h9]||null}function Ls(n){return n[p9]||null}function M9(n){return n[f9]||null}function wS(n){return n[m9]||null}function zs(n){return{\u0275providers:n}}function L3(...n){return{\u0275providers:w9(!0,n),\u0275fromNgModule:!0}}function w9(n,...e){let t=[],i=new Set,r,o=a=>{t.push(a)};return Vm(e,a=>{let c=a;Lm(c,o,[],i)&&(r||=[],r.push(c))}),r!==void 0&&SS(r,o),t}function SS(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];S9(r,o=>{e(o,i)})}}function Lm(n,e,t,i){if(n=Hr(n),!n)return!1;let r=null,o=Qv(n),a=!o&&Ls(n);if(!o&&!a){let u=n.ngModule;if(o=Qv(u),o)r=u;else return!1}else{if(a&&!a.standalone)return!1;r=n}let c=i.has(r);if(a){if(c)return!1;if(i.add(r),a.dependencies){let u=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let h of u)Lm(h,e,t,i)}}else if(o){if(o.imports!=null&&!c){i.add(r);let h;try{Vm(o.imports,v=>{Lm(v,e,t,i)&&(h||=[],h.push(v))})}finally{}h!==void 0&&SS(h,e)}if(!c){let h=Wc(r)||(()=>new r);e({provide:r,useFactory:h,deps:po},r),e({provide:x9,useValue:r,multi:!0},r),e({provide:$l,useValue:()=>De(r),multi:!0},r)}let u=o.providers;if(u!=null&&!c){let h=n;S9(u,v=>{e(v,h)})}}else return!1;return r!==n&&n.providers!==void 0}function S9(n,e){for(let t of n)u9(t)&&(t=t.\u0275providers),Array.isArray(t)?S9(t,e):e(t)}var lV=Yn({provide:String,useValue:Yn});function PS(n){return n!==null&&typeof n=="object"&&lV in n}function cV(n){return!!(n&&n.useExisting)}function dV(n){return!!(n&&n.useFactory)}function x2(n){return typeof n=="function"}function kS(n){return!!n.useClass}var z3=new He(""),Em={},mS={},Kv;function J0(){return Kv===void 0&&(Kv=new D3),Kv}var ui=class{},C2=class extends ui{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,r9(e,a=>this.processProvider(a)),this.records.set(y9,K0(void 0,this)),r.has("environment")&&this.records.set(ui,K0(void 0,this));let o=this.records.get(z3);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(x9,po,{self:!0}))}retrieve(e,t){let i=y2(t)||0;try{return this.get(e,_2,i)}catch(r){if(B0(r))return r;throw r}}destroy(){P3(this),this._destroyed=!0;let e=Ft(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ft(e)}}onDestroy(e){return P3(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){P3(this);let t=Ts(this),i=uo(void 0),r;try{return e()}finally{Ts(t),uo(i)}}get(e,t=_2,i){if(P3(this),e.hasOwnProperty(fS))return e[fS](this);let r=y2(i),o,a=Ts(this),c=uo(void 0);try{if(!(r&4)){let h=this.records.get(e);if(h===void 0){let v=hV(e)&&I3(e);v&&this.injectableDefInScope(v)?h=K0(i9(e),Em):h=null,this.records.set(e,h)}if(h!=null)return this.hydrate(e,h,r)}let u=r&2?J0():this.parent;return t=r&8&&t===_2?null:t,u.get(e,t)}catch(u){let h=tV(u);throw h===-200||h===-201?new Ze(h,null):u}finally{uo(c),Ts(a)}}resolveInjectorInitializers(){let e=Ft(null),t=Ts(this),i=uo(void 0),r;try{let o=this.get($l,po,{self:!0});for(let a of o)a()}finally{Ts(t),uo(i),Ft(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(Ul(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Hr(e);let t=x2(e)?e:Hr(e&&e.provide),i=pV(e);if(!x2(e)&&e.multi===!0){let r=this.records.get(t);r||(r=K0(void 0,Em,!0),r.factory=()=>n9(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t,i){let r=Ft(null);try{if(t.value===mS)throw v9(Ul(e));return t.value===Em&&(t.value=mS,t.value=t.factory(void 0,i)),typeof t.value=="object"&&t.value&&mV(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ft(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Hr(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function i9(n){let e=I3(n),t=e!==null?e.factory:Wc(n);if(t!==null)return t;if(n instanceof He)throw new Ze(204,!1);if(n instanceof Function)return uV(n);throw new Ze(204,!1)}function uV(n){if(n.length>0)throw new Ze(204,!1);let t=QF(n);return t!==null?()=>t.factory(n):()=>new n}function pV(n){if(PS(n))return K0(void 0,n.useValue);{let e=P9(n);return K0(e,Em)}}function P9(n,e,t){let i;if(x2(n)){let r=Hr(n);return Wc(r)||i9(r)}else if(PS(n))i=()=>Hr(n.useValue);else if(dV(n))i=()=>n.useFactory(...n9(n.deps||[]));else if(cV(n))i=(r,o)=>De(Hr(n.useExisting),o!==void 0&&o&8?8:void 0);else{let r=Hr(n&&(n.useClass||n.provide));if(fV(n))i=()=>new r(...n9(n.deps));else return Wc(r)||i9(r)}return i}function P3(n){if(n.destroyed)throw new Ze(205,!1)}function K0(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function fV(n){return!!n.deps}function mV(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function hV(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function r9(n,e){for(let t of n)Array.isArray(t)?r9(t,e):t&&u9(t)?r9(t.\u0275providers,e):e(t)}function kr(n,e){let t;n instanceof C2?(P3(n),t=n):t=new t9(n);let i,r=Ts(t),o=uo(void 0);try{return e()}finally{Ts(r),uo(o)}}function OS(){return _S()!==void 0||jf()!=null}var es=0,Pt=1,Ut=2,br=3,Pa=4,fo=5,w2=6,ed=7,Gi=8,S2=9,As=10,ri=11,td=12,k9=13,P2=14,mo=15,qc=16,k2=17,Ns=18,A3=19,O9=20,Hl=21,Hm=22,Wl=23,ra=24,O2=25,_i=26,DS=1,D9=6,Zc=7,N3=8,D2=9,Or=10;function Rs(n){return Array.isArray(n)&&typeof n[DS]=="object"}function ts(n){return Array.isArray(n)&&n[DS]===!0}function E9(n){return(n.flags&4)!==0}function Xc(n){return n.componentOffset>-1}function nd(n){return(n.flags&1)===1}function Fs(n){return!!n.template}function id(n){return(n[Ut]&512)!==0}function E2(n){return(n[Ut]&256)===256}var I9="svg",ES="math";function ka(n){for(;Array.isArray(n);)n=n[es];return n}function T9(n,e){return ka(e[n])}function ns(n,e){return ka(e[n.index])}function R3(n,e){return n.data[e]}function F3(n,e){return n[e]}function L9(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function Oa(n,e){let t=e[n];return Rs(t)?t:t[es]}function IS(n){return(n[Ut]&4)===4}function Um(n){return(n[Ut]&128)===128}function TS(n){return ts(n[br])}function Da(n,e){return e==null?null:n[e]}function z9(n){n[k2]=0}function A9(n){n[Ut]&1024||(n[Ut]|=1024,Um(n)&&Kc(n))}function LS(n,e){for(;n>0;)e=e[P2],n--;return e}function V3(n){return!!(n[Ut]&9216||n[ra]?.dirty)}function $m(n){n[As].changeDetectionScheduler?.notify(8),n[Ut]&64&&(n[Ut]|=1024),V3(n)&&Kc(n)}function Kc(n){n[As].changeDetectionScheduler?.notify(0);let e=Gc(n);for(;e!==null&&!(e[Ut]&8192||(e[Ut]|=8192,!Um(e)));)e=Gc(e)}function N9(n,e){if(E2(n))throw new Ze(911,!1);n[Hl]===null&&(n[Hl]=[]),n[Hl].push(e)}function zS(n,e){if(n[Hl]===null)return;let t=n[Hl].indexOf(e);t!==-1&&n[Hl].splice(t,1)}function Gc(n){let e=n[br];return ts(e)?e[br]:e}function R9(n){return n[ed]??=[]}function F9(n){return n.cleanup??=[]}function AS(n,e,t,i){let r=R9(e);r.push(t),n.firstCreatePass&&F9(n).push(i,r.length-1)}var on={lFrame:GS(null),bindingsEnabled:!0,skipHydrationRootTNode:null},B3=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(B3||{}),gV=0,o9=!1;function NS(){return on.lFrame.elementDepthCount}function RS(){on.lFrame.elementDepthCount++}function V9(){on.lFrame.elementDepthCount--}function Wm(){return on.bindingsEnabled}function B9(){return on.skipHydrationRootTNode!==null}function j9(n){return on.skipHydrationRootTNode===n}function H9(){on.skipHydrationRootTNode=null}function bt(){return on.lFrame.lView}function Mi(){return on.lFrame.tView}function z(n){return on.lFrame.contextLView=n,n[Gi]}function A(n){return on.lFrame.contextLView=null,n}function rr(){let n=U9();for(;n!==null&&n.type===64;)n=n.parent;return n}function U9(){return on.lFrame.currentTNode}function FS(){let n=on.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function rd(n,e){let t=on.lFrame;t.currentTNode=n,t.isParent=e}function $9(){return on.lFrame.isParent}function W9(){on.lFrame.isParent=!1}function VS(){return on.lFrame.contextLView}function G9(n){c9("Must never be called in production mode"),gV=n}function Y9(){return o9}function od(n){let e=o9;return o9=n,e}function Vs(){let n=on.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function q9(){return on.lFrame.bindingIndex}function BS(n){return on.lFrame.bindingIndex=n}function Gl(){return on.lFrame.bindingIndex++}function j3(n){let e=on.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function jS(){return on.lFrame.inI18n}function HS(n,e){let t=on.lFrame;t.bindingIndex=t.bindingRootIndex=n,Gm(e)}function US(){return on.lFrame.currentDirectiveIndex}function Gm(n){on.lFrame.currentDirectiveIndex=n}function $S(n){let e=on.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Z9(){return on.lFrame.currentQueryIndex}function Ym(n){on.lFrame.currentQueryIndex=n}function vV(n){let e=n[Pt];return e.type===2?e.declTNode:e.type===1?n[fo]:null}function X9(n,e,t){if(t&4){let r=e,o=n;for(;r=r.parent,r===null&&!(t&1);)if(r=vV(o),r===null||(o=o[P2],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=on.lFrame=WS();return i.currentTNode=e,i.lView=n,!0}function qm(n){let e=WS(),t=n[Pt];on.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function WS(){let n=on.lFrame,e=n===null?null:n.child;return e===null?GS(n):e}function GS(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function YS(){let n=on.lFrame;return on.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var K9=YS;function Zm(){let n=YS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function qS(n){return(on.lFrame.contextLView=LS(n,on.lFrame.contextLView))[Gi]}function is(){return on.lFrame.selectedIndex}function Qc(n){on.lFrame.selectedIndex=n}function H3(){let n=on.lFrame;return R3(n.tView,n.selectedIndex)}function $e(){on.lFrame.currentNamespace=I9}function lt(){bV()}function bV(){on.lFrame.currentNamespace=null}function ZS(){return on.lFrame.currentNamespace}var XS=!0;function Xm(){return XS}function U3(n){XS=n}function a9(n,e=null,t=null,i){let r=Q9(n,e,t,i);return r.resolveInjectorInitializers(),r}function Q9(n,e=null,t=null,i,r=new Set){let o=[t||po,L3(n)];return i=i||(typeof n=="object"?void 0:Ul(n)),new C2(o,e||J0(),i||null,r)}var yn=class n{static THROW_IF_NOT_FOUND=_2;static NULL=new D3;static create(e,t){if(Array.isArray(e))return a9({name:""},t,e,"");{let i=e.name??"";return a9({name:i},e.parent,e.providers,i)}}static \u0275prov=me({token:n,providedIn:"any",factory:()=>De(y9)});static __NG_ELEMENT_ID__=-1},Tt=new He(""),Ur=(()=>{class n{static __NG_ELEMENT_ID__=_V;static __NG_ENV_ID__=t=>t}return n})(),E3=class extends Ur{_lView;constructor(e){super(),this._lView=e}get destroyed(){return E2(this._lView)}onDestroy(e){let t=this._lView;return N9(t,e),()=>zS(t,e)}};function _V(){return new E3(bt())}var ia=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ro=new He("",{providedIn:"root",factory:()=>{let n=q(ui),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(ia),e.handleError(t))}}}),KS={provide:$l,useValue:()=>void q(ia),multi:!0};function J9(n){return typeof n=="function"&&n[jr]!==void 0}function _r(n,e){let[t,i,r]=Iv(n,e?.equal),o=t,a=o[jr];return o.set=i,o.update=r,o.asReadonly=Km.bind(o),o}function Km(){let n=this[jr];if(n.readonlyFn===void 0){let e=()=>this();e[jr]=n,n.readonlyFn=e}return n.readonlyFn}function eb(n){return J9(n)&&typeof n.set=="function"}var Qa=class{},ad=new He("",{providedIn:"root",factory:()=>!1});var tb=new He(""),nb=new He("");var sd=(()=>{class n{view;node;constructor(t,i){this.view=t,this.node=i}static __NG_ELEMENT_ID__=yV}return n})();function yV(){return new sd(bt(),rr())}var Bs=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Sn(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new It(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=me({token:n,providedIn:"root",factory:()=>new n})}return n})(),ld=(()=>{class n{internalPendingTasks=q(Bs);scheduler=q(Qa);errorHandler=q(Ro);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let i=this.add();t().catch(this.errorHandler).finally(i)}static \u0275prov=me({token:n,providedIn:"root",factory:()=>new n})}return n})();function I2(...n){}var $3=(()=>{class n{static \u0275prov=me({token:n,providedIn:"root",factory:()=>new s9})}return n})(),s9=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,i=this.queues.get(t);i.has(e)&&(i.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||i.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,i]of this.queues)t===null?e||=this.flushQueue(i):e||=t.run(()=>this.flushQueue(i));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let i of e)i.dirty&&(this.dirtyEffectCount--,t=!0,i.run());return t}};function hd(n){return{toString:n}.toString()}var Qm="__parameters__";function PV(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function Qb(n,e,t){return hd(()=>{let i=PV(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let a=new r(...o);return c.annotation=a,c;function c(u,h,v){let y=u.hasOwnProperty(Qm)?u[Qm]:Object.defineProperty(u,Qm,{value:[]})[Qm];for(;y.length<=v;)y.push(null);return(y[v]=y[v]||[]).push(a),u}}return r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Jb=Fm(Qb("Inject",n=>({token:n})),-1),gd=Fm(Qb("Optional"),8);var e_=Fm(Qb("SkipSelf"),4);function kV(n){return typeof n=="function"}var l6=class{previousValue;currentValue;firstChange;constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function TP(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}var Gt=(()=>{let n=()=>LP;return n.ngInherit=!0,n})();function LP(n){return n.type.prototype.ngOnChanges&&(n.setInput=DV),OV}function OV(){let n=AP(this),e=n?.current;if(e){let t=n.previous;if(t===Yc)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function DV(n,e,t,i,r){let o=this.declaredInputs[i],a=AP(n)||EV(n,{previous:Yc,current:null}),c=a.current||(a.current={}),u=a.previous,h=u[o];c[o]=new l6(h&&h.currentValue,t,u===Yc),TP(n,e,r,t)}var zP="__ngSimpleChanges__";function AP(n){return n[zP]||null}function EV(n,e){return n[zP]=e}var QS=[];var ei=function(n,e=null,t){for(let i=0;i<QS.length;i++){let r=QS[i];r(n,e,t)}};function IV(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let a=LP(e);(t.preOrderHooks??=[]).push(n,a),(t.preOrderCheckHooks??=[]).push(n,a)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function NP(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:h,ngOnDestroy:v}=o;a&&(n.contentHooks??=[]).push(-t,a),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),h&&((n.viewHooks??=[]).push(t,h),(n.viewCheckHooks??=[]).push(t,h)),v!=null&&(n.destroyHooks??=[]).push(t,v)}}function i6(n,e,t){RP(n,e,3,t)}function r6(n,e,t,i){(n[Ut]&3)===t&&RP(n,e,t,i)}function ib(n,e){let t=n[Ut];(t&3)===e&&(t&=16383,t+=1,n[Ut]=t)}function RP(n,e,t,i){let r=i!==void 0?n[k2]&65535:0,o=i??-1,a=e.length-1,c=0;for(let u=r;u<a;u++)if(typeof e[u+1]=="number"){if(c=e[u],i!=null&&c>=i)break}else e[u]<0&&(n[k2]+=65536),(c<o||o==-1)&&(TV(n,t,e,u),n[k2]=(n[k2]&4294901760)+u+2),u++}function JS(n,e){ei(4,n,e);let t=Ft(null);try{e.call(n)}finally{Ft(t),ei(5,n,e)}}function TV(n,e,t,i){let r=t[i]<0,o=t[i+1],a=r?-t[i]:t[i],c=n[a];r?n[Ut]>>14<n[k2]>>16&&(n[Ut]&3)===e&&(n[Ut]+=16384,JS(c,o)):JS(c,o)}var dd=-1,z2=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,i,r){this.factory=e,this.name=r,this.canSeeViewProviders=t,this.injectImpl=i}};function LV(n){return(n.flags&8)!==0}function zV(n){return(n.flags&16)!==0}function AV(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],a=t[i++],c=t[i++];n.setAttribute(e,a,c,o)}else{let o=r,a=t[++i];NV(o)?n.setProperty(e,o,a):n.setAttribute(e,o,a),i++}}return i}function FP(n){return n===3||n===4||n===6}function NV(n){return n.charCodeAt(0)===64}function ud(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?eP(n,t,r,null,e[++i]):eP(n,t,r,null,null))}}return n}function eP(n,e,t,i,r){let o=0,a=n.length;if(e===-1)a=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){a=-1;break}else if(c>e){a=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){r!==null&&(n[o+1]=r);return}o++,r!==null&&o++}a!==-1&&(n.splice(a,0,e),o=a+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r)}function VP(n){return n!==dd}function c6(n){return n&32767}function RV(n){return n>>16}function d6(n,e){let t=RV(n),i=e;for(;t>0;)i=i[P2],t--;return i}var mb=!0;function u6(n){let e=mb;return mb=n,e}var FV=256,BP=FV-1,jP=5,VV=0,js={};function BV(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(M2)&&(i=t[M2]),i==null&&(i=t[M2]=VV++);let r=i&BP,o=1<<r;e.data[n+(r>>jP)]|=o}function p6(n,e){let t=HP(n,e);if(t!==-1)return t;let i=e[Pt];i.firstCreatePass&&(n.injectorIndex=e.length,rb(i.data,n),rb(e,null),rb(i.blueprint,null));let r=t_(n,e),o=n.injectorIndex;if(VP(r)){let a=c6(r),c=d6(r,e),u=c[Pt].data;for(let h=0;h<8;h++)e[o+h]=c[a+h]|u[a+h]}return e[o+8]=r,o}function rb(n,e){n.push(0,0,0,0,0,0,0,0,e)}function HP(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function t_(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=YP(r),i===null)return dd;if(t++,r=r[P2],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return dd}function hb(n,e,t){BV(n,e,t)}function jV(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(FP(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===e)return t[r+1];r=r+2}}}return null}function UP(n,e,t){if(t&8||n!==void 0)return n;Rm(e,"NodeInjector")}function $P(n,e,t,i){if(t&8&&i===void 0&&(i=null),(t&3)===0){let r=n[S2],o=uo(void 0);try{return r?r.get(e,i,t&8):b9(e,i,t&8)}finally{uo(o)}}return UP(i,e,t)}function WP(n,e,t,i=0,r){if(n!==null){if(e[Ut]&2048&&!(i&2)){let a=WV(n,e,t,i,js);if(a!==js)return a}let o=GP(n,e,t,i,js);if(o!==js)return o}return $P(e,t,i,r)}function GP(n,e,t,i,r){let o=UV(t);if(typeof o=="function"){if(!X9(e,n,i))return i&1?UP(r,t,i):$P(e,t,i,r);try{let a;if(a=o(i),a==null&&!(i&8))Rm(t);else return a}finally{K9()}}else if(typeof o=="number"){let a=null,c=HP(n,e),u=dd,h=i&1?e[mo][fo]:null;for((c===-1||i&4)&&(u=c===-1?t_(n,e):e[c+8],u===dd||!nP(i,!1)?c=-1:(a=e[Pt],c=c6(u),e=d6(u,e)));c!==-1;){let v=e[Pt];if(tP(o,c,v.data)){let y=HV(c,e,t,a,i,h);if(y!==js)return y}u=e[c+8],u!==dd&&nP(i,e[Pt].data[c+8]===h)&&tP(o,c,e)?(a=v,c=c6(u),e=d6(u,e)):c=-1}}return r}function HV(n,e,t,i,r,o){let a=e[Pt],c=a.data[n+8],u=i==null?Xc(c)&&mb:i!=a&&(c.type&3)!==0,h=r&1&&o===c,v=o6(c,a,t,u,h);return v!==null?Y3(e,a,v,c,r):js}function o6(n,e,t,i,r){let o=n.providerIndexes,a=e.data,c=o&1048575,u=n.directiveStart,h=n.directiveEnd,v=o>>20,y=i?c:c+v,P=r?c+v:h;for(let S=y;S<P;S++){let M=a[S];if(S<u&&t===M||S>=u&&M.type===t)return S}if(r){let S=a[u];if(S&&Fs(S)&&S.type===t)return u}return null}function Y3(n,e,t,i,r){let o=n[t],a=e.data;if(o instanceof z2){let c=o;if(c.resolving){let S=Tm(a[t]);throw v9(S)}let u=u6(c.canSeeViewProviders);c.resolving=!0;let h=a[t].type||a[t],v,y=c.injectImpl?uo(c.injectImpl):null,P=X9(n,i,0);try{o=n[t]=c.factory(void 0,r,a,n,i),e.firstCreatePass&&t>=i.directiveStart&&IV(t,a[t],e)}finally{y!==null&&uo(y),u6(u),c.resolving=!1,K9()}}return o}function UV(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(M2)?n[M2]:void 0;return typeof e=="number"?e>=0?e&BP:$V:e}function tP(n,e,t){let i=1<<n;return!!(t[e+(n>>jP)]&i)}function nP(n,e){return!(n&2)&&!(n&1&&e)}var L2=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return WP(this._tNode,this._lView,e,y2(i),t)}};function $V(){return new L2(rr(),bt())}function Di(n){return hd(()=>{let e=n.prototype.constructor,t=e[O3]||gb(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[O3]||gb(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function gb(n){return l9(n)?()=>{let e=gb(Hr(n));return e&&e()}:Wc(n)}function WV(n,e,t,i,r){let o=n,a=e;for(;o!==null&&a!==null&&a[Ut]&2048&&!id(a);){let c=GP(o,a,t,i|2,js);if(c!==js)return c;let u=o.parent;if(!u){let h=a[O9];if(h){let v=h.get(t,js,i);if(v!==js)return v}u=YP(a),a=a[P2]}o=u}return r}function YP(n){let e=n[Pt],t=e.type;return t===2?e.declTNode:t===1?n[fo]:null}function eu(n){return jV(rr(),n)}function GV(){return vd(rr(),bt())}function vd(n,e){return new Yt(ns(n,e))}var Yt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=GV}return n})();function YV(n){return n instanceof Yt?n.nativeElement:n}function qV(){return this._results[Symbol.iterator]()}var f6=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Re}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=xS(e);(this._changesDetected=!yS(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=qV};function qP(n){return(n.flags&128)===128}var n_=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(n_||{}),ZP=new Map,ZV=0;function XV(){return ZV++}function KV(n){ZP.set(n[A3],n)}function vb(n){ZP.delete(n[A3])}var iP="__ngContext__";function pd(n,e){Rs(e)?(n[iP]=e[A3],KV(e)):n[iP]=e}function XP(n){return QP(n[td])}function KP(n){return QP(n[Pa])}function QP(n){for(;n!==null&&!ts(n);)n=n[Pa];return n}var bb;function i_(n){bb=n}function r_(){if(bb!==void 0)return bb;if(typeof document<"u")return document;throw new Ze(210,!1)}var bd=new He("",{providedIn:"root",factory:()=>QV}),QV="ng",D6=new He(""),Us=new He("",{providedIn:"platform",factory:()=>"unknown"});var tu=new He(""),_d=new He("",{providedIn:"root",factory:()=>r_().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var JV="h",eB="b";var JP="r";var ek="di";var tk=!1,nk=new He("",{providedIn:"root",factory:()=>tk});var tB=(n,e,t,i)=>{};function nB(n,e,t,i){tB(n,e,t,i)}function E6(n){return(n.flags&32)===32}var iB=()=>null;function ik(n,e,t=!1){return iB(n,e,t)}function rk(n,e){let t=n.contentQueries;if(t!==null){let i=Ft(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],a=t[r+1];if(a!==-1){let c=n.data[a];Ym(o),c.contentQueries(2,e[a],a)}}}finally{Ft(i)}}}function _b(n,e,t){Ym(0);let i=Ft(null);try{e(n,t)}finally{Ft(i)}}function o_(n,e,t){if(E9(e)){let i=Ft(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let a=r;a<o;a++){let c=n.data[a];if(c.contentQueries){let u=t[a];c.contentQueries(1,u,a)}}}finally{Ft(i)}}}var Yl=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Yl||{}),Jm;function rB(){if(Jm===void 0&&(Jm=null,wa.trustedTypes))try{Jm=wa.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Jm}function I6(n){return rB()?.createHTML(n)||n}var e6;function ok(){if(e6===void 0&&(e6=null,wa.trustedTypes))try{e6=wa.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return e6}function rP(n){return ok()?.createHTML(n)||n}function oP(n){return ok()?.createScriptURL(n)||n}var ql=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${zm})`}},yb=class extends ql{getTypeName(){return"HTML"}},xb=class extends ql{getTypeName(){return"Style"}},Cb=class extends ql{getTypeName(){return"Script"}},Mb=class extends ql{getTypeName(){return"URL"}},wb=class extends ql{getTypeName(){return"ResourceURL"}};function oa(n){return n instanceof ql?n.changingThisBreaksApplicationSecurity:n}function $s(n,e){let t=ak(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${zm})`)}return t===e}function ak(n){return n instanceof ql&&n.getTypeName()||null}function a_(n){return new yb(n)}function s_(n){return new xb(n)}function l_(n){return new Cb(n)}function c_(n){return new Mb(n)}function d_(n){return new wb(n)}function oB(n){let e=new Pb(n);return aB()?new Sb(e):e}var Sb=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(I6(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Pb=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=I6(e),t}};function aB(){try{return!!new window.DOMParser().parseFromString(I6(""),"text/html")}catch{return!1}}var sB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nu(n){return n=String(n),n.match(sB)?n:"unsafe:"+n}function Zl(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function iu(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var sk=Zl("area,br,col,hr,img,wbr"),lk=Zl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ck=Zl("rp,rt"),lB=iu(ck,lk),cB=iu(lk,Zl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),dB=iu(ck,Zl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),aP=iu(sk,cB,dB,lB),dk=Zl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uB=Zl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pB=Zl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),fB=iu(dk,uB,pB),mB=Zl("script,style,template"),kb=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=vB(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=gB(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=sP(e).toLowerCase();if(!aP.hasOwnProperty(t))return this.sanitizedSomething=!0,!mB.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),a=o.name,c=a.toLowerCase();if(!fB.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=o.value;dk[c]&&(u=nu(u)),this.buf.push(" ",a,'="',lP(u),'"')}return this.buf.push(">"),!0}endElement(e){let t=sP(e).toLowerCase();aP.hasOwnProperty(t)&&!sk.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(lP(e))}};function hB(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function gB(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw uk(e);return e}function vB(n){let e=n.firstChild;if(e&&hB(n,e))throw uk(e);return e}function sP(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function uk(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var bB=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_B=/([^\#-~ |!])/g;function lP(n){return n.replace(/&/g,"&amp;").replace(bB,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(_B,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var t6;function T6(n,e){let t=null;try{t6=t6||oB(n);let i=e?String(e):"";t=t6.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=t6.getInertBodyElement(i)}while(i!==o);let c=new kb().sanitizeChildren(cP(t)||t);return I6(c)}finally{if(t){let i=cP(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function cP(n){return"content"in n&&yB(n)?n.content:null}function yB(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Ea=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Ea||{});function Xl(n){let e=p_();return e?rP(e.sanitize(Ea.HTML,n)||""):$s(n,"HTML")?rP(oa(n)):T6(r_(),Sa(n))}function et(n){let e=p_();return e?e.sanitize(Ea.URL,n)||"":$s(n,"URL")?oa(n):nu(Sa(n))}function pk(n){let e=p_();if(e)return oP(e.sanitize(Ea.RESOURCE_URL,n)||"");if($s(n,"ResourceURL"))return oP(oa(n));throw new Ze(904,!1)}function xB(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?pk:et}function u_(n,e,t){return xB(e,t)(n)}function p_(){let n=bt();return n&&n[As].sanitizer}var CB=/^>|^->|<!--|-->|--!>|<!-$/g,MB=/(<|>)/g,wB="\u200B$1\u200B";function SB(n){return n.replace(CB,e=>e.replace(MB,wB))}function Vo(n){return n.ownerDocument.defaultView}function ru(n){return n.ownerDocument}function fk(n){return n instanceof Function?n():n}function PB(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}var mk="ng-template";function kB(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&PB(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(f_(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function f_(n){return n.type===4&&n.value!==mk}function OB(n,e,t){let i=n.type===4&&!t?mk:n.value;return e===i}function DB(n,e,t){let i=4,r=n.attrs,o=r!==null?TB(r):0,a=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!a&&!rs(i)&&!rs(u))return!1;if(a&&rs(u))continue;a=!1,i=u|i&1;continue}if(!a)if(i&4){if(i=2|i&1,u!==""&&!OB(n,u,t)||u===""&&e.length===1){if(rs(i))return!1;a=!0}}else if(i&8){if(r===null||!kB(n,r,u,t)){if(rs(i))return!1;a=!0}}else{let h=e[++c],v=EB(u,r,f_(n),t);if(v===-1){if(rs(i))return!1;a=!0;continue}if(h!==""){let y;if(v>o?y="":y=r[v+1].toLowerCase(),i&2&&h!==y){if(rs(i))return!1;a=!0}}}}return rs(i)||a}function rs(n){return(n&1)===0}function EB(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let a=e[r];if(a===n)return r;if(a===3||a===6)o=!0;else if(a===1||a===2){let c=e[++r];for(;typeof c=="string";)c=e[++r];continue}else{if(a===4)break;if(a===0){r+=4;continue}}r+=o?1:2}return-1}else return LB(e,n)}function hk(n,e,t=!1){for(let i=0;i<e.length;i++)if(DB(n,e[i],t))return!0;return!1}function IB(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function TB(n){for(let e=0;e<n.length;e++){let t=n[e];if(FP(t))return e}return n.length}function LB(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function zB(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function dP(n,e){return n?":not("+e.trim()+")":e}function AB(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let a=n[t];if(typeof a=="string")if(i&2){let c=n[++t];r+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else i&8?r+="."+a:i&4&&(r+=" "+a);else r!==""&&!rs(a)&&(e+=dP(o,r),r=""),i=a,o=o||!rs(i);t++}return r!==""&&(e+=dP(o,r)),e}function NB(n){return n.map(AB).join(",")}function RB(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!rs(r))break;r=o}i++}return t.length&&e.push(1,...t),e}var Er={};function FB(n,e){return n.createText(e)}function VB(n,e,t){n.setValue(e,t)}function BB(n,e){return n.createComment(SB(e))}function gk(n,e,t){return n.createElement(e,t)}function m6(n,e,t,i,r){n.insertBefore(e,t,i,r)}function vk(n,e,t){n.appendChild(e,t)}function uP(n,e,t,i,r){i!==null?m6(n,e,t,i,r):vk(n,e,t)}function bk(n,e,t){n.removeChild(null,e,t)}function jB(n,e,t){n.setAttribute(e,"style",t)}function HB(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function _k(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&AV(n,e,i),r!==null&&HB(n,e,r),o!==null&&jB(n,e,o)}function m_(n,e,t,i,r,o,a,c,u,h,v){let y=_i+i,P=y+r,S=UB(y,P),M=typeof h=="function"?h():h;return S[Pt]={type:n,blueprint:S,template:t,queries:null,viewQuery:c,declTNode:e,data:S.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:u,consts:M,incompleteFirstPass:!1,ssrId:v}}function UB(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Er);return t}function $B(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=m_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function h_(n,e,t,i,r,o,a,c,u,h,v){let y=e.blueprint.slice();return y[es]=r,y[Ut]=i|4|128|8|64|1024,(h!==null||n&&n[Ut]&2048)&&(y[Ut]|=2048),z9(y),y[br]=y[P2]=n,y[Gi]=t,y[As]=a||n&&n[As],y[ri]=c||n&&n[ri],y[S2]=u||n&&n[S2]||null,y[fo]=o,y[A3]=XV(),y[w2]=v,y[O9]=h,y[mo]=e.type==2?n[mo]:y,y}function WB(n,e,t){let i=ns(e,n),r=$B(t),o=n[As].rendererFactory,a=g_(n,h_(n,r,null,yk(t),i,e,null,o.createRenderer(i,t),null,null,null));return n[e.index]=a}function yk(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function xk(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function g_(n,e){return n[td]?n[k9][Pa]=e:n[td]=e,n[k9]=e,e}function p(n=1){Ck(Mi(),bt(),is()+n,!1)}function Ck(n,e,t,i){if(!i)if((e[Ut]&3)===3){let o=n.preOrderCheckHooks;o!==null&&i6(e,o,t)}else{let o=n.preOrderHooks;o!==null&&r6(e,o,0,t)}Qc(t)}var L6=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(L6||{});function Ob(n,e,t,i){let r=Ft(null);try{let[o,a,c]=n.inputs[t],u=null;(a&L6.SignalBased)!==0&&(u=e[o][jr]),u!==null&&u.transformFn!==void 0?i=u.transformFn(i):c!==null&&(i=c.call(e,i)),n.setInput!==null?n.setInput(e,u,i,t,o):TP(e,u,o,i)}finally{Ft(r)}}var as=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(as||{}),GB;function v_(n,e){return GB(n,e)}function cd(n,e,t,i,r){if(i!=null){let o,a=!1;ts(i)?o=i:Rs(i)&&(a=!0,i=i[es]);let c=ka(i);n===0&&t!==null?r==null?vk(e,t,c):m6(e,t,c,r||null,!0):n===1&&t!==null?m6(e,t,c,r||null,!0):n===2?bk(e,c,a):n===3&&e.destroyNode(c),o!=null&&nj(e,n,o,t,r)}}function YB(n,e){Mk(n,e),e[es]=null,e[fo]=null}function qB(n,e,t,i,r,o){i[es]=r,i[fo]=e,A6(n,i,t,1,r,o)}function Mk(n,e){e[As].changeDetectionScheduler?.notify(9),A6(n,e,e[ri],2,null,null)}function ZB(n){let e=n[td];if(!e)return ob(n[Pt],n);for(;e;){let t=null;if(Rs(e))t=e[td];else{let i=e[Or];i&&(t=i)}if(!t){for(;e&&!e[Pa]&&e!==n;)Rs(e)&&ob(e[Pt],e),e=e[br];e===null&&(e=n),Rs(e)&&ob(e[Pt],e),t=e&&e[Pa]}e=t}}function b_(n,e){let t=n[D2],i=t.indexOf(e);t.splice(i,1)}function z6(n,e){if(E2(e))return;let t=e[ri];t.destroyNode&&A6(n,e,t,3,null,null),ZB(e)}function ob(n,e){if(E2(e))return;let t=Ft(null);try{e[Ut]&=-129,e[Ut]|=256,e[ra]&&H0(e[ra]),KB(n,e),XB(n,e),e[Pt].type===1&&e[ri].destroy();let i=e[qc];if(i!==null&&ts(e[br])){i!==e[br]&&b_(i,e);let r=e[Ns];r!==null&&r.detachView(n)}vb(e)}finally{Ft(t)}}function XB(n,e){let t=n.cleanup,i=e[ed];if(t!==null)for(let a=0;a<t.length-1;a+=2)if(typeof t[a]=="string"){let c=t[a+3];c>=0?i[c]():i[-c].unsubscribe(),a+=2}else{let c=i[t[a+1]];t[a].call(c)}i!==null&&(e[ed]=null);let r=e[Hl];if(r!==null){e[Hl]=null;for(let a=0;a<r.length;a++){let c=r[a];c()}}let o=e[Wl];if(o!==null){e[Wl]=null;for(let a of o)a.destroy()}}function KB(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof z2)){let o=t[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let c=r[o[a]],u=o[a+1];ei(4,c,u);try{u.call(c)}finally{ei(5,c,u)}}else{ei(4,r,o);try{o.call(r)}finally{ei(5,r,o)}}}}}function wk(n,e,t){return QB(n,e.parent,t)}function QB(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[es];if(Xc(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===Yl.None||r===Yl.Emulated)return null}return ns(i,t)}function Sk(n,e,t){return ej(n,e,t)}function JB(n,e,t){return n.type&40?ns(n,t):null}var ej=JB,pP;function __(n,e,t,i){let r=wk(n,i,e),o=e[ri],a=i.parent||e[fo],c=Sk(a,i,e);if(r!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)uP(o,r,t[u],c,!1);else uP(o,r,t,c,!1);pP!==void 0&&pP(o,i,e,t,r)}function W3(n,e){if(e!==null){let t=e.type;if(t&3)return ns(e,n);if(t&4)return Db(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return W3(n,i);{let r=n[e.index];return ts(r)?Db(-1,r):ka(r)}}else{if(t&128)return W3(n,e.next);if(t&32)return v_(e,n)()||ka(n[e.index]);{let i=Pk(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Gc(n[mo]);return W3(r,i)}else return W3(n,e.next)}}}return null}function Pk(n,e){if(e!==null){let i=n[mo][fo],r=e.projection;return i.projection[r]}return null}function Db(n,e){let t=Or+n+1;if(t<e.length){let i=e[t],r=i[Pt].firstChild;if(r!==null)return W3(i,r)}return e[Zc]}function y_(n,e,t,i,r,o,a){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=i[t.index],u=t.type;if(a&&e===0&&(c&&pd(ka(c),i),t.flags|=2),!E6(t))if(u&8)y_(n,e,t.child,i,r,o,!1),cd(e,n,r,c,o);else if(u&32){let h=v_(t,i),v;for(;v=h();)cd(e,n,r,v,o);cd(e,n,r,c,o)}else u&16?kk(n,e,i,t,r,o):cd(e,n,r,c,o);t=a?t.projectionNext:t.next}}function A6(n,e,t,i,r,o){y_(t,i,n.firstChild,e,r,o,!1)}function tj(n,e,t){let i=e[ri],r=wk(n,t,e),o=t.parent||e[fo],a=Sk(o,t,e);kk(i,0,e,t,r,a)}function kk(n,e,t,i,r,o){let a=t[mo],u=a[fo].projection[i.projection];if(Array.isArray(u))for(let h=0;h<u.length;h++){let v=u[h];cd(e,n,r,v,o)}else{let h=u,v=a[br];qP(i)&&(h.flags|=128),y_(n,e,h,v,r,o,!0)}}function nj(n,e,t,i,r){let o=t[Zc],a=ka(t);o!==a&&cd(e,n,i,o,r);for(let c=Or;c<t.length;c++){let u=t[c];A6(u[Pt],u,n,e,i,o)}}function ij(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:as.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=as.Important),n.setStyle(t,i,r,o))}}function Ok(n,e,t,i,r){let o=is(),a=i&2;try{Qc(-1),a&&e.length>_i&&Ck(n,e,_i,!1),ei(a?2:0,r,t),t(i,r)}finally{Qc(o),ei(a?3:1,r,t)}}function N6(n,e,t){cj(n,e,t),(t.flags&64)===64&&dj(n,e,t)}function ou(n,e,t=ns){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let a=i[o+1],c=a===-1?t(e,n):n[a];n[r++]=c}}}function rj(n,e,t,i){let o=i.get(nk,tk)||t===Yl.ShadowDom,a=n.selectRootElement(e,o);return oj(a),a}function oj(n){aj(n)}var aj=()=>null;function sj(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Dk(n,e,t,i,r,o){let a=e[Pt];if(w_(n,a,e,t,i)){Xc(n)&&lj(e,n.index);return}n.type&3&&(t=sj(t)),Ek(n,e,t,i,r,o)}function Ek(n,e,t,i,r,o){if(n.type&3){let a=ns(n,e);i=o!=null?o(i,n.value||"",t):i,r.setProperty(a,t,i)}else n.type&12}function lj(n,e){let t=Oa(e,n);t[Ut]&16||(t[Ut]|=64)}function cj(n,e,t){let i=t.directiveStart,r=t.directiveEnd;Xc(t)&&WB(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||p6(t,e);let o=t.initialInputs;for(let a=i;a<r;a++){let c=n.data[a],u=Y3(e,n,a,t);if(pd(u,e),o!==null&&mj(e,a-i,u,c,t,o),Fs(c)){let h=Oa(t.index,e);h[Gi]=Y3(e,n,a,t)}}}function dj(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,a=US();try{Qc(o);for(let c=i;c<r;c++){let u=n.data[c],h=e[c];Gm(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&uj(u,h)}}finally{Qc(-1),Gm(a)}}function uj(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function x_(n,e){let t=n.directiveRegistry,i=null;if(t)for(let r=0;r<t.length;r++){let o=t[r];hk(e,o.selectors,!1)&&(i??=[],Fs(o)?i.unshift(o):i.push(o))}return i}function pj(n,e,t,i,r,o){let a=ns(n,e);fj(e[ri],a,o,n.value,t,i,r)}function fj(n,e,t,i,r,o,a){if(o==null)n.removeAttribute(e,r,t);else{let c=a==null?Sa(o):a(o,i||"",r);n.setAttribute(e,r,c,t)}}function mj(n,e,t,i,r,o){let a=o[e];if(a!==null)for(let c=0;c<a.length;c+=2){let u=a[c],h=a[c+1];Ob(i,t,u,h)}}function C_(n,e,t,i,r){let o=_i+t,a=e[Pt],c=r(a,e,n,i,t);e[o]=c,rd(n,!0);let u=n.type===2;return u?(_k(e[ri],c,n),(NS()===0||nd(n))&&pd(c,e),RS()):pd(c,e),Xm()&&(!u||!E6(n))&&__(a,e,c,n),n}function M_(n){let e=n;return $9()?W9():(e=e.parent,rd(e,!1)),e}function hj(n,e){let t=n[S2];if(!t)return;t.get(Ro,null)?.(e)}function w_(n,e,t,i,r){let o=n.inputs?.[i],a=n.hostDirectiveInputs?.[i],c=!1;if(a)for(let u=0;u<a.length;u+=2){let h=a[u],v=a[u+1],y=e.data[h];Ob(y,t[h],v,r),c=!0}if(o)for(let u of o){let h=t[u],v=e.data[u];Ob(v,h,i,r),c=!0}return c}function gj(n,e){let t=Oa(e,n),i=t[Pt];vj(i,t);let r=t[es];r!==null&&t[w2]===null&&(t[w2]=ik(r,t[S2])),ei(18),S_(i,t,t[Gi]),ei(19,t[Gi])}function vj(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function S_(n,e,t){qm(e);try{let i=n.viewQuery;i!==null&&_b(1,i,t);let r=n.template;r!==null&&Ok(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ns]?.finishViewCreation(n),n.staticContentQueries&&rk(n,e),n.staticViewQueries&&_b(2,n.viewQuery,t);let o=n.components;o!==null&&bj(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Ut]&=-5,Zm()}}function bj(n,e){for(let t=0;t<e.length;t++)gj(n,e[t])}function au(n,e,t,i){let r=Ft(null);try{let o=e.tView,c=n[Ut]&4096?4096:16,u=h_(n,o,t,c,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),h=n[e.index];u[qc]=h;let v=n[Ns];return v!==null&&(u[Ns]=v.createEmbeddedView(o)),S_(o,u,t),u}finally{Ft(r)}}function fd(n,e){return!e||e.firstChild===null||qP(n)}var fP=!1,_j=new He("");function q3(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(ka(o)),ts(o)&&Ik(o,i);let a=t.type;if(a&8)q3(n,e,t.child,i);else if(a&32){let c=v_(t,e),u;for(;u=c();)i.push(u)}else if(a&16){let c=Pk(e,t);if(Array.isArray(c))i.push(...c);else{let u=Gc(e[mo]);q3(u[Pt],u,c,i,!0)}}t=r?t.projectionNext:t.next}return i}function Ik(n,e){for(let t=Or;t<n.length;t++){let i=n[t],r=i[Pt].firstChild;r!==null&&q3(i[Pt],i,r,e)}n[Zc]!==n[es]&&e.push(n[Zc])}function Tk(n){if(n[O2]!==null){for(let e of n[O2])e.impl.addSequence(e);n[O2].length=0}}var Lk=[];function yj(n){return n[ra]??xj(n)}function xj(n){let e=Lk.pop()??Object.create(Mj);return e.lView=n,e}function Cj(n){n.lView[ra]!==n&&(n.lView=null,Lk.push(n))}var Mj=Ve(ie({},zc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Kc(n.lView)},consumerOnSignalRead(){this.lView[ra]=this}});function wj(n){let e=n[ra]??Object.create(Sj);return e.lView=n,e}var Sj=Ve(ie({},zc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Gc(n.lView);for(;e&&!zk(e[Pt]);)e=Gc(e);e&&A9(e)},consumerOnSignalRead(){this.lView[ra]=this}});function zk(n){return n.type!==2}function Ak(n){if(n[Wl]===null)return;let e=!0;for(;e;){let t=!1;for(let i of n[Wl])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=t&&!!(n[Ut]&8192)}}var Pj=100;function P_(n,e=0){let i=n[As].rendererFactory,r=!1;r||i.begin?.();try{kj(n,e)}finally{r||i.end?.()}}function kj(n,e){let t=Y9();try{od(!0),Eb(n,e);let i=0;for(;V3(n);){if(i===Pj)throw new Ze(103,!1);i++,Eb(n,1)}}finally{od(t)}}function Nk(n,e){G9(e?B3.Exhaustive:B3.OnlyDirtyViews);try{P_(n)}finally{G9(B3.Off)}}function Oj(n,e,t,i){if(E2(e))return;let r=e[Ut],o=!1,a=!1;qm(e);let c=!0,u=null,h=null;o||(zk(n)?(h=yj(e),u=Ac(h)):Yf()===null?(c=!1,h=wj(e),u=Ac(h)):e[ra]&&(H0(e[ra]),e[ra]=null));try{z9(e),BS(n.bindingStartIndex),t!==null&&Ok(n,e,t,2,i);let v=(r&3)===3;if(!o)if(v){let S=n.preOrderCheckHooks;S!==null&&i6(e,S,null)}else{let S=n.preOrderHooks;S!==null&&r6(e,S,0,null),ib(e,0)}if(a||Dj(e),Ak(e),Rk(e,0),n.contentQueries!==null&&rk(n,e),!o)if(v){let S=n.contentCheckHooks;S!==null&&i6(e,S)}else{let S=n.contentHooks;S!==null&&r6(e,S,1),ib(e,1)}Ij(n,e);let y=n.components;y!==null&&Vk(e,y,0);let P=n.viewQuery;if(P!==null&&_b(2,P,i),!o)if(v){let S=n.viewCheckHooks;S!==null&&i6(e,S)}else{let S=n.viewHooks;S!==null&&r6(e,S,2),ib(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Hm]){for(let S of e[Hm])S();e[Hm]=null}o||(Tk(e),e[Ut]&=-73)}catch(v){throw o||Kc(e),v}finally{h!==null&&(p2(h,u),c&&Cj(h)),Zm()}}function Rk(n,e){for(let t=XP(n);t!==null;t=KP(t))for(let i=Or;i<t.length;i++){let r=t[i];Fk(r,e)}}function Dj(n){for(let e=XP(n);e!==null;e=KP(e)){if(!(e[Ut]&2))continue;let t=e[D2];for(let i=0;i<t.length;i++){let r=t[i];A9(r)}}}function Ej(n,e,t){ei(18);let i=Oa(e,n);Fk(i,t),ei(19,i[Gi])}function Fk(n,e){Um(n)&&Eb(n,e)}function Eb(n,e){let i=n[Pt],r=n[Ut],o=n[ra],a=!!(e===0&&r&16);if(a||=!!(r&64&&e===0),a||=!!(r&1024),a||=!!(o?.dirty&&j0(o)),a||=!1,o&&(o.dirty=!1),n[Ut]&=-9217,a)Oj(i,n,i.template,n[Gi]);else if(r&8192){let c=Ft(null);try{Ak(n),Rk(n,1);let u=i.components;u!==null&&Vk(n,u,1),Tk(n)}finally{Ft(c)}}}function Vk(n,e,t){for(let i=0;i<e.length;i++)Ej(n,e[i],t)}function Ij(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)Qc(~r);else{let o=r,a=t[++i],c=t[++i];HS(a,o);let u=e[o];ei(24,u),c(2,u),ei(25,u)}}}finally{Qc(-1)}}function k_(n,e){let t=Y9()?64:1088;for(n[As].changeDetectionScheduler?.notify(e);n;){n[Ut]|=t;let i=Gc(n);if(id(n)&&!i)return n;n=i}return null}function Bk(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function jk(n,e){let t=Or+e;if(t<n.length)return n[t]}function su(n,e,t,i=!0){let r=e[Pt];if(Tj(r,e,n,t),i){let a=Db(t,n),c=e[ri],u=c.parentNode(n[Zc]);u!==null&&qB(r,n[fo],c,e,u,a)}let o=e[w2];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Hk(n,e){let t=Z3(n,e);return t!==void 0&&z6(t[Pt],t),t}function Z3(n,e){if(n.length<=Or)return;let t=Or+e,i=n[t];if(i){let r=i[qc];r!==null&&r!==n&&b_(r,i),e>0&&(n[t-1][Pa]=i[Pa]);let o=T3(n,Or+e);YB(i[Pt],i);let a=o[Ns];a!==null&&a.detachView(o[Pt]),i[br]=null,i[Pa]=null,i[Ut]&=-129}return i}function Tj(n,e,t,i){let r=Or+i,o=t.length;i>0&&(t[r-1][Pa]=e),i<o-Or?(e[Pa]=t[r],_9(t,Or+i,e)):(t.push(e),e[Pa]=null),e[br]=t;let a=e[qc];a!==null&&t!==a&&Uk(a,e);let c=e[Ns];c!==null&&c.insertView(n),$m(e),e[Ut]|=128}function Uk(n,e){let t=n[D2],i=e[br];if(Rs(i))n[Ut]|=2;else{let r=i[br][mo];e[mo]!==r&&(n[Ut]|=2)}t===null?n[D2]=[e]:t.push(e)}var Jc=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[Pt];return q3(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Gi]}set context(e){this._lView[Gi]=e}get destroyed(){return E2(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[br];if(ts(e)){let t=e[N3],i=t?t.indexOf(this):-1;i>-1&&(Z3(e,i),T3(t,i))}this._attachedToViewContainer=!1}z6(this._lView[Pt],this._lView)}onDestroy(e){N9(this._lView,e)}markForCheck(){k_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ut]&=-129}reattach(){$m(this._lView),this._lView[Ut]|=128}detectChanges(){this._lView[Ut]|=1024,P_(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[S2].get(_j,fP)}catch{this.exhaustive=fP}}attachToViewContainerRef(){if(this._appRef)throw new Ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=id(this._lView),t=this._lView[qc];t!==null&&!e&&b_(t,this._lView),Mk(this._lView[Pt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ze(902,!1);this._appRef=e;let t=id(this._lView),i=this._lView[qc];i!==null&&!t&&Uk(i,this._lView),$m(this._lView)}};var Qr=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Lj;constructor(t,i,r){this._declarationLView=t,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,r){let o=au(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:i,dehydratedView:r});return new Jc(o)}}return n})();function Lj(){return R6(rr(),bt())}function R6(n,e){return n.type&4?new Qr(e,n,vd(n,e)):null}function yd(n,e,t,i,r){let o=n.data[e];if(o===null)o=zj(n,e,t,i,r),jS()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let a=FS();o.injectorIndex=a===null?-1:a.injectorIndex}return rd(o,!0),o}function zj(n,e,t,i,r){let o=U9(),a=$9(),c=a?o:o&&o.parent,u=n.data[e]=Nj(n,c,t,e,i,r);return Aj(n,u,o,a),u}function Aj(n,e,t,i){n.firstChild===null&&(n.firstChild=e),t!==null&&(i?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function Nj(n,e,t,i,r,o){let a=e?e.injectorIndex:-1,c=0;return B9()&&(c|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var uge=new RegExp(`^(\\d+)*(${eB}|${JV})*(.*)`);function Rj(n){let e=n[D9]??[],i=n[br][ri],r=[];for(let o of e)o.data[ek]!==void 0?r.push(o):Fj(o,i);n[D9]=r}function Fj(n,e){let t=0,i=n.firstChild;if(i){let r=n.data[JP];for(;t<r;){let o=i.nextSibling;bk(e,i,!1),i=o,t++}}}var Vj=()=>null,Bj=()=>null;function h6(n,e){return Vj(n,e)}function $k(n,e,t){return Bj(n,e,t)}var Wk=class{},F6=class{},Ib=class{resolveComponentFactory(e){throw new Ze(917,!1)}},lu=class{static NULL=new Ib},Dr=class{},Yi=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>jj()}return n})();function jj(){let n=bt(),e=rr(),t=Oa(e.index,n);return(Rs(t)?t:n)[ri]}var Gk=(()=>{class n{static \u0275prov=me({token:n,providedIn:"root",factory:()=>null})}return n})();var a6={},Tb=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){let r=this.injector.get(e,a6,i);return r!==a6||t===a6?r:this.parentInjector.get(e,t,i)}};function g6(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number")o=c;else if(o==1)r=Am(r,c);else if(o==2){let u=c,h=e[++a];i=Am(i,u+": "+h+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function V(n,e=0){let t=bt();if(t===null)return De(n,e);let i=rr();return WP(i,t,Hr(n),e)}function O_(){let n="invalid";throw new Error(n)}function Yk(n,e,t,i,r){let o=i===null?null:{"":-1},a=r(n,t);if(a!==null){let c=a,u=null,h=null;for(let v of a)if(v.resolveHostDirectives!==null){[c,u,h]=v.resolveHostDirectives(a);break}$j(n,e,t,c,o,u,h)}o!==null&&i!==null&&Hj(t,i,o)}function Hj(n,e,t){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new Ze(-301,!1);i.push(e[r],o)}}function Uj(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function $j(n,e,t,i,r,o,a){let c=i.length,u=!1;for(let P=0;P<c;P++){let S=i[P];!u&&Fs(S)&&(u=!0,Uj(n,t,P)),hb(p6(t,e),n,S.type)}Xj(t,n.data.length,c);for(let P=0;P<c;P++){let S=i[P];S.providersResolver&&S.providersResolver(S)}let h=!1,v=!1,y=xk(n,e,c,null);c>0&&(t.directiveToIndex=new Map);for(let P=0;P<c;P++){let S=i[P];if(t.mergedAttrs=ud(t.mergedAttrs,S.hostAttrs),Gj(n,t,e,y,S),Zj(y,S,r),a!==null&&a.has(S)){let[O,R]=a.get(S);t.directiveToIndex.set(S.type,[y,O+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(S))&&t.directiveToIndex.set(S.type,y);S.contentQueries!==null&&(t.flags|=4),(S.hostBindings!==null||S.hostAttrs!==null||S.hostVars!==0)&&(t.flags|=64);let M=S.type.prototype;!h&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),h=!0),!v&&(M.ngOnChanges||M.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),v=!0),y++}Wj(n,t,o)}function Wj(n,e,t){for(let i=e.directiveStart;i<e.directiveEnd;i++){let r=n.data[i];if(t===null||!t.has(r))mP(0,e,r,i),mP(1,e,r,i),gP(e,i,!1);else{let o=t.get(r);hP(0,e,o,i),hP(1,e,o,i),gP(e,i,!0)}}}function mP(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let a;n===0?a=e.inputs??={}:a=e.outputs??={},a[o]??=[],a[o].push(i),qk(e,o)}}function hP(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let a=r[o],c;n===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[a]??=[],c[a].push(i,o),qk(e,a)}}function qk(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function gP(n,e,t){let{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(i===null||!t&&r===null||t&&o===null||f_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let a=null,c=0;for(;c<i.length;){let u=i[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!t&&r.hasOwnProperty(u)){let h=r[u];for(let v of h)if(v===e){a??=[],a.push(u,i[c+1]);break}}else if(t&&o.hasOwnProperty(u)){let h=o[u];for(let v=0;v<h.length;v+=2)if(h[v]===e){a??=[],a.push(h[v+1],i[c+1]);break}}c+=2}n.initialInputs??=[],n.initialInputs.push(a)}function Gj(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=Wc(r.type,!0)),a=new z2(o,Fs(r),V,null);n.blueprint[i]=a,t[i]=a,Yj(n,e,i,xk(n,t,r.hostVars,Er),r)}function Yj(n,e,t,i,r){let o=r.hostBindings;if(o){let a=n.hostBindingOpCodes;a===null&&(a=n.hostBindingOpCodes=[]);let c=~e.index;qj(a)!=c&&a.push(c),a.push(t,i,o)}}function qj(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Zj(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Fs(e)&&(t[""]=n)}}function Xj(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function D_(n,e,t,i,r,o,a,c){let u=e[Pt],h=u.consts,v=Da(h,a),y=yd(u,n,t,i,v);return o&&Yk(u,e,y,Da(h,c),r),y.mergedAttrs=ud(y.mergedAttrs,y.attrs),y.attrs!==null&&g6(y,y.attrs,!1),y.mergedAttrs!==null&&g6(y,y.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,y),y}function E_(n,e){NP(n,e),E9(e)&&n.queries.elementEnd(e)}function Kj(n,e,t,i,r,o){let a=e.consts,c=Da(a,r),u=yd(e,n,t,i,c);if(u.mergedAttrs=ud(u.mergedAttrs,u.attrs),o!=null){let h=Da(a,o);u.localNames=[];for(let v=0;v<h.length;v+=2)u.localNames.push(h[v],-1)}return u.attrs!==null&&g6(u,u.attrs,!1),u.mergedAttrs!==null&&g6(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function I_(n){return V6(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Zk(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function V6(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function xd(n,e,t){return n[e]=t}function Xk(n,e){return n[e]}function Fo(n,e,t){if(t===Er)return!1;let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function X3(n,e,t,i){let r=Fo(n,e,t);return Fo(n,e+1,i)||r}function T_(n,e,t,i,r){let o=X3(n,e,t,i);return Fo(n,e+2,r)||o}function Kk(n,e,t,i,r,o){let a=X3(n,e,t,i);return X3(n,e+2,r,o)||a}function s6(n,e,t){return function i(r){let o=Xc(n)?Oa(n.index,e):e;k_(o,5);let a=e[Gi],c=vP(e,a,t,r),u=i.__ngNextListenerFn__;for(;u;)c=vP(e,a,u,r)&&c,u=u.__ngNextListenerFn__;return c}}function vP(n,e,t,i){let r=Ft(null);try{return ei(6,e,t),t(i)!==!1}catch(o){return hj(n,o),!1}finally{ei(7,e,t),Ft(r)}}function Qk(n,e,t,i,r,o,a,c){let u=nd(n),h=!1,v=null;if(!i&&u&&(v=Qj(e,t,o,n.index)),v!==null){let y=v.__ngLastListenerFn__||v;y.__ngNextListenerFn__=a,v.__ngLastListenerFn__=a,h=!0}else{let y=ns(n,t),P=i?i(y):y;nB(t,P,o,c);let S=r.listen(P,o,c),M=i?O=>i(ka(O[n.index])):n.index;Jk(M,e,t,o,c,S,!1)}return h}function Qj(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let a=r[o];if(a===t&&r[o+1]===i){let c=e[ed],u=r[o+2];return c&&c.length>u?c[u]:null}typeof a=="string"&&(o+=2)}return null}function Jk(n,e,t,i,r,o,a){let c=e.firstCreatePass?F9(e):null,u=R9(t),h=u.length;u.push(r,o),c&&c.push(i,n,h,(h+1)*(a?-1:1))}function bP(n,e,t,i,r,o){let a=e[t],c=e[Pt],h=c.data[t].outputs[i],y=a[h].subscribe(o);Jk(n.index,c,e,r,o,y,!0)}var Lb=Symbol("BINDING");var v6=class extends lu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ls(e);return new e1(t,this.ngModule)}};function Jj(n){return Object.keys(n).map(e=>{let[t,i,r]=n[e],o={propName:t,templateName:e,isSignal:(i&L6.SignalBased)!==0};return r&&(o.transform=r),o})}function eH(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function tH(n,e,t){let i=e instanceof ui?e:e?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new Tb(t,i):t}function nH(n){let e=n.get(Dr,null);if(e===null)throw new Ze(407,!1);let t=n.get(Gk,null),i=n.get(Qa,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:i,ngReflect:!1}}function iH(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return gk(e,t,t==="svg"?I9:t==="math"?ES:null)}var e1=class extends F6{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Jj(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=eH(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=NB(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,i,r,o,a){ei(22);let c=Ft(null);try{let u=this.componentDef,h=rH(i,u,a,o),v=tH(u,r||this.ngModule,e),y=nH(v),P=y.rendererFactory.createRenderer(null,u),S=i?rj(P,i,u.encapsulation,v):iH(u,P),M=a?.some(_P)||o?.some(B=>typeof B!="function"&&B.bindings.some(_P)),O=h_(null,h,null,512|yk(u),null,null,y,P,v,null,ik(S,v,!0));O[_i]=S,qm(O);let R=null;try{let B=D_(_i,O,2,"#host",()=>h.directiveRegistry,!0,0);S&&(_k(P,S,B),pd(S,O)),N6(h,O,B),o_(h,B,O),E_(h,B),t!==void 0&&aH(B,this.ngContentSelectors,t),R=Oa(B.index,O),O[Gi]=R[Gi],S_(h,O,null)}catch(B){throw R!==null&&vb(R),vb(O),B}finally{ei(23),Zm()}return new b6(this.componentType,O,!!M)}finally{Ft(c)}}};function rH(n,e,t,i){let r=n?["ng-version","20.1.2"]:RB(e.selectors[0]),o=null,a=null,c=0;if(t)for(let v of t)c+=v[Lb].requiredVars,v.create&&(v.targetIdx=0,(o??=[]).push(v)),v.update&&(v.targetIdx=0,(a??=[]).push(v));if(i)for(let v=0;v<i.length;v++){let y=i[v];if(typeof y!="function")for(let P of y.bindings){c+=P[Lb].requiredVars;let S=v+1;P.create&&(P.targetIdx=S,(o??=[]).push(P)),P.update&&(P.targetIdx=S,(a??=[]).push(P))}}let u=[e];if(i)for(let v of i){let y=typeof v=="function"?v:v.type,P=M9(y);u.push(P)}return m_(0,null,oH(o,a),1,c,u,null,null,null,[r],null)}function oH(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let i of n)i.create();if(t&2&&e)for(let i of e)i.update()}}function _P(n){let e=n[Lb].kind;return e==="input"||e==="twoWay"}var b6=class extends Wk{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,i){super(),this._rootLView=t,this._hasInputBindings=i,this._tNode=R3(t[Pt],_i),this.location=vd(this._tNode,t),this.instance=Oa(this._tNode.index,t)[Gi],this.hostView=this.changeDetectorRef=new Jc(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let r=this._rootLView,o=w_(i,r[Pt],r,e,t);this.previousInputValues.set(e,t);let a=Oa(i.index,r);k_(a,1)}get injector(){return new L2(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function aH(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null&&o.length?Array.from(o):null)}}var Ir=(()=>{class n{static __NG_ELEMENT_ID__=sH}return n})();function sH(){let n=rr();return tO(n,bt())}var lH=Ir,eO=class extends lH{_lContainer;_hostTNode;_hostLView;constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return vd(this._hostTNode,this._hostLView)}get injector(){return new L2(this._hostTNode,this._hostLView)}get parentInjector(){let e=t_(this._hostTNode,this._hostLView);if(VP(e)){let t=d6(e,this._hostLView),i=c6(e),r=t[Pt].data[i+8];return new L2(r,t)}else return new L2(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=yP(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Or}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let a=h6(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,a);return this.insertImpl(c,r,fd(this._hostTNode,a)),c}createComponent(e,t,i,r,o,a,c){let u=e&&!kV(e),h;if(u)h=t;else{let R=t||{};h=R.index,i=R.injector,r=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,a=R.directives,c=R.bindings}let v=u?e:new e1(Ls(e)),y=i||this.parentInjector;if(!o&&v.ngModule==null){let B=(u?y:this.parentInjector).get(ui,null);B&&(o=B)}let P=Ls(v.componentType??{}),S=h6(this._lContainer,P?.id??null),M=S?.firstChild??null,O=v.create(y,r,M,o,a,c);return this.insertImpl(O.hostView,h,fd(this._hostTNode,S)),O}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(TS(r)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=r[br],h=new eO(u,u[fo],u[br]);h.detach(h.indexOf(e))}}let o=this._adjustIndex(t),a=this._lContainer;return su(a,r,o,i),e.attachToViewContainerRef(),_9(ab(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=yP(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=Z3(this._lContainer,t);i&&(T3(ab(this._lContainer),t),z6(i[Pt],i))}detach(e){let t=this._adjustIndex(e,-1),i=Z3(this._lContainer,t);return i&&T3(ab(this._lContainer),t)!=null?new Jc(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function yP(n){return n[N3]}function ab(n){return n[N3]||(n[N3]=[])}function tO(n,e){let t,i=e[n.index];return ts(i)?t=i:(t=Bk(i,e,null,n),e[n.index]=t,g_(e,t)),dH(t,e,n,i),new eO(t,n,e)}function cH(n,e){let t=n[ri],i=t.createComment(""),r=ns(e,n),o=t.parentNode(r);return m6(t,o,i,t.nextSibling(r),!1),i}var dH=fH,uH=()=>!1;function pH(n,e,t){return uH(n,e,t)}function fH(n,e,t,i){if(n[Zc])return;let r;t.type&8?r=ka(i):r=cH(e,t),n[Zc]=r}var zb=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Ab=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let a=t.getByIndex(o),c=this.queries[a.indexInDeclarationView];r.push(c.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)L_(e,t).matches!==null&&this.queries[t].setDirty()}},_6=class{flags;read;predicate;constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=xH(e):this.predicate=e}},Nb=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Rb=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,mH(t,o)),this.matchTNodeWithReadOption(e,t,o6(t,e,o,!1,!1))}else i===Qr?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,o6(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Yt||r===Ir||r===Qr&&t.type&4)this.addMatch(t.index,-2);else{let o=o6(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function mH(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function hH(n,e){return n.type&11?vd(n,e):n.type&4?R6(n,e):null}function gH(n,e,t,i){return t===-1?hH(e,n):t===-2?vH(n,e,i):Y3(n,n[Pt],t,e)}function vH(n,e,t){if(t===Yt)return vd(e,n);if(t===Qr)return R6(e,n);if(t===Ir)return tO(e,n)}function nO(n,e,t,i){let r=e[Ns].queries[i];if(r.matches===null){let o=n.data,a=t.matches,c=[];for(let u=0;a!==null&&u<a.length;u+=2){let h=a[u];if(h<0)c.push(null);else{let v=o[h];c.push(gH(e,v,a[u+1],t.metadata.read))}}r.matches=c}return r.matches}function Fb(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let a=nO(n,e,r,t);for(let c=0;c<o.length;c+=2){let u=o[c];if(u>0)i.push(a[c/2]);else{let h=o[c+1],v=e[-u];for(let y=Or;y<v.length;y++){let P=v[y];P[qc]===P[br]&&Fb(P[Pt],P,h,i)}if(v[D2]!==null){let y=v[D2];for(let P=0;P<y.length;P++){let S=y[P];Fb(S[Pt],S,h,i)}}}}}return i}function bH(n,e){return n[Ns].queries[e].queryList}function iO(n,e,t){let i=new f6((t&4)===4);return AS(n,e,i,i.destroy),(e[Ns]??=new Ab).queries.push(new zb(i))-1}function _H(n,e,t){let i=Mi();return i.firstCreatePass&&(rO(i,new _6(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),iO(i,bt(),e)}function yH(n,e,t,i){let r=Mi();if(r.firstCreatePass){let o=rr();rO(r,new _6(e,t,i),o.index),CH(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return iO(r,bt(),t)}function xH(n){return n.split(",").map(e=>e.trim())}function rO(n,e,t){n.queries===null&&(n.queries=new Nb),n.queries.track(new Rb(e,t))}function CH(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function L_(n,e){return n.queries.getByIndex(e)}function MH(n,e){let t=n[Pt],i=L_(t,e);return i.crossesNgTemplate?Fb(t,n,e,[]):nO(t,n,i,e)}var xP=new Set;function ss(n){xP.has(n)||(xP.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Hs=class{},B6=class{};var y6=class extends Hs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new v6(this);constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t;let o=C9(e);this._bootstrapComponents=fk(o.bootstrap),this._r3Injector=Q9(e,t,[{provide:Hs,useValue:this},{provide:lu,useValue:this.componentFactoryResolver},...i],Ul(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},x6=class extends B6{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new y6(this.moduleType,e,[])}};var K3=class extends Hs{injector;componentFactoryResolver=new v6(this);instance=null;constructor(e){super();let t=new C2([...e.providers,{provide:Hs,useValue:this},{provide:lu,useValue:this.componentFactoryResolver}],e.parent||J0(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Cd(n,e,t=null){return new K3({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var wH=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=w9(!1,t.type),r=i.length>0?Cd([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=me({token:n,providedIn:"environment",factory:()=>new n(De(ui))})}return n})();function le(n){return hd(()=>{let e=oO(n),t=Ve(ie({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===n_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(wH).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Yl.Emulated,styles:n.styles||po,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ss("NgStandalone"),aO(t);let i=n.dependencies;return t.directiveDefs=CP(i,SH),t.pipeDefs=CP(i,wS),t.id=OH(t),t})}function SH(n){return Ls(n)||M9(n)}function xn(n){return hd(()=>({type:n.type,bootstrap:n.bootstrap||po,declarations:n.declarations||po,imports:n.imports||po,exports:n.exports||po,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function PH(n,e){if(n==null)return Yc;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,a,c,u;Array.isArray(r)?(c=r[0],o=r[1],a=r[2]??o,u=r[3]||null):(o=r,a=r,c=L6.None,u=null),t[o]=[i,c,u],e[o]=a}return t}function kH(n){if(n==null)return Yc;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function ct(n){return hd(()=>{let e=oO(n);return aO(e),e})}function Kl(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function oO(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Yc,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||po,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:PH(n.inputs,e),outputs:kH(n.outputs),debugInfo:null}}function aO(n){n.features?.forEach(e=>e(n))}function CP(n,e){return n?()=>{let t=typeof n=="function"?n():n,i=[];for(let r of t){let o=e(r);o!==null&&i.push(o)}return i}:null}function OH(n){let e=0,t=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function DH(n){return Object.getPrototypeOf(n.prototype).constructor}function Fn(n){let e=DH(n.type),t=!0,i=[n];for(;e;){let r;if(Fs(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ze(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let a=n;a.inputs=sb(n.inputs),a.declaredInputs=sb(n.declaredInputs),a.outputs=sb(n.outputs);let c=r.hostBindings;c&&zH(n,c);let u=r.viewQuery,h=r.contentQueries;if(u&&TH(n,u),h&&LH(n,h),EH(n,r),hS(n.outputs,r.outputs),Fs(r)&&r.data.animation){let v=n.data;v.animation=(v.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let a=0;a<o.length;a++){let c=o[a];c&&c.ngInherit&&c(n),c===Fn&&(t=!1)}}e=Object.getPrototypeOf(e)}IH(i)}function EH(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t])}}function IH(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=ud(r.hostAttrs,t=ud(t,r.hostAttrs))}}function sb(n){return n===Yc?{}:n===po?[]:n}function TH(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function LH(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function zH(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function sO(n,e,t,i,r,o,a,c){if(t.firstCreatePass){n.mergedAttrs=ud(n.mergedAttrs,n.attrs);let v=n.tView=m_(2,n,r,o,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),v.queries=t.queries.embeddedTView(n))}c&&(n.flags|=c),rd(n,!1);let u=NH(t,e,n,i);Xm()&&__(t,e,u,n),pd(u,e);let h=Bk(u,e,u,n);e[i+_i]=h,g_(e,h),pH(h,n,e)}function AH(n,e,t,i,r,o,a,c,u,h,v){let y=t+_i,P;return e.firstCreatePass?(P=yd(e,y,4,a||null,c||null),Wm()&&Yk(e,n,P,Da(e.consts,h),x_),NP(e,P)):P=e.data[y],sO(P,n,e,t,i,r,o,u),nd(P)&&N6(e,n,P),h!=null&&ou(n,P,v),P}function Q3(n,e,t,i,r,o,a,c,u,h,v){let y=t+_i,P;if(e.firstCreatePass){if(P=yd(e,y,4,a||null,c||null),h!=null){let S=Da(e.consts,h);P.localNames=[];for(let M=0;M<S.length;M+=2)P.localNames.push(S[M],-1)}}else P=e.data[y];return sO(P,n,e,t,i,r,o,u),h!=null&&ou(n,P,v),P}function j(n,e,t,i,r,o,a,c){let u=bt(),h=Mi(),v=Da(h.consts,o);return AH(u,h,n,e,t,i,r,v,void 0,a,c),j}var NH=RH;function RH(n,e,t,i){return U3(!0),e[ri].createComment("")}var j6=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(j6||{}),N2=new He(""),lO=!1,Vb=class extends Re{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,OS()&&(this.destroyRef=q(Ur,{optional:!0})??void 0,this.pendingTasks=q(Bs,{optional:!0})??void 0)}emit(e){let t=Ft(null);try{super.next(e)}finally{Ft(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),a=i;if(e&&typeof e=="object"){let u=e;r=u.next?.bind(u),o=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),a&&(a=this.wrapInTimeout(a)));let c=super.subscribe({next:r,error:o,complete:a});return e instanceof jn&&e.add(c),c}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},ye=Vb;function cO(n){let e,t;function i(){n=I2;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function MP(n){return queueMicrotask(()=>n()),()=>{n=I2}}var z_="isAngularZone",C6=z_+"_ID",FH=0,St=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ye(!1);onMicrotaskEmpty=new ye(!1);onStable=new ye(!1);onError=new ye(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=lO}=e;if(typeof Zone>"u")throw new Ze(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&i,a.shouldCoalesceRunChangeDetection=r,a.callbackScheduled=!1,a.scheduleInRootZone=o,jH(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(z_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Ze(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Ze(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,e,VH,I2,I2);try{return o.runTask(a,t,i)}finally{o.cancelTask(a)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},VH={};function A_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function BH(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){cO(()=>{n.callbackScheduled=!1,Bb(n),n.isCheckStableRunning=!0,A_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Bb(n)}function jH(n){let e=()=>{BH(n)},t=FH++;n._inner=n._inner.fork({name:"angular",properties:{[z_]:!0,[C6]:t,[C6+t]:!0},onInvokeTask:(i,r,o,a,c,u)=>{if(HH(u))return i.invokeTask(o,a,c,u);try{return wP(n),i.invokeTask(o,a,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),SP(n)}},onInvoke:(i,r,o,a,c,u,h)=>{try{return wP(n),i.invoke(o,a,c,u,h)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!UH(u)&&e(),SP(n)}},onHasTask:(i,r,o,a)=>{i.hasTask(o,a),r===o&&(a.change=="microTask"?(n._hasPendingMicrotasks=a.microTask,Bb(n),A_(n)):a.change=="macroTask"&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(i,r,o,a)=>(i.handleError(o,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}function Bb(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function wP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function SP(n){n._nesting--,A_(n)}var M6=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ye;onMicrotaskEmpty=new ye;onStable=new ye;onError=new ye;run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function HH(n){return dO(n,"__ignore_ng_zone__")}function UH(n){return dO(n,"__scheduler_tick__")}function dO(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var N_=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=me({token:n,providedIn:"root",factory:()=>new n})}return n})(),uO=[0,1,2,3],pO=(()=>{class n{ngZone=q(St);scheduler=q(Qa);errorHandler=q(ia,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){q(N2,{optional:!0})}execute(){let t=this.sequences.size>0;t&&ei(16),this.executing=!0;for(let i of uO)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&ei(17)}register(t){let{view:i}=t;i!==void 0?((i[O2]??=[]).push(t),Kc(i),i[Ut]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,i){return i?i.run(j6.AFTER_NEXT_RENDER,t):t()}static \u0275prov=me({token:n,providedIn:"root",factory:()=>new n})}return n})(),w6=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,i,r,o,a=null){this.impl=e,this.hooks=t,this.view=i,this.once=r,this.snapshot=a,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[O2];e&&(this.view[O2]=e.filter(t=>t!==this))}};function Bo(n,e){let t=e?.injector??q(yn);return ss("NgAfterNextRender"),WH(n,t,e,!0)}function $H(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function WH(n,e,t,i){let r=e.get(N_);r.impl??=e.get(pO);let o=e.get(N2,null,{optional:!0}),a=t?.manualCleanup!==!0?e.get(Ur):null,c=e.get(sd,null,{optional:!0}),u=new w6(r.impl,$H(n),c?.view,i,a,o?.snapshot(null));return r.impl.register(u),u}var H6=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var R_=new He("");function t1(n){return!!n&&typeof n.then=="function"}function F_(n){return!!n&&typeof n.subscribe=="function"}var V_=new He("");function U6(n){return zs([{provide:V_,multi:!0,useValue:n}])}var B_=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=q(V_,{optional:!0})??[];injector=q(yn);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=kr(this.injector,r);if(t1(o))t.push(o);else if(F_(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});t.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cu=new He("");function fO(){Ev(()=>{let n="";throw new Ze(600,n)})}function mO(n){return n.isBoundToModule}var GH=10;var Jr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=q(Ro);afterRenderManager=q(N_);zonelessEnabled=q(ad);rootEffectScheduler=q($3);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Re;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=q(Bs);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Ne(t=>!t))}constructor(){q(N2,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=q(ui);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){return this.bootstrapImpl(t,i)}bootstrapImpl(t,i,r=yn.NULL){return this._injector.get(St).run(()=>{ei(10);let a=t instanceof F6;if(!this._injector.get(B_).done){let M="";throw new Ze(405,M)}let u;a?u=t:u=this._injector.get(lu).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let h=mO(u)?void 0:this._injector.get(Hs),v=i||u.selector,y=u.create(r,[],v,h),P=y.location.nativeElement,S=y.injector.get(R_,null);return S?.registerApplication(P),y.onDestroy(()=>{this.detachView(y.hostView),G3(this.components,y),S?.unregisterApplication(P)}),this._loadComponent(y),ei(11,y),y})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ei(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(j6.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Ze(101,!1);let t=Ft(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ft(t),this.afterTick.next(),ei(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Dr,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<GH;)ei(14),this.synchronizeOnce(),ei(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!V3(r))continue;let o=i&&!this.zonelessEnabled?0:1;P_(r,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>V3(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;G3(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(t),this._injector.get(cu,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>G3(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ze(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function G3(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function an(n,e,t,i){let r=bt(),o=Gl();if(Fo(r,o,e)){let a=Mi(),c=H3();pj(c,r,n,e,t,i)}return an}var jb=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),o=this.detach(r);if(r-i>1){let a=this.detach(i);this.attach(i,o),this.attach(r,a)}else this.attach(i,o)}move(e,t){this.attach(t,this.detach(e))}};function lb(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function YH(n,e,t){let i,r,o=0,a=n.length-1,c=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=a&&o<=u;){let h=n.at(o),v=e[o],y=lb(o,h,o,v,t);if(y!==0){y<0&&n.updateValue(o,v),o++;continue}let P=n.at(a),S=e[u],M=lb(a,P,u,S,t);if(M!==0){M<0&&n.updateValue(a,S),a--,u--;continue}let O=t(o,h),R=t(a,P),B=t(o,v);if(Object.is(B,R)){let F=t(u,S);Object.is(F,O)?(n.swap(o,a),n.updateValue(a,S),u--,a--):n.move(a,o),n.updateValue(o,v),o++;continue}if(i??=new S6,r??=kP(n,o,a,t),Hb(n,i,o,B))n.updateValue(o,v),o++,a++;else if(r.has(B))i.set(O,n.detach(o)),a--;else{let F=n.create(o,e[o]);n.attach(o,F),o++,a++}}for(;o<=u;)PP(n,i,t,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),h=u.next();for(;!h.done&&o<=a;){let v=n.at(o),y=h.value,P=lb(o,v,o,y,t);if(P!==0)P<0&&n.updateValue(o,y),o++,h=u.next();else{i??=new S6,r??=kP(n,o,a,t);let S=t(o,y);if(Hb(n,i,o,S))n.updateValue(o,y),o++,a++,h=u.next();else if(!r.has(S))n.attach(o,n.create(o,y)),o++,a++,h=u.next();else{let M=t(o,v);i.set(M,n.detach(o)),a--}}}for(;!h.done;)PP(n,i,t,n.length,h.value),h=u.next()}for(;o<=a;)n.destroy(n.detach(a--));i?.forEach(u=>{n.destroy(u)})}function Hb(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function PP(n,e,t,i,r){if(Hb(n,e,i,t(i,r)))n.updateValue(i,r);else{let o=n.create(i,r);n.attach(i,o)}}function kP(n,e,t,i){let r=new Set;for(let o=e;o<=t;o++)r.add(i(o,n.at(o)));return r}var S6=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};function yr(n,e,t,i,r,o,a,c){ss("NgControlFlow");let u=bt(),h=Mi(),v=Da(h.consts,o);return Q3(u,h,n,e,t,i,r,v,256,a,c),j_}function j_(n,e,t,i,r,o,a,c){ss("NgControlFlow");let u=bt(),h=Mi(),v=Da(h.consts,o);return Q3(u,h,n,e,t,i,r,v,512,a,c),j_}function xr(n,e){ss("NgControlFlow");let t=bt(),i=Gl(),r=t[i]!==Er?t[i]:-1,o=r!==-1?P6(t,_i+r):void 0,a=0;if(Fo(t,i,n)){let c=Ft(null);try{if(o!==void 0&&Hk(o,a),n!==-1){let u=_i+n,h=P6(t,u),v=Gb(t[Pt],u),y=$k(h,v,t),P=au(t,v,e,{dehydratedView:y});su(h,P,a,fd(v,y))}}finally{Ft(c)}}else if(o!==void 0){let c=jk(o,a);c!==void 0&&(c[Gi]=e)}}var Ub=class{lContainer;$implicit;$index;constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-Or}};function H_(n){return n}function U_(n,e){return e}var $b=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function du(n,e,t,i,r,o,a,c,u,h,v,y,P){ss("NgControlFlow");let S=bt(),M=Mi(),O=u!==void 0,R=bt(),B=c?a.bind(R[mo][Gi]):a,F=new $b(O,B);R[_i+n]=F,Q3(S,M,n+1,e,t,i,r,Da(M.consts,o),256),O&&Q3(S,M,n+2,u,h,v,y,Da(M.consts,P),512)}var Wb=class extends jb{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i}get length(){return this.lContainer.length-Or}at(e){return this.getLView(e)[Gi].$implicit}attach(e,t){let i=t[w2];this.needsIndexUpdate||=e!==this.length,su(this.lContainer,t,e,fd(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,qH(this.lContainer,e)}create(e,t){let i=h6(this.lContainer,this.templateTNode.tView.ssrId),r=au(this.hostLView,this.templateTNode,new Ub(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){z6(e[Pt],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Gi].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Gi].$index=e}getLView(e){return ZH(this.lContainer,e)}};function uu(n){let e=Ft(null),t=is();try{let i=bt(),r=i[Pt],o=i[t],a=t+1,c=P6(i,a);if(o.liveCollection===void 0){let h=Gb(r,a);o.liveCollection=new Wb(c,i,h)}else o.liveCollection.reset();let u=o.liveCollection;if(YH(u,n,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let h=Gl(),v=u.length===0;if(Fo(i,h,v)){let y=t+2,P=P6(i,y);if(v){let S=Gb(r,y),M=$k(P,S,i),O=au(i,S,void 0,{dehydratedView:M});su(P,O,0,fd(S,M))}else r.firstUpdatePass&&Rj(P),Hk(P,0)}}}finally{Ft(e)}}function P6(n,e){return n[e]}function qH(n,e){return Z3(n,e)}function ZH(n,e){return jk(n,e)}function Gb(n,e){return R3(n,e)}function _(n,e,t){let i=bt(),r=Gl();if(Fo(i,r,e)){let o=Mi(),a=H3();Dk(a,i,n,e,i[ri],t)}return _}function Yb(n,e,t,i,r){w_(e,n,t,r?"class":"style",i)}function l(n,e,t,i){let r=bt(),o=r[Pt],a=n+_i,c=o.firstCreatePass?D_(a,r,2,e,x_,Wm(),t,i):o.data[a];if(C_(c,r,n,e,hO),nd(c)){let u=r[Pt];N6(u,r,c),o_(u,c,r)}return i!=null&&ou(r,c),l}function d(){let n=Mi(),e=rr(),t=M_(e);return n.firstCreatePass&&E_(n,t),j9(t)&&H9(),V9(),t.classesWithoutHost!=null&&LV(t)&&Yb(n,t,bt(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&zV(t)&&Yb(n,t,bt(),t.stylesWithoutHost,!1),d}function k(n,e,t,i){return l(n,e,t,i),d(),k}function Pe(n,e,t,i){let r=bt(),o=r[Pt],a=n+_i,c=o.firstCreatePass?Kj(a,o,2,e,t,i):o.data[a];return C_(c,r,n,e,hO),i!=null&&ou(r,c),Pe}function Le(){let n=rr(),e=M_(n);return j9(e)&&H9(),V9(),Le}function pn(n,e,t,i){return Pe(n,e,t,i),Le(),pn}var hO=(n,e,t,i,r)=>(U3(!0),gk(e[ri],i,ZS()));function zt(n,e,t){let i=bt(),r=i[Pt],o=n+_i,a=r.firstCreatePass?D_(o,i,8,"ng-container",x_,Wm(),e,t):r.data[o];if(C_(a,i,n,"ng-container",XH),nd(a)){let c=i[Pt];N6(c,i,a),o_(c,a,i)}return t!=null&&ou(i,a),zt}function At(){let n=Mi(),e=rr(),t=M_(e);return n.firstCreatePass&&E_(n,t),At}var XH=(n,e,t,i,r)=>(U3(!0),BB(e[ri],""));function X(){return bt()}function or(n,e,t){let i=bt(),r=Gl();if(Fo(i,r,e)){let o=Mi(),a=H3();Ek(a,i,n,e,i[ri],t)}return or}var T2=void 0;function KH(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var QH=["en",[["a","p"],["AM","PM"],T2],[["AM","PM"],T2,T2],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],T2,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],T2,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",T2,"{1} 'at' {0}",T2],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",KH],cb={};function ho(n){let e=JH(n),t=OP(e);if(t)return t;let i=e.split("-")[0];if(t=OP(i),t)return t;if(i==="en")return QH;throw new Ze(701,!1)}function OP(n){return n in cb||(cb[n]=wa.ng&&wa.ng.common&&wa.ng.common.locales&&wa.ng.common.locales[n]),cb[n]}var Ai=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ai||{});function JH(n){return n.toLowerCase().replace(/_/g,"-")}var pu="en-US",eU="USD";var tU=pu;function gO(n){typeof n=="string"&&(tU=n.toLowerCase().replace(/_/g,"-"))}function T(n,e,t){let i=bt(),r=Mi(),o=rr();return vO(r,i,i[ri],o,n,e,t),T}function fi(n,e,t){let i=bt(),r=Mi(),o=rr();return(o.type&3||t)&&Qk(o,r,i,t,i[ri],n,e,s6(o,i,e)),fi}function vO(n,e,t,i,r,o,a){let c=!0,u=null;if((i.type&3||a)&&(u??=s6(i,e,o),Qk(i,n,e,a,t,r,o,u)&&(c=!1)),c){let h=i.outputs?.[r],v=i.hostDirectiveOutputs?.[r];if(v&&v.length)for(let y=0;y<v.length;y+=2){let P=v[y],S=v[y+1];u??=s6(i,e,o),bP(i,e,P,S,r,u)}if(h&&h.length)for(let y of h)u??=s6(i,e,o),bP(i,e,y,r,r,u)}}function C(n=1){return qS(n)}function nU(n,e){let t=null,i=IB(n);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){t=r;continue}if(i===null?hk(n,o,!0):zB(i,o))return r}return t}function Ia(n){let e=bt()[mo][fo];if(!e.projection){let t=n?n.length:1,i=e.projection=CS(t,null),r=i.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let a=n?nU(o,n):0;a!==null&&(r[a]?r[a].projectionNext=o:i[a]=o,r[a]=o)}o=o.next}}}function go(n,e=0,t,i,r,o){let a=bt(),c=Mi(),u=i?n+1:null;u!==null&&Q3(a,c,u,i,r,o,null,t);let h=yd(c,_i+n,16,null,t||null);h.projection===null&&(h.projection=e),W9();let y=!a[w2]||B9();a[mo][fo].projection[h.projection]===null&&u!==null?iU(a,c,u):y&&!E6(h)&&tj(c,a,h)}function iU(n,e,t){let i=_i+t,r=e.data[i],o=n[i],a=h6(o,r.tView.ssrId),c=au(n,r,void 0,{dehydratedView:a});su(o,c,0,fd(r,a))}function $_(n,e,t,i){yH(n,e,t,i)}function en(n,e,t){_H(n,e,t)}function qt(n){let e=bt(),t=Mi(),i=Z9();Ym(i+1);let r=L_(t,i);if(n.dirty&&IS(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=MH(e,i);n.reset(o,YV),n.notifyOnChanges()}return!0}return!1}function Zt(){return bH(bt(),Z9())}function qi(n){let e=VS();return F3(e,_i+n)}function n6(n,e){return n<<17|e<<2}function A2(n){return n>>17&32767}function rU(n){return(n&2)==2}function oU(n,e){return n&131071|e<<17}function qb(n){return n|2}function md(n){return(n&131068)>>2}function db(n,e){return n&-131069|e<<2}function aU(n){return(n&1)===1}function Zb(n){return n|1}function sU(n,e,t,i,r,o){let a=o?e.classBindings:e.styleBindings,c=A2(a),u=md(a);n[i]=t;let h=!1,v;if(Array.isArray(t)){let y=t;v=y[1],(v===null||Q0(y,v)>0)&&(h=!0)}else v=t;if(r)if(u!==0){let P=A2(n[c+1]);n[i+1]=n6(P,c),P!==0&&(n[P+1]=db(n[P+1],i)),n[c+1]=oU(n[c+1],i)}else n[i+1]=n6(c,0),c!==0&&(n[c+1]=db(n[c+1],i)),c=i;else n[i+1]=n6(u,0),c===0?c=i:n[u+1]=db(n[u+1],i),u=i;h&&(n[i+1]=qb(n[i+1])),DP(n,v,i,!0),DP(n,v,i,!1),lU(e,v,n,i,o),a=n6(c,u),o?e.classBindings=a:e.styleBindings=a}function lU(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Q0(o,e)>=0&&(t[i+1]=Zb(t[i+1]))}function DP(n,e,t,i){let r=n[t+1],o=e===null,a=i?A2(r):md(r),c=!1;for(;a!==0&&(c===!1||o);){let u=n[a],h=n[a+1];cU(u,e)&&(c=!0,n[a+1]=i?Zb(h):qb(h)),a=i?A2(h):md(h)}c&&(n[t+1]=i?qb(r):Zb(r))}function cU(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Q0(n,e)>=0:!1}var os={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dU(n){return n.substring(os.key,os.keyEnd)}function uU(n){return pU(n),bO(n,_O(n,0,os.textEnd))}function bO(n,e){let t=os.textEnd;return t===e?-1:(e=os.keyEnd=fU(n,os.key=e,t),_O(n,e,t))}function pU(n){os.key=0,os.keyEnd=0,os.value=0,os.valueEnd=0,os.textEnd=n.length}function _O(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function fU(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function xt(n,e,t){return yO(n,e,t,!1),xt}function Me(n,e){return yO(n,e,null,!0),Me}function cn(n){hU(xU,mU,n,!0)}function mU(n,e){for(let t=uU(e);t>=0;t=bO(e,t))Bm(n,dU(e),!0)}function yO(n,e,t,i){let r=bt(),o=Mi(),a=j3(2);if(o.firstUpdatePass&&CO(o,n,a,i),e!==Er&&Fo(r,a,e)){let c=o.data[is()];MO(o,c,r,r[ri],n,r[a+1]=MU(e,t),i,a)}}function hU(n,e,t,i){let r=Mi(),o=j3(2);r.firstUpdatePass&&CO(r,null,o,i);let a=bt();if(t!==Er&&Fo(a,o,t)){let c=r.data[is()];if(wO(c,i)&&!xO(r,o)){let u=i?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(t=Am(u,t||"")),Yb(r,c,a,t,i)}else CU(r,c,a,a[ri],a[o+1],a[o+1]=yU(n,e,t),i,o)}}function xO(n,e){return e>=n.expandoStartIndex}function CO(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[is()],a=xO(n,t);wO(o,i)&&e===null&&!a&&(e=!1),e=gU(r,o,e,i),sU(r,o,e,t,a,i)}}function gU(n,e,t,i){let r=$S(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=ub(null,n,e,t,i),t=J3(t,e.attrs,i),o=null);else{let a=e.directiveStylingLast;if(a===-1||n[a]!==r)if(t=ub(r,n,e,t,i),o===null){let u=vU(n,e,i);u!==void 0&&Array.isArray(u)&&(u=ub(null,n,e,u[1],i),u=J3(u,e.attrs,i),bU(n,e,i,u))}else o=_U(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function vU(n,e,t){let i=t?e.classBindings:e.styleBindings;if(md(i)!==0)return n[A2(i)]}function bU(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[A2(r)]=i}function _U(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let a=n[o].hostAttrs;i=J3(i,a,t)}return J3(i,e.attrs,t)}function ub(n,e,t,i,r){let o=null,a=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<a&&(o=e[c],i=J3(i,o.hostAttrs,r),o!==n);)c++;return n!==null&&(t.directiveStylingLast=c),i}function J3(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];typeof a=="number"?r=a:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Bm(n,a,t?!0:e[++o]))}return n===void 0?null:n}function yU(n,e,t){if(t==null||t==="")return po;let i=[],r=oa(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function xU(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&Bm(n,i,t)}function CU(n,e,t,i,r,o,a,c){r===Er&&(r=po);let u=0,h=0,v=0<r.length?r[0]:null,y=0<o.length?o[0]:null;for(;v!==null||y!==null;){let P=u<r.length?r[u+1]:void 0,S=h<o.length?o[h+1]:void 0,M=null,O;v===y?(u+=2,h+=2,P!==S&&(M=y,O=S)):y===null||v!==null&&v<y?(u+=2,M=v):(h+=2,M=y,O=S),M!==null&&MO(n,e,t,i,M,O,a,c),v=u<r.length?r[u]:null,y=h<o.length?o[h]:null}}function MO(n,e,t,i,r,o,a,c){if(!(e.type&3))return;let u=n.data,h=u[c+1],v=aU(h)?EP(u,e,t,r,md(h),a):void 0;if(!k6(v)){k6(o)||rU(h)&&(o=EP(u,null,t,r,c,a));let y=T9(is(),t);ij(i,a,y,r,o)}}function EP(n,e,t,i,r,o){let a=e===null,c;for(;r>0;){let u=n[r],h=Array.isArray(u),v=h?u[1]:u,y=v===null,P=t[r+1];P===Er&&(P=y?po:void 0);let S=y?jm(P,i):v===i?P:void 0;if(h&&!k6(S)&&(S=jm(u,i)),k6(S)&&(c=S,a))return c;let M=n[r+1];r=a?A2(M):md(M)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=jm(u,i))}return c}function k6(n){return n!==void 0}function MU(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Ul(oa(n)))),n}function wO(n,e){return(n.flags&(e?8:16))!==0}function m(n,e=""){let t=bt(),i=Mi(),r=n+_i,o=i.firstCreatePass?yd(i,r,1,e,null):i.data[r],a=wU(i,t,o,e,n);t[r]=a,Xm()&&__(i,t,a,o),rd(o,!1)}var wU=(n,e,t,i,r)=>(U3(!0),FB(e[ri],i));function SO(n,e,t,i=""){return Fo(n,Gl(),t)?e+Sa(t)+i:Er}function SU(n,e,t,i,r,o=""){let a=q9(),c=X3(n,a,t,r);return j3(2),c?e+Sa(t)+i+Sa(r)+o:Er}function PU(n,e,t,i,r,o,a,c=""){let u=q9(),h=T_(n,u,t,r,a);return j3(3),h?e+Sa(t)+i+Sa(r)+o+Sa(a)+c:Er}function $(n){return U("",n),$}function U(n,e,t){let i=bt(),r=SO(i,n,e,t);return r!==Er&&W_(i,is(),r),U}function Nt(n,e,t,i,r){let o=bt(),a=SU(o,n,e,t,i,r);return a!==Er&&W_(o,is(),a),Nt}function jo(n,e,t,i,r,o,a){let c=bt(),u=PU(c,n,e,t,i,r,o,a);return u!==Er&&W_(c,is(),u),jo}function W_(n,e,t){let i=T9(e,n);VB(n[ri],i,t)}function ft(n,e,t){eb(e)&&(e=e());let i=bt(),r=Gl();if(Fo(i,r,e)){let o=Mi(),a=H3();Dk(a,i,n,e,i[ri],t)}return ft}function _t(n,e){let t=eb(n);return t&&n.set(e),t}function mt(n,e){let t=bt(),i=Mi(),r=rr();return vO(i,t,t[ri],r,n,e),mt}function ar(n){return Fo(bt(),Gl(),n)?Sa(n):Er}function Ws(n,e,t=""){return SO(bt(),n,e,t)}function kU(n,e,t){let i=Mi();if(i.firstCreatePass){let r=Fs(n);Xb(t,i.data,i.blueprint,r,!0),Xb(e,i.data,i.blueprint,r,!1)}}function Xb(n,e,t,i,r){if(n=Hr(n),Array.isArray(n))for(let o=0;o<n.length;o++)Xb(n[o],e,t,i,r);else{let o=Mi(),a=bt(),c=rr(),u=x2(n)?n:Hr(n.provide),h=P9(n),v=c.providerIndexes&1048575,y=c.directiveStart,P=c.providerIndexes>>20;if(x2(n)||!n.multi){let S=new z2(h,r,V,null),M=fb(u,e,r?v:v+P,y);M===-1?(hb(p6(c,a),o,u),pb(o,n,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(S),a.push(S)):(t[M]=S,a[M]=S)}else{let S=fb(u,e,v+P,y),M=fb(u,e,v,v+P),O=S>=0&&t[S],R=M>=0&&t[M];if(r&&!R||!r&&!O){hb(p6(c,a),o,u);let B=EU(r?DU:OU,t.length,r,i,h,n);!r&&R&&(t[M].providerFactory=B),pb(o,n,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(B),a.push(B)}else{let B=PO(t[r?M:S],h,!r&&i);pb(o,n,S>-1?S:M,B)}!r&&i&&R&&t[M].componentProviders++}}}function pb(n,e,t,i){let r=x2(e),o=kS(e);if(r||o){let u=(o?Hr(e.useClass):e).prototype.ngOnDestroy;if(u){let h=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let v=h.indexOf(t);v===-1?h.push(t,[i,u]):h[v+1].push(i,u)}else h.push(t,u)}}}function PO(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function fb(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function OU(n,e,t,i,r){return Kb(this.multi,[])}function DU(n,e,t,i,r){let o=this.multi,a;if(this.providerFactory){let c=this.providerFactory.componentProviders,u=Y3(i,i[Pt],this.providerFactory.index,r);a=u.slice(0,c),Kb(o,a);for(let h=c;h<u.length;h++)a.push(u[h])}else a=[],Kb(o,a);return a}function Kb(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function EU(n,e,t,i,r,o){let a=new z2(n,t,V,null);return a.multi=[],a.index=e,a.componentProviders=0,PO(a,r,i&&!t),a}function Vn(n,e=[]){return t=>{t.providersResolver=(i,r)=>kU(i,r?r(n):n,e)}}function Kt(n,e,t){let i=Vs()+n,r=bt();return r[i]===Er?xd(r,i,t?e.call(t):e()):Xk(r,i)}function nn(n,e,t,i){return kO(bt(),Vs(),n,e,t,i)}function wi(n,e,t,i,r){return OO(bt(),Vs(),n,e,t,i,r)}function fu(n,e,t,i,r,o){return DO(bt(),Vs(),n,e,t,i,r,o)}function Md(n,e,t,i,r,o,a){return IU(bt(),Vs(),n,e,t,i,r,o,a)}function G_(n,e,t,i,r,o,a,c,u,h){let v=Vs()+n,y=bt(),P=Kk(y,v,t,i,r,o);return T_(y,v+4,a,c,u)||P?xd(y,v+7,h?e.call(h,t,i,r,o,a,c,u):e(t,i,r,o,a,c,u)):Xk(y,v+7)}function $6(n,e){let t=n[e];return t===Er?void 0:t}function kO(n,e,t,i,r,o){let a=e+t;return Fo(n,a,r)?xd(n,a+1,o?i.call(o,r):i(r)):$6(n,a+1)}function OO(n,e,t,i,r,o,a){let c=e+t;return X3(n,c,r,o)?xd(n,c+2,a?i.call(a,r,o):i(r,o)):$6(n,c+2)}function DO(n,e,t,i,r,o,a,c){let u=e+t;return T_(n,u,r,o,a)?xd(n,u+3,c?i.call(c,r,o,a):i(r,o,a)):$6(n,u+3)}function IU(n,e,t,i,r,o,a,c,u){let h=e+t;return Kk(n,h,r,o,a,c)?xd(n,h+4,u?i.call(u,r,o,a,c):i(r,o,a,c)):$6(n,h+4)}function Q(n,e){let t=Mi(),i,r=n+_i;t.firstCreatePass?(i=TU(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=Wc(i.type,!0)),a,c=uo(V);try{let u=u6(!1),h=o();return u6(u),L9(t,bt(),r,h),h}finally{uo(c)}}function TU(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function de(n,e,t){let i=n+_i,r=bt(),o=F3(r,i);return q_(r,i)?kO(r,Vs(),e,o.transform,t,o):o.transform(t)}function Vt(n,e,t,i){let r=n+_i,o=bt(),a=F3(o,r);return q_(o,r)?OO(o,Vs(),e,a.transform,t,i,a):a.transform(t,i)}function Y_(n,e,t,i,r){let o=n+_i,a=bt(),c=F3(a,o);return q_(a,o)?DO(a,Vs(),e,c.transform,t,i,r,c):c.transform(t,i,r)}function q_(n,e){return n[Pt].data[e].pure}function Ta(n,e){return R6(n,e)}var O6=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Z_=(()=>{class n{compileModuleSync(t){return new x6(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=C9(t),o=fk(r.declarations).reduce((a,c)=>{let u=Ls(c);return u&&a.push(new e1(u)),a},[]);return new O6(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var LU=(()=>{class n{zone=q(St);changeDetectionScheduler=q(Qa);applicationRef=q(Jr);applicationErrorHandler=q(Ro);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),EO=new He("",{factory:()=>!1});function X_({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new St(Ve(ie({},Q_()),{scheduleInRootZone:t})),[{provide:St,useFactory:n},{provide:$l,multi:!0,useFactory:()=>{let i=q(LU,{optional:!0});return()=>i.initialize()}},{provide:$l,multi:!0,useFactory:()=>{let i=q(zU);return()=>{i.initialize()}}},e===!0?{provide:tb,useValue:!0}:[],{provide:nb,useValue:t??lO},{provide:Ro,useFactory:()=>{let i=q(St),r=q(ui),o;return a=>{i.runOutsideAngular(()=>{r.destroyed&&!o?setTimeout(()=>{throw a}):(o??=r.get(ia),o.handleError(a))})}}}]}function K_(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,i=X_({ngZoneFactory:()=>{let r=Q_(n);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&ss("NgZone_CoalesceEvent"),new St(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return zs([{provide:EO,useValue:!0},{provide:ad,useValue:!1},i])}function Q_(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var zU=(()=>{class n{subscription=new jn;initialized=!1;zone=q(St);pendingTasks=q(Bs);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{St.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{St.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var IO=(()=>{class n{applicationErrorHandler=q(Ro);appRef=q(Jr);taskService=q(Bs);ngZone=q(St);zonelessEnabled=q(ad);tracing=q(N2,{optional:!0});disableScheduling=q(tb,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new jn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(C6):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(q(nb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof M6||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?MP:cO;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(C6+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(t),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,MP(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AU(){return typeof $localize<"u"&&$localize.locale||pu}var R2=new He("",{providedIn:"root",factory:()=>q(R2,{optional:!0,skipSelf:!0})||AU()}),J_=new He("",{providedIn:"root",factory:()=>eU});var W6=class{destroyed=!1;listeners=null;errorHandler=q(ia,{optional:!0});destroyRef=q(Ur);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new Ze(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let t=this.listeners?.indexOf(e);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed){console.warn(Ja(953,!1));return}if(this.listeners===null)return;let t=Ft(null);try{for(let i of this.listeners)try{i(e)}catch(r){this.errorHandler?.handleError(r)}}finally{Ft(t)}}};function vo(n){return pS(n)}function Gs(n,e){return Qf(n,e?.equal)}var ey=class{[jr];constructor(e){this[jr]=e}destroy(){this[jr].destroy()}};function mu(n,e){let t=e?.injector??q(yn),i=e?.manualCleanup!==!0?t.get(Ur):null,r,o=t.get(sd,null,{optional:!0}),a=t.get(Qa);return o!==null?(r=FU(o.view,a,n),i instanceof E3&&i._lView===o.view&&(i=null)):r=VU(n,t.get($3),a),r.injector=t,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new ey(r)}var TO=Ve(ie({},zc),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:I2,run(){if(this.dirty=!1,this.hasRun&&!j0(this))return;this.hasRun=!0;let n=i=>(this.cleanupFns??=[]).push(i),e=Ac(this),t=od(!1);try{this.maybeCleanup(),this.fn(n)}finally{od(t),p2(this,e)}},maybeCleanup(){if(!this.cleanupFns?.length)return;let n=Ft(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],Ft(n)}}}),NU=Ve(ie({},TO),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){H0(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),RU=Ve(ie({},TO),{consumerMarkedDirty(){this.view[Ut]|=8192,Kc(this.view),this.notifier.notify(13)},destroy(){H0(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Wl]?.delete(this)}});function FU(n,e,t){let i=Object.create(RU);return i.view=n,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=e,i.fn=t,n[Wl]??=new Set,n[Wl].add(i),i.consumerMarkedDirty(i),i}function VU(n,e,t){let i=Object.create(NU);return i.fn=n,i.scheduler=e,i.notifier=t,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}var Z6=Symbol("InputSignalNode#UNSET"),BO=Ve(ie({},Jf),{transformFn:void 0,applyValueToInputSignal(n,e){f2(n,e)}});function jO(n,e){let t=Object.create(BO);t.value=n,t.transformFn=e?.transform;function i(){if(u2(t),t.value===Z6){let r=null;throw new Ze(-950,r)}return t.value}return i[jr]=t,i}var Y6=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>eu(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},XU=new He("");XU.__NG_ELEMENT_ID__=n=>{let e=rr();if(e===null)throw new Ze(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new Ze(204,!1)};function LO(n,e){return jO(n,e)}function KU(n){return jO(Z6,n)}var wd=(LO.required=KU,LO);function HO(n,e){let t=Object.create(BO),i=new W6;t.value=n;function r(){return u2(t),zO(t.value),t.value}return r[jr]=t,r.asReadonly=Km.bind(r),r.set=o=>{t.equal(t.value,o)||(f2(t,o),i.emit(o))},r.update=o=>{zO(t.value),r.set(o(t.value))},r.subscribe=i.subscribe.bind(i),r.destroyRef=i.destroyRef,r}function zO(n){if(n===Z6)throw new Ze(952,!1)}function AO(n,e){return HO(n,e)}function QU(n){return HO(Z6,n)}var bo=(AO.required=QU,AO);var ty=new He(""),JU=new He("");function hu(n){return!n.moduleRef}function e$(n){let e=hu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(St);return t.run(()=>{hu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(Ro),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:i})}),hu(n)){let o=()=>e.destroy(),a=n.platformInjector.get(ty);a.add(o),e.onDestroy(()=>{r.unsubscribe(),a.delete(o)})}else{let o=()=>n.moduleRef.destroy(),a=n.platformInjector.get(ty);a.add(o),n.moduleRef.onDestroy(()=>{G3(n.allPlatformModules,n.moduleRef),r.unsubscribe(),a.delete(o)})}return n$(i,t,()=>{let o=e.get(Bs),a=o.add(),c=e.get(B_);return c.runInitializers(),c.donePromise.then(()=>{try{let u=e.get(R2,pu);if(gO(u||pu),!e.get(JU,!0))return hu(n)?e.get(Jr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(hu(n)){let v=e.get(Jr);return n.rootComponent!==void 0&&v.bootstrap(n.rootComponent),v}else return t$?.(n.moduleRef,n.allPlatformModules),n.moduleRef}finally{o.remove(a)}})})})}var t$;function n$(n,e,t){try{let i=t();return t1(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n(i)),i}}var G6=null;function i$(n=[],e){return yn.create({name:e,providers:[{provide:z3,useValue:"platform"},{provide:ty,useValue:new Set([()=>G6=null])},...n]})}function r$(n=[]){if(G6)return G6;let e=i$(n);return G6=e,fO(),o$(e),e}function o$(n){let e=n.get(D6,null);kr(n,()=>{e?.forEach(t=>t())})}var Ot=(()=>{class n{static __NG_ELEMENT_ID__=a$}return n})();function a$(n){return s$(rr(),bt(),(n&16)===16)}function s$(n,e,t){if(Xc(n)&&!t){let i=Oa(n.index,e);return new Jc(i,i)}else if(n.type&175){let i=e[mo];return new Jc(i,e)}return null}var ny=class{constructor(){}supports(e){return I_(e)}create(e){return new iy(e)}},l$=(n,e)=>e,iy=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||l$}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let a=!i||t&&t.currentIndex<NO(i,r,o)?t:i,c=NO(a,r,o),u=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(t=t._next,a.previousIndex==null)r++;else{o||(o=[]);let h=c-r,v=u-r;if(h!=v){for(let P=0;P<h;P++){let S=P<o.length?o[P]:o[P]=0,M=S+P;v<=M&&M<h&&(o[P]=S+1)}let y=a.previousIndex;o[y]=v-h}}c!==u&&e(a,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!I_(e))throw new Ze(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,o,a;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],a=this._trackByFn(c,o),t===null||!Object.is(t.trackById,a)?(t=this._mismatch(t,o,a,c),i=!0):(i&&(t=this._verifyReinsertion(t,o,a,c)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,Zk(e,c=>{a=this._trackByFn(r,c),t===null||!Object.is(t.trackById,a)?(t=this._mismatch(t,c,a,r),i=!0):(i&&(t=this._verifyReinsertion(t,c,a,r)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new ry(t,i),o,r)),e}_verifyReinsertion(e,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new q6),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new q6),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ry=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},oy=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},q6=class{map=new Map;put(e){let t=e.trackById,i=this.map.get(t);i||(i=new oy,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function NO(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}var ay=class{constructor(){}supports(e){return e instanceof Map||V6(e)}create(){return new sy}},sy=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||V6(e)))throw new Ze(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,t);let o=r._prev,a=r._next;return o&&(o._next=a),a&&(a._prev=o),r._next=null,r._prev=null,r}let i=new ly(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}},ly=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function RO(){return new F2([new ny])}var F2=(()=>{class n{factories;static \u0275prov=me({token:n,providedIn:"root",factory:RO});constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||RO()),deps:[[n,new e_,new gd]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new Ze(901,!1)}}return n})();function FO(){return new Sd([new ay])}var Sd=(()=>{class n{static \u0275prov=me({token:n,providedIn:"root",factory:FO});factories;constructor(t){this.factories=t}static create(t,i){if(i){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||FO()),deps:[[n,new e_,new gd]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i)return i;throw new Ze(901,!1)}}return n})();function UO(n){ei(8);try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=r$(i),o=[X_({}),{provide:Qa,useExisting:IO},KS,...t||[]],a=new K3({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return e$({r3Injector:a.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}finally{ei(9)}}function $r(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function cy(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function X6(n,e){let t=Ls(n),i=e.elementInjector||J0();return new e1(t).create(i,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}function $O(n){let e=Ls(n);if(!e)return null;let t=new e1(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var YO=null;function La(){return YO}function dy(n){YO??=n}var gu=class{},vu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:()=>q(qO),providedIn:"platform"})}return n})(),uy=new He(""),qO=(()=>{class n extends vu{_location;_history;_doc=q(Tt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return La().getBaseHref(this._doc)}onPopState(t){let i=La().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=La().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function K6(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function WO(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function ls(n){return n&&n[0]!=="?"?`?${n}`:n}var cs=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:()=>q(J6),providedIn:"root"})}return n})(),Q6=new He(""),J6=(()=>{class n extends cs{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??q(Tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return K6(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+ls(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let a=this.prepareExternalUrl(r+ls(o));this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,o){let a=this.prepareExternalUrl(r+ls(o));this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(De(vu),De(Q6,8))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ys=(()=>{class n{_subject=new Re;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=u$(WO(GO(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ls(i))}normalize(t){return n.stripTrailingSlash(d$(this._basePath,GO(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ls(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ls(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=ls;static joinWithSlash=K6;static stripTrailingSlash=WO;static \u0275fac=function(i){return new(i||n)(De(cs))};static \u0275prov=me({token:n,factory:()=>c$(),providedIn:"root"})}return n})();function c$(){return new Ys(De(cs))}function d$(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function GO(n){return n.replace(/\/index.html$/,"")}function u$(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var by=(()=>{class n extends cs{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=K6(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let a=this.prepareExternalUrl(r+ls(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,o){let a=this.prepareExternalUrl(r+ls(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(De(vu),De(Q6,8))};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),tD={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},dh=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(dh||{});var eo=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(eo||{}),oi=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(oi||{}),Ho=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Ho||{}),Wr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function nD(n){return ho(n)[Ai.LocaleId]}function iD(n,e,t){let i=ho(n),r=[i[Ai.DayPeriodsFormat],i[Ai.DayPeriodsStandalone]],o=za(r,e);return za(o,t)}function rD(n,e,t){let i=ho(n),r=[i[Ai.DaysFormat],i[Ai.DaysStandalone]],o=za(r,e);return za(o,t)}function oD(n,e,t){let i=ho(n),r=[i[Ai.MonthsFormat],i[Ai.MonthsStandalone]],o=za(r,e);return za(o,t)}function aD(n,e){let i=ho(n)[Ai.Eras];return za(i,e)}function bu(n,e){let t=ho(n);return za(t[Ai.DateFormat],e)}function _u(n,e){let t=ho(n);return za(t[Ai.TimeFormat],e)}function yu(n,e){let i=ho(n)[Ai.DateTimeFormat];return za(i,e)}function us(n,e){let t=ho(n),i=t[Ai.NumberSymbols][e];if(typeof i>"u"){if(e===Wr.CurrencyDecimal)return t[Ai.NumberSymbols][Wr.Decimal];if(e===Wr.CurrencyGroup)return t[Ai.NumberSymbols][Wr.Group]}return i}function _y(n,e){return ho(n)[Ai.NumberFormats][e]}function p$(n){return ho(n)[Ai.Currencies]}function sD(n){if(!n[Ai.ExtraData])throw new Ze(2303,!1)}function lD(n){let e=ho(n);return sD(e),(e[Ai.ExtraData][2]||[]).map(i=>typeof i=="string"?py(i):[py(i[0]),py(i[1])])}function cD(n,e,t){let i=ho(n);sD(i);let r=[i[Ai.ExtraData][0],i[Ai.ExtraData][1]],o=za(r,e)||[];return za(o,t)||[]}function za(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Ze(2304,!1)}function py(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function dD(n,e,t="en"){let i=p$(t)[n]||tD[n]||[],r=i[1];return e==="narrow"&&typeof r=="string"?r:i[0]||n}var f$=2;function uD(n){let e,t=tD[n];return t&&(e=t[2]),typeof e=="number"?e:f$}var m$=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,eh={},h$=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function pD(n,e,t,i){let r=w$(n);e=Ql(t,e)||e;let a=[],c;for(;e;)if(c=h$.exec(e),c){a=a.concat(c.slice(1));let v=a.pop();if(!v)break;e=v}else{a.push(e);break}let u=r.getTimezoneOffset();i&&(u=mD(i,u),r=M$(r,i));let h="";return a.forEach(v=>{let y=x$(v);h+=y?y(r,t,u):v==="''"?"'":v.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}function oh(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Ql(n,e){let t=nD(n);if(eh[t]??={},eh[t][e])return eh[t][e];let i="";switch(e){case"shortDate":i=bu(n,Ho.Short);break;case"mediumDate":i=bu(n,Ho.Medium);break;case"longDate":i=bu(n,Ho.Long);break;case"fullDate":i=bu(n,Ho.Full);break;case"shortTime":i=_u(n,Ho.Short);break;case"mediumTime":i=_u(n,Ho.Medium);break;case"longTime":i=_u(n,Ho.Long);break;case"fullTime":i=_u(n,Ho.Full);break;case"short":let r=Ql(n,"shortTime"),o=Ql(n,"shortDate");i=th(yu(n,Ho.Short),[r,o]);break;case"medium":let a=Ql(n,"mediumTime"),c=Ql(n,"mediumDate");i=th(yu(n,Ho.Medium),[a,c]);break;case"long":let u=Ql(n,"longTime"),h=Ql(n,"longDate");i=th(yu(n,Ho.Long),[u,h]);break;case"full":let v=Ql(n,"fullTime"),y=Ql(n,"fullDate");i=th(yu(n,Ho.Full),[v,y]);break}return i&&(eh[t][e]=i),i}function th(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function ds(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=t));let a=String(n);for(;a.length<e;)a="0"+a;return i&&(a=a.slice(a.length-e)),o+a}function g$(n,e){return ds(n,3).substring(0,e)}function sr(n,e,t=0,i=!1,r=!1){return function(o,a){let c=v$(n,o);if((t>0||c>-t)&&(c+=t),n===3)c===0&&t===-12&&(c=12);else if(n===6)return g$(c,e);let u=us(a,Wr.MinusSign);return ds(c,e,u,i,r)}}function v$(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Ze(2301,!1)}}function yi(n,e,t=eo.Format,i=!1){return function(r,o){return b$(r,o,n,e,t,i)}}function b$(n,e,t,i,r,o){switch(t){case 2:return oD(e,r,i)[n.getMonth()];case 1:return rD(e,r,i)[n.getDay()];case 0:let a=n.getHours(),c=n.getMinutes();if(o){let h=lD(e),v=cD(e,r,i),y=h.findIndex(P=>{if(Array.isArray(P)){let[S,M]=P,O=a>=S.hours&&c>=S.minutes,R=a<M.hours||a===M.hours&&c<M.minutes;if(S.hours<M.hours){if(O&&R)return!0}else if(O||R)return!0}else if(P.hours===a&&P.minutes===c)return!0;return!1});if(y!==-1)return v[y]}return iD(e,r,i)[a<12?0:1];case 3:return aD(e,i)[n.getFullYear()<=0?0:1];default:let u=t;throw new Ze(2302,!1)}}function nh(n){return function(e,t,i){let r=-1*i,o=us(t,Wr.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case 0:return(r>=0?"+":"")+ds(a,2,o)+ds(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+ds(a,1,o);case 2:return"GMT"+(r>=0?"+":"")+ds(a,2,o)+":"+ds(Math.abs(r%60),2,o);case 3:return i===0?"Z":(r>=0?"+":"")+ds(a,2,o)+":"+ds(Math.abs(r%60),2,o);default:throw new Ze(2302,!1)}}}var _$=0,rh=4;function y$(n){let e=oh(n,_$,1).getDay();return oh(n,0,1+(e<=rh?rh:rh+7)-e)}function fD(n){let e=n.getDay(),t=e===0?-3:rh-e;return oh(n.getFullYear(),n.getMonth(),n.getDate()+t)}function fy(n,e=!1){return function(t,i){let r;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,a=t.getDate();r=1+Math.floor((a+o)/7)}else{let o=fD(t),a=y$(o.getFullYear()),c=o.getTime()-a.getTime();r=1+Math.round(c/6048e5)}return ds(r,n,us(i,Wr.MinusSign))}}function ih(n,e=!1){return function(t,i){let o=fD(t).getFullYear();return ds(o,n,us(i,Wr.MinusSign),e)}}var my={};function x$(n){if(my[n])return my[n];let e;switch(n){case"G":case"GG":case"GGG":e=yi(3,oi.Abbreviated);break;case"GGGG":e=yi(3,oi.Wide);break;case"GGGGG":e=yi(3,oi.Narrow);break;case"y":e=sr(0,1,0,!1,!0);break;case"yy":e=sr(0,2,0,!0,!0);break;case"yyy":e=sr(0,3,0,!1,!0);break;case"yyyy":e=sr(0,4,0,!1,!0);break;case"Y":e=ih(1);break;case"YY":e=ih(2,!0);break;case"YYY":e=ih(3);break;case"YYYY":e=ih(4);break;case"M":case"L":e=sr(1,1,1);break;case"MM":case"LL":e=sr(1,2,1);break;case"MMM":e=yi(2,oi.Abbreviated);break;case"MMMM":e=yi(2,oi.Wide);break;case"MMMMM":e=yi(2,oi.Narrow);break;case"LLL":e=yi(2,oi.Abbreviated,eo.Standalone);break;case"LLLL":e=yi(2,oi.Wide,eo.Standalone);break;case"LLLLL":e=yi(2,oi.Narrow,eo.Standalone);break;case"w":e=fy(1);break;case"ww":e=fy(2);break;case"W":e=fy(1,!0);break;case"d":e=sr(2,1);break;case"dd":e=sr(2,2);break;case"c":case"cc":e=sr(7,1);break;case"ccc":e=yi(1,oi.Abbreviated,eo.Standalone);break;case"cccc":e=yi(1,oi.Wide,eo.Standalone);break;case"ccccc":e=yi(1,oi.Narrow,eo.Standalone);break;case"cccccc":e=yi(1,oi.Short,eo.Standalone);break;case"E":case"EE":case"EEE":e=yi(1,oi.Abbreviated);break;case"EEEE":e=yi(1,oi.Wide);break;case"EEEEE":e=yi(1,oi.Narrow);break;case"EEEEEE":e=yi(1,oi.Short);break;case"a":case"aa":case"aaa":e=yi(0,oi.Abbreviated);break;case"aaaa":e=yi(0,oi.Wide);break;case"aaaaa":e=yi(0,oi.Narrow);break;case"b":case"bb":case"bbb":e=yi(0,oi.Abbreviated,eo.Standalone,!0);break;case"bbbb":e=yi(0,oi.Wide,eo.Standalone,!0);break;case"bbbbb":e=yi(0,oi.Narrow,eo.Standalone,!0);break;case"B":case"BB":case"BBB":e=yi(0,oi.Abbreviated,eo.Format,!0);break;case"BBBB":e=yi(0,oi.Wide,eo.Format,!0);break;case"BBBBB":e=yi(0,oi.Narrow,eo.Format,!0);break;case"h":e=sr(3,1,-12);break;case"hh":e=sr(3,2,-12);break;case"H":e=sr(3,1);break;case"HH":e=sr(3,2);break;case"m":e=sr(4,1);break;case"mm":e=sr(4,2);break;case"s":e=sr(5,1);break;case"ss":e=sr(5,2);break;case"S":e=sr(6,1);break;case"SS":e=sr(6,2);break;case"SSS":e=sr(6,3);break;case"Z":case"ZZ":case"ZZZ":e=nh(0);break;case"ZZZZZ":e=nh(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=nh(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=nh(2);break;default:return null}return my[n]=e,e}function mD(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function C$(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function M$(n,e,t){let r=n.getTimezoneOffset(),o=mD(e,r);return C$(n,-1*(o-r))}function w$(n){if(ZO(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,a=1]=n.split("-").map(c=>+c);return oh(r,o-1,a)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(m$))return S$(i)}let e=new Date(n);if(!ZO(e))throw new Ze(2302,!1);return e}function S$(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let a=Number(n[4]||0)-t,c=Number(n[5]||0)-i,u=Number(n[6]||0),h=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,a,c,u,h),e}function ZO(n){return n instanceof Date&&!isNaN(n.valueOf())}var P$=/^(\d+)?\.((\d+)(-(\d+))?)?$/,XO=22,ah=".",xu="0",k$=";",O$=",",hy="#",KO="\xA4";function hD(n,e,t,i,r,o,a=!1){let c="",u=!1;if(!isFinite(n))c=us(t,Wr.Infinity);else{let h=E$(n);a&&(h=D$(h));let v=e.minInt,y=e.minFrac,P=e.maxFrac;if(o){let F=o.match(P$);if(F===null)throw new Ze(2306,!1);let N=F[1],Y=F[3],ne=F[5];N!=null&&(v=gy(N)),Y!=null&&(y=gy(Y)),ne!=null?P=gy(ne):Y!=null&&y>P&&(P=y)}I$(h,y,P);let S=h.digits,M=h.integerLen,O=h.exponent,R=[];for(u=S.every(F=>!F);M<v;M++)S.unshift(0);for(;M<0;M++)S.unshift(0);M>0?R=S.splice(M,S.length):(R=S,S=[0]);let B=[];for(S.length>=e.lgSize&&B.unshift(S.splice(-e.lgSize,S.length).join(""));S.length>e.gSize;)B.unshift(S.splice(-e.gSize,S.length).join(""));S.length&&B.unshift(S.join("")),c=B.join(us(t,i)),R.length&&(c+=us(t,r)+R.join("")),O&&(c+=us(t,Wr.Exponential)+"+"+O)}return n<0&&!u?c=e.negPre+c+e.negSuf:c=e.posPre+c+e.posSuf,c}function gD(n,e,t,i,r){let o=_y(e,dh.Currency),a=bD(o,us(e,Wr.MinusSign));return a.minFrac=uD(i),a.maxFrac=a.minFrac,hD(n,a,e,Wr.CurrencyGroup,Wr.CurrencyDecimal,r).replace(KO,t).replace(KO,"").trim()}function vD(n,e,t){let i=_y(e,dh.Decimal),r=bD(i,us(e,Wr.MinusSign));return hD(n,r,e,Wr.Group,Wr.Decimal,t)}function bD(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(k$),r=i[0],o=i[1],a=r.indexOf(ah)!==-1?r.split(ah):[r.substring(0,r.lastIndexOf(xu)+1),r.substring(r.lastIndexOf(xu)+1)],c=a[0],u=a[1]||"";t.posPre=c.substring(0,c.indexOf(hy));for(let v=0;v<u.length;v++){let y=u.charAt(v);y===xu?t.minFrac=t.maxFrac=v+1:y===hy?t.maxFrac=v+1:t.posSuf+=y}let h=c.split(O$);if(t.gSize=h[1]?h[1].length:0,t.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){let v=r.length-t.posPre.length-t.posSuf.length,y=o.indexOf(hy);t.negPre=o.substring(0,y).replace(/'/g,""),t.negSuf=o.slice(y+v).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function D$(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function E$(n){let e=Math.abs(n)+"",t=0,i,r,o,a,c;for((r=e.indexOf(ah))>-1&&(e=e.replace(ah,"")),(o=e.search(/e/i))>0?(r<0&&(r=o),r+=+e.slice(o+1),e=e.substring(0,o)):r<0&&(r=e.length),o=0;e.charAt(o)===xu;o++);if(o===(c=e.length))i=[0],r=1;else{for(c--;e.charAt(c)===xu;)c--;for(r-=o,i=[],a=0;o<=c;o++,a++)i[a]=Number(e.charAt(o))}return r>XO&&(i=i.splice(0,XO-1),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}function I$(n,e,t){if(e>t)throw new Ze(2307,!1);let i=n.digits,r=i.length-n.integerLen,o=Math.min(Math.max(e,r),t),a=o+n.integerLen,c=i[a];if(a>0){i.splice(Math.max(n.integerLen,a));for(let y=a;y<i.length;y++)i[y]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,a=o+1),i[0]=0;for(let y=1;y<a;y++)i[y]=0}if(c>=5)if(a-1<0){for(let y=0;y>a;y--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[a-1]++;for(;r<Math.max(0,o);r++)i.push(0);let u=o!==0,h=e+n.integerLen,v=i.reduceRight(function(y,P,S,M){return P=P+y,M[S]=P<10?P:P-10,u&&(M[S]===0&&S>=h?M.pop():u=!1),P>=10?1:0},0);v&&(i.unshift(v),n.integerLen++)}function gy(n){let e=parseInt(n);if(isNaN(e))throw new Ze(2305,!1);return e}var vy=/\s+/,QO=[],Bt=(()=>{class n{_ngEl;_renderer;initialClasses=QO;rawClass;stateMap=new Map;constructor(t,i){this._ngEl=t,this._renderer=i}set klass(t){this.initialClasses=t!=null?t.trim().split(vy):QO}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(vy):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(vy).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(V(Yt),V(Yi))};static \u0275dir=ct({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var sh=class{$implicit;ngForOf;index;count;constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Xe=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,a)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new sh(r.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),JO(c,r)}});for(let r=0,o=i.length;r<o;r++){let c=i.get(r).context;c.index=r,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);JO(o,r)})}static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(V(Ir),V(Qr),V(F2))};static \u0275dir=ct({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function JO(n,e){n.context.$implicit=e.item}var Ce=(()=>{class n{_viewContainer;_context=new lh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,i){this._viewContainer=t,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){eD(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){eD(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(V(Ir),V(Qr))};static \u0275dir=ct({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),lh=class{$implicit=null;ngIf=null};function eD(n,e){if(n&&!n.createEmbeddedView)throw new Ze(2020,!1)}var ch=class{_viewContainerRef;_templateRef;_created=!1;constructor(e,t){this._viewContainerRef=e,this._templateRef=t}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},aa=(()=>{class n{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let i=t===this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let i of this._defaultViews)i.enforceState(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ct({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return n})(),ps=(()=>{class n{ngSwitch;_view;ngSwitchCase;constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new ch(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(i){return new(i||n)(V(Ir),V(Qr),V(aa,9))};static \u0275dir=ct({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return n})(),yy=(()=>{class n{constructor(t,i,r){r._addDefault(new ch(t,i))}static \u0275fac=function(i){return new(i||n)(V(Ir),V(Qr),V(aa,9))};static \u0275dir=ct({type:n,selectors:[["","ngSwitchDefault",""]]})}return n})();var _o=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){let[r,o]=t.split("."),a=r.indexOf("-")===-1?void 0:as.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static \u0275fac=function(i){return new(i||n)(V(Yt),V(Sd),V(Yi))};static \u0275dir=ct({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();function Cu(n,e){return new Ze(2100,!1)}var T$=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,xy=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw Cu(n,t);return t.replace(T$,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=Kl({name:"titlecase",type:n,pure:!0})}return n})();var L$="mediumDate",_D=new He(""),yD=new He(""),mi=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(t==null||t===""||t!==t)return null;try{let a=i??this.defaultOptions?.dateFormat??L$,c=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return pD(t,a,o||this.locale,c)}catch(a){throw Cu(n,a.message)}}static \u0275fac=function(i){return new(i||n)(V(R2,16),V(_D,24),V(yD,24))};static \u0275pipe=Kl({name:"date",type:n,pure:!0})}return n})();var sa=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,i,r){if(!xD(t))return null;r||=this._locale;try{let o=CD(t);return vD(o,r,i)}catch(o){throw Cu(n,o.message)}}static \u0275fac=function(i){return new(i||n)(V(R2,16))};static \u0275pipe=Kl({name:"number",type:n,pure:!0})}return n})();var Cy=(()=>{class n{_locale;_defaultCurrencyCode;constructor(t,i="USD"){this._locale=t,this._defaultCurrencyCode=i}transform(t,i=this._defaultCurrencyCode,r="symbol",o,a){if(!xD(t))return null;a||=this._locale,typeof r=="boolean"&&(r=r?"symbol":"code");let c=i||this._defaultCurrencyCode;r!=="code"&&(r==="symbol"||r==="symbol-narrow"?c=dD(c,r==="symbol"?"wide":"narrow",a):c=r);try{let u=CD(t);return gD(u,a,c,i,o)}catch(u){throw Cu(n,u.message)}}static \u0275fac=function(i){return new(i||n)(V(R2,16),V(J_,16))};static \u0275pipe=Kl({name:"currency",type:n,pure:!0})}return n})();function xD(n){return!(n==null||n===""||n!==n)}function CD(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Ze(2309,!1);return n}var My=(()=>{class n{transform(t,i,r){if(t==null)return null;if(!(typeof t=="string"||Array.isArray(t)))throw Cu(n,t);return t.slice(i,r)}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=Kl({name:"slice",type:n,pure:!1})}return n})();var he=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xn({type:n});static \u0275inj=gn({})}return n})();function Mu(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var V2=class{};var Sy="browser";function uh(n){return n===Sy}var wD=(()=>{class n{static \u0275prov=me({token:n,providedIn:"root",factory:()=>new wy(q(Tt),window)})}return n})(),wy=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(Ve(ie({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let i=z$(this.document,e);i&&(this.scrollToElement(i,t),i.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Ja(2400,!1))}}scrollToElement(e,t){let i=e.getBoundingClientRect(),r=i.left+this.window.pageXOffset,o=i.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(Ve(ie({},t),{left:r-a[0],top:o-a[1]}))}};function z$(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let a=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(a)return a}r=i.nextNode()}}return null}var fh=new He(""),Ey=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new Ze(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||n)(De(fh),De(St))};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),wu=class{_doc;constructor(e){this._doc=e}manager},Py="ng-app-id";function SD(n){for(let e of n)e.remove()}function PD(n,e){let t=e.createElement("style");return t.textContent=n,t}function A$(n,e,t,i){let r=n.head?.querySelectorAll(`style[${Py}="${e}"],link[${Py}="${e}"]`);if(r)for(let o of r)o.removeAttribute(Py),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Oy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Iy=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,A$(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,PD);i?.forEach(r=>this.addUsage(r,this.external,Oy))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(SD(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])SD(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,PD(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,Oy(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),t.appendChild(i)}static \u0275fac=function(i){return new(i||n)(De(Tt),De(bd),De(_d,8),De(Us))};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),ky={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ty=/%COMP%/g;var OD="%COMP%",N$=`_nghost-${OD}`,R$=`_ngcontent-${OD}`,F$=!0,V$=new He("",{providedIn:"root",factory:()=>F$});function B$(n){return R$.replace(Ty,n)}function j$(n){return N$.replace(Ty,n)}function DD(n,e){return e.map(t=>t.replace(Ty,n))}var Ly=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,o,a,c,u,h=null,v=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=h,this.tracingService=v,this.platformIsServer=!1,this.defaultRenderer=new Su(t,a,u,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(t,i);return r instanceof ph?r.applyToHost(t):r instanceof Pu&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,h=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,y=this.platformIsServer,P=this.tracingService;switch(i.encapsulation){case Yl.Emulated:o=new ph(u,h,i,this.appId,v,a,c,y,P);break;case Yl.ShadowDom:return new Dy(u,h,t,i,a,c,this.nonce,y,P);default:o=new Pu(u,h,i,v,a,c,y,P);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||n)(De(Ey),De(Iy),De(bd),De(V$),De(Tt),De(Us),De(St),De(_d),De(N2,8))};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),Su=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,r,o){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(ky[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(kD(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(kD(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new Ze(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=ky[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=ky[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(as.DashCase|as.Important)?e.style.setProperty(t,i,r&as.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&as.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,r){if(typeof e=="string"&&(e=La().getGlobalEventTarget(this.doc,e),!e))throw new Ze(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,r)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function kD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Dy=class extends Su{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,i,r,o,a,c,u,h){super(e,o,a,u,h),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let v=r.styles;v=DD(r.id,v);for(let P of v){let S=document.createElement("style");c&&S.setAttribute("nonce",c),S.textContent=P,this.shadowRoot.appendChild(S)}let y=r.getExternalStyles?.();if(y)for(let P of y){let S=Oy(P,o);c&&S.setAttribute("nonce",c),this.shadowRoot.appendChild(S)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Pu=class extends Su{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,r,o,a,c,u,h){super(e,o,a,c,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let v=i.styles;this.styles=h?DD(h,v):v,this.styleUrls=i.getExternalStyles?.(h)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ph=class extends Pu{contentAttr;hostAttr;constructor(e,t,i,r,o,a,c,u,h){let v=r+"-"+i.id;super(e,t,i,o,a,c,u,h,v),this.contentAttr=B$(v),this.hostAttr=j$(v)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}};var mh=class n extends gu{supportsDOMEvents=!0;static makeCurrent(){dy(new n)}onAndCancel(e,t,i,r){return e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=H$();return t==null?null:U$(t)}resetBaseElement(){ku=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Mu(document.cookie,e)}},ku=null;function H$(){return ku=ku||document.head.querySelector("base"),ku?ku.getAttribute("href"):null}function U$(n){return new URL(n,document.baseURI).pathname}var $$=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),ID=(()=>{class n extends wu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(De(Tt))};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),ED=["alt","control","meta","shift"],W$={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},G$={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},TD=(()=>{class n extends wu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r,o){let a=n.parseEventName(i),c=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>La().onAndCancel(t,a.domEventName,c,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),ED.forEach(h=>{let v=i.indexOf(h);v>-1&&(i.splice(v,1),a+=h+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=r,u.fullKey=a,u}static matchEventFullKeyCode(t,i){let r=W$[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),ED.forEach(a=>{if(a!==r){let c=G$[a];c(t)&&(o+=a+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||n)(De(Tt))};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})();function zy(n,e){return UO(ie({rootComponent:n},Y$(e)))}function Y$(n){return{appProviders:[...Q$,...n?.providers??[]],platformProviders:K$}}function q$(){mh.makeCurrent()}function Z$(){return new ia}function X$(){return i_(document),document}var K$=[{provide:Us,useValue:Sy},{provide:D6,useValue:q$,multi:!0},{provide:Tt,useFactory:X$}];var Q$=[{provide:z3,useValue:"root"},{provide:ia,useFactory:Z$},{provide:fh,useClass:ID,multi:!0,deps:[Tt]},{provide:fh,useClass:TD,multi:!0,deps:[Tt]},Ly,Iy,Ey,{provide:Dr,useExisting:Ly},{provide:V2,useClass:$$},[]];var Pd=class{},kd=class{},Ra=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=t.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.addHeaderEntry(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let a=this.headers.get(t);if(!a)return;a=a.filter(c=>o.indexOf(c)===-1),a.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}break}}addHeaderEntry(e,t){let i=e.toLowerCase();this.maybeSetNormalizedName(e,i),this.headers.has(i)?this.headers.get(i).push(t):this.headers.set(i,[t])}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var vh=class{encodeKey(e){return LD(e)}encodeValue(e){return LD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function J$(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,c]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],u=t.get(a)||[];u.push(c),t.set(a,u)}),t}var eW=/%(\d[a-f0-9])/gi,tW={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function LD(n){return encodeURIComponent(n).replace(eW,(e,t)=>tW[t]??e)}function hh(n){return`${n}`}var Ei=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new vh,e.fromString){if(e.fromObject)throw new Ze(2805,!1);this.map=J$(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(hh):[hh(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(hh(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(hh(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var bh=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function nW(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function zD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function AD(n){return typeof Blob<"u"&&n instanceof Blob}function ND(n){return typeof FormData<"u"&&n instanceof FormData}function iW(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Ou="Content-Type",_h="Accept",Vy="X-Request-URL",VD="text/plain",BD="application/json",jD=`${BD}, ${VD}, */*`,n1=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,i,r){this.url=t,this.method=e.toUpperCase();let o;if(nW(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new Error("");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),this.transferCache=o.transferCache}if(this.headers??=new Ra,this.context??=new bh,!this.params)this.params=new Ei,this.urlWithParams=t;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=t;else{let c=t.indexOf("?"),u=c===-1?"?":c<t.length-1?"&":"";this.urlWithParams=t+u+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||zD(this.body)||AD(this.body)||ND(this.body)||iW(this.body)?this.body:this.body instanceof Ei?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ND(this.body)?null:AD(this.body)?this.body.type||null:zD(this.body)?null:typeof this.body=="string"?VD:this.body instanceof Ei?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?BD:null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.keepalive??this.keepalive,a=e.priority||this.priority,c=e.cache||this.cache,u=e.mode||this.mode,h=e.redirect||this.redirect,v=e.credentials||this.credentials,y=e.transferCache??this.transferCache,P=e.timeout??this.timeout,S=e.body!==void 0?e.body:this.body,M=e.withCredentials??this.withCredentials,O=e.reportProgress??this.reportProgress,R=e.headers||this.headers,B=e.params||this.params,F=e.context??this.context;return e.setHeaders!==void 0&&(R=Object.keys(e.setHeaders).reduce((N,Y)=>N.set(Y,e.setHeaders[Y]),R)),e.setParams&&(B=Object.keys(e.setParams).reduce((N,Y)=>N.set(Y,e.setParams[Y]),B)),new n(t,i,S,{params:B,headers:R,context:F,reportProgress:O,responseType:r,withCredentials:M,transferCache:y,keepalive:o,cache:c,priority:a,timeout:P,mode:u,redirect:h,credentials:v})}},Na=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Na||{}),Od=class{headers;status;statusText;url;ok;type;constructor(e,t=200,i="OK"){this.headers=e.headers||new Ra,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Du=class n extends Od{constructor(e={}){super(e)}type=Na.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Dd=class n extends Od{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Na.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Aa=class extends Od{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},HD=200,rW=204;function Ay(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect}}var Ct=(()=>{class n{handler;constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof n1)o=t;else{let u;r.headers instanceof Ra?u=r.headers:u=new Ra(r.headers);let h;r.params&&(r.params instanceof Ei?h=r.params:h=new Ei({fromObject:r.params})),o=new n1(t,i,r.body!==void 0?r.body:null,{headers:u,context:r.context,params:h,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials})}let a=qe(o).pipe(Ma(u=>this.handler.handle(u)));if(t instanceof n1||r.observe==="events")return a;let c=a.pipe(Nn(u=>u instanceof Dd));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(Ne(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Ze(2806,!1);return u.body}));case"blob":return c.pipe(Ne(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Ze(2807,!1);return u.body}));case"text":return c.pipe(Ne(u=>{if(u.body!==null&&typeof u.body!="string")throw new Ze(2808,!1);return u.body}));case"json":default:return c.pipe(Ne(u=>u.body))}case"response":return c;default:throw new Ze(2809,!1)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new Ei().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Ay(r,i))}post(t,i,r={}){return this.request("POST",t,Ay(r,i))}put(t,i,r={}){return this.request("PUT",t,Ay(r,i))}static \u0275fac=function(i){return new(i||n)(De(Pd))};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),oW=/^\)\]\}',?\n/;function RD(n){if(n.url)return n.url;let e=Vy.toLocaleLowerCase();return n.headers.get(e)}var UD=new He(""),gh=(()=>{class n{fetchImpl=q(Ny,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t));ngZone=q(St);destroyRef=q(Ur);destroyed=!1;constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0})}handle(t){return new It(i=>{let r=new AbortController;this.doRequest(t,r.signal,i).then(Ry,a=>i.error(new Aa({error:a})));let o;return t.timeout&&(o=this.ngZone.runOutsideAngular(()=>setTimeout(()=>{r.signal.aborted||r.abort(new DOMException("signal timed out","TimeoutError"))},t.timeout))),()=>{o!==void 0&&clearTimeout(o),r.abort()}})}async doRequest(t,i,r){let o=this.createRequestInit(t),a;try{let S=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,ie({signal:i},o)));aW(S),r.next({type:Na.Sent}),a=await S}catch(S){r.error(new Aa({error:S,status:S.status??0,statusText:S.statusText,url:t.urlWithParams,headers:S.headers}));return}let c=new Ra(a.headers),u=a.statusText,h=RD(a)??t.urlWithParams,v=a.status,y=null;if(t.reportProgress&&r.next(new Du({headers:c,status:v,statusText:u,url:h})),a.body){let S=a.headers.get("content-length"),M=[],O=a.body.getReader(),R=0,B,F,N=typeof Zone<"u"&&Zone.current,Y=!1;if(await this.ngZone.runOutsideAngular(async()=>{for(;;){if(this.destroyed){await O.cancel(),Y=!0;break}let{done:ue,value:fe}=await O.read();if(ue)break;if(M.push(fe),R+=fe.length,t.reportProgress){F=t.responseType==="text"?(F??"")+(B??=new TextDecoder).decode(fe,{stream:!0}):void 0;let oe=()=>r.next({type:Na.DownloadProgress,total:S?+S:void 0,loaded:R,partialText:F});N?N.run(oe):oe()}}}),Y){r.complete();return}let ne=this.concatChunks(M,R);try{let ue=a.headers.get(Ou)??"";y=this.parseBody(t,ne,ue)}catch(ue){r.error(new Aa({error:ue,headers:new Ra(a.headers),status:a.status,statusText:a.statusText,url:RD(a)??t.urlWithParams}));return}}v===0&&(v=y?HD:0),v>=200&&v<300?(r.next(new Dd({body:y,headers:c,status:v,statusText:u,url:h})),r.complete()):r.error(new Aa({error:y,headers:c,status:v,statusText:u,url:h}))}parseBody(t,i,r){switch(t.responseType){case"json":let o=new TextDecoder().decode(i).replace(oW,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(t){let i={},r;if(r=t.credentials,t.withCredentials&&(r="include"),t.headers.forEach((o,a)=>i[o]=a.join(",")),t.headers.has(_h)||(i[_h]=jD),!t.headers.has(Ou)){let o=t.detectContentTypeHeader();o!==null&&(i[Ou]=o)}return{body:t.serializeBody(),method:t.method,headers:i,credentials:r,keepalive:t.keepalive,cache:t.cache,priority:t.priority,mode:t.mode,redirect:t.redirect}}concatChunks(t,i){let r=new Uint8Array(i),o=0;for(let a of t)r.set(a,o),o+=a.length;return r}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),Ny=class{};function Ry(){}function aW(n){n.then(Ry,Ry)}function $D(n,e){return e(n)}function sW(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}function lW(n,e,t){return(i,r)=>kr(t,()=>e(i,o=>n(o,r)))}var xh=new He(""),By=new He(""),WD=new He(""),jy=new He("",{providedIn:"root",factory:()=>!0});function cW(){let n=null;return(e,t)=>{n===null&&(n=(q(xh,{optional:!0})??[]).reduceRight(sW,$D));let i=q(ld);if(q(jy)){let o=i.add();return n(e,t).pipe(Kr(o))}else return n(e,t)}}var yh=(()=>{class n extends Pd{backend;injector;chain=null;pendingTasks=q(ld);contributeToStability=q(jy);constructor(t,i){super(),this.backend=t,this.injector=i}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(By),...this.injector.get(WD,[])]));this.chain=i.reduceRight((r,o)=>lW(r,o,this.injector),$D)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Kr(i))}else return this.chain(t,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(De(kd),De(ui))};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})();var dW=/^\)\]\}',?\n/,uW=RegExp(`^${Vy}:`,"m");function pW(n){return"responseURL"in n&&n.responseURL?n.responseURL:uW.test(n.getAllResponseHeaders())?n.getResponseHeader(Vy):null}var Fy=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new Ze(-2800,!1);let i=this.xhrFactory;return qe(null).pipe(ii(()=>new It(o=>{let a=i.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((R,B)=>a.setRequestHeader(R,B.join(","))),t.headers.has(_h)||a.setRequestHeader(_h,jD),!t.headers.has(Ou)){let R=t.detectContentTypeHeader();R!==null&&a.setRequestHeader(Ou,R)}if(t.timeout&&(a.timeout=t.timeout),t.responseType){let R=t.responseType.toLowerCase();a.responseType=R!=="json"?R:"text"}let c=t.serializeBody(),u=null,h=()=>{if(u!==null)return u;let R=a.statusText||"OK",B=new Ra(a.getAllResponseHeaders()),F=pW(a)||t.url;return u=new Du({headers:B,status:a.status,statusText:R,url:F}),u},v=()=>{let{headers:R,status:B,statusText:F,url:N}=h(),Y=null;B!==rW&&(Y=typeof a.response>"u"?a.responseText:a.response),B===0&&(B=Y?HD:0);let ne=B>=200&&B<300;if(t.responseType==="json"&&typeof Y=="string"){let ue=Y;Y=Y.replace(dW,"");try{Y=Y!==""?JSON.parse(Y):null}catch(fe){Y=ue,ne&&(ne=!1,Y={error:fe,text:Y})}}ne?(o.next(new Dd({body:Y,headers:R,status:B,statusText:F,url:N||void 0})),o.complete()):o.error(new Aa({error:Y,headers:R,status:B,statusText:F,url:N||void 0}))},y=R=>{let{url:B}=h(),F=new Aa({error:R,status:a.status||0,statusText:a.statusText||"Unknown Error",url:B||void 0});o.error(F)},P=y;t.timeout&&(P=R=>{let{url:B}=h(),F=new Aa({error:new DOMException("Request timed out","TimeoutError"),status:a.status||0,statusText:a.statusText||"Request timeout",url:B||void 0});o.error(F)});let S=!1,M=R=>{S||(o.next(h()),S=!0);let B={type:Na.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(B.total=R.total),t.responseType==="text"&&a.responseText&&(B.partialText=a.responseText),o.next(B)},O=R=>{let B={type:Na.UploadProgress,loaded:R.loaded};R.lengthComputable&&(B.total=R.total),o.next(B)};return a.addEventListener("load",v),a.addEventListener("error",y),a.addEventListener("timeout",P),a.addEventListener("abort",y),t.reportProgress&&(a.addEventListener("progress",M),c!==null&&a.upload&&a.upload.addEventListener("progress",O)),a.send(c),o.next({type:Na.Sent}),()=>{a.removeEventListener("error",y),a.removeEventListener("abort",y),a.removeEventListener("load",v),a.removeEventListener("timeout",P),t.reportProgress&&(a.removeEventListener("progress",M),c!==null&&a.upload&&a.upload.removeEventListener("progress",O)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(i){return new(i||n)(De(V2))};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),GD=new He(""),fW="XSRF-TOKEN",mW=new He("",{providedIn:"root",factory:()=>fW}),hW="X-XSRF-TOKEN",gW=new He("",{providedIn:"root",factory:()=>hW}),Eu=class{},vW=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,i){this.doc=t,this.cookieName=i}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Mu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(i){return new(i||n)(De(Tt),De(mW))};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})();function bW(n,e){let t=n.url.toLowerCase();if(!q(GD)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=q(Eu).getToken(),r=q(gW);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var Ch=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Ch||{});function YD(n,e){return{\u0275kind:n,\u0275providers:e}}function Mh(...n){let e=[Ct,Fy,yh,{provide:Pd,useExisting:yh},{provide:kd,useFactory:()=>q(UD,{optional:!0})??q(Fy)},{provide:By,useValue:bW,multi:!0},{provide:GD,useValue:!0},{provide:Eu,useClass:vW}];for(let t of n)e.push(...t.\u0275providers);return zs(e)}var FD=new He("");function Hy(){return YD(Ch.LegacyInterceptors,[{provide:FD,useFactory:cW},{provide:By,useExisting:FD,multi:!0}])}function Uy(){return YD(Ch.Fetch,[gh,{provide:UD,useExisting:gh},{provide:kd,useExisting:gh}])}var qD=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||n)(De(Tt))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $y=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=De(_W),r},providedIn:"root"})}return n})(),_W=(()=>{class n extends $y{_doc;constructor(t){super(),this._doc=t}sanitize(t,i){if(i==null)return null;switch(t){case Ea.NONE:return i;case Ea.HTML:return $s(i,"HTML")?oa(i):T6(this._doc,String(i)).toString();case Ea.STYLE:return $s(i,"Style")?oa(i):i;case Ea.SCRIPT:if($s(i,"Script"))return oa(i);throw new Ze(5200,!1);case Ea.URL:return $s(i,"URL")?oa(i):nu(String(i));case Ea.RESOURCE_URL:if($s(i,"ResourceURL"))return oa(i);throw new Ze(5201,!1);default:throw new Ze(5202,!1)}}bypassSecurityTrustHtml(t){return a_(t)}bypassSecurityTrustStyle(t){return s_(t)}bypassSecurityTrustScript(t){return l_(t)}bypassSecurityTrustUrl(t){return c_(t)}bypassSecurityTrustResourceUrl(t){return d_(t)}static \u0275fac=function(i){return new(i||n)(De(Tt))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sn="primary",Uu=Symbol("RouteTitle"),Zy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function H2(n){return new Zy(n)}function nE(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let a=i[o],c=n[o];if(a[0]===":")r[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function xW(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!qs(n[t],e[t]))return!1;return!0}function qs(n,e){let t=n?Xy(n):void 0,i=e?Xy(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!iE(n[r],e[r]))return!1;return!0}function Xy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function iE(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function rE(n){return n.length>0?n[n.length-1]:null}function Jl(n){return na(n)?n:t1(n)?Ci(Promise.resolve(n)):qe(n)}var CW={exact:aE,subset:sE},oE={exact:MW,subset:wW,ignored:()=>!0};function ZD(n,e,t){return CW[t.paths](n.root,e.root,t.matrixParams)&&oE[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function MW(n,e){return qs(n,e)}function aE(n,e,t){if(!B2(n.segments,e.segments)||!Ph(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!aE(n.children[i],e.children[i],t))return!1;return!0}function wW(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>iE(n[t],e[t]))}function sE(n,e,t){return lE(n,e,e.segments,t)}function lE(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!B2(r,t)||e.hasChildren()||!Ph(r,t,i))}else if(n.segments.length===t.length){if(!B2(n.segments,t)||!Ph(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!sE(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!B2(n.segments,r)||!Ph(n.segments,r,i)||!n.children[sn]?!1:lE(n.children[sn],e,o,i)}}function Ph(n,e,t){return e.every((i,r)=>oE[t](n[r].parameters,i.parameters))}var Xs=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Hn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=H2(this.queryParams),this._queryParamMap}toString(){return kW.serialize(this)}},Hn=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kh(this)}},i1=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=H2(this.parameters),this._parameterMap}toString(){return dE(this)}};function SW(n,e){return B2(n,e)&&n.every((t,i)=>qs(t.parameters,e[i].parameters))}function B2(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function PW(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===sn&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==sn&&(t=t.concat(e(r,i)))}),t}var U2=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:()=>new r1,providedIn:"root"})}return n})(),r1=class{parse(e){let t=new Qy(e);return new Xs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Iu(e.root,!0)}`,i=EW(e.queryParams),r=typeof e.fragment=="string"?`#${OW(e.fragment)}`:"";return`${t}${i}${r}`}},kW=new r1;function kh(n){return n.segments.map(e=>dE(e)).join("/")}function Iu(n,e){if(!n.hasChildren())return kh(n);if(e){let t=n.children[sn]?Iu(n.children[sn],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==sn&&i.push(`${r}:${Iu(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=PW(n,(i,r)=>r===sn?[Iu(n.children[sn],!1)]:[`${r}:${Iu(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[sn]!=null?`${kh(n)}/${t[0]}`:`${kh(n)}/(${t.join("//")})`}}function cE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wh(n){return cE(n).replace(/%3B/gi,";")}function OW(n){return encodeURI(n)}function Ky(n){return cE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Oh(n){return decodeURIComponent(n)}function XD(n){return Oh(n.replace(/\+/g,"%20"))}function dE(n){return`${Ky(n.path)}${DW(n.parameters)}`}function DW(n){return Object.entries(n).map(([e,t])=>`;${Ky(e)}=${Ky(t)}`).join("")}function EW(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${wh(t)}=${wh(r)}`).join("&"):`${wh(t)}=${wh(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var IW=/^[^\/()?;#]+/;function Wy(n){let e=n.match(IW);return e?e[0]:""}var TW=/^[^\/()?;=#]+/;function LW(n){let e=n.match(TW);return e?e[0]:""}var zW=/^[^=?&#]+/;function AW(n){let e=n.match(zW);return e?e[0]:""}var NW=/^[^&#]+/;function RW(n){let e=n.match(NW);return e?e[0]:""}var Qy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hn([],{}):new Hn([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[sn]=new Hn(e,t)),i}parseSegment(){let e=Wy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Ze(4009,!1);return this.capture(e),new i1(Oh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=LW(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=Wy(this.remaining);r&&(i=r,this.capture(i))}e[Oh(t)]=Oh(i)}parseQueryParam(e){let t=AW(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let a=RW(this.remaining);a&&(i=a,this.capture(i))}let r=XD(t),o=XD(i);if(e.hasOwnProperty(r)){let a=e[r];Array.isArray(a)||(a=[a],e[r]=a),a.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Wy(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Ze(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=sn);let a=this.parseChildren();t[o]=Object.keys(a).length===1?a[sn]:new Hn([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Ze(4011,!1)}};function uE(n){return n.segments.length>0?new Hn([],{[sn]:n}):n}function pE(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=pE(r);if(i===sn&&o.segments.length===0&&o.hasChildren())for(let[a,c]of Object.entries(o.children))e[a]=c;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new Hn(n.segments,e);return FW(t)}function FW(n){if(n.numberOfChildren===1&&n.children[sn]){let e=n.children[sn];return new Hn(n.segments.concat(e.segments),e.children)}return n}function o1(n){return n instanceof Xs}function fE(n,e,t=null,i=null){let r=mE(n);return hE(r,e,t,i)}function mE(n){let e;function t(o){let a={};for(let u of o.children){let h=t(u);a[u.outlet]=h}let c=new Hn(o.url,a);return o===n&&(e=c),c}let i=t(n.root),r=uE(i);return e??r}function hE(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return Gy(r,r,r,t,i);let o=VW(e);if(o.toRoot())return Gy(r,r,new Hn([],{}),t,i);let a=BW(o,r,n),c=a.processChildren?Lu(a.segmentGroup,a.index,o.commands):vE(a.segmentGroup,a.index,o.commands);return Gy(r,a.segmentGroup,c,t,i)}function Dh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Au(n){return typeof n=="object"&&n!=null&&n.outlets}function Gy(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([u,h])=>{o[u]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`});let a;n===e?a=t:a=gE(n,e,t);let c=uE(pE(a));return new Xs(c,o,r)}function gE(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=gE(o,e,t)}),new Hn(n.segments,i)}var Eh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Dh(i[0]))throw new Ze(4003,!1);let r=i.find(Au);if(r&&r!==rE(i))throw new Ze(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function VW(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Eh(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,h])=>{c[u]=typeof h=="string"?h.split("/"):h}),[...r,{outlets:c}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&r.push(c))}),r):[...r,o]},[]);return new Eh(t,e,i)}var Td=class{segmentGroup;processChildren;index;constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function BW(n,e,t){if(n.isAbsolute)return new Td(e,!0,0);if(!t)return new Td(e,!1,NaN);if(t.parent===null)return new Td(t,!0,0);let i=Dh(n.commands[0])?0:1,r=t.segments.length-1+i;return jW(t,r,n.numberOfDoubleDots)}function jW(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Ze(4005,!1);r=i.segments.length}return new Td(i,!1,r-o)}function HW(n){return Au(n[0])?n[0].outlets:{[sn]:n}}function vE(n,e,t){if(n??=new Hn([],{}),n.segments.length===0&&n.hasChildren())return Lu(n,e,t);let i=UW(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new Hn(n.segments.slice(0,i.pathIndex),{});return o.children[sn]=new Hn(n.segments.slice(i.pathIndex),n.children),Lu(o,0,r)}else return i.match&&r.length===0?new Hn(n.segments,{}):i.match&&!n.hasChildren()?Jy(n,e,t):i.match?Lu(n,0,r):Jy(n,e,t)}function Lu(n,e,t){if(t.length===0)return new Hn(n.segments,{});{let i=HW(t),r={};if(Object.keys(i).some(o=>o!==sn)&&n.children[sn]&&n.numberOfChildren===1&&n.children[sn].segments.length===0){let o=Lu(n.children[sn],e,t);return new Hn(n.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=vE(n.children[o],e,a))}),Object.entries(n.children).forEach(([o,a])=>{i[o]===void 0&&(r[o]=a)}),new Hn(n.segments,r)}}function UW(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let a=n.segments[r],c=t[i];if(Au(c))break;let u=`${c}`,h=i<t.length-1?t[i+1]:null;if(r>0&&u===void 0)break;if(u&&h&&typeof h=="object"&&h.outlets===void 0){if(!QD(u,h,a))return o;i+=2}else{if(!QD(u,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Jy(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(Au(o)){let u=$W(o.outlets);return new Hn(i,u)}if(r===0&&Dh(t[0])){let u=n.segments[e];i.push(new i1(u.path,KD(t[0]))),r++;continue}let a=Au(o)?o.outlets[sn]:`${o}`,c=r<t.length-1?t[r+1]:null;a&&c&&Dh(c)?(i.push(new i1(a,KD(c))),r+=2):(i.push(new i1(a,{})),r++)}return new Hn(i,{})}function $W(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=Jy(new Hn([],{}),0,i))}),e}function KD(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function QD(n,e,t){return n==t.path&&qs(e,t.parameters)}var Ld="imperative",Mr=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Mr||{}),ca=class{id;url;constructor(e,t){this.id=e,this.url=t}},a1=class extends ca{type=Mr.NavigationStart;navigationTrigger;restoredState;constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Cr=class extends ca{urlAfterRedirects;type=Mr.NavigationEnd;constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},yo=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(yo||{}),Ad=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ad||{}),Zs=class extends ca{reason;code;type=Mr.NavigationCancel;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ks=class extends ca{reason;code;type=Mr.NavigationSkipped;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}},Nd=class extends ca{error;target;type=Mr.NavigationError;constructor(e,t,i,r){super(e,t),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Nu=class extends ca{urlAfterRedirects;state;type=Mr.RoutesRecognized;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ih=class extends ca{urlAfterRedirects;state;type=Mr.GuardsCheckStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Th=class extends ca{urlAfterRedirects;state;shouldActivate;type=Mr.GuardsCheckEnd;constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Lh=class extends ca{urlAfterRedirects;state;type=Mr.ResolveStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zh=class extends ca{urlAfterRedirects;state;type=Mr.ResolveEnd;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ah=class{route;type=Mr.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Nh=class{route;type=Mr.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Rh=class{snapshot;type=Mr.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fh=class{snapshot;type=Mr.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vh=class{snapshot;type=Mr.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bh=class{snapshot;type=Mr.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rd=class{routerEvent;position;anchor;type=Mr.Scroll;constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ru=class{},Fd=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function WW(n){return!(n instanceof Ru)&&!(n instanceof Fd)}function GW(n,e){return n.providers&&!n._injector&&(n._injector=Cd(n.providers,e,`Route: ${n.path}`)),n._injector??e}function fs(n){return n.outlet||sn}function YW(n,e){let t=n.filter(i=>fs(i)===e);return t.push(...n.filter(i=>fs(i)!==e)),t}function jd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var jh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return jd(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new $2(this.rootInjector)}},$2=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new jh(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||n)(De(ui))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=ex(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=ex(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=tx(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return tx(e,this._root).map(t=>t.value)}};function ex(n,e){if(n===e.value)return e;for(let t of e.children){let i=ex(n,t);if(i)return i}return null}function tx(n,e){if(n===e.value)return[e];for(let t of e.children){let i=tx(n,t);if(i.length)return i.unshift(e),i}return[]}var la=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Id(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Fu=class extends Hh{snapshot;constructor(e,t){super(e),this.snapshot=t,cx(this,e)}toString(){return this.snapshot.toString()}};function bE(n){let e=qW(n),t=new Sn([new i1("",{})]),i=new Sn({}),r=new Sn({}),o=new Sn({}),a=new Sn(""),c=new qn(t,i,o,a,r,sn,n,e.root);return c.snapshot=e.root,new Fu(new la(c,[]),e)}function qW(n){let e={},t={},i={},r="",o=new j2([],e,i,r,t,sn,n,null,{});return new Vu("",new la(o,[]))}var qn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,i,r,o,a,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Ne(h=>h[Uu]))??qe(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ne(e=>H2(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ne(e=>H2(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Uh(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:ie(ie({},e.params),n.params),data:ie(ie({},e.data),n.data),resolve:ie(ie(ie(ie({},n.data),e.data),r?.data),n._resolvedData)}:i={params:ie({},n.params),data:ie({},n.data),resolve:ie(ie({},n.data),n._resolvedData??{})},r&&yE(r)&&(i.resolve[Uu]=r.title),i}var j2=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Uu]}constructor(e,t,i,r,o,a,c,u,h){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=c,this.routeConfig=u,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=H2(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=H2(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Vu=class extends Hh{url;constructor(e,t){super(t),this.url=e,cx(this,t)}toString(){return _E(this._root)}};function cx(n,e){e.value._routerState=n,e.children.forEach(t=>cx(n,t))}function _E(n){let e=n.children.length>0?` { ${n.children.map(_E).join(", ")} } `:"";return`${n.value}${e}`}function Yy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,qs(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),qs(e.params,t.params)||n.paramsSubject.next(t.params),xW(e.url,t.url)||n.urlSubject.next(t.url),qs(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function nx(n,e){let t=qs(n.params,e.params)&&SW(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||nx(n.parent,e.parent))}function yE(n){return typeof n.title=="string"||n.title===null}var xE=new He(""),ms=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=sn;activateEvents=new ye;deactivateEvents=new ye;attachEvents=new ye;detachEvents=new ye;routerOutletData=wd(void 0);parentContexts=q($2);location=q(Ir);changeDetector=q(Ot);inputBinder=q($u,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ze(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ze(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ze(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Ze(4013,!1);this._activatedRoute=t;let r=this.location,a=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new ix(t,c,r.injector,this.routerOutletData);this.activated=r.createComponent(a,{index:r.length,injector:u,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ct({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Gt]})}return n})(),ix=class{route;childContexts;parent;outletData;constructor(e,t,i,r){this.route=e,this.childContexts=t,this.parent=i,this.outletData=r}get(e,t){return e===qn?this.route:e===$2?this.childContexts:e===xE?this.outletData:this.parent.get(e,t)}},$u=new He(""),dx=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=Vl([i.queryParams,i.params,i.data]).pipe(ii(([o,a,c],u)=>(c=ie(ie(ie({},o),a),c),u===0?qe(c):Promise.resolve(c)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let a=$O(i.component);if(!a){this.unsubscribeFromRouteData(t);return}for(let{templateName:c}of a.inputs)t.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(t,r)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),ux=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&k(0,"router-outlet")},dependencies:[ms],encapsulation:2})}return n})();function px(n){let e=n.children&&n.children.map(px),t=e?Ve(ie({},n),{children:e}):ie({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==sn&&(t.component=ux),t}function ZW(n,e,t){let i=Bu(n,e._root,t?t._root:void 0);return new Fu(i,e)}function Bu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=XW(n,e,t);return new la(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(c=>Bu(n,c)),a}}let i=KW(e.value),r=e.children.map(o=>Bu(n,o));return new la(i,r)}}function XW(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Bu(n,i,r);return Bu(n,i)})}function KW(n){return new qn(new Sn(n.url),new Sn(n.params),new Sn(n.queryParams),new Sn(n.fragment),new Sn(n.data),n.outlet,n.component,n)}var Vd=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},CE="ngNavigationCancelingError";function $h(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=o1(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=ME(!1,yo.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function ME(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[CE]=!0,t.cancellationCode=e,t}function QW(n){return wE(n)&&o1(n.url)}function wE(n){return!!n&&n[CE]}var JW=(n,e,t,i)=>Ne(r=>(new rx(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),rx=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Yy(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=Id(t);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Id(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(i&&i.outlet){let a=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Id(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=Id(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Bh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Fh(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(Yy(r),r===o)if(r.component){let a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),Yy(c.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=r,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,i)}},Wh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},zd=class{component;route;constructor(e,t){this.component=e,this.route=t}};function eG(n,e,t){let i=n._root,r=e?e._root:null;return Tu(i,r,t,[i.value])}function tG(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Hd(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!d9(n)?n:e.get(n):i}function Tu(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Id(e);return n.children.forEach(a=>{nG(a,o[a.value.outlet],t,i.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,c])=>zu(c,t.getContext(a),r)),r}function nG(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,a=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let u=iG(a,o,o.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new Wh(i)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Tu(n,e,c?c.children:null,i,r):Tu(n,e,t,i,r),u&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new zd(c.outlet.component,a))}else a&&zu(e,c,r),r.canActivateChecks.push(new Wh(i)),o.component?Tu(n,null,c?c.children:null,i,r):Tu(n,null,t,i,r);return r}function iG(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!B2(n.url,e.url);case"pathParamsOrQueryParamsChange":return!B2(n.url,e.url)||!qs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nx(n,e)||!qs(n.queryParams,e.queryParams);case"paramsChange":default:return!nx(n,e)}}function zu(n,e,t){let i=Id(n),r=n.value;Object.entries(i).forEach(([o,a])=>{r.component?e?zu(a,e.children.getContext(o),t):zu(a,null,t):zu(a,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new zd(e.outlet.component,r)):t.canDeactivateChecks.push(new zd(null,r)):t.canDeactivateChecks.push(new zd(null,r))}function Wu(n){return typeof n=="function"}function rG(n){return typeof n=="boolean"}function oG(n){return n&&Wu(n.canLoad)}function aG(n){return n&&Wu(n.canActivate)}function sG(n){return n&&Wu(n.canActivateChild)}function lG(n){return n&&Wu(n.canDeactivate)}function cG(n){return n&&Wu(n.canMatch)}function SE(n){return n instanceof Fl||n?.name==="EmptyError"}var Sh=Symbol("INITIAL_VALUE");function Bd(){return ii(n=>Vl(n.map(e=>e.pipe(vr(1),$c(Sh)))).pipe(Ne(e=>{for(let t of e)if(t!==!0){if(t===Sh)return Sh;if(t===!1||dG(t))return t}return!0}),Nn(e=>e!==Sh),vr(1)))}function dG(n){return o1(n)||n instanceof Vd}function uG(n,e){return Wi(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=t;return a.length===0&&o.length===0?qe(Ve(ie({},t),{guardsResult:!0})):pG(a,i,r,n).pipe(Wi(c=>c&&rG(c)?fG(i,o,n,e):qe(c)),Ne(c=>Ve(ie({},t),{guardsResult:c})))})}function pG(n,e,t,i){return Ci(n).pipe(Wi(r=>bG(r.component,r.route,t,e,i)),jl(r=>r!==!0,!0))}function fG(n,e,t,i){return Ci(e).pipe(Ma(r=>Ka(hG(r.route.parent,i),mG(r.route,i),vG(n,r.path,t),gG(n,r.route,t))),jl(r=>r!==!0,!0))}function mG(n,e){return n!==null&&e&&e(new Vh(n)),qe(!0)}function hG(n,e){return n!==null&&e&&e(new Rh(n)),qe(!0)}function gG(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return qe(!0);let r=i.map(o=>Hc(()=>{let a=jd(e)??t,c=Hd(o,a),u=aG(c)?c.canActivate(e,n):kr(a,()=>c(e,n));return Jl(u).pipe(jl())}));return qe(r).pipe(Bd())}function vG(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>tG(a)).filter(a=>a!==null).map(a=>Hc(()=>{let c=a.guards.map(u=>{let h=jd(a.node)??t,v=Hd(u,h),y=sG(v)?v.canActivateChild(i,n):kr(h,()=>v(i,n));return Jl(y).pipe(jl())});return qe(c).pipe(Bd())}));return qe(o).pipe(Bd())}function bG(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return qe(!0);let a=o.map(c=>{let u=jd(e)??r,h=Hd(c,u),v=lG(h)?h.canDeactivate(n,e,t,i):kr(u,()=>h(n,e,t,i));return Jl(v).pipe(jl())});return qe(a).pipe(Bd())}function _G(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return qe(!0);let o=r.map(a=>{let c=Hd(a,n),u=oG(c)?c.canLoad(e,t):kr(n,()=>c(e,t));return Jl(u)});return qe(o).pipe(Bd(),PE(i))}function PE(n){return Fv(Pn(e=>{if(typeof e!="boolean")throw $h(n,e)}),Ne(e=>e===!0))}function yG(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return qe(!0);let o=r.map(a=>{let c=Hd(a,n),u=cG(c)?c.canMatch(e,t):kr(n,()=>c(e,t));return Jl(u)});return qe(o).pipe(Bd(),PE(i))}var ju=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Hu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ed(n){return gr(new ju(n))}function xG(n){return gr(new Ze(4e3,!1))}function CG(n){return gr(ME(!1,yo.GuardRejected))}var ox=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return qe(i);if(r.numberOfChildren>1||!r.children[sn])return xG(`${e.redirectTo}`);r=r.children[sn]}}applyRedirectCommands(e,t,i,r,o){return MG(t,r,o).pipe(Ne(a=>{if(a instanceof Xs)throw new Hu(a);let c=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),e,i);if(a[0]==="/")throw new Hu(c);return c}))}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new Xs(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);i[r]=t[c]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),a={};return Object.entries(t.children).forEach(([c,u])=>{a[c]=this.createSegmentGroup(e,u,i,r)}),new Hn(o,a)}createSegments(e,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new Ze(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}};function MG(n,e,t){if(typeof n=="string")return qe(n);let i=n,{queryParams:r,fragment:o,routeConfig:a,url:c,outlet:u,params:h,data:v,title:y}=e;return Jl(kr(t,()=>i({params:h,data:v,queryParams:r,fragment:o,routeConfig:a,url:c,outlet:u,title:y})))}var ax={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wG(n,e,t,i,r){let o=kE(n,e,t);return o.matched?(i=GW(e,i),yG(i,e,t,r).pipe(Ne(a=>a===!0?o:ie({},ax)))):qe(o)}function kE(n,e,t){if(e.path==="**")return SG(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?ie({},ax):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||nE)(t,n,e);if(!r)return ie({},ax);let o={};Object.entries(r.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let a=r.consumed.length>0?ie(ie({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function SG(n){return{matched:!0,parameters:n.length>0?rE(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function JD(n,e,t,i){return t.length>0&&OG(n,t,i)?{segmentGroup:new Hn(e,kG(i,new Hn(t,n.children))),slicedSegments:[]}:t.length===0&&DG(n,t,i)?{segmentGroup:new Hn(n.segments,PG(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Hn(n.segments,n.children),slicedSegments:t}}function PG(n,e,t,i){let r={};for(let o of t)if(Yh(n,e,o)&&!i[fs(o)]){let a=new Hn([],{});r[fs(o)]=a}return ie(ie({},i),r)}function kG(n,e){let t={};t[sn]=e;for(let i of n)if(i.path===""&&fs(i)!==sn){let r=new Hn([],{});t[fs(i)]=r}return t}function OG(n,e,t){return t.some(i=>Yh(n,e,i)&&fs(i)!==sn)}function DG(n,e,t){return t.some(i=>Yh(n,e,i))}function Yh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function EG(n,e,t){return e.length===0&&!n.children[t]}var sx=class{};function IG(n,e,t,i,r,o,a="emptyOnly"){return new lx(n,e,t,i,r,a,o).recognize()}var TG=31,lx=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,i,r,o,a,c){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=c,this.applyRedirects=new ox(this.urlSerializer,this.urlTree)}noMatchError(e){return new Ze(4002,`'${e.segmentGroup}'`)}recognize(){let e=JD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ne(({children:t,rootSnapshot:i})=>{let r=new la(i,t),o=new Vu("",r),a=fE(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(e){let t=new j2([],Object.freeze({}),Object.freeze(ie({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),sn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,sn,t).pipe(Ne(i=>({children:i,rootSnapshot:t})),In(i=>{if(i instanceof Hu)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof ju?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,r,!0,o).pipe(Ne(a=>a instanceof la?[a]:[]))}processChildren(e,t,i,r){let o=[];for(let a of Object.keys(i.children))a==="primary"?o.unshift(a):o.push(a);return Ci(o).pipe(Ma(a=>{let c=i.children[a],u=YW(t,a);return this.processSegmentGroup(e,u,c,a,r)}),Zv((a,c)=>(a.push(...c),a)),Uc(null),Yv(),Wi(a=>{if(a===null)return Ed(i);let c=OE(a);return LG(c),qe(c)}))}processSegment(e,t,i,r,o,a,c){return Ci(t).pipe(Ma(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,i,r,o,a,c).pipe(In(h=>{if(h instanceof ju)return qe(null);throw h}))),jl(u=>!!u),In(u=>{if(SE(u))return EG(i,r,o)?qe(new sx):Ed(i);throw u}))}processSegmentAgainstRoute(e,t,i,r,o,a,c,u){return fs(i)!==a&&(a===sn||!Yh(r,o,i))?Ed(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,a,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,a,u):Ed(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,a,c){let{matched:u,parameters:h,consumedSegments:v,positionalParamSegments:y,remainingSegments:P}=kE(t,r,o);if(!u)return Ed(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>TG&&(this.allowRedirects=!1));let S=new j2(o,h,Object.freeze(ie({},this.urlTree.queryParams)),this.urlTree.fragment,eE(r),fs(r),r.component??r._loadedComponent??null,r,tE(r)),M=Uh(S,c,this.paramsInheritanceStrategy);return S.params=Object.freeze(M.params),S.data=Object.freeze(M.data),this.applyRedirects.applyRedirectCommands(v,r.redirectTo,y,S,e).pipe(ii(R=>this.applyRedirects.lineralizeSegments(r,R)),Wi(R=>this.processSegment(e,i,t,R.concat(P),a,!1,c)))}matchSegmentAgainstRoute(e,t,i,r,o,a){let c=wG(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),c.pipe(ii(u=>u.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(ii(({routes:h})=>{let v=i._loadedInjector??e,{parameters:y,consumedSegments:P,remainingSegments:S}=u,M=new j2(P,y,Object.freeze(ie({},this.urlTree.queryParams)),this.urlTree.fragment,eE(i),fs(i),i.component??i._loadedComponent??null,i,tE(i)),O=Uh(M,a,this.paramsInheritanceStrategy);M.params=Object.freeze(O.params),M.data=Object.freeze(O.data);let{segmentGroup:R,slicedSegments:B}=JD(t,P,S,h);if(B.length===0&&R.hasChildren())return this.processChildren(v,h,R,M).pipe(Ne(N=>new la(M,N)));if(h.length===0&&B.length===0)return qe(new la(M,[]));let F=fs(i)===o;return this.processSegment(v,h,R,B,F?sn:o,!0,M).pipe(Ne(N=>new la(M,N instanceof la?[N]:[])))}))):Ed(t)))}getChildConfig(e,t,i){return t.children?qe({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?qe({routes:t._loadedRoutes,injector:t._loadedInjector}):_G(e,t,i,this.urlSerializer).pipe(Wi(r=>r?this.configLoader.loadChildren(e,t).pipe(Pn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):CG(t))):qe({routes:[],injector:e})}};function LG(n){n.sort((e,t)=>e.value.outlet===sn?-1:t.value.outlet===sn?1:e.value.outlet.localeCompare(t.value.outlet))}function zG(n){let e=n.value.routeConfig;return e&&e.path===""}function OE(n){let e=[],t=new Set;for(let i of n){if(!zG(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=OE(i.children);e.push(new la(i.value,r))}return e.filter(i=>!t.has(i))}function eE(n){return n.data||{}}function tE(n){return n.resolve||{}}function AG(n,e,t,i,r,o){return Wi(a=>IG(n,e,t,i,a.extractedUrl,r,o).pipe(Ne(({state:c,tree:u})=>Ve(ie({},a),{targetSnapshot:c,urlAfterRedirects:u}))))}function NG(n,e){return Wi(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return qe(t);let o=new Set(r.map(u=>u.route)),a=new Set;for(let u of o)if(!a.has(u))for(let h of DE(u))a.add(h);let c=0;return Ci(a).pipe(Ma(u=>o.has(u)?RG(u,i,n,e):(u.data=Uh(u,u.parent,n).resolve,qe(void 0))),Pn(()=>c++),Z0(1),Wi(u=>c===a.size?qe(t):No))})}function DE(n){let e=n.children.map(t=>DE(t)).flat();return[n,...e]}function RG(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!yE(r)&&(o[Uu]=r.title),Hc(()=>(n.data=Uh(n,n.parent,t).resolve,FG(o,n,e,i).pipe(Ne(a=>(n._resolvedData=a,n.data=ie(ie({},n.data),a),null)))))}function FG(n,e,t,i){let r=Xy(n);if(r.length===0)return qe({});let o={};return Ci(r).pipe(Wi(a=>VG(n[a],e,t,i).pipe(jl(),Pn(c=>{if(c instanceof Vd)throw $h(new r1,c);o[a]=c}))),Z0(1),Ne(()=>o),In(a=>SE(a)?No:gr(a)))}function VG(n,e,t,i){let r=jd(e)??i,o=Hd(n,r),a=o.resolve?o.resolve(e,t):kr(r,()=>o(e,t));return Jl(a)}function qy(n){return ii(e=>{let t=n(e);return t?Ci(t).pipe(Ne(()=>e)):qe(e)})}var fx=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===sn);return i}getResolvedTitleForRoute(t){return t.data[Uu]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:()=>q(EE),providedIn:"root"})}return n})(),EE=(()=>{class n extends fx{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(De(qD))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),s1=new He("",{providedIn:"root",factory:()=>({})}),W2=new He(""),qh=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=q(Z_);loadComponent(t,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return qe(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Jl(kr(t,()=>i.loadComponent())).pipe(Ne(TE),Pn(a=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=a}),Kr(()=>{this.componentLoaders.delete(i)})),o=new Rc(r,()=>new Re).pipe(G0());return this.componentLoaders.set(i,o),o}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return qe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=IE(i,this.compiler,t,this.onLoadEndListener).pipe(Kr(()=>{this.childrenLoaders.delete(i)})),a=new Rc(o,()=>new Re).pipe(G0());return this.childrenLoaders.set(i,a),a}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IE(n,e,t,i){return Jl(kr(t,()=>n.loadChildren())).pipe(Ne(TE),Wi(r=>r instanceof B6||Array.isArray(r)?qe(r):Ci(e.compileModuleAsync(r))),Ne(r=>{i&&i(n);let o,a,c=!1;return Array.isArray(r)?(a=r,c=!0):(o=r.create(t).injector,a=o.get(W2,[],{optional:!0,self:!0}).flat()),{routes:a.map(px),injector:o}}))}function BG(n){return n&&typeof n=="object"&&"default"in n}function TE(n){return BG(n)?n.default:n}var Zh=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:()=>q(jG),providedIn:"root"})}return n})(),jG=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mx=new He(""),hx=new He("");function LE(n,e,t){let i=n.get(hx),r=n.get(Tt);if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(h=>setTimeout(h));let o,a=new Promise(h=>{o=h}),c=r.startViewTransition(()=>(o(),HG(n)));c.ready.catch(h=>{});let{onViewTransitionCreated:u}=i;return u&&kr(n,()=>u({transition:c,from:e,to:t})),a}function HG(n){return new Promise(e=>{Bo({read:()=>setTimeout(e)},{injector:n})})}var gx=new He(""),Xh=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Re;transitionAbortWithErrorSubject=new Re;configLoader=q(qh);environmentInjector=q(ui);destroyRef=q(Ur);urlSerializer=q(U2);rootContexts=q($2);location=q(Ys);inputBindingEnabled=q($u,{optional:!0})!==null;titleStrategy=q(fx);options=q(s1,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=q(Zh);createViewTransition=q(mx,{optional:!0});navigationErrorHandler=q(gx,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>qe(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=r=>this.events.next(new Ah(r)),i=r=>this.events.next(new Nh(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(Ve(ie({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:i}))}setupNavigations(t){return this.transitions=new Sn(null),this.transitions.pipe(Nn(i=>i!==null),ii(i=>{let r=!1;return qe(i).pipe(ii(o=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",yo.SupersededByNewNavigation),No;this.currentTransition=i,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Ve(ie({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let u="";return this.events.next(new Ks(o.id,this.urlSerializer.serialize(o.rawUrl),u,Ad.IgnoredSameUrlNavigation)),o.resolve(!1),No}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return qe(o).pipe(ii(u=>(this.events.next(new a1(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?No:Promise.resolve(u))),AG(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Pn(u=>{i.targetSnapshot=u.targetSnapshot,i.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=Ve(ie({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let h=new Nu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:h,source:v,restoredState:y,extras:P}=o,S=new a1(u,this.urlSerializer.serialize(h),v,y);this.events.next(S);let M=bE(this.rootComponentType).snapshot;return this.currentTransition=i=Ve(ie({},o),{targetSnapshot:M,urlAfterRedirects:h,extras:Ve(ie({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,qe(i)}else{let u="";return this.events.next(new Ks(o.id,this.urlSerializer.serialize(o.extractedUrl),u,Ad.IgnoredByUrlHandlingStrategy)),o.resolve(!1),No}}),Pn(o=>{let a=new Ih(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Ne(o=>(this.currentTransition=i=Ve(ie({},o),{guards:eG(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),i)),uG(this.environmentInjector,o=>this.events.next(o)),Pn(o=>{if(i.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw $h(this.urlSerializer,o.guardsResult);let a=new Th(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Nn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",yo.GuardRejected),!1)),qy(o=>{if(o.guards.canActivateChecks.length!==0)return qe(o).pipe(Pn(a=>{let c=new Lh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),ii(a=>{let c=!1;return qe(a).pipe(NG(this.paramsInheritanceStrategy,this.environmentInjector),Pn({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",yo.NoDataFromResolver)}}))}),Pn(a=>{let c=new zh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),qy(o=>{let a=c=>{let u=[];if(c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent){let h=jd(c)??this.environmentInjector;u.push(this.configLoader.loadComponent(h,c.routeConfig).pipe(Pn(v=>{c.component=v}),Ne(()=>{})))}for(let h of c.children)u.push(...a(h));return u};return Vl(a(o.targetSnapshot.root)).pipe(Uc(null),vr(1))}),qy(()=>this.afterPreactivation()),ii(()=>{let{currentSnapshot:o,targetSnapshot:a}=i,c=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return c?Ci(c).pipe(Ne(()=>i)):qe(i)}),Ne(o=>{let a=ZW(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=i=Ve(ie({},o),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,i}),Pn(()=>{this.events.next(new Ru)}),JW(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),vr(1),rt(new It(o=>{let a=i.abortController.signal,c=()=>o.next();return a.addEventListener("abort",c),()=>a.removeEventListener("abort",c)}).pipe(Nn(()=>!r&&!i.targetRouterState),Pn(()=>{this.cancelNavigationTransition(i,i.abortController.signal.reason+"",yo.Aborted)}))),Pn({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Cr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),rt(this.transitionAbortWithErrorSubject.pipe(Pn(o=>{throw o}))),Kr(()=>{r||this.cancelNavigationTransition(i,"",yo.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),In(o=>{if(this.destroyed)return i.resolve(!1),No;if(r=!0,wE(o))this.events.next(new Zs(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode)),QW(o)?this.events.next(new Fd(o.url,o.navigationBehaviorOptions)):i.resolve(!1);else{let a=new Nd(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);try{let c=kr(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Vd){let{message:u,cancellationCode:h}=$h(this.urlSerializer,c);this.events.next(new Zs(i.id,this.urlSerializer.serialize(i.extractedUrl),u,h)),this.events.next(new Fd(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(c){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(c)}}return No}))}))}cancelNavigationTransition(t,i,r){let o=new Zs(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UG(n){return n!==Ld}var zE=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:()=>q($G),providedIn:"root"})}return n})(),Gh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},$G=(()=>{class n extends Gh{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})();static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),AE=(()=>{class n{urlSerializer=q(U2);options=q(s1,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=q(Ys);urlHandlingStrategy=q(Zh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Xs;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:i,targetBrowserUrl:r}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,i):i,a=r??o;return a instanceof Xs?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:t,finalUrl:i,initialUrl:r}){i&&t?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=t):this.rawUrlTree=r}routerState=bE(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:()=>q(WG),providedIn:"root"})}return n})(),WG=(()=>{class n extends AE{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{t(i.url,i.state,"popstate")})})}handleRouterEvent(t,i){t instanceof a1?this.updateStateMemento():t instanceof Ks?this.commitTransition(i):t instanceof Nu?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof Ru?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof Zs&&t.code!==yo.SupersededByNewNavigation&&t.code!==yo.Redirect?this.restoreHistory(i):t instanceof Nd?this.restoreHistory(i,!0):t instanceof Cr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:i,id:r}){let{replaceUrl:o,state:a}=i;if(this.location.isCurrentPathEqualTo(t)||o){let c=this.browserPageId,u=ie(ie({},a),this.generateNgRouterState(r,c));this.location.replaceState(t,"",u)}else{let c=ie(ie({},a),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})();static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Kh(n,e){n.events.pipe(Nn(t=>t instanceof Cr||t instanceof Zs||t instanceof Nd||t instanceof Ks),Ne(t=>t instanceof Cr||t instanceof Ks?0:(t instanceof Zs?t.code===yo.Redirect||t.code===yo.SupersededByNewNavigation:!1)?2:1),Nn(t=>t!==2),vr(1)).subscribe(()=>{e()})}var GG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},YG={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},nt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=q(H6);stateManager=q(AE);options=q(s1,{optional:!0})||{};pendingTasks=q(Bs);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=q(Xh);urlSerializer=q(U2);location=q(Ys);urlHandlingStrategy=q(Zh);injector=q(ui);_events=new Re;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=q(zE);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=q(W2,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!q($u,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new jn;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Zs&&i.code!==yo.Redirect&&i.code!==yo.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Cr)this.navigated=!0;else if(i instanceof Fd){let a=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),u=ie({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||UG(r.source)},a);this.scheduleNavigation(c,Ld,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}WW(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ld,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i,r)=>{this.navigateToSyncWithBrowser(t,r,i)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){let u=ie({},r);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,i,a,o).catch(u=>{this.disposed||this.injector.get(Ro)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(px),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,h=u?this.currentUrlTree.fragment:a,v=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":v=ie(ie({},this.currentUrlTree.queryParams),o);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=o||null}v!==null&&(v=this.removeEmptyProps(v));let y;try{let P=r?r.snapshot:this.routerState.snapshot.root;y=mE(P)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),y=this.currentUrlTree.root}return hE(y,t,v,h??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=o1(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Ld,null,i)}navigate(t,i={skipLocationChange:!1}){return qG(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=ie({},GG):i===!1?r=ie({},YG):r=i,o1(t))return ZD(this.currentUrlTree,t,r);let o=this.parseUrl(t);return ZD(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,h;a?(c=a.resolve,u=a.reject,h=a.promise):h=new Promise((y,P)=>{c=y,u=P});let v=this.pendingTasks.add();return Kh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(v))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(y=>Promise.reject(y))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qG(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Ze(4008,!1)}var Hi=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=_r(null);get href(){return vo(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Re;applicationErrorHandler=q(Ro);options=q(s1,{optional:!0});constructor(t,i,r,o,a,c){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.locationStrategy=c,this.reactiveHref.set(q(new Y6("href"),{optional:!0}));let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,i=r=>r==="merge"||r==="preserve";t||=i(this.queryParamsHandling),t||=!this.queryParamsHandling&&!i(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(r=>{r instanceof Cr&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(o1(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(t!==0||i||r||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u)?.catch(h=>{this.applicationErrorHandler(h)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:o1(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(V(nt),V(qn),eu("tabindex"),V(Yi),V(Yt),V(cs))};static \u0275dir=ct({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(i,r){i&1&&T("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&an("href",r.reactiveHref(),u_)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",$r],skipLocationChange:[2,"skipLocationChange","skipLocationChange",$r],replaceUrl:[2,"replaceUrl","replaceUrl",$r],routerLink:"routerLink"},features:[Gt]})}return n})(),bx=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ye;constructor(t,i,r,o,a){this.router=t,this.element=i,this.renderer=r,this.cdr=o,this.link=a,this.routerEventsSubscription=t.events.subscribe(c=>{c instanceof Cr&&this.update()})}ngAfterContentInit(){qe(this.links.changes,qe(null)).pipe(jc()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ci(t).pipe(jc()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){let i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let i=ZG(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?t.isActive(o,i):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(i){return new(i||n)(V(nt),V(Yt),V(Yi),V(Ot),V(Hi,8))};static \u0275dir=ct({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&$_(o,Hi,5),i&2){let a;qt(a=Zt())&&(r.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Gt]})}return n})();function ZG(n){return!!n.paths}var Gu=class{};var NE=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,i,r,o){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Nn(t=>t instanceof Cr),Ma(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Cd(o.providers,t,`Route: ${o.path}`));let a=o._injector??t,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Ci(r).pipe(jc())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=qe(null);let o=r.pipe(Wi(a=>a===null?qe(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(t,i);return Ci([o,a]).pipe(jc())}else return o})}static \u0275fac=function(i){return new(i||n)(De(nt),De(ui),De(Gu),De(qh))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),RE=new He(""),XG=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Ld;restoredId=0;store={};constructor(t,i,r,o,a={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof a1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Cr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ks&&t.code===Ad.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Rd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(async()=>{await new Promise(r=>{setTimeout(r),typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}),this.zone.run(()=>{this.transitions.events.next(new Rd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){O_()};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})();function _x(n,...e){return zs([{provide:W2,multi:!0,useValue:n},[],{provide:qn,useFactory:FE,deps:[nt]},{provide:cu,multi:!0,useFactory:VE},e.map(t=>t.\u0275providers)])}function FE(n){return n.routerState.root}function Yu(n,e){return{\u0275kind:n,\u0275providers:e}}function VE(){let n=q(yn);return e=>{let t=n.get(Jr);if(e!==t.components[0])return;let i=n.get(nt),r=n.get(BE);n.get(yx)===1&&i.initialNavigation(),n.get(UE,null,{optional:!0})?.setUpPreloading(),n.get(RE,null,{optional:!0})?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var BE=new He("",{factory:()=>new Re}),yx=new He("",{providedIn:"root",factory:()=>1});function jE(){let n=[{provide:yx,useValue:0},U6(()=>{let e=q(yn);return e.get(uy,Promise.resolve()).then(()=>new Promise(i=>{let r=e.get(nt),o=e.get(BE);Kh(r,()=>{i(!0)}),e.get(Xh).afterPreactivation=()=>(i(!0),o.closed?qe(void 0):o),r.initialNavigation()}))})];return Yu(2,n)}function HE(){let n=[U6(()=>{q(nt).setUpLocationChangeListener()}),{provide:yx,useValue:2}];return Yu(3,n)}var UE=new He("");function $E(n){return Yu(0,[{provide:UE,useExisting:NE},{provide:Gu,useExisting:n}])}function WE(){return Yu(8,[dx,{provide:$u,useExisting:dx}])}function GE(n){ss("NgRouterViewTransitions");let e=[{provide:mx,useValue:LE},{provide:hx,useValue:ie({skipNextTransition:!!n?.skipInitialTransition},n)}];return Yu(9,e)}var YE=[Ys,{provide:U2,useClass:r1},nt,$2,{provide:qn,useFactory:FE,deps:[nt]},qh,[]],Ni=(()=>{class n{constructor(){}static forRoot(t,i){return{ngModule:n,providers:[YE,[],{provide:W2,multi:!0,useValue:t},[],i?.errorHandler?{provide:gx,useValue:i.errorHandler}:[],{provide:s1,useValue:i||{}},i?.useHash?QG():JG(),KG(),i?.preloadingStrategy?$E(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?eY(i):[],i?.bindToComponentInputs?WE().\u0275providers:[],i?.enableViewTransitions?GE().\u0275providers:[],tY()]}}static forChild(t){return{ngModule:n,providers:[{provide:W2,multi:!0,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=xn({type:n});static \u0275inj=gn({})}return n})();function KG(){return{provide:RE,useFactory:()=>{let n=q(wD),e=q(St),t=q(s1),i=q(Xh),r=q(U2);return t.scrollOffset&&n.setOffset(t.scrollOffset),new XG(r,i,n,e,t)}}}function QG(){return{provide:cs,useClass:by}}function JG(){return{provide:cs,useClass:J6}}function eY(n){return[n.initialNavigation==="disabled"?HE().\u0275providers:[],n.initialNavigation==="enabledBlocking"?jE().\u0275providers:[]]}var vx=new He("");function tY(){return[{provide:vx,useFactory:VE},{provide:cu,multi:!0,useExisting:vx}]}var nY=["*",[["",8,"modal-footer"]]],iY=["*",".modal-footer"],rY=n=>({"d-none":n});function oY(n,e){if(n&1){let t=X();l(0,"button",7),T("click",function(){z(t);let r=C();return A(r.onClose())}),k(1,"i",8),d()}}var Ud=class n{title="";isVisible=!1;showCloseBtn=!0;modalClass;modalStyle={};modalContentClass;modalContentStyle={};modalDialogClass;modalDialogStyle={};close=new ye;onClose(){this.close.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=le({type:n,selectors:[["app-modal"]],inputs:{title:"title",isVisible:"isVisible",showCloseBtn:"showCloseBtn",modalClass:"modalClass",modalStyle:"modalStyle",modalContentClass:"modalContentClass",modalContentStyle:"modalContentStyle",modalDialogClass:"modalDialogClass",modalDialogStyle:"modalDialogStyle"},outputs:{close:"close"},ngContentSelectors:iY,decls:10,vars:11,consts:[["tabindex","-1",1,"modal","fade","show","d-block",3,"click","wheel","ngClass","ngStyle"],[1,"modal-dialog","modal-dialog-centered","p-2",3,"click","ngStyle","ngClass"],[1,"modal-content",3,"ngStyle","ngClass"],[1,"modal-header","primary-text","position-relative","pt-0","bold","fw-bold","border-0"],["class","primary-text border-0 bg-transparent position-absolute start-0 ms-3","aria-label","Close",3,"click",4,"ngIf"],[1,"modal-title","mx-auto"],[1,"modal-body","col-12","h-100","overflow-y-auto","p-0","m-0"],["aria-label","Close",1,"primary-text","border-0","bg-transparent","position-absolute","start-0","ms-3",3,"click"],[1,"bi","bi-x","fs-4"]],template:function(t,i){t&1&&(Ia(nY),l(0,"div",0),T("click",function(){return i.onClose()})("wheel",function(o){return o.stopPropagation()}),l(1,"div",1),T("click",function(o){return o.stopPropagation()}),l(2,"div",2)(3,"div",3),j(4,oY,2,0,"button",4),l(5,"h5",5),m(6),d()(),l(7,"div",6),go(8),d(),go(9,1),d()()()),t&2&&(_("ngClass",nn(9,rY,!i.isVisible))("ngStyle",i.modalStyle)("ngClass",i.modalClass),p(),_("ngStyle",i.modalDialogStyle)("ngClass",i.modalDialogClass),p(),_("ngStyle",i.modalContentStyle)("ngClass",i.modalContentClass),p(2),_("ngIf",i.showCloseBtn),p(2),$(i.title))},dependencies:[he,Bt,Ce,_o],styles:[".modal-body[_ngcontent-%COMP%]{padding:0}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;z-index:1050;width:100%;height:100%;background-color:#00000080;overflow:auto}.modal-dialog[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:auto;width:auto}.h-100[_ngcontent-%COMP%]{height:100%}.modal-content[_ngcontent-%COMP%]{background-color:var(--bg-color);min-width:400px;max-width:10000px;margin:auto;border-radius:1rem;display:flex;flex-direction:column;overflow:hidden}.modal-header[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{padding:1rem}.modal-body[_ngcontent-%COMP%]{min-width:fit-content!important}.modal-header[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6}.modal-footer[_ngcontent-%COMP%]{border-top:1px solid #dee2e6;display:flex;justify-content:space-between;align-items:center;gap:1rem}"]})};var nI=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||n)(V(Yi),V(Yt))};static \u0275dir=ct({type:n})}return n})(),cg=(()=>{class n extends nI{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})();static \u0275dir=ct({type:n,features:[Fn]})}return n})(),Fa=new He("");var aY={provide:Fa,useExisting:pi(()=>Rt),multi:!0};function sY(){let n=La()?La().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var lY=new He(""),Rt=(()=>{class n extends nI{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!sY())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||n)(V(Yi),V(Yt),V(lY,8))};static \u0275dir=ct({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&T("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},standalone:!1,features:[Vn([aY]),Fn]})}return n})();function wx(n){return n==null||Sx(n)===0}function Sx(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var hs=new He(""),ep=new He(""),cY=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ht=class{static min(e){return iI(e)}static max(e){return rI(e)}static required(e){return oI(e)}static requiredTrue(e){return dY(e)}static email(e){return uY(e)}static minLength(e){return aI(e)}static maxLength(e){return sI(e)}static pattern(e){return lI(e)}static nullValidator(e){return Jh()}static compose(e){return mI(e)}static composeAsync(e){return hI(e)}};function iI(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function rI(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function oI(n){return wx(n.value)?{required:!0}:null}function dY(n){return n.value===!0?null:{required:!0}}function uY(n){return wx(n.value)||cY.test(n.value)?null:{email:!0}}function aI(n){return e=>{let t=e.value?.length??Sx(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function sI(n){return e=>{let t=e.value?.length??Sx(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function lI(n){if(!n)return Jh;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(wx(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function Jh(n){return null}function cI(n){return n!=null}function dI(n){return t1(n)?Ci(n):n}function uI(n){let e={};return n.forEach(t=>{e=t!=null?ie(ie({},e),t):e}),Object.keys(e).length===0?null:e}function pI(n,e){return e.map(t=>t(n))}function pY(n){return!n.validate}function fI(n){return n.map(e=>pY(e)?e:t=>e.validate(t))}function mI(n){if(!n)return null;let e=n.filter(cI);return e.length==0?null:function(t){return uI(pI(t,e))}}function Px(n){return n!=null?mI(fI(n)):null}function hI(n){if(!n)return null;let e=n.filter(cI);return e.length==0?null:function(t){let i=pI(t,e).map(dI);return Bl(i).pipe(Ne(uI))}}function kx(n){return n!=null?hI(fI(n)):null}function qE(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function gI(n){return n._rawValidators}function vI(n){return n._rawAsyncValidators}function xx(n){return n?Array.isArray(n)?n:[n]:[]}function eg(n,e){return Array.isArray(n)?n.includes(e):n===e}function ZE(n,e){let t=xx(e);return xx(n).forEach(r=>{eg(t,r)||t.push(r)}),t}function XE(n,e){return xx(e).filter(t=>!eg(n,t))}var tg=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Px(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=kx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ec=class extends tg{name;get formDirective(){return null}get path(){return null}},tc=class extends tg{_parent=null;name=null;valueAccessor=null},ng=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},fY={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},fxe=Ve(ie({},fY),{"[class.ng-submitted]":"isSubmitted"}),Dt=(()=>{class n extends ng{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(V(tc,2))};static \u0275dir=ct({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Me("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Fn]})}return n})(),fn=(()=>{class n extends ng{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(V(ec,10))};static \u0275dir=ct({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Me("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Fn]})}return n})();var qu="VALID",Qh="INVALID",$d="PENDING",Zu="DISABLED",l1=class{},ig=class extends l1{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Ku=class extends l1{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Qu=class extends l1{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Wd=class extends l1{status;source;constructor(e,t){super(),this.status=e,this.source=t}},rg=class extends l1{source;constructor(e){super(),this.source=e}},og=class extends l1{source;constructor(e){super(),this.source=e}};function Ox(n){return(dg(n)?n.validators:n)||null}function mY(n){return Array.isArray(n)?Px(n):n||null}function Dx(n,e){return(dg(e)?e.asyncValidators:n)||null}function hY(n){return Array.isArray(n)?kx(n):n||null}function dg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function bI(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new Ze(1e3,"");if(!i[t])throw new Ze(1001,"")}function _I(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new Ze(1002,"")})}var Gd=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return vo(this.statusReactive)}set status(e){vo(()=>this.statusReactive.set(e))}_status=Gs(()=>this.statusReactive());statusReactive=_r(void 0);get valid(){return this.status===qu}get invalid(){return this.status===Qh}get pending(){return this.status==$d}get disabled(){return this.status===Zu}get enabled(){return this.status!==Zu}errors;get pristine(){return vo(this.pristineReactive)}set pristine(e){vo(()=>this.pristineReactive.set(e))}_pristine=Gs(()=>this.pristineReactive());pristineReactive=_r(!0);get dirty(){return!this.pristine}get touched(){return vo(this.touchedReactive)}set touched(e){vo(()=>this.touchedReactive.set(e))}_touched=Gs(()=>this.touchedReactive());touchedReactive=_r(!1);get untouched(){return!this.touched}_events=new Re;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ZE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ZE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(XE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(XE(e,this._rawAsyncValidators))}hasValidator(e){return eg(this._rawValidators,e)}hasAsyncValidator(e){return eg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ve(ie({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Qu(!0,i))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new Qu(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ve(ie({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Ku(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new Ku(!0,i))}markAsPending(e={}){this.status=$d;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wd(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ve(ie({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Zu,this.errors=null,this._forEachChild(r=>{r.disable(Ve(ie({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ig(this.value,i)),this._events.next(new Wd(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ve(ie({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=qu,this._forEachChild(i=>{i.enable(Ve(ie({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ve(ie({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qu||this.status===$d)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ig(this.value,t)),this._events.next(new Wd(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ve(ie({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zu:qu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=$d,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let i=dI(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Wd(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new ye,this.statusChanges=new ye}_calculateStatus(){return this._allControlsDisabled()?Zu:this.errors?Qh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($d)?$d:this._anyControlsHaveStatus(Qh)?Qh:qu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new Ku(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Qu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){dg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=mY(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=hY(this._rawAsyncValidators)}},Qs=class extends Gd{constructor(e,t,i){super(Ox(t),Dx(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){_I(this,!0,e),Object.keys(e).forEach(i=>{bI(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Cx=class extends Qs{};var Yd=new He("",{providedIn:"root",factory:()=>ug}),ug="always";function yI(n,e){return[...e.path,n]}function Ju(n,e,t=ug){Ex(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),vY(n,e),_Y(n,e),bY(n,e),gY(n,e)}function ag(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),lg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function sg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function gY(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Ex(n,e){let t=gI(n);e.validator!==null?n.setValidators(qE(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=vI(n);e.asyncValidator!==null?n.setAsyncValidators(qE(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();sg(e._rawValidators,r),sg(e._rawAsyncValidators,r)}function lg(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=gI(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=vI(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return sg(e._rawValidators,i),sg(e._rawAsyncValidators,i),t}function vY(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&xI(n,e)})}function bY(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&xI(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function xI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function _Y(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function CI(n,e){n==null,Ex(n,e)}function yY(n,e){return lg(n,e)}function Ix(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function xY(n){return Object.getPrototypeOf(n.constructor)===cg}function MI(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Tx(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===Rt?t=o:xY(o)?i=o:r=o}),r||i||t||null}function CY(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var MY={provide:ec,useExisting:pi(()=>wr)},Xu=Promise.resolve(),wr=(()=>{class n extends ec{callSetDisabledState;get submitted(){return vo(this.submittedReactive)}_submitted=Gs(()=>this.submittedReactive());submittedReactive=_r(!1);_directives=new Set;form;ngSubmit=new ye;options;constructor(t,i,r){super(),this.callSetDisabledState=r,this.form=new Qs({},Px(t),kx(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Xu.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Ju(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Xu.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Xu.then(()=>{let i=this._findContainer(t.path),r=new Qs({});CI(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Xu.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Xu.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),MI(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new rg(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new og(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(i){return new(i||n)(V(hs,10),V(ep,10),V(Yd,8))};static \u0275dir=ct({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&T("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Vn([MY]),Fn]})}return n})();function KE(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function QE(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Ri=class extends Gd{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(Ox(t),Dx(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(QE(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){KE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){KE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){QE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var wY=n=>n instanceof Ri;var SY={provide:tc,useExisting:pi(()=>kn)},JE=Promise.resolve(),kn=(()=>{class n extends tc{_changeDetectorRef;callSetDisabledState;control=new Ri;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ye;constructor(t,i,r,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Tx(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Ix(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ju(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){JE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&$r(i);JE.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?yI(t,this._parent):[t]}static \u0275fac=function(i){return new(i||n)(V(ec,9),V(hs,10),V(ep,10),V(Fa,10),V(Ot,8),V(Yd,8))};static \u0275dir=ct({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Vn([SY]),Fn,Gt]})}return n})();var mn=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ct({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),PY={provide:Fa,useExisting:pi(()=>nc),multi:!0},nc=(()=>{class n extends cg{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})();static \u0275dir=ct({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&T("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Vn([PY]),Fn]})}return n})();var Lx=new He(""),kY={provide:tc,useExisting:pi(()=>zx)},zx=(()=>{class n extends tc{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(t){}model;update=new ye;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,r,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=Tx(this,r)}ngOnChanges(t){if(this._isControlChanged(t)){let i=t.form.previousValue;i&&ag(i,this,!1),Ju(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Ix(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ag(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static \u0275fac=function(i){return new(i||n)(V(hs,10),V(ep,10),V(Fa,10),V(Lx,8),V(Yd,8))};static \u0275dir=ct({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[Vn([kY]),Fn,Gt]})}return n})(),OY={provide:ec,useExisting:pi(()=>Zi)},Zi=(()=>{class n extends ec{callSetDisabledState;get submitted(){return vo(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Gs(()=>this._submittedReactive());_submittedReactive=_r(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ye;constructor(t,i,r){super(),this.callSetDisabledState=r,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return Ju(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){ag(t.control||null,t,!1),CY(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),MI(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new rg(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,i={}){this.form.reset(t,i),this._submittedReactive.set(!1),i?.emitEvent!==!1&&this.form._events.next(new og(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(ag(i||null,t),wY(r)&&(Ju(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);CI(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&yY(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ex(this.form,this),this._oldForm&&lg(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(V(hs,10),V(ep,10),V(Yd,8))};static \u0275dir=ct({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&T("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Vn([OY]),Fn,Gt]})}return n})();var DY={provide:tc,useExisting:pi(()=>xo)},xo=(()=>{class n extends tc{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new ye;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,r,o,a){super(),this._ngModelWarningConfig=a,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Tx(this,o)}ngOnChanges(t){this._added||this._setUpControl(),Ix(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return yI(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(V(ec,13),V(hs,10),V(ep,10),V(Fa,10),V(Lx,8))};static \u0275dir=ct({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Vn([DY]),Fn,Gt]})}return n})();var EY={provide:Fa,useExisting:pi(()=>Js),multi:!0};function wI(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function IY(n){return n.split(":")[0]}var Js=(()=>{class n extends cg{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=q(Jr).injector;appRefDestroyRef=this.appRefInjector.get(Ur);destroyRef=q(Ur);cdr=q(Ot);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefDestroyRef.destroyed||(this._queuedWrite=!0,Bo({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let i=this._getOptionId(t),r=wI(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=IY(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})();static \u0275dir=ct({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&T("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Vn([EY]),Fn]})}return n})(),c1=(()=>{class n{_element;_renderer;_select;id;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(wI(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(i){return new(i||n)(V(Yt),V(Yi),V(Js,9))};static \u0275dir=ct({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),TY={provide:Fa,useExisting:pi(()=>SI),multi:!0};function eI(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function LY(n){return n.split(":")[0]}var SI=(()=>{class n extends cg{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(r.indexOf(a.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let u=a[c],h=this._getOptionValue(u.value);r.push(h)}}else{let a=i.options;for(let c=0;c<a.length;c++){let u=a[c];if(u.selected){let h=this._getOptionValue(u.value);r.push(h)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=LY(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})();static \u0275dir=ct({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&T("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Vn([TY]),Fn]})}return n})(),d1=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(eI(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(eI(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(V(Yt),V(Yi),V(SI,9))};static \u0275dir=ct({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function PI(n){return typeof n=="number"?n:parseInt(n,10)}function kI(n){return typeof n=="number"?n:parseFloat(n)}var qd=(()=>{class n{_validator=Jh;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Jh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ct({type:n,features:[Gt]})}return n})(),zY={provide:hs,useExisting:pi(()=>Ax),multi:!0},Ax=(()=>{class n extends qd{max;inputName="max";normalizeInput=t=>kI(t);createValidator=t=>rI(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})();static \u0275dir=ct({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&an("max",r._enabled?r.max:null)},inputs:{max:"max"},standalone:!1,features:[Vn([zY]),Fn]})}return n})(),AY={provide:hs,useExisting:pi(()=>tp),multi:!0},tp=(()=>{class n extends qd{min;inputName="min";normalizeInput=t=>kI(t);createValidator=t=>iI(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})();static \u0275dir=ct({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&an("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[Vn([AY]),Fn]})}return n})(),NY={provide:hs,useExisting:pi(()=>gs),multi:!0};var gs=(()=>{class n extends qd{required;inputName="required";normalizeInput=$r;createValidator=t=>oI;enabled(t){return t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})();static \u0275dir=ct({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&an("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Vn([NY]),Fn]})}return n})();var RY={provide:hs,useExisting:pi(()=>Nx),multi:!0},Nx=(()=>{class n extends qd{minlength;inputName="minlength";normalizeInput=t=>PI(t);createValidator=t=>aI(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})();static \u0275dir=ct({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&an("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[Vn([RY]),Fn]})}return n})(),FY={provide:hs,useExisting:pi(()=>da),multi:!0},da=(()=>{class n extends qd{maxlength;inputName="maxlength";normalizeInput=t=>PI(t);createValidator=t=>sI(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})();static \u0275dir=ct({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&an("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Vn([FY]),Fn]})}return n})(),VY={provide:hs,useExisting:pi(()=>Rx),multi:!0},Rx=(()=>{class n extends qd{pattern;inputName="pattern";normalizeInput=t=>t;createValidator=t=>lI(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})();static \u0275dir=ct({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&an("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[Vn([VY]),Fn]})}return n})();var OI=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xn({type:n});static \u0275inj=gn({})}return n})(),Mx=class extends Gd{constructor(e,t,i){super(Ox(t),Dx(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){_I(this,!1,e),e.forEach((i,r)=>{bI(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function tI(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var to=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return tI(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Qs(r,o)}record(t,i=null){let r=this._reduceControls(t);return new Cx(r,i)}control(t,i,r){let o={};return this.useNonNullable?(tI(i)?o=i:(o.validators=i,o.asyncValidators=r),new Ri(t,Ve(ie({},o),{nonNullable:!0}))):new Ri(t,i,r)}array(t,i,r){let o=t.map(a=>this._createControl(a));return new Mx(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof Ri)return t;if(t instanceof Gd)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Mt=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Yd,useValue:t.callSetDisabledState??ug}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=xn({type:n});static \u0275inj=gn({imports:[OI]})}return n})(),Ii=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Lx,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Yd,useValue:t.callSetDisabledState??ug}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=xn({type:n});static \u0275inj=gn({imports:[OI]})}return n})();function BY(n,e){if(n&1&&(l(0,"div",5)(1,"small"),m(2),d()()),n&2){let t=C();cn("text-"+t.textColor),p(2),$(t.loadingText)}}var Zd=class n{size="md";color="primary";loadingText="Loading...";showText=!1;textColor="muted";customSize="";borderWidth="0.25em";containerHeight="auto";containerClass;get sizeClass(){switch(this.size){case"sm":return"spinner-border-sm";case"lg":return"";case"xl":return"";case"custom":return"";default:return""}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=le({type:n,selectors:[["app-loader"]],inputs:{size:"size",color:"color",loadingText:"loadingText",showText:"showText",textColor:"textColor",customSize:"customSize",borderWidth:"borderWidth",containerHeight:"containerHeight",containerClass:"containerClass"},decls:6,vars:13,consts:[[1,"loader-container","d-flex","justify-content-center","align-items-center",3,"ngClass"],[1,"position-relative"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["class","text-center mt-2",3,"class",4,"ngIf"],[1,"text-center","mt-2"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),m(4),d()(),j(5,BY,3,3,"div",4),d()()),t&2&&(xt("height",i.containerHeight),_("ngClass",i.containerClass),p(2),cn("text-"+i.color+" "+i.sizeClass),xt("width",i.customSize)("height",i.customSize)("border-width",i.borderWidth),p(2),$(i.loadingText),p(),_("ngIf",i.showText))},dependencies:[he,Bt,Ce],styles:[".loader-container[_ngcontent-%COMP%]{z-index:90000000000000000000000000000000000000000000000000}.spinner-border[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spinner-border .75s linear infinite}.spinner-border.spinner-xl[_ngcontent-%COMP%]{width:4rem;height:4rem;border-width:.4em}@keyframes _ngcontent-%COMP%_spinner-border{to{transform:rotate(360deg)}}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fffc;z-index:9999}.loading-overlay-dark[_ngcontent-%COMP%]{background-color:#00000080}"]})};var Ke={baseUrl:"https://itiairbnb.runasp.net/api",base:"https://itiairbnb.runasp.net",domainBaseUrl:"http://localhost:4200",production:!1};var Uo=class n{constructor(e){this.http=e}baseUrl=Ke.baseUrl+"/wishlist";getAllWishlists(){return this.http.get(this.baseUrl).pipe(Ne(e=>e?.data??[]))}getByUserIdWithCover(e){return this.http.get(this.baseUrl)}createNewWishlist(e){return this.http.post(`${this.baseUrl}/create`,e)}deleteWishlist(e){return this.http.delete(`${this.baseUrl}/${e}`).pipe(Ne(t=>t.isSuccess))}addPropertyToWishlist(e,t){return this.http.post(`${this.baseUrl}/add/${e}/${t}`,{}).pipe(Ne(i=>i.isSuccess))}removePropertyFromWishlist(e){return this.http.delete(`${this.baseUrl}/remove-favorite/${e}`).pipe(Ne(t=>t.isSuccess),Pn(t=>console.log("\u{1F4E5} Raw response from backend:",t)))}getPropertiesInWishlist(e){return this.http.get(`${this.baseUrl}/${e}/properties`).pipe(Ne(t=>t.data))}static \u0275fac=function(t){return new(t||n)(De(Ct))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ui=class n{visible=_r(!1);title="";message="";isPrompt=!1;oKText="Confirm";cancelText="Cancel";isSuccess=!0;callback=void 0;show(e,t,i,{okText:r="Confirm",isSuccess:o=!0,isPrompt:a=!1,cancelText:c="Cancel"}={}){this.isPrompt=a??!1,this.oKText=r??"Confirm",this.cancelText=c??"Cancel",this.isSuccess=o??!0,this.title=e,this.message=t,this.callback=i,this.visible.set(!0)}fail(e="Failed",t="Something went wrong.",i,r="Ok"){this.set(!0,r,!1,e,t,!0,i)}success(e,t,i,r="Ok"){this.set(!0,r,!0,e,t,!0,i)}confirm(){this.callback&&this.callback(),this.visible.set(!1)}cancel(){this.visible.set(!1)}set(e,t,i,r,o,a,c){this.isPrompt=e,this.oKText=t,this.isSuccess=i,this.title=r,this.message=o,this.callback=c,this.visible.set(a)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};function np(n){return n.buttons===0||n.detail===0}function ip(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var Fx;function DI(){if(Fx==null){let n=typeof document<"u"?document.head:null;Fx=!!(n&&(n.createShadowRoot||n.attachShadow))}return Fx}function Vx(n){if(DI()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function $o(n){return n.composedPath?n.composedPath()[0]:n.target}var Bx;try{Bx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Bx=!1}var Xi=(()=>{class n{_platformId=q(Us);isBrowser=this._platformId?uh(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Bx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rp;function EI(){if(rp==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>rp=!0}))}finally{rp=rp||!1}return rp}function Kd(n){return EI()?n:!!n.capture}function Qd(n,e=0){return II(n)?Number(n):arguments.length===2?e:0}function II(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function tl(n){return n instanceof Yt?n.nativeElement:n}var TI=new He("cdk-input-modality-detector-options"),LI={ignoreKeys:[18,17,224,91,16]},zI=650,jx={passive:!0,capture:!0},AI=(()=>{class n{_platform=q(Xi);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Sn(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(i=>i===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=$o(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<zI||(this._modality.next(np(t)?"keyboard":"mouse"),this._mostRecentTarget=$o(t))};_onTouchstart=t=>{if(ip(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=$o(t)};constructor(){let t=q(St),i=q(Tt),r=q(TI,{optional:!0});if(this._options=ie(ie({},LI),r),this.modalityDetected=this._modality.pipe(S3(1)),this.modalityChanged=this.modalityDetected.pipe(Oi()),this._platform.isBrowser){let o=q(Dr).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[o.listen(i,"keydown",this._onKeydown,jx),o.listen(i,"mousedown",this._onMousedown,jx),o.listen(i,"touchstart",this._onTouchstart,jx)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),op=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(op||{}),NI=new He("cdk-focus-monitor-default-options"),pg=Kd({passive:!0,capture:!0}),Hx=(()=>{class n{_ngZone=q(St);_platform=q(Xi);_inputModalityDetector=q(AI);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=q(Tt);_stopInputModalityDetector=new Re;constructor(){let t=q(NI,{optional:!0});this._detectionMode=t?.detectionMode||op.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let i=$o(t);for(let r=i;r;r=r.parentElement)t.type==="focus"?this._onFocus(t,r):this._onBlur(t,r)};monitor(t,i=!1){let r=tl(t);if(!this._platform.isBrowser||r.nodeType!==1)return qe();let o=Vx(r)||this._document,a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;let c={checkChildren:i,subject:new Re,rootNode:o};return this._elementInfo.set(r,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(t){let i=tl(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){let o=tl(t),a=this._document.activeElement;o===a?this._getClosestElementsInfo(o).forEach(([c,u])=>this._originChanged(c,i,u)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===op.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused",i==="touch"),t.classList.toggle("cdk-keyboard-focused",i==="keyboard"),t.classList.toggle("cdk-mouse-focused",i==="mouse"),t.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&i,this._detectionMode===op.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?zI:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(t,i){let r=this._elementInfo.get(i),o=$o(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,pg),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,pg)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(rt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,pg),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,pg),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){let i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fg=new WeakMap,u1=(()=>{class n{_appRef;_injector=q(yn);_environmentInjector=q(ui);load(t){let i=this._appRef=this._appRef||this._injector.get(Jr),r=fg.get(i);r||(r={loaders:new Set,refs:[]},fg.set(i,r),i.onDestroy(()=>{fg.get(i)?.refs.forEach(o=>o.destroy()),fg.delete(i)})),r.loaders.has(t)||(r.loaders.add(t),r.refs.push(X6(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Jd(n){return Array.isArray(n)?n:[n]}var RI=new Set,G2,mg=(()=>{class n{_platform=q(Xi);_nonce=q(_d,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):HY}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&jY(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jY(n,e){if(!RI.has(n))try{G2||(G2=document.createElement("style"),e&&G2.setAttribute("nonce",e),G2.setAttribute("type","text/css"),document.head.appendChild(G2)),G2.sheet&&(G2.sheet.insertRule(`@media ${n} {body{ }}`,0),RI.add(n))}catch(t){console.error(t)}}function HY(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var ap=(()=>{class n{_mediaMatcher=q(mg);_zone=q(St);_queries=new Map;_destroySubject=new Re;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return FI(Jd(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let r=FI(Jd(t)).map(a=>this._registerQuery(a).observable),o=Vl(r);return o=Ka(o.pipe(vr(1)),o.pipe(S3(1),ni(0))),o.pipe(Ne(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:u,query:h})=>{c.matches=c.matches||u,c.breakpoints[h]=u}),c}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let i=this._mediaMatcher.matchMedia(t),o={observable:new It(a=>{let c=u=>this._zone.run(()=>a.next(u));return i.addListener(c),()=>{i.removeListener(c)}}).pipe($c(i),Ne(({matches:a})=>({query:t,matches:a})),rt(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function FI(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var jI=new He("liveAnnouncerElement",{providedIn:"root",factory:HI});function HI(){return null}var UI=new He("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),UY=0,$x=(()=>{class n{_ngZone=q(St);_defaultOptions=q(UI,{optional:!0});_liveElement;_document=q(Tt);_previousTimeout;_currentPromise;_currentResolve;constructor(){let t=q(jI,{optional:!0});this._liveElement=t||this._createLiveElement()}announce(t,...i){let r=this._defaultOptions,o,a;return i.length===1&&typeof i[0]=="number"?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),a==null&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${UY++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let o=i[r],a=o.getAttribute("aria-owns");a?a.indexOf(t)===-1&&o.setAttribute("aria-owns",a+" "+t):o.setAttribute("aria-owns",t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var p1=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(p1||{}),VI="cdk-high-contrast-black-on-white",BI="cdk-high-contrast-white-on-black",Ux="cdk-high-contrast-active",Wx=(()=>{class n{_platform=q(Xi);_hasCheckedHighContrastMode;_document=q(Tt);_breakpointSubscription;constructor(){this._breakpointSubscription=q(ap).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return p1.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return p1.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return p1.BLACK_ON_WHITE}return p1.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(Ux,VI,BI),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===p1.BLACK_ON_WHITE?t.add(Ux,VI):i===p1.WHITE_ON_BLACK&&t.add(Ux,BI)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Gx={},sp=(()=>{class n{_appId=q(bd);getId(t){return this._appId!=="ng"&&(t+=this._appId),Gx.hasOwnProperty(t)||(Gx[t]=0),`${t}${Gx[t]++}`}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var vs=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(vs||{}),hg,Y2;function gg(){if(Y2==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Y2=!1,Y2;if("scrollBehavior"in document.documentElement.style)Y2=!0;else{let n=Element.prototype.scrollTo;n?Y2=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Y2=!1}}return Y2}function e4(){if(typeof document!="object"||!document)return vs.NORMAL;if(hg==null){let n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),hg=vs.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,hg=n.scrollLeft===0?vs.NEGATED:vs.INVERTED),n.remove()}return hg}function Yx(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var $I={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var $Y=new He("MATERIAL_ANIMATIONS");var WI=null;function WY(){return q($Y,{optional:!0})?.animationsDisabled||q(tu,{optional:!0})==="NoopAnimations"?"di-disabled":(WI??=q(mg).matchMedia("(prefers-reduced-motion)").matches,WI?"reduced-motion":"enabled")}function q2(){return WY()!=="enabled"}function Ki(n){return n==null?"":typeof n=="string"?n:`${n}px`}var Va=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Va||{}),qx=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Va.HIDDEN;constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},GI=Kd({passive:!0,capture:!0}),Zx=class{_events=new Map;addHandler(e,t,i,r){let o=this._events.get(t);if(o){let a=o.get(i);a?a.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,GI)})}removeHandler(e,t,i){let r=this._events.get(e);if(!r)return;let o=r.get(t);o&&(o.delete(i),o.size===0&&r.delete(t),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,GI)))}_delegateEventHandler=e=>{let t=$o(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}},lp={enterDuration:225,exitDuration:150},GY=800,YI=Kd({passive:!0,capture:!0}),qI=["mousedown","touchstart"],ZI=["mouseup","mouseleave","touchend","touchcancel"],YY=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),vg=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new Zx;constructor(e,t,i,r,o){this._target=e,this._ngZone=t,this._platform=r,r.isBrowser&&(this._containerElement=tl(i)),o&&o.get(u1).load(YY)}fadeInRipple(e,t,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=ie(ie({},lp),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);let a=i.radius||qY(e,t,r),c=e-r.left,u=t-r.top,h=o.enterDuration,v=document.createElement("div");v.classList.add("mat-ripple-element"),v.style.left=`${c-a}px`,v.style.top=`${u-a}px`,v.style.height=`${a*2}px`,v.style.width=`${a*2}px`,i.color!=null&&(v.style.backgroundColor=i.color),v.style.transitionDuration=`${h}ms`,this._containerElement.appendChild(v);let y=window.getComputedStyle(v),P=y.transitionProperty,S=y.transitionDuration,M=P==="none"||S==="0s"||S==="0s, 0s"||r.width===0&&r.height===0,O=new qx(this,v,i,M);v.style.transform="scale3d(1, 1, 1)",O.state=Va.FADING_IN,i.persistent||(this._mostRecentTransientRipple=O);let R=null;return!M&&(h||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let B=()=>{R&&(R.fallbackTimer=null),clearTimeout(N),this._finishRippleTransition(O)},F=()=>this._destroyRipple(O),N=setTimeout(F,h+100);v.addEventListener("transitionend",B),v.addEventListener("transitioncancel",F),R={onTransitionEnd:B,onTransitionCancel:F,fallbackTimer:N}}),this._activeRipples.set(O,R),(M||!h)&&this._finishRippleTransition(O),O}fadeOutRipple(e){if(e.state===Va.FADING_OUT||e.state===Va.HIDDEN)return;let t=e.element,i=ie(ie({},lp),e.config.animation);t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=Va.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=tl(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,qI.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{ZI.forEach(t=>{this._triggerElement.addEventListener(t,this,YI)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Va.FADING_IN?this._startFadeOutTransition(e):e.state===Va.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Va.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Va.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=np(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+GY;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!ip(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===Va.VISIBLE||e.config.terminateOnPointerUp&&e.state===Va.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(qI.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(ZI.forEach(t=>e.removeEventListener(t,this,YI)),this._pointerUpEventsRegistered=!1))}};function qY(n,e,t){let i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}var XI=new He("mat-ripple-global-options");var ZY={capture:!0},XY=["focus","mousedown","mouseenter","touchstart"],Xx="mat-ripple-loader-uninitialized",Kx="mat-ripple-loader-class-name",KI="mat-ripple-loader-centered",bg="mat-ripple-loader-disabled",QI=(()=>{class n{_document=q(Tt);_animationsDisabled=q2();_globalRippleOptions=q(XI,{optional:!0});_platform=q(Xi);_ngZone=q(St);_injector=q(yn);_eventCleanups;_hosts=new Map;constructor(){let t=q(Dr).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>XY.map(i=>t.listen(this._document,i,this._onInteraction,ZY)))}ngOnDestroy(){let t=this._hosts.keys();for(let i of t)this.destroyRipple(i);this._eventCleanups.forEach(i=>i())}configureRipple(t,i){t.setAttribute(Xx,this._globalRippleOptions?.namespace??""),(i.className||!t.hasAttribute(Kx))&&t.setAttribute(Kx,i.className||""),i.centered&&t.setAttribute(KI,""),i.disabled&&t.setAttribute(bg,"")}setDisabled(t,i){let r=this._hosts.get(t);r?(r.target.rippleDisabled=i,!i&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(t))):i?t.setAttribute(bg,""):t.removeAttribute(bg)}_onInteraction=t=>{let i=$o(t);if(i instanceof HTMLElement){let r=i.closest(`[${Xx}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",t.getAttribute(Kx)),t.append(i);let r=this._globalRippleOptions,o=this._animationsDisabled?0:r?.animation?.enterDuration??lp.enterDuration,a=this._animationsDisabled?0:r?.animation?.exitDuration??lp.exitDuration,c={rippleDisabled:this._animationsDisabled||r?.disabled||t.hasAttribute(bg),rippleConfig:{centered:t.hasAttribute(KI),terminateOnPointerUp:r?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:a}}},u=new vg(c,this._ngZone,i,this._platform,this._injector),h=!c.rippleDisabled;h&&u.setupTriggerEvents(t),this._hosts.set(t,{target:c,renderer:u,hasSetUpEvents:h}),t.removeAttribute(Xx)}destroyRipple(t){let i=this._hosts.get(t);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var JI=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var KY=new He("MAT_BUTTON_CONFIG");function eT(n){return n==null?void 0:cy(n)}var tT=(()=>{class n{_elementRef=q(Yt);_ngZone=q(St);_animationsDisabled=q2();_config=q(KY,{optional:!0});_focusMonitor=q(Hx);_cleanupClick;_renderer=q(Yi);_rippleLoader=q(QI);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(t){this.tabIndex=t}constructor(){q(u1).load(JI);let t=this._elementRef.nativeElement;this._isAnchor=t.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(t,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",t=>{this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ct({type:n,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(i,r){i&2&&(an("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled())("tabindex",r._getTabIndex()),cn(r.color?"mat-"+r.color:""),Me("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("mat-unthemed",!r.color)("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",$r],disabled:[2,"disabled","disabled",$r],ariaDisabled:[2,"aria-disabled","ariaDisabled",$r],disabledInteractive:[2,"disabledInteractive","disabledInteractive",$r],tabIndex:[2,"tabIndex","tabIndex",eT],_tabindex:[2,"tabindex","_tabindex",eT]}})}return n})();var QY=new He("cdk-dir-doc",{providedIn:"root",factory:JY});function JY(){return q(Tt)}var eq=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function tq(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?eq.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var _g=(()=>{class n{get value(){return this.valueSignal()}valueSignal=_r("ltr");change=new ye;constructor(){let t=q(QY,{optional:!0});if(t){let i=t.body?t.body.dir:null,r=t.documentElement?t.documentElement.dir:null;this.valueSignal.set(tq(i||r||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var f1=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xn({type:n});static \u0275inj=gn({})}return n})();var ic=(()=>{class n{constructor(){q(Wx)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||n)};static \u0275mod=xn({type:n});static \u0275inj=gn({imports:[f1,f1]})}return n})();var nT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xn({type:n});static \u0275inj=gn({imports:[ic,ic]})}return n})();var nq=["matButton",""],iq=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],rq=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var iT=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),rT=(()=>{class n extends tT{get appearance(){return this._appearance}set appearance(t){this.setAppearance(t||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let t=oq(this._elementRef.nativeElement);t&&this.setAppearance(t)}setAppearance(t){if(t===this._appearance)return;let i=this._elementRef.nativeElement.classList,r=this._appearance?iT.get(this._appearance):null,o=iT.get(t);r&&i.remove(...r),i.add(...o),this._appearance=t}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[Fn],attrs:nq,ngContentSelectors:rq,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(Ia(iq),pn(0,"span",0),go(1),Pe(2,"span",1),go(3,1),Le(),go(4,2),pn(5,"span",2)(6,"span",3)),i&2&&Me("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before,.mat-tonal-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();function oq(n){return n.hasAttribute("mat-raised-button")?"elevated":n.hasAttribute("mat-stroked-button")?"outlined":n.hasAttribute("mat-flat-button")?"filled":n.hasAttribute("mat-button")?"text":null}var oT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xn({type:n});static \u0275inj=gn({imports:[ic,nT,ic]})}return n})();var cp=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},t4=class extends cp{component;viewContainerRef;injector;projectableNodes;constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.projectableNodes=r}},n4=class extends cp{templateRef;viewContainerRef;context;injector;constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},Qx=class extends cp{element;constructor(e){super(),this.element=e instanceof Yt?e.nativeElement:e}},i4=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof t4)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof n4)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof Qx)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},yg=class extends i4{outletElement;_appRef;_defaultInjector;constructor(e,t,i){super(),this.outletElement=e,this._appRef=t,this._defaultInjector=i}attachComponentPortal(e){let t;if(e.viewContainerRef){let i=e.injector||e.viewContainerRef.injector,r=i.get(Hs,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let i=this._appRef,r=e.injector||this._defaultInjector||yn.NULL,o=r.get(ui,i.injector);t=X6(e.component,{elementInjector:r,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),i.attachView(t.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);r!==-1&&t.remove(r)}),this._attachedPortal=e,i}attachDomPortal=e=>{let t=e.element;t.parentNode;let i=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(i,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(t,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Jx=(()=>{class n extends i4{_moduleRef=q(Hs,{optional:!0});_document=q(Tt);_viewContainerRef=q(Ir);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new ye;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let i=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,r=i.createComponent(t.component,{index:i.length,injector:t.injector||i.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=t=>{let i=t.element;i.parentNode;let r=this._document.createComment("dom-portal");t.setAttachedHost(this),i.parentNode.insertBefore(r,i),this._getRootNode().appendChild(i),this._attachedPortal=t,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(i,r)})};_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ct({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Fn]})}return n})();var xg=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xn({type:n});static \u0275inj=gn({})}return n})();var Cg=class{};function aT(n){return n&&typeof n.connect=="function"&&!(n instanceof Rc)}var Mg=class extends Cg{_data;constructor(e){super(),this._data=e}connect(){return na(this._data)?this._data:qe(this._data)}disconnect(){}},dp=function(n){return n[n.REPLACED=0]="REPLACED",n[n.INSERTED=1]="INSERTED",n[n.MOVED=2]="MOVED",n[n.REMOVED=3]="REMOVED",n}(dp||{}),eC=new He("_ViewRepeater"),wg=class{viewCacheSize=20;_viewCache=[];applyChanges(e,t,i,r,o){e.forEachOperation((a,c,u)=>{let h,v;if(a.previousIndex==null){let y=()=>i(a,c,u);h=this._insertView(y,u,t,r(a)),v=h?dp.INSERTED:dp.REPLACED}else u==null?(this._detachAndCacheView(c,t),v=dp.REMOVED):(h=this._moveView(c,u,t,r(a)),v=dp.MOVED);o&&o({context:h?.context,operation:v,record:a})})}detach(){for(let e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,t,i,r){let o=this._insertViewFromCache(t,i);if(o){o.context.$implicit=r;return}let a=e();return i.createEmbeddedView(a.templateRef,a.context,a.index)}_detachAndCacheView(e,t){let i=t.detach(e);this._maybeCacheView(i,t)}_moveView(e,t,i,r){let o=i.get(e);return i.move(o,t),o.context.$implicit=r,o}_maybeCacheView(e,t){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{let i=t.indexOf(e);i===-1?e.destroy():t.remove(i)}}_insertViewFromCache(e,t){let i=this._viewCache.pop();return i&&t.insert(i,e),i||null}};var aq=["contentWrapper"],sq=["*"],dT=new He("VIRTUAL_SCROLL_STRATEGY"),tC=class{_scrolledIndexChange=new Re;scrolledIndexChange=this._scrolledIndexChange.pipe(Oi());_viewport=null;_itemSize;_minBufferPx;_maxBufferPx;constructor(e,t,i){this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=i}attach(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(e,t,i){i<t,this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(e,t){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,t)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;let e=this._viewport.getRenderedRange(),t={start:e.start,end:e.end},i=this._viewport.getViewportSize(),r=this._viewport.getDataLength(),o=this._viewport.measureScrollOffset(),a=this._itemSize>0?o/this._itemSize:0;if(t.end>r){let u=Math.ceil(i/this._itemSize),h=Math.max(0,Math.min(a,r-u));a!=h&&(a=h,o=h*this._itemSize,t.start=Math.floor(a)),t.end=Math.max(0,Math.min(r,t.start+u))}let c=o-t.start*this._itemSize;if(c<this._minBufferPx&&t.start!=0){let u=Math.ceil((this._maxBufferPx-c)/this._itemSize);t.start=Math.max(0,t.start-u),t.end=Math.min(r,Math.ceil(a+(i+this._minBufferPx)/this._itemSize))}else{let u=t.end*this._itemSize-(o+i);if(u<this._minBufferPx&&t.end!=r){let h=Math.ceil((this._maxBufferPx-u)/this._itemSize);h>0&&(t.end=Math.min(r,t.end+h),t.start=Math.max(0,Math.floor(a-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(t),this._viewport.setRenderedContentOffset(this._itemSize*t.start),this._scrolledIndexChange.next(Math.floor(a))}};function lq(n){return n._scrollStrategy}var uT=(()=>{class n{get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=Qd(t)}_itemSize=20;get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=Qd(t)}_minBufferPx=100;get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=Qd(t)}_maxBufferPx=200;_scrollStrategy=new tC(this.itemSize,this.minBufferPx,this.maxBufferPx);ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ct({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[Vn([{provide:dT,useFactory:lq,deps:[pi(()=>n)]}]),Gt]})}return n})(),cq=20,Sg=(()=>{class n{_ngZone=q(St);_platform=q(Xi);_renderer=q(Dr).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new Re;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=cq){return this._platform.isBrowser?new It(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=t>0?this._scrolled.pipe(w3(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):qe()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){let r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Nn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_scrollableContainsElement(t,i){let r=tl(i),o=t.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pT=(()=>{class n{elementRef=q(Yt);scrollDispatcher=q(Sg);ngZone=q(St);dir=q(_g,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new Re;_renderer=q(Yi);_cleanupScroll;_elementScrolled=new Re;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",t=>this._elementScrolled.next(t))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){let i=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";t.left==null&&(t.left=r?t.end:t.start),t.right==null&&(t.right=r?t.start:t.end),t.bottom!=null&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&e4()!=vs.NORMAL?(t.left!=null&&(t.right=i.scrollWidth-i.clientWidth-t.left),e4()==vs.INVERTED?t.left=t.right:e4()==vs.NEGATED&&(t.left=t.right?-t.right:t.right)):t.right!=null&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){let i=this.elementRef.nativeElement;gg()?i.scrollTo(t):(t.top!=null&&(i.scrollTop=t.top),t.left!=null&&(i.scrollLeft=t.left))}measureScrollOffset(t){let i="left",r="right",o=this.elementRef.nativeElement;if(t=="top")return o.scrollTop;if(t=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let a=this.dir&&this.dir.value=="rtl";return t=="start"?t=a?r:i:t=="end"&&(t=a?i:r),a&&e4()==vs.INVERTED?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&e4()==vs.NEGATED?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ct({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return n})(),dq=20,r4=(()=>{class n{_platform=q(Xi);_listeners;_viewportSize;_change=new Re;_document=q(Tt);constructor(){let t=q(St),i=q(Dr).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect(),a=-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,c=-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:a,left:c}}change(t=dq){return t>0?this._change.pipe(w3(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sT=new He("VIRTUAL_SCROLLABLE"),uq=(()=>{class n extends pT{constructor(){super()}measureViewportSize(t){let i=this.elementRef.nativeElement;return t==="horizontal"?i.clientWidth:i.clientHeight}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ct({type:n,features:[Fn]})}return n})();function pq(n,e){return n.start==e.start&&n.end==e.end}var fq=typeof requestAnimationFrame<"u"?Wv:$v,nC=(()=>{class n extends uq{elementRef=q(Yt);_changeDetectorRef=q(Ot);_scrollStrategy=q(dT,{optional:!0});scrollable=q(sT,{optional:!0});_platform=q(Xi);_detachedSubject=new Re;_renderedRangeSubject=new Re;get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}_orientation="vertical";appendOnly=!1;scrolledIndexChange=new It(t=>this._scrollStrategy.scrolledIndexChange.subscribe(i=>Promise.resolve().then(()=>this.ngZone.run(()=>t.next(i)))));_contentWrapper;renderedRangeStream=this._renderedRangeSubject;_totalContentSize=0;_totalContentWidth=_r("");_totalContentHeight=_r("");_renderedContentTransform;_renderedRange={start:0,end:0};_dataLength=0;_viewportSize=0;_forOf;_renderedContentOffset=0;_renderedContentOffsetNeedsRewrite=!1;_changeDetectionNeeded=_r(!1);_runAfterChangeDetection=[];_viewportChanges=jn.EMPTY;_injector=q(yn);_isDestroyed=!1;constructor(){super();let t=q(r4);this._scrollStrategy,this._viewportChanges=t.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this);let i=mu(()=>{this._changeDetectionNeeded()&&this._doChangeDetection()},{injector:q(Jr).injector});q(Ur).onDestroy(()=>void i.destroy())}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe($c(null),w3(0,fq),rt(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),this._isDestroyed=!0,super.ngOnDestroy()}attach(t){this._forOf,this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(rt(this._detachedSubject)).subscribe(i=>{let r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){pq(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&i==="to-start"?0:t;let r=this.dir&&this.dir.value=="rtl",o=this.orientation=="horizontal",a=o?"X":"Y",u=`translate${a}(${Number((o&&r?-1:1)*t)}px)`;this._renderedContentOffset=t,i==="to-end"&&(u+=` translate${a}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=u&&(this._renderedContentTransform=u,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){let r={behavior:i};this.orientation==="horizontal"?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return this.scrollable==this?i=r=>super.measureScrollOffset(r):i=r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??(this.orientation==="horizontal"?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i,r="left",o="right",a=this.dir?.value=="rtl";t=="start"?i=a?o:r:t=="end"?i=a?r:o:t?i=t:i=this.orientation==="horizontal"?"left":"top";let c=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-c}measureRenderedContentSize(){let t=this._contentWrapper.nativeElement;return this.orientation==="horizontal"?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),!vo(this._changeDetectionNeeded)&&this.ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this.ngZone.run(()=>{this._changeDetectionNeeded.set(!0)})})})}_doChangeDetection(){this._isDestroyed||this.ngZone.run(()=>{this._changeDetectorRef.markForCheck(),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,Bo(()=>{this._changeDetectionNeeded.set(!1);let t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(let i of t)i()},{injector:this._injector})})}_calculateSpacerSize(){this._totalContentHeight.set(this.orientation==="horizontal"?"":`${this._totalContentSize}px`),this._totalContentWidth.set(this.orientation==="horizontal"?`${this._totalContentSize}px`:"")}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(i,r){if(i&1&&en(aq,7),i&2){let o;qt(o=Zt())&&(r._contentWrapper=o.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(i,r){i&2&&Me("cdk-virtual-scroll-orientation-horizontal",r.orientation==="horizontal")("cdk-virtual-scroll-orientation-vertical",r.orientation!=="horizontal")},inputs:{orientation:"orientation",appendOnly:[2,"appendOnly","appendOnly",$r]},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[Vn([{provide:pT,useFactory:(t,i)=>t||i,deps:[[new gd,new Jb(sT)],n]}]),Fn],ngContentSelectors:sq,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(i,r){i&1&&(Ia(),Pe(0,"div",1,0),go(2),Le(),pn(3,"div",2)),i&2&&(p(3),xt("width",r._totalContentWidth())("height",r._totalContentHeight()))},styles:[`cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}
`],encapsulation:2,changeDetection:0})}return n})();function lT(n,e,t){let i=t;if(!i.getBoundingClientRect)return 0;let r=i.getBoundingClientRect();return n==="horizontal"?e==="start"?r.left:r.right:e==="start"?r.top:r.bottom}var fT=(()=>{class n{_viewContainerRef=q(Ir);_template=q(Qr);_differs=q(F2);_viewRepeater=q(eC);_viewport=q(nC,{skipSelf:!0});viewChange=new Re;_dataSourceChanges=new Re;get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t,aT(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new Mg(na(t)?t:Array.from(t||[])))}_cdkVirtualForOf;get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(i,r)=>t(i+(this._renderedRange?this._renderedRange.start:0),r):void 0}_cdkVirtualForTrackBy;set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(t){this._viewRepeater.viewCacheSize=Qd(t)}dataStream=this._dataSourceChanges.pipe($c(null),qv(),ii(([t,i])=>this._changeDataSource(t,i)),X0(1));_differ=null;_data;_renderedItems;_renderedRange;_needsUpdate=!1;_destroyed=new Re;constructor(){let t=q(St);this.dataStream.subscribe(i=>{this._data=i,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(rt(this._destroyed)).subscribe(i=>{this._renderedRange=i,this.viewChange.observers.length&&t.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(t,i){if(t.start>=t.end)return 0;t.start<this._renderedRange.start||t.end>this._renderedRange.end;let r=t.start-this._renderedRange.start,o=t.end-t.start,a,c;for(let u=0;u<o;u++){let h=this._viewContainerRef.get(u+r);if(h&&h.rootNodes.length){a=c=h.rootNodes[0];break}}for(let u=o-1;u>-1;u--){let h=this._viewContainerRef.get(u+r);if(h&&h.rootNodes.length){c=h.rootNodes[h.rootNodes.length-1];break}}return a&&c?lT(i,"end",c)-lT(i,"start",a):0}ngDoCheck(){if(this._differ&&this._needsUpdate){let t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((t,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(t,i):i)),this._needsUpdate=!0)}_changeDataSource(t,i){return t&&t.disconnect(this),this._needsUpdate=!0,i?i.connect(this):qe()}_updateContext(){let t=this._data.length,i=this._viewContainerRef.length;for(;i--;){let r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=t,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(t){this._viewRepeater.applyChanges(t,this._viewContainerRef,(o,a,c)=>this._getEmbeddedViewArgs(o,c),o=>o.item),t.forEachIdentityChange(o=>{let a=this._viewContainerRef.get(o.currentIndex);a.context.$implicit=o.item});let i=this._data.length,r=this._viewContainerRef.length;for(;r--;){let o=this._viewContainerRef.get(r);o.context.index=this._renderedRange.start+r,o.context.count=i,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(t){t.first=t.index===0,t.last=t.index===t.count-1,t.even=t.index%2===0,t.odd=!t.even}_getEmbeddedViewArgs(t,i){return{templateRef:this._template,context:{$implicit:t.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ct({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[Vn([{provide:eC,useClass:wg}])]})}return n})();var cT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xn({type:n});static \u0275inj=gn({})}return n})(),up=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xn({type:n});static \u0275inj=gn({imports:[f1,cT,f1,cT]})}return n})();var mT=gg();function xT(n){return new Pg(n.get(r4),n.get(Tt))}var Pg=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ki(-this._previousScrollPosition.left),e.style.top=Ki(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,i=e.style,r=t.style,o=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),mT&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),mT&&(i.scrollBehavior=o,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}};function CT(n,e){return new kg(n.get(Sg),n.get(St),n.get(r4),e)}var kg=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Nn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var pp=class{enable(){}disable(){}attach(){}};function iC(n,e){return e.some(t=>{let i=n.bottom<t.top,r=n.top>t.bottom,o=n.right<t.left,a=n.left>t.right;return i||r||o||a})}function hT(n,e){return e.some(t=>{let i=n.top<t.top,r=n.bottom>t.bottom,o=n.left<t.left,a=n.right>t.right;return i||r||o||a})}function Lg(n,e){return new Og(n.get(Sg),n.get(r4),n.get(St),e)}var Og=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();iC(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},MT=(()=>{class n{_injector=q(yn);constructor(){}noop=()=>new pp;close=t=>CT(this._injector,t);block=()=>xT(this._injector);reposition=t=>Lg(this._injector,t);static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),o4=class{positionStrategy;scrollStrategy=new pp;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let t=Object.keys(e);for(let i of t)e[i]!==void 0&&(this[i]=e[i])}}};var Dg=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var wT=(()=>{class n{_attachedOverlays=[];_document=q(Tt);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ST=(()=>{class n extends wT{_ngZone=q(St);_renderer=q(Dr).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})();static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PT=(()=>{class n extends wT{_platform=q(Xi);_ngZone=q(St);_renderer=q(Dr).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let i=this._document.body,r={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(i,"pointerdown",this._pointerDownListener,r),o.listen(i,"click",this._clickListener,r),o.listen(i,"auxclick",this._clickListener,r),o.listen(i,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=$o(t)};_clickListener=t=>{let i=$o(t),r=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let a=o.length-1;a>-1;a--){let c=o[a];if(c._outsidePointerEvents.observers.length<1||!c.hasAttached())continue;if(gT(c.overlayElement,i)||gT(c.overlayElement,r))break;let u=c._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(t)):u.next(t)}};static \u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})();static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gT(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,i=e;for(;i;){if(i===n)return!0;i=t&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var kT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),OT=(()=>{class n{_platform=q(Xi);_containerElement;_document=q(Tt);_styleLoader=q(u1);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||Yx()){let r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(t),Yx()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(kT)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rC=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,i,r){this._renderer=t,this._ngZone=i,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},Eg=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new Re;_attachments=new Re;_detachments=new Re;_positionStrategy;_scrollStrategy;_locationChanges=jn.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new Re;_outsidePointerEvents=new Re;_afterNextRenderRef;constructor(e,t,i,r,o,a,c,u,h,v=!1,y,P){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=c,this._location=u,this._outsideClickDispatcher=h,this._animationsDisabled=v,this._injector=y,this._renderer=P,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Bo(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=ie(ie({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Ve(ie({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Ki(this._config.width),e.height=Ki(this._config.height),e.minWidth=Ki(this._config.minWidth),e.minHeight=Ki(this._config.minHeight),e.maxWidth=Ki(this._config.maxWidth),e.maxHeight=Ki(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new rC(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,i){let r=Jd(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=Bo(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(t){if(e)throw t;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},vT="cdk-overlay-connected-position-bounding-box",hq=/([A-Za-z%]+)$/;function DT(n,e){return new Ig(e,n.get(r4),n.get(Tt),n.get(Xi),n.get(OT))}var Ig=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new Re;_resizeSubscription=jn.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(vT),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],a;for(let c of this._preferredPositions){let u=this._getOriginPoint(e,r,c),h=this._getOverlayPoint(u,t,c),v=this._getOverlayFit(h,t,i,c);if(v.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(c,u);return}if(this._canFitWithFlexibleDimensions(v,h,i)){o.push({position:c,origin:u,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(u,c)});continue}(!a||a.overlayFit.visibleArea<v.visibleArea)&&(a={overlayFit:v,overlayPoint:h,originPoint:u,position:c,overlayRect:t})}if(o.length){let c=null,u=-1;for(let h of o){let v=h.boundingBoxRect.width*h.boundingBoxRect.height*(h.position.weight||1);v>u&&(u=v,c=h)}this._isPushed=!1,this._applyPosition(c.position,c.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Z2(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(vT),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r;if(i.originX=="center")r=e.left+e.width/2;else{let a=this._isRtl()?e.right:e.left,c=this._isRtl()?e.left:e.right;r=i.originX=="start"?a:c}t.left<0&&(r-=t.left);let o;return i.originY=="center"?o=e.top+e.height/2:o=i.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r;i.overlayX=="center"?r=-t.width/2:i.overlayX==="start"?r=this._isRtl()?-t.width:0:r=this._isRtl()?0:-t.width;let o;return i.overlayY=="center"?o=-t.height/2:o=i.overlayY=="top"?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){let o=_T(t),{x:a,y:c}=e,u=this._getOffset(r,"x"),h=this._getOffset(r,"y");u&&(a+=u),h&&(c+=h);let v=0-a,y=a+o.width-i.width,P=0-c,S=c+o.height-i.height,M=this._subtractOverflows(o.width,v,y),O=this._subtractOverflows(o.height,P,S),R=M*O;return{visibleArea:R,isCompletelyWithinViewport:o.width*o.height===R,fitsInViewportVertically:O===o.height,fitsInViewportHorizontally:M==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){let r=i.bottom-t.y,o=i.right-t.x,a=bT(this._overlayRef.getConfig().minHeight),c=bT(this._overlayRef.getConfig().minWidth),u=e.fitsInViewportVertically||a!=null&&a<=r,h=e.fitsInViewportHorizontally||c!=null&&c<=o;return u&&h}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=_T(t),o=this._viewportRect,a=Math.max(e.x+r.width-o.width,0),c=Math.max(e.y+r.height-o.height,0),u=Math.max(o.top-i.top-e.y,0),h=Math.max(o.left-i.left-e.x,0),v=0,y=0;return r.width<=o.width?v=h||-a:v=e.x<this._viewportMargin?o.left-i.left-e.x:0,r.height<=o.height?y=u||-c:y=e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:v,y},{x:e.x+v,y:e.y+y}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!gq(this._lastScrollVisibility,i)){let r=new Dg(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){let i=this._viewportRect,r=this._isRtl(),o,a,c;if(t.overlayY==="top")a=e.y,o=i.height-a+this._viewportMargin;else if(t.overlayY==="bottom")c=i.height-e.y+this._viewportMargin*2,o=i.height-c+this._viewportMargin;else{let S=Math.min(i.bottom-e.y+i.top,e.y),M=this._lastBoundingBoxSize.height;o=S*2,a=e.y-S,o>M&&!this._isInitialRender&&!this._growAfterOpen&&(a=e.y-M/2)}let u=t.overlayX==="start"&&!r||t.overlayX==="end"&&r,h=t.overlayX==="end"&&!r||t.overlayX==="start"&&r,v,y,P;if(h)P=i.width-e.x+this._viewportMargin*2,v=e.x-this._viewportMargin;else if(u)y=e.x,v=i.right-e.x;else{let S=Math.min(i.right-e.x+i.left,e.x),M=this._lastBoundingBoxSize.width;v=S*2,y=e.x-S,v>M&&!this._isInitialRender&&!this._growAfterOpen&&(y=e.x-M/2)}return{top:a,left:y,bottom:c,right:P,width:v,height:o}}_setBoundingBoxStyles(e,t){let i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=Ki(i.height),r.top=Ki(i.top),r.bottom=Ki(i.bottom),r.width=Ki(i.width),r.left=Ki(i.left),r.right=Ki(i.right),t.overlayX==="center"?r.alignItems="center":r.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?r.justifyContent="center":r.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Ki(o)),a&&(r.maxWidth=Ki(a))}this._lastBoundingBoxSize=i,Z2(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Z2(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Z2(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){let v=this._viewportRuler.getViewportScrollPosition();Z2(i,this._getExactOverlayY(t,e,v)),Z2(i,this._getExactOverlayX(t,e,v))}else i.position="static";let c="",u=this._getOffset(t,"x"),h=this._getOffset(t,"y");u&&(c+=`translateX(${u}px) `),h&&(c+=`translateY(${h}px)`),i.transform=c.trim(),a.maxHeight&&(r?i.maxHeight=Ki(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=Ki(a.maxWidth):o&&(i.maxWidth="")),Z2(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),e.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;r.bottom=`${a-(o.y+this._overlayRect.height)}px`}else r.top=Ki(o.y);return r}_getExactOverlayX(e,t,i){let r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let a;if(this._isRtl()?a=e.overlayX==="end"?"left":"right":a=e.overlayX==="end"?"right":"left",a==="right"){let c=this._document.documentElement.clientWidth;r.right=`${c-(o.x+this._overlayRect.width)}px`}else r.left=Ki(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:hT(e,i),isOriginOutsideView:iC(e,i),isOverlayClipped:hT(t,i),isOverlayOutsideView:iC(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Jd(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Yt)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}};function Z2(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function bT(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(hq);return!t||t==="px"?parseFloat(e):null}return n||null}function _T(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function gq(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var yT="cdk-global-overlay-wrapper";function zg(n){return new Tg}var Tg=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(yT),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:a,maxHeight:c}=i,u=(r==="100%"||r==="100vw")&&(!a||a==="100%"||a==="100vw"),h=(o==="100%"||o==="100vh")&&(!c||c==="100%"||c==="100vh"),v=this._xPosition,y=this._xOffset,P=this._overlayRef.getConfig().direction==="rtl",S="",M="",O="";u?O="flex-start":v==="center"?(O="center",P?M=y:S=y):P?v==="left"||v==="end"?(O="flex-end",S=y):(v==="right"||v==="start")&&(O="flex-start",M=y):v==="left"||v==="start"?(O="flex-start",S=y):(v==="right"||v==="end")&&(O="flex-end",M=y),e.position=this._cssPosition,e.marginLeft=u?"0":S,e.marginTop=h?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=u?"0":M,t.justifyContent=O,t.alignItems=h?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(yT),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},ET=(()=>{class n{_injector=q(yn);constructor(){}global(){return zg()}flexibleConnectedTo(t){return DT(this._injector,t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ag(n,e){n.get(u1).load(kT);let t=n.get(OT),i=n.get(Tt),r=n.get(sp),o=n.get(Jr),a=n.get(_g),c=i.createElement("div"),u=i.createElement("div");u.id=r.getId("cdk-overlay-"),u.classList.add("cdk-overlay-pane"),c.appendChild(u),t.getContainerElement().appendChild(c);let h=new yg(u,o,n),v=new o4(e),y=n.get(Yi,null,{optional:!0})||n.get(Dr).createRenderer(null,null);return v.direction=v.direction||a.value,new Eg(h,c,u,v,n.get(St),n.get(ST),i,n.get(Ys),n.get(PT),e?.disableAnimations??n.get(tu,null,{optional:!0})==="NoopAnimations",n.get(ui),y)}var IT=(()=>{class n{scrollStrategies=q(MT);_positionBuilder=q(ET);_injector=q(yn);constructor(){}create(t){return Ag(this._injector,t)}position(){return this._positionBuilder}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var vq=new He("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=q(yn);return()=>Lg(n)}});function bq(n){let e=q(yn);return()=>Lg(e)}var _q={provide:vq,useFactory:bq},oC=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xn({type:n});static \u0275inj=gn({providers:[IT,_q],imports:[f1,xg,up,up]})}return n})();function yq(n,e){if(n&1){let t=X();l(0,"div",1)(1,"button",2),T("click",function(){z(t);let r=C();return A(r.action())}),m(2),d()()}if(n&2){let t=C();p(2),U(" ",t.data.action," ")}}var xq=["label"];function Cq(n,e){}var Mq=Math.pow(2,31)-1,fp=class{_overlayRef;instance;containerInstance;_afterDismissed=new Re;_afterOpened=new Re;_onAction=new Re;_durationTimeoutId;_dismissedByAction=!1;constructor(e,t){this._overlayRef=t,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,Mq))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},TT=new He("MatSnackBarData"),a4=class{politeness="polite";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},wq=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ct({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return n})(),Sq=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ct({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return n})(),Pq=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ct({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return n})(),LT=(()=>{class n{snackBarRef=q(fp);data=q(TT);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["matButton","","matSnackBarAction","",3,"click"]],template:function(i,r){i&1&&(l(0,"div",0),m(1),d(),yr(2,yq,3,1,"div",1)),i&2&&(p(),U(" ",r.data.message,`
`),p(),xr(r.hasAction?2:-1))},dependencies:[rT,wq,Sq,Pq],styles:[`.mat-mdc-simple-snack-bar{display:flex}
`],encapsulation:2,changeDetection:0})}return n})(),aC="_mat-snack-bar-enter",sC="_mat-snack-bar-exit",kq=(()=>{class n extends i4{_ngZone=q(St);_elementRef=q(Yt);_changeDetectorRef=q(Ot);_platform=q(Xi);_animationsDisabled=q2();snackBarConfig=q(a4);_document=q(Tt);_trackedModals=new Set;_enterFallback;_exitFallback;_injector=q(yn);_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new Re;_onExit=new Re;_onEnter=new Re;_animationState="void";_live;_label;_role;_liveElementId=q(sp).getId("mat-snack-bar-container-live-");constructor(){super();let t=this.snackBarConfig;t.politeness==="assertive"&&!t.announcementMessage?this._live="assertive":t.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();let i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();let i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}attachDomPortal=t=>{this._assertNotAttached();let i=this._portalOutlet.attachDomPortal(t);return this._afterPortalAttached(),i};onAnimationEnd(t){t===sC?this._completeExit():t===aC&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?Bo(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(aC)))},{injector:this._injector}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(aC)},200)))}exit(){return this._destroyed?qe(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?Bo(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(sC)))},{injector:this._injector}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(sC),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(a=>t.classList.add(a)):t.classList.add(i)),this._exposeToModals();let r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){let t=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let o=i[r],a=o.getAttribute("aria-owns");this._trackedModals.add(o),a?a.indexOf(t)===-1&&o.setAttribute("aria-owns",a+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{let i=t.getAttribute("aria-owns");if(i){let r=i.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let t=this._elementRef.nativeElement,i=t.querySelector("[aria-hidden]"),r=t.querySelector("[aria-live]");if(i&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&i.contains(document.activeElement)&&(o=document.activeElement),i.removeAttribute("aria-hidden"),r.appendChild(i),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(i&1&&(en(Jx,7),en(xq,7)),i&2){let o;qt(o=Zt())&&(r._portalOutlet=o.first),qt(o=Zt())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(i,r){i&1&&T("animationend",function(a){return r.onAnimationEnd(a.animationName)})("animationcancel",function(a){return r.onAnimationEnd(a.animationName)}),i&2&&Me("mat-snack-bar-container-enter",r._animationState==="visible")("mat-snack-bar-container-exit",r._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!r._animationsDisabled)},features:[Fn],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(l(0,"div",1)(1,"div",2,0)(3,"div",3),j(4,Cq,0,0,"ng-template",4),d(),k(5,"div"),d()()),i&2&&(p(5),an("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Jx],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mat-snack-bar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-snack-bar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-snack-bar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mat-snack-bar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-snack-bar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-snack-bar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mat-snack-bar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-button-text-state-layer-color: currentColor;--mat-button-text-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return n})();function Oq(){return new a4}var Dq=new He("mat-snack-bar-default-options",{providedIn:"root",factory:Oq}),vn=(()=>{class n{_live=q($x);_injector=q(yn);_breakpointObserver=q(ap);_parentSnackBar=q(n,{optional:!0,skipSelf:!0});_defaultConfig=q(Dq);_animationsDisabled=q2();_snackBarRefAtThisLevel=null;simpleSnackBarComponent=LT;snackBarContainerComponent=kq;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(){}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){let o=ie(ie({},this._defaultConfig),r);return o.data={message:t,action:i},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){let r=i&&i.viewContainerRef&&i.viewContainerRef.injector,o=yn.create({parent:r||this._injector,providers:[{provide:a4,useValue:i}]}),a=new t4(this.snackBarContainerComponent,i.viewContainerRef,o),c=t.attach(a);return c.instance.snackBarConfig=i,c.instance}_attach(t,i){let r=ie(ie(ie({},new a4),this._defaultConfig),i),o=this._createOverlay(r),a=this._attachSnackBarContainer(o,r),c=new fp(a,o);if(t instanceof Qr){let u=new n4(t,null,{$implicit:r.data,snackBarRef:c});c.instance=a.attachTemplatePortal(u)}else{let u=this._createInjector(r,c),h=new t4(t,void 0,u),v=a.attachComponentPortal(h);c.instance=v.instance}return this._breakpointObserver.observe($I.HandsetPortrait).pipe(rt(o.detachments())).subscribe(u=>{o.overlayElement.classList.toggle(this.handsetCssClass,u.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(c,r),this._openedSnackBarRef=c,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter()}_createOverlay(t){let i=new o4;i.direction=t.direction;let r=zg(this._injector),o=t.direction==="rtl",a=t.horizontalPosition==="left"||t.horizontalPosition==="start"&&!o||t.horizontalPosition==="end"&&o,c=!a&&t.horizontalPosition!=="center";return a?r.left("0"):c?r.right("0"):r.centerHorizontally(),t.verticalPosition==="top"?r.top("0"):r.bottom("0"),i.positionStrategy=r,i.disableAnimations=this._animationsDisabled,Ag(this._injector,i)}_createInjector(t,i){let r=t&&t.viewContainerRef&&t.viewContainerRef.injector;return yn.create({parent:r||this._injector,providers:[{provide:fp,useValue:i},{provide:TT,useValue:t.data}]})}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xn({type:n});static \u0275inj=gn({providers:[vn],imports:[oC,xg,oT,ic,LT,ic]})}return n})();var AT=n=>({"is-invalid":n});function Eq(n,e){n&1&&k(0,"app-loader",7),n&2&&_("containerClass","vh-min-40")("showText",!0)}function Iq(n,e){n&1&&(l(0,"div",8)(1,"div",9)(2,"div",10),m(3,"\u{1F49D}"),d(),l(4,"h3"),m(5,"No wishlists yet"),d(),l(6,"p"),m(7,"Create your first wishlist to start saving your favorite properties"),d()()())}function Tq(n,e){if(n&1){let t=X();l(0,"div",12)(1,"div",13)(2,"button",14),T("click",function(){let r=z(t).$implicit,o=C(2);return A(o.onWishListClicik(r.id))}),k(3,"img",15),l(4,"p",16),m(5),d(),l(6,"p",17),m(7),d()()()()}if(n&2){let t=e.$implicit,i=C(2);p(3),_("src",i.getPropertyImage(t.coverImageUrl),et),p(2),$(t.name),p(2),U(" ",t.propertyIds.length," saved ")}}function Lq(n,e){if(n&1&&(l(0,"div",11),du(1,Tq,8,3,"div",12,H_),d()),n&2){let t=C();p(),uu(t.lists)}}function zq(n,e){n&1&&(l(0,"div",30),m(1," Name is required. "),d())}function Aq(n,e){n&1&&(l(0,"div",30),m(1," Note is required. "),d())}function Nq(n,e){if(n&1){let t=X();l(0,"app-modal",18),T("close",function(){z(t);let r=C();return A(r.onNewModalClose())}),l(1,"form",19),T("ngSubmit",function(){z(t);let r=C();return A(r.onCreateNewWishlist())}),l(2,"div",12)(3,"label",20),m(4,"Name"),d(),k(5,"input",21),j(6,zq,2,0,"div",22),d(),l(7,"div",23)(8,"div",24)(9,"label",25),m(10,"Note"),d(),l(11,"textarea",26),m(12,"        "),d(),l(13,"span",27),m(14),d()(),j(15,Aq,2,0,"div",22),d()(),l(16,"div",28)(17,"button",29),T("click",function(){z(t);let r=C();return A(r.onCreateNewWishlist())}),m(18," Submit "),d()()()}if(n&2){let t,i,r,o,a,c=C();_("title","New Withlist")("modalClass","col-12")("modalDialogClass"," col-12  vh-min-100 p-0")("modalContentClass","mx-auto col-12  rounded-5 p-0 border-0 p-3 vh-max-85"),p(),_("formGroup",c.form),p(4),_("ngClass",nn(11,AT,((t=c.form.get("name"))==null?null:t.touched)&&((t=c.form.get("name"))==null?null:t.invalid))),p(),_("ngIf",((i=c.form.get("name"))==null?null:i.touched)&&((i=c.form.get("name"))==null||i.errors==null?null:i.errors.required)),p(5),_("ngClass",nn(13,AT,((r=c.form.get("note"))==null?null:r.touched)&&((r=c.form.get("note"))==null?null:r.invalid))),p(3),U("",((o=c.form.get("note"))==null||o.value==null?null:o.value.length)??0,"/250"),p(),_("ngIf",((a=c.form.get("note"))==null?null:a.touched)&&((a=c.form.get("note"))==null||a.errors==null?null:a.errors.required)),p(2),_("disabled",c.form.invalid)}}var nl=class n{constructor(e,t,i,r){this.wishlistService=e;this.cdr=t;this.confirmService=i;this.snackBar=r}propertyId;show=!1;userId;close=new ye;finish=new ye;isLoading=!0;isNewModalVisible=!1;lists=[];form=new Qs({name:new Ri("",ht.required),note:new Ri("")});ngOnInit(){this.userId="1",console.log(this.isNewModalVisible),this.userId&&(this.isLoading=!0,this.wishlistService.getByUserIdWithCover(this.userId).subscribe({next:e=>{console.log("loaded",e),this.lists=e?.data??[],this.cdr.detectChanges(),this.isLoading=!1,console.log(this.isNewModalVisible)},error:e=>{this.isLoading=!1,console.log("from Modal ngOninit error"),console.log(e)}}),this.isLoading=!0,this.wishlistService.getAllWishlists().subscribe({next:e=>{console.log("All wishlists loaded",e),this.lists=e,this.cdr.detectChanges(),this.isLoading=!1},error:e=>{this.isLoading=!1,console.error("Error loading wishlists:",e)}}))}onWishListClicik(e){if(console.log("wishlist and property id ",e,this.propertyId),!e||!this.propertyId){this.snackBar.open("Something went wrong, try again!","Close",{duration:3e3,horizontalPosition:"left",verticalPosition:"bottom",panelClass:["custom-snackbar"]});return}let t=this.wishlistService.addPropertyToWishlist(e,this.propertyId);this.onResponse(t),this.close.emit()}onClose(){this.close.emit()}onNewModalClose(){this.isNewModalVisible=!1}showNewModal(){this.isNewModalVisible=!0,this.show=!1}onResponse(e){console.log("from wishlist modal on response"),this.finish.emit(e)}getPropertyImage(e){return`${Ke.base}${e}`}onCreateNewWishlist(){if(!this.form.get("name")?.valid)return;let e={name:this.form.get("name")?.value??"",notes:this.form.get("note")?.value??"",propertyIds:[this.propertyId]};this.onNewModalClose(),this.isLoading=!0,this.wishlistService.createNewWishlist(e).subscribe({next:t=>{this.lists.push(t.data),this.isLoading=!1,this.finish.emit(new It(i=>{i.next(!0),i.complete()})),this.snackBar.open("Property added","Close",{duration:3e3,horizontalPosition:"left",verticalPosition:"bottom",panelClass:["custom-snackbar"]})},error:t=>{this.isLoading=!1,console.log("couldn't create new wishlist",t),this.snackBar.open("Something went wrong, try again!","Close",{duration:3e3,horizontalPosition:"left",verticalPosition:"bottom",panelClass:["custom-snackbar"]})}}),this.form.reset()}static \u0275fac=function(t){return new(t||n)(V(Uo),V(Ot),V(Ui),V(vn))};static \u0275cmp=le({type:n,selectors:[["app-wish-list-modal"]],inputs:{propertyId:"propertyId",show:"show",userId:"userId"},outputs:{close:"close",finish:"finish"},decls:8,vars:9,consts:[[1,"wishlists-modal","col-12",3,"close","title","isVisible","modalClass","modalDialogClass","modalContentClass"],[3,"containerClass","showText",4,"ngIf"],["class","h-100 d-flex justify-content-center align-items-center",4,"ngIf"],["class","row row-cols-1 row-cols-sm-2 pt-3 m-0 g-0",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-primary","bg-black","primary-text","text-light","me-auto",3,"click"],[3,"title","modalClass","modalDialogClass","modalContentClass","close",4,"ngIf"],[3,"containerClass","showText"],[1,"h-100","d-flex","justify-content-center","align-items-center"],[1,"empty-content"],[1,"empty-icon"],[1,"row","row-cols-1","row-cols-sm-2","pt-3","m-0","g-0"],[1,"mb-3"],[1,"col-12"],[1,"text-left",3,"click"],["alt","","loading","lazy",1,"wishlist-image","rounded-4",3,"src"],[1,"my-0","ms-1","mt-1","fw-bold","small"],[1,"secondary-text","small","ms-1","my-0"],[3,"close","title","modalClass","modalDialogClass","modalContentClass"],[1,"text-start",3,"ngSubmit","formGroup"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"mb-3","position-relative"],[1,"d-flex","flex-column"],["for","note",1,"form-label"],["id","note","formControlName","note","maxlength","250","rows","3",1,"form-control",3,"ngClass"],[1,"ms-auto","note-maxLength"],[1,"modal-footer","d-flex","justify-content-start"],["type","submit",1,"btn","btn-primary","mb-3",3,"click","disabled"],[1,"invalid-feedback"]],template:function(t,i){t&1&&(l(0,"app-modal",0),T("close",function(){return i.onClose()}),j(1,Eq,1,2,"app-loader",1)(2,Iq,8,0,"div",2)(3,Lq,3,0,"div",3),l(4,"div",4)(5,"button",5),T("click",function(){return i.showNewModal()}),m(6," Create new wishlist "),d()()(),j(7,Nq,19,15,"app-modal",6)),t&2&&(_("title","Wishlists")("isVisible",i.show)("modalClass","col-12")("modalDialogClass"," mx-auto col-12  vh-min-100 p-0")("modalContentClass","mx-auto col-12  rounded-5 p-0 border-0 p-3 vh-max-85 vh-min-40 overflow-y-auto"),p(),_("ngIf",i.isLoading),p(),_("ngIf",!i.isLoading&&i.lists.length==0),p(),_("ngIf",!i.isLoading),p(4),_("ngIf",i.isNewModalVisible))},dependencies:[Ud,he,Bt,Ce,Ii,mn,Rt,Dt,fn,da,Zi,xo,Zd],styles:[".h-100[_ngcontent-%COMP%]{height:100%}.wishlists-modal[_ngcontent-%COMP%]{transition:all 40s}.primary-text[_ngcontent-%COMP%]{color:var(--primary-text-color)}.secondary-text[_ngcontent-%COMP%]{color:var(--secondary-text-color)}.wishlist-image[_ngcontent-%COMP%]{aspect-ratio:1.1/1}.btn[_ngcontent-%COMP%]{background-color:var(--bg-color);color:var(--primary-text-color)}.note-maxLength[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-size:small}.row[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.row[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f0f0f0;border-radius:10px}.row[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:10px;border:2px solid #f0f0f0}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#c56060}.empty-state[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:80px 20px}.empty-content[_ngcontent-%COMP%]{text-align:center;max-width:400px}.empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:24px}.empty-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#222;margin:0 0 12px}.empty-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#717171;font-size:16px;margin:0 0 32px;line-height:1.4}"]})};function NT(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function lC(n,e){n===void 0&&(n={}),e===void 0&&(e={});let t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{typeof n[i]>"u"?n[i]=e[i]:NT(e[i])&&NT(n[i])&&Object.keys(e[i]).length>0&&lC(n[i],e[i])})}var RT={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function hi(){let n=typeof document<"u"?document:{};return lC(n,RT),n}var Rq={document:RT,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function $n(){let n=typeof window<"u"?window:{};return lC(n,Rq),n}function rc(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function FT(n){let e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function il(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function Co(){return Date.now()}function Fq(n){let e=$n(),t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function mp(n,e){e===void 0&&(e="x");let t=$n(),i,r,o,a=Fq(n);return t.WebKitCSSMatrix?(r=a.transform||a.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(c=>c.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(r==="none"?"":r)):(o=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?r=o.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(t.WebKitCSSMatrix?r=o.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function s4(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function Vq(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function Wo(){let n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){let i=t<0||arguments.length<=t?void 0:arguments[t];if(i!=null&&!Vq(i)){let r=Object.keys(Object(i)).filter(o=>e.indexOf(o)<0);for(let o=0,a=r.length;o<a;o+=1){let c=r[o],u=Object.getOwnPropertyDescriptor(i,c);u!==void 0&&u.enumerable&&(s4(n[c])&&s4(i[c])?i[c].__swiper__?n[c]=i[c]:Wo(n[c],i[c]):!s4(n[c])&&s4(i[c])?(n[c]={},i[c].__swiper__?n[c]=i[c]:Wo(n[c],i[c])):n[c]=i[c])}}}return n}function X2(n,e,t){n.style.setProperty(e,t)}function cC(n){let{swiper:e,targetPosition:t,side:i}=n,r=$n(),o=-e.translate,a=null,c,u=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);let h=t>o?"next":"prev",v=(P,S)=>h==="next"&&P>=S||h==="prev"&&P<=S,y=()=>{c=new Date().getTime(),a===null&&(a=c);let P=Math.max(Math.min((c-a)/u,1),0),S=.5-Math.cos(P*Math.PI)/2,M=o+S*(t-o);if(v(M,t)&&(M=t),e.wrapperEl.scrollTo({[i]:M}),v(M,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:M})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(y)};y()}function Go(n){return n.querySelector(".swiper-slide-transform")||n.shadowRoot&&n.shadowRoot.querySelector(".swiper-slide-transform")||n}function Ti(n,e){e===void 0&&(e="");let t=$n(),i=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&i.push(...n.assignedElements()),e?i.filter(r=>r.matches(e)):i}function Bq(n,e){let t=[e];for(;t.length>0;){let i=t.shift();if(n===i)return!0;t.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function VT(n,e){let t=$n(),i=e.contains(n);return!i&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(n),i||(i=Bq(n,e))),i}function hp(n){try{console.warn(n);return}catch{}}function lr(n,e){e===void 0&&(e=[]);let t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:rc(e)),t}function K2(n){let e=$n(),t=hi(),i=n.getBoundingClientRect(),r=t.body,o=n.clientTop||r.clientTop||0,a=n.clientLeft||r.clientLeft||0,c=n===e?e.scrollY:n.scrollTop,u=n===e?e.scrollX:n.scrollLeft;return{top:i.top+c-o,left:i.left+u-a}}function BT(n,e){let t=[];for(;n.previousElementSibling;){let i=n.previousElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function jT(n,e){let t=[];for(;n.nextElementSibling;){let i=n.nextElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function oc(n,e){return $n().getComputedStyle(n,null).getPropertyValue(e)}function m1(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function bs(n,e){let t=[],i=n.parentElement;for(;i;)e?i.matches(e)&&t.push(i):t.push(i),i=i.parentElement;return t}function h1(n,e){function t(i){i.target===n&&(e.call(n,i),n.removeEventListener("transitionend",t))}e&&n.addEventListener("transitionend",t)}function gp(n,e,t){let i=$n();return t?n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):n.offsetWidth}function dn(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}function g1(n){return e=>Math.abs(e)>0&&n.browser&&n.browser.need3dFix&&Math.abs(e)%90===0?e+.001:e}function Lr(n,e){e===void 0&&(e=""),typeof trustedTypes<"u"?n.innerHTML=trustedTypes.createPolicy("html",{createHTML:t=>t}).createHTML(e):n.innerHTML=e}var dC;function jq(){let n=$n(),e=hi();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function GT(){return dC||(dC=jq()),dC}var uC;function Hq(n){let{userAgent:e}=n===void 0?{}:n,t=GT(),i=$n(),r=i.navigator.platform,o=e||i.navigator.userAgent,a={ios:!1,android:!1},c=i.screen.width,u=i.screen.height,h=o.match(/(Android);?[\s\/]+([\d.]+)?/),v=o.match(/(iPad).*OS\s([\d_]+)/),y=o.match(/(iPod)(.*OS\s([\d_]+))?/),P=!v&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),S=r==="Win32",M=r==="MacIntel",O=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!v&&M&&t.touch&&O.indexOf(`${c}x${u}`)>=0&&(v=o.match(/(Version)\/([\d.]+)/),v||(v=[0,1,"13_0_0"]),M=!1),h&&!S&&(a.os="android",a.android=!0),(v||P||y)&&(a.os="ios",a.ios=!0),a}function YT(n){return n===void 0&&(n={}),uC||(uC=Hq(n)),uC}var pC;function Uq(){let n=$n(),e=YT(),t=!1;function i(){let c=n.navigator.userAgent.toLowerCase();return c.indexOf("safari")>=0&&c.indexOf("chrome")<0&&c.indexOf("android")<0}if(i()){let c=String(n.navigator.userAgent);if(c.includes("Version/")){let[u,h]=c.split("Version/")[1].split(" ")[0].split(".").map(v=>Number(v));t=u<16||u===16&&h<2}}let r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=i(),a=o||r&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:a,isWebView:r}}function qT(){return pC||(pC=Uq()),pC}function $q(n){let{swiper:e,on:t,emit:i}=n,r=$n(),o=null,a=null,c=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},u=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(y=>{a=r.requestAnimationFrame(()=>{let{width:P,height:S}=e,M=P,O=S;y.forEach(R=>{let{contentBoxSize:B,contentRect:F,target:N}=R;N&&N!==e.el||(M=F?F.width:(B[0]||B).inlineSize,O=F?F.height:(B[0]||B).blockSize)}),(M!==P||O!==S)&&c()})}),o.observe(e.el))},h=()=>{a&&r.cancelAnimationFrame(a),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},v=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){u();return}r.addEventListener("resize",c),r.addEventListener("orientationchange",v)}),t("destroy",()=>{h(),r.removeEventListener("resize",c),r.removeEventListener("orientationchange",v)})}function Wq(n){let{swiper:e,extendParams:t,on:i,emit:r}=n,o=[],a=$n(),c=function(v,y){y===void 0&&(y={});let P=a.MutationObserver||a.WebkitMutationObserver,S=new P(M=>{if(e.__preventObserver__)return;if(M.length===1){r("observerUpdate",M[0]);return}let O=function(){r("observerUpdate",M[0])};a.requestAnimationFrame?a.requestAnimationFrame(O):a.setTimeout(O,0)});S.observe(v,{attributes:typeof y.attributes>"u"?!0:y.attributes,childList:e.isElement||(typeof y.childList>"u"?!0:y).childList,characterData:typeof y.characterData>"u"?!0:y.characterData}),o.push(S)},u=()=>{if(e.params.observer){if(e.params.observeParents){let v=bs(e.hostEl);for(let y=0;y<v.length;y+=1)c(v[y])}c(e.hostEl,{childList:e.params.observeSlideChildren}),c(e.wrapperEl,{attributes:!1})}},h=()=>{o.forEach(v=>{v.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",u),i("destroy",h)}var Gq={on(n,e,t){let i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;let r=t?"unshift":"push";return n.split(" ").forEach(o=>{i.eventsListeners[o]||(i.eventsListeners[o]=[]),i.eventsListeners[o][r](e)}),i},once(n,e,t){let i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(){i.off(n,r),r.__emitterProxy&&delete r.__emitterProxy;for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];e.apply(i,a)}return r.__emitterProxy=e,i.on(n,r,t)},onAny(n,e){let t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;let i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[i](n),t},offAny(n){let e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;let t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){let t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(i=>{typeof e>"u"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((r,o)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&t.eventsListeners[i].splice(o,1)})}),t},emit(){let n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,i;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),i=n):(e=o[0].events,t=o[0].data,i=o[0].context||n),t.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(u=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(h=>{h.apply(i,[u,...t])}),n.eventsListeners&&n.eventsListeners[u]&&n.eventsListeners[u].forEach(h=>{h.apply(i,t)})}),n}};function Yq(){let n=this,e,t,i=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=i.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=i.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(oc(i,"padding-left")||0,10)-parseInt(oc(i,"padding-right")||0,10),t=t-parseInt(oc(i,"padding-top")||0,10)-parseInt(oc(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function qq(){let n=this;function e(pe,ge){return parseFloat(pe.getPropertyValue(n.getDirectionLabel(ge))||0)}let t=n.params,{wrapperEl:i,slidesEl:r,size:o,rtlTranslate:a,wrongRTL:c}=n,u=n.virtual&&t.virtual.enabled,h=u?n.virtual.slides.length:n.slides.length,v=Ti(r,`.${n.params.slideClass}, swiper-slide`),y=u?n.virtual.slides.length:v.length,P=[],S=[],M=[],O=t.slidesOffsetBefore;typeof O=="function"&&(O=t.slidesOffsetBefore.call(n));let R=t.slidesOffsetAfter;typeof R=="function"&&(R=t.slidesOffsetAfter.call(n));let B=n.snapGrid.length,F=n.slidesGrid.length,N=t.spaceBetween,Y=-O,ne=0,ue=0;if(typeof o>"u")return;typeof N=="string"&&N.indexOf("%")>=0?N=parseFloat(N.replace("%",""))/100*o:typeof N=="string"&&(N=parseFloat(N)),n.virtualSize=-N,v.forEach(pe=>{a?pe.style.marginLeft="":pe.style.marginRight="",pe.style.marginBottom="",pe.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(X2(i,"--swiper-centered-offset-before",""),X2(i,"--swiper-centered-offset-after",""));let fe=t.grid&&t.grid.rows>1&&n.grid;fe?n.grid.initSlides(v):n.grid&&n.grid.unsetSlides();let oe,J=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(pe=>typeof t.breakpoints[pe].slidesPerView<"u").length>0;for(let pe=0;pe<y;pe+=1){oe=0;let ge;if(v[pe]&&(ge=v[pe]),fe&&n.grid.updateSlide(pe,ge,v),!(v[pe]&&oc(ge,"display")==="none")){if(t.slidesPerView==="auto"){J&&(v[pe].style[n.getDirectionLabel("width")]="");let re=getComputedStyle(ge),ee=ge.style.transform,se=ge.style.webkitTransform;if(ee&&(ge.style.transform="none"),se&&(ge.style.webkitTransform="none"),t.roundLengths)oe=n.isHorizontal()?gp(ge,"width",!0):gp(ge,"height",!0);else{let ve=e(re,"width"),te=e(re,"padding-left"),K=e(re,"padding-right"),H=e(re,"margin-left"),Z=e(re,"margin-right"),ke=re.getPropertyValue("box-sizing");if(ke&&ke==="border-box")oe=ve+H+Z;else{let{clientWidth:Be,offsetWidth:Qe}=ge;oe=ve+te+K+H+Z+(Qe-Be)}}ee&&(ge.style.transform=ee),se&&(ge.style.webkitTransform=se),t.roundLengths&&(oe=Math.floor(oe))}else oe=(o-(t.slidesPerView-1)*N)/t.slidesPerView,t.roundLengths&&(oe=Math.floor(oe)),v[pe]&&(v[pe].style[n.getDirectionLabel("width")]=`${oe}px`);v[pe]&&(v[pe].swiperSlideSize=oe),M.push(oe),t.centeredSlides?(Y=Y+oe/2+ne/2+N,ne===0&&pe!==0&&(Y=Y-o/2-N),pe===0&&(Y=Y-o/2-N),Math.abs(Y)<1/1e3&&(Y=0),t.roundLengths&&(Y=Math.floor(Y)),ue%t.slidesPerGroup===0&&P.push(Y),S.push(Y)):(t.roundLengths&&(Y=Math.floor(Y)),(ue-Math.min(n.params.slidesPerGroupSkip,ue))%n.params.slidesPerGroup===0&&P.push(Y),S.push(Y),Y=Y+oe+N),n.virtualSize+=oe+N,ne=oe,ue+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+R,a&&c&&(t.effect==="slide"||t.effect==="coverflow")&&(i.style.width=`${n.virtualSize+N}px`),t.setWrapperSize&&(i.style[n.getDirectionLabel("width")]=`${n.virtualSize+N}px`),fe&&n.grid.updateWrapperSize(oe,P),!t.centeredSlides){let pe=[];for(let ge=0;ge<P.length;ge+=1){let re=P[ge];t.roundLengths&&(re=Math.floor(re)),P[ge]<=n.virtualSize-o&&pe.push(re)}P=pe,Math.floor(n.virtualSize-o)-Math.floor(P[P.length-1])>1&&P.push(n.virtualSize-o)}if(u&&t.loop){let pe=M[0]+N;if(t.slidesPerGroup>1){let ge=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),re=pe*t.slidesPerGroup;for(let ee=0;ee<ge;ee+=1)P.push(P[P.length-1]+re)}for(let ge=0;ge<n.virtual.slidesBefore+n.virtual.slidesAfter;ge+=1)t.slidesPerGroup===1&&P.push(P[P.length-1]+pe),S.push(S[S.length-1]+pe),n.virtualSize+=pe}if(P.length===0&&(P=[0]),N!==0){let pe=n.isHorizontal()&&a?"marginLeft":n.getDirectionLabel("marginRight");v.filter((ge,re)=>!t.cssMode||t.loop?!0:re!==v.length-1).forEach(ge=>{ge.style[pe]=`${N}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let pe=0;M.forEach(re=>{pe+=re+(N||0)}),pe-=N;let ge=pe>o?pe-o:0;P=P.map(re=>re<=0?-O:re>ge?ge+R:re)}if(t.centerInsufficientSlides){let pe=0;M.forEach(re=>{pe+=re+(N||0)}),pe-=N;let ge=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(pe+ge<o){let re=(o-pe-ge)/2;P.forEach((ee,se)=>{P[se]=ee-re}),S.forEach((ee,se)=>{S[se]=ee+re})}}if(Object.assign(n,{slides:v,snapGrid:P,slidesGrid:S,slidesSizesGrid:M}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){X2(i,"--swiper-centered-offset-before",`${-P[0]}px`),X2(i,"--swiper-centered-offset-after",`${n.size/2-M[M.length-1]/2}px`);let pe=-n.snapGrid[0],ge=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(re=>re+pe),n.slidesGrid=n.slidesGrid.map(re=>re+ge)}if(y!==h&&n.emit("slidesLengthChange"),P.length!==B&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),S.length!==F&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!u&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){let pe=`${t.containerModifierClass}backface-hidden`,ge=n.el.classList.contains(pe);y<=t.maxBackfaceHiddenSlides?ge||n.el.classList.add(pe):ge&&n.el.classList.remove(pe)}}function Zq(n){let e=this,t=[],i=e.virtual&&e.params.virtual.enabled,r=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);let a=c=>i?e.slides[e.getSlideIndexByData(c)]:e.slides[c];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(c=>{t.push(c)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){let c=e.activeIndex+o;if(c>e.slides.length&&!i)break;t.push(a(c))}else t.push(a(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){let c=t[o].offsetHeight;r=c>r?c:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function Xq(){let n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(n.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-n.cssOverflowAdjustment()}var HT=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function Kq(n){n===void 0&&(n=this&&this.translate||0);let e=this,t=e.params,{slides:i,rtlTranslate:r,snapGrid:o}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-n;r&&(a=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let c=t.spaceBetween;typeof c=="string"&&c.indexOf("%")>=0?c=parseFloat(c.replace("%",""))/100*e.size:typeof c=="string"&&(c=parseFloat(c));for(let u=0;u<i.length;u+=1){let h=i[u],v=h.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(v-=i[0].swiperSlideOffset);let y=(a+(t.centeredSlides?e.minTranslate():0)-v)/(h.swiperSlideSize+c),P=(a-o[0]+(t.centeredSlides?e.minTranslate():0)-v)/(h.swiperSlideSize+c),S=-(a-v),M=S+e.slidesSizesGrid[u],O=S>=0&&S<=e.size-e.slidesSizesGrid[u],R=S>=0&&S<e.size-1||M>1&&M<=e.size||S<=0&&M>=e.size;R&&(e.visibleSlides.push(h),e.visibleSlidesIndexes.push(u)),HT(h,R,t.slideVisibleClass),HT(h,O,t.slideFullyVisibleClass),h.progress=r?-y:y,h.originalProgress=r?-P:P}}function Qq(n){let e=this;if(typeof n>"u"){let v=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*v||0}let t=e.params,i=e.maxTranslate()-e.minTranslate(),{progress:r,isBeginning:o,isEnd:a,progressLoop:c}=e,u=o,h=a;if(i===0)r=0,o=!0,a=!0;else{r=(n-e.minTranslate())/i;let v=Math.abs(n-e.minTranslate())<1,y=Math.abs(n-e.maxTranslate())<1;o=v||r<=0,a=y||r>=1,v&&(r=0),y&&(r=1)}if(t.loop){let v=e.getSlideIndexByData(0),y=e.getSlideIndexByData(e.slides.length-1),P=e.slidesGrid[v],S=e.slidesGrid[y],M=e.slidesGrid[e.slidesGrid.length-1],O=Math.abs(n);O>=P?c=(O-P)/M:c=(O+M-S)/M,c>1&&(c-=1)}Object.assign(e,{progress:r,progressLoop:c,isBeginning:o,isEnd:a}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!u&&e.emit("reachBeginning toEdge"),a&&!h&&e.emit("reachEnd toEdge"),(u&&!o||h&&!a)&&e.emit("fromEdge"),e.emit("progress",r)}var fC=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function Jq(){let n=this,{slides:e,params:t,slidesEl:i,activeIndex:r}=n,o=n.virtual&&t.virtual.enabled,a=n.grid&&t.grid&&t.grid.rows>1,c=y=>Ti(i,`.${t.slideClass}${y}, swiper-slide${y}`)[0],u,h,v;if(o)if(t.loop){let y=r-n.virtual.slidesBefore;y<0&&(y=n.virtual.slides.length+y),y>=n.virtual.slides.length&&(y-=n.virtual.slides.length),u=c(`[data-swiper-slide-index="${y}"]`)}else u=c(`[data-swiper-slide-index="${r}"]`);else a?(u=e.find(y=>y.column===r),v=e.find(y=>y.column===r+1),h=e.find(y=>y.column===r-1)):u=e[r];u&&(a||(v=jT(u,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!v&&(v=e[0]),h=BT(u,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!h===0&&(h=e[e.length-1]))),e.forEach(y=>{fC(y,y===u,t.slideActiveClass),fC(y,y===v,t.slideNextClass),fC(y,y===h,t.slidePrevClass)}),n.emitSlidesClasses()}var Ng=(n,e)=>{if(!n||n.destroyed||!n.params)return;let t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,i=e.closest(t());if(i){let r=i.querySelector(`.${n.params.lazyPreloaderClass}`);!r&&n.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},mC=(n,e)=>{if(!n.slides[e])return;let t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},vC=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext,t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);let i=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),r=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){let a=r,c=[a-e];c.push(...Array.from({length:e}).map((u,h)=>a+i+h)),n.slides.forEach((u,h)=>{c.includes(u.column)&&mC(n,h)});return}let o=r+i-1;if(n.params.rewind||n.params.loop)for(let a=r-e;a<=o+e;a+=1){let c=(a%t+t)%t;(c<r||c>o)&&mC(n,c)}else for(let a=Math.max(r-e,0);a<=Math.min(o+e,t-1);a+=1)a!==r&&(a>o||a<r)&&mC(n,a)};function eZ(n){let{slidesGrid:e,params:t}=n,i=n.rtlTranslate?n.translate:-n.translate,r;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?i>=e[o]&&i<e[o+1]-(e[o+1]-e[o])/2?r=o:i>=e[o]&&i<e[o+1]&&(r=o+1):i>=e[o]&&(r=o);return t.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function tZ(n){let e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:o,realIndex:a,snapIndex:c}=e,u=n,h,v=S=>{let M=S-e.virtual.slidesBefore;return M<0&&(M=e.virtual.slides.length+M),M>=e.virtual.slides.length&&(M-=e.virtual.slides.length),M};if(typeof u>"u"&&(u=eZ(e)),i.indexOf(t)>=0)h=i.indexOf(t);else{let S=Math.min(r.slidesPerGroupSkip,u);h=S+Math.floor((u-S)/r.slidesPerGroup)}if(h>=i.length&&(h=i.length-1),u===o&&!e.params.loop){h!==c&&(e.snapIndex=h,e.emit("snapIndexChange"));return}if(u===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=v(u);return}let y=e.grid&&r.grid&&r.grid.rows>1,P;if(e.virtual&&r.virtual.enabled&&r.loop)P=v(u);else if(y){let S=e.slides.find(O=>O.column===u),M=parseInt(S.getAttribute("data-swiper-slide-index"),10);Number.isNaN(M)&&(M=Math.max(e.slides.indexOf(S),0)),P=Math.floor(M/r.grid.rows)}else if(e.slides[u]){let S=e.slides[u].getAttribute("data-swiper-slide-index");S?P=parseInt(S,10):P=u}else P=u;Object.assign(e,{previousSnapIndex:c,snapIndex:h,previousRealIndex:a,realIndex:P,previousIndex:o,activeIndex:u}),e.initialized&&vC(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==P&&e.emit("realIndexChange"),e.emit("slideChange"))}function nZ(n,e){let t=this,i=t.params,r=n.closest(`.${i.slideClass}, swiper-slide`);!r&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(c=>{!r&&c.matches&&c.matches(`.${i.slideClass}, swiper-slide`)&&(r=c)});let o=!1,a;if(r){for(let c=0;c<t.slides.length;c+=1)if(t.slides[c]===r){o=!0,a=c;break}}if(r&&o)t.clickedSlide=r,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=a;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}i.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var iZ={updateSize:Yq,updateSlides:qq,updateAutoHeight:Zq,updateSlidesOffset:Xq,updateSlidesProgress:Kq,updateProgress:Qq,updateSlidesClasses:Jq,updateActiveIndex:tZ,updateClickedSlide:nZ};function rZ(n){n===void 0&&(n=this.isHorizontal()?"x":"y");let e=this,{params:t,rtlTranslate:i,translate:r,wrapperEl:o}=e;if(t.virtualTranslate)return i?-r:r;if(t.cssMode)return r;let a=mp(o,n);return a+=e.cssOverflowAdjustment(),i&&(a=-a),a||0}function oZ(n,e){let t=this,{rtlTranslate:i,params:r,wrapperEl:o,progress:a}=t,c=0,u=0,h=0;t.isHorizontal()?c=i?-n:n:u=n,r.roundLengths&&(c=Math.floor(c),u=Math.floor(u)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?c:u,r.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-c:-u:r.virtualTranslate||(t.isHorizontal()?c-=t.cssOverflowAdjustment():u-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${c}px, ${u}px, ${h}px)`);let v,y=t.maxTranslate()-t.minTranslate();y===0?v=0:v=(n-t.minTranslate())/y,v!==a&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function aZ(){return-this.snapGrid[0]}function sZ(){return-this.snapGrid[this.snapGrid.length-1]}function lZ(n,e,t,i,r){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),i===void 0&&(i=!0);let o=this,{params:a,wrapperEl:c}=o;if(o.animating&&a.preventInteractionOnTransition)return!1;let u=o.minTranslate(),h=o.maxTranslate(),v;if(i&&n>u?v=u:i&&n<h?v=h:v=n,o.updateProgress(v),a.cssMode){let y=o.isHorizontal();if(e===0)c[y?"scrollLeft":"scrollTop"]=-v;else{if(!o.support.smoothScroll)return cC({swiper:o,targetPosition:-v,side:y?"left":"top"}),!0;c.scrollTo({[y?"left":"top"]:-v,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(v),t&&(o.emit("beforeTransitionStart",e,r),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(v),t&&(o.emit("beforeTransitionStart",e,r),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(P){!o||o.destroyed||P.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var cZ={getTranslate:rZ,setTranslate:oZ,minTranslate:aZ,maxTranslate:sZ,translateTo:lZ};function dZ(n,e){let t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function ZT(n){let{swiper:e,runCallbacks:t,direction:i,step:r}=n,{activeIndex:o,previousIndex:a}=e,c=i;c||(o>a?c="next":o<a?c="prev":c="reset"),e.emit(`transition${r}`),t&&c==="reset"?e.emit(`slideResetTransition${r}`):t&&o!==a&&(e.emit(`slideChangeTransition${r}`),c==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`))}function uZ(n,e){n===void 0&&(n=!0);let t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),ZT({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function pZ(n,e){n===void 0&&(n=!0);let t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),ZT({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var fZ={setTransition:dZ,transitionStart:uZ,transitionEnd:pZ};function mZ(n,e,t,i,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));let o=this,a=n;a<0&&(a=0);let{params:c,snapGrid:u,slidesGrid:h,previousIndex:v,activeIndex:y,rtlTranslate:P,wrapperEl:S,enabled:M}=o;if(!M&&!i&&!r||o.destroyed||o.animating&&c.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);let O=Math.min(o.params.slidesPerGroupSkip,a),R=O+Math.floor((a-O)/o.params.slidesPerGroup);R>=u.length&&(R=u.length-1);let B=-u[R];if(c.normalizeSlideIndex)for(let fe=0;fe<h.length;fe+=1){let oe=-Math.floor(B*100),J=Math.floor(h[fe]*100),pe=Math.floor(h[fe+1]*100);typeof h[fe+1]<"u"?oe>=J&&oe<pe-(pe-J)/2?a=fe:oe>=J&&oe<pe&&(a=fe+1):oe>=J&&(a=fe)}if(o.initialized&&a!==y&&(!o.allowSlideNext&&(P?B>o.translate&&B>o.minTranslate():B<o.translate&&B<o.minTranslate())||!o.allowSlidePrev&&B>o.translate&&B>o.maxTranslate()&&(y||0)!==a))return!1;a!==(v||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(B);let F;a>y?F="next":a<y?F="prev":F="reset";let N=o.virtual&&o.params.virtual.enabled;if(!(N&&r)&&(P&&-B===o.translate||!P&&B===o.translate))return o.updateActiveIndex(a),c.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),c.effect!=="slide"&&o.setTranslate(B),F!=="reset"&&(o.transitionStart(t,F),o.transitionEnd(t,F)),!1;if(c.cssMode){let fe=o.isHorizontal(),oe=P?B:-B;if(e===0)N&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),N&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{S[fe?"scrollLeft":"scrollTop"]=oe})):S[fe?"scrollLeft":"scrollTop"]=oe,N&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return cC({swiper:o,targetPosition:oe,side:fe?"left":"top"}),!0;S.scrollTo({[fe?"left":"top"]:oe,behavior:"smooth"})}return!0}let ue=qT().isSafari;return N&&!r&&ue&&o.isElement&&o.virtual.update(!1,!1,a),o.setTransition(e),o.setTranslate(B),o.updateActiveIndex(a),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,i),o.transitionStart(t,F),e===0?o.transitionEnd(t,F):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(oe){!o||o.destroyed||oe.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,F))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function hZ(n,e,t,i){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));let r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);let o=r.grid&&r.params.grid&&r.params.grid.rows>1,a=n;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)a=a+r.virtual.slidesBefore;else{let c;if(o){let P=a*r.params.grid.rows;c=r.slides.find(S=>S.getAttribute("data-swiper-slide-index")*1===P).column}else c=r.getSlideIndexByData(a);let u=o?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:h}=r.params,v=r.params.slidesPerView;v==="auto"?v=r.slidesPerViewDynamic():(v=Math.ceil(parseFloat(r.params.slidesPerView,10)),h&&v%2===0&&(v=v+1));let y=u-c<v;if(h&&(y=y||c<Math.ceil(v/2)),i&&h&&r.params.slidesPerView!=="auto"&&!o&&(y=!1),y){let P=h?c<r.activeIndex?"prev":"next":c-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:P,slideTo:!0,activeSlideIndex:P==="next"?c+1:c-u+1,slideRealIndex:P==="next"?r.realIndex:void 0})}if(o){let P=a*r.params.grid.rows;a=r.slides.find(S=>S.getAttribute("data-swiper-slide-index")*1===P).column}else a=r.getSlideIndexByData(a)}return requestAnimationFrame(()=>{r.slideTo(a,e,t,i)}),r}function gZ(n,e,t){e===void 0&&(e=!0);let i=this,{enabled:r,params:o,animating:a}=i;if(!r||i.destroyed)return i;typeof n>"u"&&(n=i.params.speed);let c=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(c=Math.max(i.slidesPerViewDynamic("current",!0),1));let u=i.activeIndex<o.slidesPerGroupSkip?1:c,h=i.virtual&&o.virtual.enabled;if(o.loop){if(a&&!h&&o.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+u,n,e,t)}),!0}return o.rewind&&i.isEnd?i.slideTo(0,n,e,t):i.slideTo(i.activeIndex+u,n,e,t)}function vZ(n,e,t){e===void 0&&(e=!0);let i=this,{params:r,snapGrid:o,slidesGrid:a,rtlTranslate:c,enabled:u,animating:h}=i;if(!u||i.destroyed)return i;typeof n>"u"&&(n=i.params.speed);let v=i.virtual&&r.virtual.enabled;if(r.loop){if(h&&!v&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}let y=c?i.translate:-i.translate;function P(F){return F<0?-Math.floor(Math.abs(F)):Math.floor(F)}let S=P(y),M=o.map(F=>P(F)),O=r.freeMode&&r.freeMode.enabled,R=o[M.indexOf(S)-1];if(typeof R>"u"&&(r.cssMode||O)){let F;o.forEach((N,Y)=>{S>=N&&(F=Y)}),typeof F<"u"&&(R=O?o[F]:o[F>0?F-1:F])}let B=0;if(typeof R<"u"&&(B=a.indexOf(R),B<0&&(B=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(B=B-i.slidesPerViewDynamic("previous",!0)+1,B=Math.max(B,0))),r.rewind&&i.isBeginning){let F=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(F,n,e,t)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(B,n,e,t)}),!0;return i.slideTo(B,n,e,t)}function bZ(n,e,t){e===void 0&&(e=!0);let i=this;if(!i.destroyed)return typeof n>"u"&&(n=i.params.speed),i.slideTo(i.activeIndex,n,e,t)}function _Z(n,e,t,i){e===void 0&&(e=!0),i===void 0&&(i=.5);let r=this;if(r.destroyed)return;typeof n>"u"&&(n=r.params.speed);let o=r.activeIndex,a=Math.min(r.params.slidesPerGroupSkip,o),c=a+Math.floor((o-a)/r.params.slidesPerGroup),u=r.rtlTranslate?r.translate:-r.translate;if(u>=r.snapGrid[c]){let h=r.snapGrid[c],v=r.snapGrid[c+1];u-h>(v-h)*i&&(o+=r.params.slidesPerGroup)}else{let h=r.snapGrid[c-1],v=r.snapGrid[c];u-h<=(v-h)*i&&(o-=r.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,r.slidesGrid.length-1),r.slideTo(o,n,e,t)}function yZ(){let n=this;if(n.destroyed)return;let{params:e,slidesEl:t}=n,i=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView,r=n.getSlideIndexWhenGrid(n.clickedIndex),o,a=n.isElement?"swiper-slide":`.${e.slideClass}`,c=n.grid&&n.params.grid&&n.params.grid.rows>1;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?n.slideToLoop(o):r>(c?(n.slides.length-i)/2-(n.params.grid.rows-1):n.slides.length-i)?(n.loopFix(),r=n.getSlideIndex(Ti(t,`${a}[data-swiper-slide-index="${o}"]`)[0]),il(()=>{n.slideTo(r)})):n.slideTo(r)}else n.slideTo(r)}var xZ={slideTo:mZ,slideToLoop:hZ,slideNext:gZ,slidePrev:vZ,slideReset:bZ,slideToClosest:_Z,slideToClickedSlide:yZ};function CZ(n,e){let t=this,{params:i,slidesEl:r}=t;if(!i.loop||t.virtual&&t.params.virtual.enabled)return;let o=()=>{Ti(r,`.${i.slideClass}, swiper-slide`).forEach((S,M)=>{S.setAttribute("data-swiper-slide-index",M)})},a=()=>{let P=Ti(r,`.${i.slideBlankClass}`);P.forEach(S=>{S.remove()}),P.length>0&&(t.recalcSlides(),t.updateSlides())},c=t.grid&&i.grid&&i.grid.rows>1;i.loopAddBlankSlides&&(i.slidesPerGroup>1||c)&&a();let u=i.slidesPerGroup*(c?i.grid.rows:1),h=t.slides.length%u!==0,v=c&&t.slides.length%i.grid.rows!==0,y=P=>{for(let S=0;S<P;S+=1){let M=t.isElement?lr("swiper-slide",[i.slideBlankClass]):lr("div",[i.slideClass,i.slideBlankClass]);t.slidesEl.append(M)}};if(h){if(i.loopAddBlankSlides){let P=u-t.slides.length%u;y(P),t.recalcSlides(),t.updateSlides()}else hp("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(v){if(i.loopAddBlankSlides){let P=i.grid.rows-t.slides.length%i.grid.rows;y(P),t.recalcSlides(),t.updateSlides()}else hp("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();t.loopFix({slideRealIndex:n,direction:i.centeredSlides?void 0:"next",initial:e})}function MZ(n){let{slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:r,activeSlideIndex:o,initial:a,byController:c,byMousewheel:u}=n===void 0?{}:n,h=this;if(!h.params.loop)return;h.emit("beforeLoopFix");let{slides:v,allowSlidePrev:y,allowSlideNext:P,slidesEl:S,params:M}=h,{centeredSlides:O,initialSlide:R}=M;if(h.allowSlidePrev=!0,h.allowSlideNext=!0,h.virtual&&M.virtual.enabled){t&&(!M.centeredSlides&&h.snapIndex===0?h.slideTo(h.virtual.slides.length,0,!1,!0):M.centeredSlides&&h.snapIndex<M.slidesPerView?h.slideTo(h.virtual.slides.length+h.snapIndex,0,!1,!0):h.snapIndex===h.snapGrid.length-1&&h.slideTo(h.virtual.slidesBefore,0,!1,!0)),h.allowSlidePrev=y,h.allowSlideNext=P,h.emit("loopFix");return}let B=M.slidesPerView;B==="auto"?B=h.slidesPerViewDynamic():(B=Math.ceil(parseFloat(M.slidesPerView,10)),O&&B%2===0&&(B=B+1));let F=M.slidesPerGroupAuto?B:M.slidesPerGroup,N=O?Math.max(F,Math.ceil(B/2)):F;N%F!==0&&(N+=F-N%F),N+=M.loopAdditionalSlides,h.loopedSlides=N;let Y=h.grid&&M.grid&&M.grid.rows>1;v.length<B+N||h.params.effect==="cards"&&v.length<B+N*2?hp("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):Y&&M.grid.fill==="row"&&hp("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");let ne=[],ue=[],fe=Y?Math.ceil(v.length/M.grid.rows):v.length,oe=a&&fe-R<B&&!O,J=oe?R:h.activeIndex;typeof o>"u"?o=h.getSlideIndex(v.find(te=>te.classList.contains(M.slideActiveClass))):J=o;let pe=i==="next"||!i,ge=i==="prev"||!i,re=0,ee=0,ve=(Y?v[o].column:o)+(O&&typeof r>"u"?-B/2+.5:0);if(ve<N){re=Math.max(N-ve,F);for(let te=0;te<N-ve;te+=1){let K=te-Math.floor(te/fe)*fe;if(Y){let H=fe-K-1;for(let Z=v.length-1;Z>=0;Z-=1)v[Z].column===H&&ne.push(Z)}else ne.push(fe-K-1)}}else if(ve+B>fe-N){ee=Math.max(ve-(fe-N*2),F),oe&&(ee=Math.max(ee,B-fe+R+1));for(let te=0;te<ee;te+=1){let K=te-Math.floor(te/fe)*fe;Y?v.forEach((H,Z)=>{H.column===K&&ue.push(Z)}):ue.push(K)}}if(h.__preventObserver__=!0,requestAnimationFrame(()=>{h.__preventObserver__=!1}),h.params.effect==="cards"&&v.length<B+N*2&&(ue.includes(o)&&ue.splice(ue.indexOf(o),1),ne.includes(o)&&ne.splice(ne.indexOf(o),1)),ge&&ne.forEach(te=>{v[te].swiperLoopMoveDOM=!0,S.prepend(v[te]),v[te].swiperLoopMoveDOM=!1}),pe&&ue.forEach(te=>{v[te].swiperLoopMoveDOM=!0,S.append(v[te]),v[te].swiperLoopMoveDOM=!1}),h.recalcSlides(),M.slidesPerView==="auto"?h.updateSlides():Y&&(ne.length>0&&ge||ue.length>0&&pe)&&h.slides.forEach((te,K)=>{h.grid.updateSlide(K,te,h.slides)}),M.watchSlidesProgress&&h.updateSlidesOffset(),t){if(ne.length>0&&ge){if(typeof e>"u"){let te=h.slidesGrid[J],H=h.slidesGrid[J+re]-te;u?h.setTranslate(h.translate-H):(h.slideTo(J+Math.ceil(re),0,!1,!0),r&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-H,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-H))}else if(r){let te=Y?ne.length/M.grid.rows:ne.length;h.slideTo(h.activeIndex+te,0,!1,!0),h.touchEventsData.currentTranslate=h.translate}}else if(ue.length>0&&pe)if(typeof e>"u"){let te=h.slidesGrid[J],H=h.slidesGrid[J-ee]-te;u?h.setTranslate(h.translate-H):(h.slideTo(J-ee,0,!1,!0),r&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-H,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-H))}else{let te=Y?ue.length/M.grid.rows:ue.length;h.slideTo(h.activeIndex-te,0,!1,!0)}}if(h.allowSlidePrev=y,h.allowSlideNext=P,h.controller&&h.controller.control&&!c){let te={slideRealIndex:e,direction:i,setTranslate:r,activeSlideIndex:o,byController:!0};Array.isArray(h.controller.control)?h.controller.control.forEach(K=>{!K.destroyed&&K.params.loop&&K.loopFix(Ve(ie({},te),{slideTo:K.params.slidesPerView===M.slidesPerView?t:!1}))}):h.controller.control instanceof h.constructor&&h.controller.control.params.loop&&h.controller.control.loopFix(Ve(ie({},te),{slideTo:h.controller.control.params.slidesPerView===M.slidesPerView?t:!1}))}h.emit("loopFix")}function wZ(){let n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();let i=[];n.slides.forEach(r=>{let o=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[o]=r}),n.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{t.append(r)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var SZ={loopCreate:CZ,loopFix:MZ,loopDestroy:wZ};function PZ(n){let e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;let t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function kZ(){let n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var OZ={setGrabCursor:PZ,unsetGrabCursor:kZ};function DZ(n,e){e===void 0&&(e=this);function t(i){if(!i||i===hi()||i===$n())return null;i.assignedSlot&&(i=i.assignedSlot);let r=i.closest(n);return!r&&!i.getRootNode?null:r||t(i.getRootNode().host)}return t(e)}function UT(n,e,t){let i=$n(),{params:r}=n,o=r.edgeSwipeDetection,a=r.edgeSwipeThreshold;return o&&(t<=a||t>=i.innerWidth-a)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function EZ(n){let e=this,t=hi(),i=n;i.originalEvent&&(i=i.originalEvent);let r=e.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){UT(e,i,i.targetTouches[0].pageX);return}let{params:o,touches:a,enabled:c}=e;if(!c||!o.simulateTouch&&i.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let u=i.target;if(o.touchEventsTarget==="wrapper"&&!VT(u,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;let h=!!o.noSwipingClass&&o.noSwipingClass!=="",v=i.composedPath?i.composedPath():i.path;h&&i.target&&i.target.shadowRoot&&v&&(u=v[0]);let y=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,P=!!(i.target&&i.target.shadowRoot);if(o.noSwiping&&(P?DZ(y,u):u.closest(y))){e.allowClick=!0;return}if(o.swipeHandler&&!u.closest(o.swipeHandler))return;a.currentX=i.pageX,a.currentY=i.pageY;let S=a.currentX,M=a.currentY;if(!UT(e,i,S))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=S,a.startY=M,r.touchStartTime=Co(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(r.allowThresholdMove=!1);let O=!0;u.matches(r.focusableElements)&&(O=!1,u.nodeName==="SELECT"&&(r.isTouched=!1)),t.activeElement&&t.activeElement.matches(r.focusableElements)&&t.activeElement!==u&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!u.matches(r.focusableElements))&&t.activeElement.blur();let R=O&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||R)&&!u.isContentEditable&&i.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function IZ(n){let e=hi(),t=this,i=t.touchEventsData,{params:r,touches:o,rtlTranslate:a,enabled:c}=t;if(!c||!r.simulateTouch&&n.pointerType==="mouse")return;let u=n;if(u.originalEvent&&(u=u.originalEvent),u.type==="pointermove"&&(i.touchId!==null||u.pointerId!==i.pointerId))return;let h;if(u.type==="touchmove"){if(h=[...u.changedTouches].find(ue=>ue.identifier===i.touchId),!h||h.identifier!==i.touchId)return}else h=u;if(!i.isTouched){i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",u);return}let v=h.pageX,y=h.pageY;if(u.preventedByNestedSwiper){o.startX=v,o.startY=y;return}if(!t.allowTouchMove){u.target.matches(i.focusableElements)||(t.allowClick=!1),i.isTouched&&(Object.assign(o,{startX:v,startY:y,currentX:v,currentY:y}),i.touchStartTime=Co());return}if(r.touchReleaseOnEdges&&!r.loop)if(t.isVertical()){if(y<o.startY&&t.translate<=t.maxTranslate()||y>o.startY&&t.translate>=t.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else{if(a&&(v>o.startX&&-t.translate<=t.maxTranslate()||v<o.startX&&-t.translate>=t.minTranslate()))return;if(!a&&(v<o.startX&&t.translate<=t.maxTranslate()||v>o.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==u.target&&u.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&u.target===e.activeElement&&u.target.matches(i.focusableElements)){i.isMoved=!0,t.allowClick=!1;return}i.allowTouchCallbacks&&t.emit("touchMove",u),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=v,o.currentY=y;let P=o.currentX-o.startX,S=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(P**2+S**2)<t.params.threshold)return;if(typeof i.isScrolling>"u"){let ue;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?i.isScrolling=!1:P*P+S*S>=25&&(ue=Math.atan2(Math.abs(S),Math.abs(P))*180/Math.PI,i.isScrolling=t.isHorizontal()?ue>r.touchAngle:90-ue>r.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",u),typeof i.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(i.startMoving=!0),i.isScrolling||u.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;t.allowClick=!1,!r.cssMode&&u.cancelable&&u.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&u.stopPropagation();let M=t.isHorizontal()?P:S,O=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;r.oneWayMovement&&(M=Math.abs(M)*(a?1:-1),O=Math.abs(O)*(a?1:-1)),o.diff=M,M*=r.touchRatio,a&&(M=-M,O=-O);let R=t.touchesDirection;t.swipeDirection=M>0?"prev":"next",t.touchesDirection=O>0?"prev":"next";let B=t.params.loop&&!r.cssMode,F=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!i.isMoved){if(B&&F&&t.loopFix({direction:t.swipeDirection}),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){let ue=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(ue)}i.allowMomentumBounce=!1,r.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",u)}let N;if(new Date().getTime(),r._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&R!==t.touchesDirection&&B&&F&&Math.abs(M)>=1){Object.assign(o,{startX:v,startY:y,currentX:v,currentY:y,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}t.emit("sliderMove",u),i.isMoved=!0,i.currentTranslate=M+i.startTranslate;let Y=!0,ne=r.resistanceRatio;if(r.touchReleaseOnEdges&&(ne=0),M>0?(B&&F&&!N&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(r.slidesPerView!=="auto"&&t.slides.length-r.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>t.minTranslate()&&(Y=!1,r.resistance&&(i.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+i.startTranslate+M)**ne))):M<0&&(B&&F&&!N&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(r.slidesPerView!=="auto"&&t.slides.length-r.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(r.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<t.maxTranslate()&&(Y=!1,r.resistance&&(i.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-i.startTranslate-M)**ne))),Y&&(u.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(M)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,i.currentTranslate=i.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&t.freeMode||r.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function TZ(n){let e=this,t=e.touchEventsData,i=n;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].find(ne=>ne.identifier===t.touchId),!r||r.identifier!==t.touchId)return}else{if(t.touchId!==null||i.pointerId!==t.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;let{params:a,touches:c,rtlTranslate:u,slidesGrid:h,enabled:v}=e;if(!v||!a.simulateTouch&&i.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",i),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&a.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}a.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);let y=Co(),P=y-t.touchStartTime;if(e.allowClick){let ne=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(ne&&ne[0]||i.target,ne),e.emit("tap click",i),P<300&&y-t.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(t.lastClickTime=Co(),il(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||c.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let S;if(a.followFinger?S=u?e.translate:-e.translate:S=-t.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:S});return}let M=S>=-e.maxTranslate()&&!e.params.loop,O=0,R=e.slidesSizesGrid[0];for(let ne=0;ne<h.length;ne+=ne<a.slidesPerGroupSkip?1:a.slidesPerGroup){let ue=ne<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof h[ne+ue]<"u"?(M||S>=h[ne]&&S<h[ne+ue])&&(O=ne,R=h[ne+ue]-h[ne]):(M||S>=h[ne])&&(O=ne,R=h[h.length-1]-h[h.length-2])}let B=null,F=null;a.rewind&&(e.isBeginning?F=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(B=0));let N=(S-h[O])/R,Y=O<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(P>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(N>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?B:O+Y):e.slideTo(O)),e.swipeDirection==="prev"&&(N>1-a.longSwipesRatio?e.slideTo(O+Y):F!==null&&N<0&&Math.abs(N)>a.longSwipesRatio?e.slideTo(F):e.slideTo(O))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(O+Y):e.slideTo(O):(e.swipeDirection==="next"&&e.slideTo(B!==null?B:O+Y),e.swipeDirection==="prev"&&e.slideTo(F!==null?F:O))}}function $T(){let n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();let{allowSlideNext:i,allowSlidePrev:r,snapGrid:o}=n,a=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();let c=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!c?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!a?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=r,n.allowSlideNext=i,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function LZ(n){let e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function zZ(){let n=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=n;if(!i)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let r,o=n.maxTranslate()-n.minTranslate();o===0?r=0:r=(n.translate-n.minTranslate())/o,r!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function AZ(n){let e=this;Ng(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function NZ(){let n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}var XT=(n,e)=>{let t=hi(),{params:i,el:r,wrapperEl:o,device:a}=n,c=!!i.nested,u=e==="on"?"addEventListener":"removeEventListener",h=e;!r||typeof r=="string"||(t[u]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:c}),r[u]("touchstart",n.onTouchStart,{passive:!1}),r[u]("pointerdown",n.onTouchStart,{passive:!1}),t[u]("touchmove",n.onTouchMove,{passive:!1,capture:c}),t[u]("pointermove",n.onTouchMove,{passive:!1,capture:c}),t[u]("touchend",n.onTouchEnd,{passive:!0}),t[u]("pointerup",n.onTouchEnd,{passive:!0}),t[u]("pointercancel",n.onTouchEnd,{passive:!0}),t[u]("touchcancel",n.onTouchEnd,{passive:!0}),t[u]("pointerout",n.onTouchEnd,{passive:!0}),t[u]("pointerleave",n.onTouchEnd,{passive:!0}),t[u]("contextmenu",n.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[u]("click",n.onClick,!0),i.cssMode&&o[u]("scroll",n.onScroll),i.updateOnWindowResize?n[h](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",$T,!0):n[h]("observerUpdate",$T,!0),r[u]("load",n.onLoad,{capture:!0}))};function RZ(){let n=this,{params:e}=n;n.onTouchStart=EZ.bind(n),n.onTouchMove=IZ.bind(n),n.onTouchEnd=TZ.bind(n),n.onDocumentTouchStart=NZ.bind(n),e.cssMode&&(n.onScroll=zZ.bind(n)),n.onClick=LZ.bind(n),n.onLoad=AZ.bind(n),XT(n,"on")}function FZ(){XT(this,"off")}var VZ={attachEvents:RZ,detachEvents:FZ},WT=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function BZ(){let n=this,{realIndex:e,initialized:t,params:i,el:r}=n,o=i.breakpoints;if(!o||o&&Object.keys(o).length===0)return;let a=hi(),c=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",u=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?n.el:a.querySelector(i.breakpointsBase),h=n.getBreakpoint(o,c,u);if(!h||n.currentBreakpoint===h)return;let y=(h in o?o[h]:void 0)||n.originalParams,P=WT(n,i),S=WT(n,y),M=n.params.grabCursor,O=y.grabCursor,R=i.enabled;P&&!S?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),n.emitContainerClasses()):!P&&S&&(r.classList.add(`${i.containerModifierClass}grid`),(y.grid.fill&&y.grid.fill==="column"||!y.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),n.emitContainerClasses()),M&&!O?n.unsetGrabCursor():!M&&O&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(ue=>{if(typeof y[ue]>"u")return;let fe=i[ue]&&i[ue].enabled,oe=y[ue]&&y[ue].enabled;fe&&!oe&&n[ue].disable(),!fe&&oe&&n[ue].enable()});let B=y.direction&&y.direction!==i.direction,F=i.loop&&(y.slidesPerView!==i.slidesPerView||B),N=i.loop;B&&t&&n.changeDirection(),Wo(n.params,y);let Y=n.params.enabled,ne=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),R&&!Y?n.disable():!R&&Y&&n.enable(),n.currentBreakpoint=h,n.emit("_beforeBreakpoint",y),t&&(F?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!N&&ne?(n.loopCreate(e),n.updateSlides()):N&&!ne&&n.loopDestroy()),n.emit("breakpoint",y)}function jZ(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let i=!1,r=$n(),o=e==="window"?r.innerHeight:t.clientHeight,a=Object.keys(n).map(c=>{if(typeof c=="string"&&c.indexOf("@")===0){let u=parseFloat(c.substr(1));return{value:o*u,point:c}}return{value:c,point:c}});a.sort((c,u)=>parseInt(c.value,10)-parseInt(u.value,10));for(let c=0;c<a.length;c+=1){let{point:u,value:h}=a[c];e==="window"?r.matchMedia(`(min-width: ${h}px)`).matches&&(i=u):h<=t.clientWidth&&(i=u)}return i||"max"}var HZ={setBreakpoint:BZ,getBreakpoint:jZ};function UZ(n,e){let t=[];return n.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&t.push(e+r)}):typeof i=="string"&&t.push(e+i)}),t}function $Z(){let n=this,{classNames:e,params:t,rtl:i,el:r,device:o}=n,a=UZ(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...a),r.classList.add(...e),n.emitContainerClasses()}function WZ(){let n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var GZ={addClasses:$Z,removeClasses:WZ};function YZ(){let n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:i}=t;if(i){let r=n.slides.length-1,o=n.slidesGrid[r]+n.slidesSizesGrid[r]+i*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var qZ={checkOverflow:YZ},Rg={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function ZZ(n,e){return function(i){i===void 0&&(i={});let r=Object.keys(i)[0],o=i[r];if(typeof o!="object"||o===null){Wo(e,i);return}if(n[r]===!0&&(n[r]={enabled:!0}),r==="navigation"&&n[r]&&n[r].enabled&&!n[r].prevEl&&!n[r].nextEl&&(n[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&n[r]&&n[r].enabled&&!n[r].el&&(n[r].auto=!0),!(r in n&&"enabled"in o)){Wo(e,i);return}typeof n[r]=="object"&&!("enabled"in n[r])&&(n[r].enabled=!0),n[r]||(n[r]={enabled:!1}),Wo(e,i)}}var hC={eventsEmitter:Gq,update:iZ,translate:cZ,transition:fZ,slide:xZ,loop:SZ,grabCursor:OZ,events:VZ,breakpoints:HZ,checkOverflow:qZ,classes:GZ},gC={},v1=class n{constructor(){let e,t;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?t=r[0]:[e,t]=r,t||(t={}),t=Wo({},t),e&&!t.el&&(t.el=e);let a=hi();if(t.el&&typeof t.el=="string"&&a.querySelectorAll(t.el).length>1){let v=[];return a.querySelectorAll(t.el).forEach(y=>{let P=Wo({},t,{el:y});v.push(new n(P))}),v}let c=this;c.__swiper__=!0,c.support=GT(),c.device=YT({userAgent:t.userAgent}),c.browser=qT(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],t.modules&&Array.isArray(t.modules)&&c.modules.push(...t.modules);let u={};c.modules.forEach(v=>{v({params:t,swiper:c,extendParams:ZZ(t,u),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});let h=Wo({},Rg,u);return c.params=Wo({},h,gC,t),c.originalParams=Wo({},c.params),c.passedParams=Wo({},t),c.params&&c.params.on&&Object.keys(c.params.on).forEach(v=>{c.on(v,c.params.on[v])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){let{slidesEl:t,params:i}=this,r=Ti(t,`.${i.slideClass}, swiper-slide`),o=m1(r[0]);return m1(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){let e=this,{slidesEl:t,params:i}=e;e.slides=Ti(t,`.${i.slideClass}, swiper-slide`)}enable(){let e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){let e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){let i=this;e=Math.min(Math.max(e,0),1);let r=i.minTranslate(),a=(i.maxTranslate()-r)*e+r;i.translateTo(a,typeof t>"u"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let t=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){let t=this;return t.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let t=[];e.slides.forEach(i=>{let r=e.getSlideClasses(i);t.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);let i=this,{params:r,slides:o,slidesGrid:a,slidesSizesGrid:c,size:u,activeIndex:h}=i,v=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let y=o[h]?Math.ceil(o[h].swiperSlideSize):0,P;for(let S=h+1;S<o.length;S+=1)o[S]&&!P&&(y+=Math.ceil(o[S].swiperSlideSize),v+=1,y>u&&(P=!0));for(let S=h-1;S>=0;S-=1)o[S]&&!P&&(y+=o[S].swiperSlideSize,v+=1,y>u&&(P=!0))}else if(e==="current")for(let y=h+1;y<o.length;y+=1)(t?a[y]+c[y]-a[h]<u:a[y]-a[h]<u)&&(v+=1);else for(let y=h-1;y>=0;y-=1)a[h]-a[y]<u&&(v+=1);return v}update(){let e=this;if(!e||e.destroyed)return;let{snapGrid:t,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Ng(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){let a=e.rtlTranslate?e.translate*-1:e.translate,c=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(c),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){let a=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(a.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||r()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);let i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){let t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){let t=this;if(t.mounted)return!0;let i=e||t.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);let r=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`,a=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):Ti(i,r())[0];return!a&&t.params.createElements&&(a=lr("div",t.params.wrapperClass),i.append(a),Ti(i,`.${t.params.slideClass}`).forEach(c=>{a.append(c)})),Object.assign(t,{el:i,wrapperEl:a,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:a,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||oc(i,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||oc(i,"direction")==="rtl"),wrongRTL:oc(a,"display")==="-webkit-box"}),!0}init(e){let t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();let r=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&r.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(o=>{o.complete?Ng(t,o):o.addEventListener("load",a=>{Ng(t,a.target)})}),vC(t),t.initialized=!0,vC(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);let i=this,{params:r,el:o,wrapperEl:a,slides:c}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),t&&(i.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),a&&a.removeAttribute("style"),c&&c.length&&c.forEach(u=>{u.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),u.removeAttribute("style"),u.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(u=>{i.off(u)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),FT(i)),i.destroyed=!0),null}static extendDefaults(e){Wo(gC,e)}static get extendedDefaults(){return gC}static get defaults(){return Rg}static installModule(e){n.prototype.__modules__||(n.prototype.__modules__=[]);let t=n.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>n.installModule(t)),n):(n.installModule(e),n)}};Object.keys(hC).forEach(n=>{Object.keys(hC[n]).forEach(e=>{v1.prototype[e]=hC[n][e]})});v1.use([$q,Wq]);function KT(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;t({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});let o,a=hi();e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};let c=a.createElement("div");function u(M,O){let R=e.params.virtual;if(R.cache&&e.virtual.cache[O])return e.virtual.cache[O];let B;return R.renderSlide?(B=R.renderSlide.call(e,M,O),typeof B=="string"&&(Lr(c,B),B=c.children[0])):e.isElement?B=lr("swiper-slide"):B=lr("div",e.params.slideClass),B.setAttribute("data-swiper-slide-index",O),R.renderSlide||Lr(B,M),R.cache&&(e.virtual.cache[O]=B),B}function h(M,O,R){let{slidesPerView:B,slidesPerGroup:F,centeredSlides:N,loop:Y,initialSlide:ne}=e.params;if(O&&!Y&&ne>0)return;let{addSlidesBefore:ue,addSlidesAfter:fe}=e.params.virtual,{from:oe,to:J,slides:pe,slidesGrid:ge,offset:re}=e.virtual;e.params.cssMode||e.updateActiveIndex();let ee=typeof R>"u"?e.activeIndex||0:R,se;e.rtlTranslate?se="right":se=e.isHorizontal()?"left":"top";let ve,te;N?(ve=Math.floor(B/2)+F+fe,te=Math.floor(B/2)+F+ue):(ve=B+(F-1)+fe,te=(Y?B:F)+ue);let K=ee-te,H=ee+ve;Y||(K=Math.max(K,0),H=Math.min(H,pe.length-1));let Z=(e.slidesGrid[K]||0)-(e.slidesGrid[0]||0);Y&&ee>=te?(K-=te,N||(Z+=e.slidesGrid[0])):Y&&ee<te&&(K=-te,N&&(Z+=e.slidesGrid[0])),Object.assign(e.virtual,{from:K,to:H,offset:Z,slidesGrid:e.slidesGrid,slidesBefore:te,slidesAfter:ve});function ke(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),r("virtualUpdate")}if(oe===K&&J===H&&!M){e.slidesGrid!==ge&&Z!==re&&e.slides.forEach(Ie=>{Ie.style[se]=`${Z-Math.abs(e.cssOverflowAdjustment())}px`}),e.updateProgress(),r("virtualUpdate");return}if(e.params.virtual.renderExternal){e.params.virtual.renderExternal.call(e,{offset:Z,from:K,to:H,slides:function(){let Fe=[];for(let Oe=K;Oe<=H;Oe+=1)Fe.push(pe[Oe]);return Fe}()}),e.params.virtual.renderExternalUpdate?ke():r("virtualUpdate");return}let Be=[],Qe=[],Se=Ie=>{let Fe=Ie;return Ie<0?Fe=pe.length+Ie:Fe>=pe.length&&(Fe=Fe-pe.length),Fe};if(M)e.slides.filter(Ie=>Ie.matches(`.${e.params.slideClass}, swiper-slide`)).forEach(Ie=>{Ie.remove()});else for(let Ie=oe;Ie<=J;Ie+=1)if(Ie<K||Ie>H){let Fe=Se(Ie);e.slides.filter(Oe=>Oe.matches(`.${e.params.slideClass}[data-swiper-slide-index="${Fe}"], swiper-slide[data-swiper-slide-index="${Fe}"]`)).forEach(Oe=>{Oe.remove()})}let gt=Y?-pe.length:0,ze=Y?pe.length*2:pe.length;for(let Ie=gt;Ie<ze;Ie+=1)if(Ie>=K&&Ie<=H){let Fe=Se(Ie);typeof J>"u"||M?Qe.push(Fe):(Ie>J&&Qe.push(Fe),Ie<oe&&Be.push(Fe))}if(Qe.forEach(Ie=>{e.slidesEl.append(u(pe[Ie],Ie))}),Y)for(let Ie=Be.length-1;Ie>=0;Ie-=1){let Fe=Be[Ie];e.slidesEl.prepend(u(pe[Fe],Fe))}else Be.sort((Ie,Fe)=>Fe-Ie),Be.forEach(Ie=>{e.slidesEl.prepend(u(pe[Ie],Ie))});Ti(e.slidesEl,".swiper-slide, swiper-slide").forEach(Ie=>{Ie.style[se]=`${Z-Math.abs(e.cssOverflowAdjustment())}px`}),ke()}function v(M){if(typeof M=="object"&&"length"in M)for(let O=0;O<M.length;O+=1)M[O]&&e.virtual.slides.push(M[O]);else e.virtual.slides.push(M);h(!0)}function y(M){let O=e.activeIndex,R=O+1,B=1;if(Array.isArray(M)){for(let F=0;F<M.length;F+=1)M[F]&&e.virtual.slides.unshift(M[F]);R=O+M.length,B=M.length}else e.virtual.slides.unshift(M);if(e.params.virtual.cache){let F=e.virtual.cache,N={};Object.keys(F).forEach(Y=>{let ne=F[Y],ue=ne.getAttribute("data-swiper-slide-index");ue&&ne.setAttribute("data-swiper-slide-index",parseInt(ue,10)+B),N[parseInt(Y,10)+B]=ne}),e.virtual.cache=N}h(!0),e.slideTo(R,0)}function P(M){if(typeof M>"u"||M===null)return;let O=e.activeIndex;if(Array.isArray(M))for(let R=M.length-1;R>=0;R-=1)e.params.virtual.cache&&(delete e.virtual.cache[M[R]],Object.keys(e.virtual.cache).forEach(B=>{B>M&&(e.virtual.cache[B-1]=e.virtual.cache[B],e.virtual.cache[B-1].setAttribute("data-swiper-slide-index",B-1),delete e.virtual.cache[B])})),e.virtual.slides.splice(M[R],1),M[R]<O&&(O-=1),O=Math.max(O,0);else e.params.virtual.cache&&(delete e.virtual.cache[M],Object.keys(e.virtual.cache).forEach(R=>{R>M&&(e.virtual.cache[R-1]=e.virtual.cache[R],e.virtual.cache[R-1].setAttribute("data-swiper-slide-index",R-1),delete e.virtual.cache[R])})),e.virtual.slides.splice(M,1),M<O&&(O-=1),O=Math.max(O,0);h(!0),e.slideTo(O,0)}function S(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),h(!0),e.slideTo(0,0)}i("beforeInit",()=>{if(!e.params.virtual.enabled)return;let M;if(typeof e.passedParams.virtual.slides>"u"){let O=[...e.slidesEl.children].filter(R=>R.matches(`.${e.params.slideClass}, swiper-slide`));O&&O.length&&(e.virtual.slides=[...O],M=!0,O.forEach((R,B)=>{R.setAttribute("data-swiper-slide-index",B),e.virtual.cache[B]=R,R.remove()}))}M||(e.virtual.slides=e.params.virtual.slides),e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,h(!1,!0)}),i("setTranslate",()=>{e.params.virtual.enabled&&(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(o),o=setTimeout(()=>{h()},100)):h())}),i("init update resize",()=>{e.params.virtual.enabled&&e.params.cssMode&&X2(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:v,prependSlide:y,removeSlide:P,removeAllSlides:S,update:h})}function QT(n){let{swiper:e,extendParams:t,on:i,emit:r}=n,o=hi(),a=$n();e.keyboard={enabled:!1},t({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}});function c(v){if(!e.enabled)return;let{rtlTranslate:y}=e,P=v;P.originalEvent&&(P=P.originalEvent);let S=P.keyCode||P.charCode,M=e.params.keyboard.pageUpDown,O=M&&S===33,R=M&&S===34,B=S===37,F=S===39,N=S===38,Y=S===40;if(!e.allowSlideNext&&(e.isHorizontal()&&F||e.isVertical()&&Y||R)||!e.allowSlidePrev&&(e.isHorizontal()&&B||e.isVertical()&&N||O))return!1;if(!(P.shiftKey||P.altKey||P.ctrlKey||P.metaKey)&&!(o.activeElement&&(o.activeElement.isContentEditable||o.activeElement.nodeName&&(o.activeElement.nodeName.toLowerCase()==="input"||o.activeElement.nodeName.toLowerCase()==="textarea")))){if(e.params.keyboard.onlyInViewport&&(O||R||B||F||N||Y)){let ne=!1;if(bs(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&bs(e.el,`.${e.params.slideActiveClass}`).length===0)return;let ue=e.el,fe=ue.clientWidth,oe=ue.clientHeight,J=a.innerWidth,pe=a.innerHeight,ge=K2(ue);y&&(ge.left-=ue.scrollLeft);let re=[[ge.left,ge.top],[ge.left+fe,ge.top],[ge.left,ge.top+oe],[ge.left+fe,ge.top+oe]];for(let ee=0;ee<re.length;ee+=1){let se=re[ee];if(se[0]>=0&&se[0]<=J&&se[1]>=0&&se[1]<=pe){if(se[0]===0&&se[1]===0)continue;ne=!0}}if(!ne)return}e.isHorizontal()?((O||R||B||F)&&(P.preventDefault?P.preventDefault():P.returnValue=!1),((R||F)&&!y||(O||B)&&y)&&e.slideNext(),((O||B)&&!y||(R||F)&&y)&&e.slidePrev()):((O||R||N||Y)&&(P.preventDefault?P.preventDefault():P.returnValue=!1),(R||Y)&&e.slideNext(),(O||N)&&e.slidePrev()),r("keyPress",S)}}function u(){e.keyboard.enabled||(o.addEventListener("keydown",c),e.keyboard.enabled=!0)}function h(){e.keyboard.enabled&&(o.removeEventListener("keydown",c),e.keyboard.enabled=!1)}i("init",()=>{e.params.keyboard.enabled&&u()}),i("destroy",()=>{e.keyboard.enabled&&h()}),Object.assign(e.keyboard,{enable:u,disable:h})}function JT(n){let{swiper:e,extendParams:t,on:i,emit:r}=n,o=$n();t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let a,c=Co(),u,h=[];function v(N){let fe=0,oe=0,J=0,pe=0;return"detail"in N&&(oe=N.detail),"wheelDelta"in N&&(oe=-N.wheelDelta/120),"wheelDeltaY"in N&&(oe=-N.wheelDeltaY/120),"wheelDeltaX"in N&&(fe=-N.wheelDeltaX/120),"axis"in N&&N.axis===N.HORIZONTAL_AXIS&&(fe=oe,oe=0),J=fe*10,pe=oe*10,"deltaY"in N&&(pe=N.deltaY),"deltaX"in N&&(J=N.deltaX),N.shiftKey&&!J&&(J=pe,pe=0),(J||pe)&&N.deltaMode&&(N.deltaMode===1?(J*=40,pe*=40):(J*=800,pe*=800)),J&&!fe&&(fe=J<1?-1:1),pe&&!oe&&(oe=pe<1?-1:1),{spinX:fe,spinY:oe,pixelX:J,pixelY:pe}}function y(){e.enabled&&(e.mouseEntered=!0)}function P(){e.enabled&&(e.mouseEntered=!1)}function S(N){return e.params.mousewheel.thresholdDelta&&N.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&Co()-c<e.params.mousewheel.thresholdTime?!1:N.delta>=6&&Co()-c<60?!0:(N.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),r("scroll",N.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),r("scroll",N.raw)),c=new o.Date().getTime(),!1)}function M(N){let Y=e.params.mousewheel;if(N.direction<0){if(e.isEnd&&!e.params.loop&&Y.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&Y.releaseOnEdges)return!0;return!1}function O(N){let Y=N,ne=!0;if(!e.enabled||N.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;let ue=e.params.mousewheel;e.params.cssMode&&Y.preventDefault();let fe=e.el;e.params.mousewheel.eventsTarget!=="container"&&(fe=document.querySelector(e.params.mousewheel.eventsTarget));let oe=fe&&fe.contains(Y.target);if(!e.mouseEntered&&!oe&&!ue.releaseOnEdges)return!0;Y.originalEvent&&(Y=Y.originalEvent);let J=0,pe=e.rtlTranslate?-1:1,ge=v(Y);if(ue.forceToAxis)if(e.isHorizontal())if(Math.abs(ge.pixelX)>Math.abs(ge.pixelY))J=-ge.pixelX*pe;else return!0;else if(Math.abs(ge.pixelY)>Math.abs(ge.pixelX))J=-ge.pixelY;else return!0;else J=Math.abs(ge.pixelX)>Math.abs(ge.pixelY)?-ge.pixelX*pe:-ge.pixelY;if(J===0)return!0;ue.invert&&(J=-J);let re=e.getTranslate()+J*ue.sensitivity;if(re>=e.minTranslate()&&(re=e.minTranslate()),re<=e.maxTranslate()&&(re=e.maxTranslate()),ne=e.params.loop?!0:!(re===e.minTranslate()||re===e.maxTranslate()),ne&&e.params.nested&&Y.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){let ee={time:Co(),delta:Math.abs(J),direction:Math.sign(J),raw:N};h.length>=2&&h.shift();let se=h.length?h[h.length-1]:void 0;if(h.push(ee),se?(ee.direction!==se.direction||ee.delta>se.delta||ee.time>se.time+150)&&S(ee):S(ee),M(ee))return!0}else{let ee={time:Co(),delta:Math.abs(J),direction:Math.sign(J)},se=u&&ee.time<u.time+500&&ee.delta<=u.delta&&ee.direction===u.direction;if(!se){u=void 0;let ve=e.getTranslate()+J*ue.sensitivity,te=e.isBeginning,K=e.isEnd;if(ve>=e.minTranslate()&&(ve=e.minTranslate()),ve<=e.maxTranslate()&&(ve=e.maxTranslate()),e.setTransition(0),e.setTranslate(ve),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!te&&e.isBeginning||!K&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:ee.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(a),a=void 0,h.length>=15&&h.shift();let H=h.length?h[h.length-1]:void 0,Z=h[0];if(h.push(ee),H&&(ee.delta>H.delta||ee.direction!==H.direction))h.splice(0);else if(h.length>=15&&ee.time-Z.time<500&&Z.delta-ee.delta>=1&&ee.delta<=6){let ke=J>0?.8:.2;u=ee,h.splice(0),a=il(()=>{e.destroyed||!e.params||e.slideToClosest(e.params.speed,!0,void 0,ke)},0)}a||(a=il(()=>{if(e.destroyed||!e.params)return;let ke=.5;u=ee,h.splice(0),e.slideToClosest(e.params.speed,!0,void 0,ke)},500))}if(se||r("scroll",Y),e.params.autoplay&&e.params.autoplay.disableOnInteraction&&e.autoplay.stop(),ue.releaseOnEdges&&(ve===e.minTranslate()||ve===e.maxTranslate()))return!0}}return Y.preventDefault?Y.preventDefault():Y.returnValue=!1,!1}function R(N){let Y=e.el;e.params.mousewheel.eventsTarget!=="container"&&(Y=document.querySelector(e.params.mousewheel.eventsTarget)),Y[N]("mouseenter",y),Y[N]("mouseleave",P),Y[N]("wheel",O)}function B(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",O),!0):e.mousewheel.enabled?!1:(R("addEventListener"),e.mousewheel.enabled=!0,!0)}function F(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,O),!0):e.mousewheel.enabled?(R("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}i("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&F(),e.params.mousewheel.enabled&&B()}),i("destroy",()=>{e.params.cssMode&&B(),e.mousewheel.enabled&&F()}),Object.assign(e.mousewheel,{enable:B,disable:F})}function l4(n,e,t,i){return n.params.createElements&&Object.keys(i).forEach(r=>{if(!t[r]&&t.auto===!0){let o=Ti(n.el,`.${i[r]}`)[0];o||(o=lr("div",i[r]),o.className=i[r],n.el.append(o)),t[r]=o,e[r]=o}}),t}function eL(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function o(M){let O;return M&&typeof M=="string"&&e.isElement&&(O=e.el.querySelector(M)||e.hostEl.querySelector(M),O)?O:(M&&(typeof M=="string"&&(O=[...document.querySelectorAll(M)]),e.params.uniqueNavElements&&typeof M=="string"&&O&&O.length>1&&e.el.querySelectorAll(M).length===1?O=e.el.querySelector(M):O&&O.length===1&&(O=O[0])),M&&!O?M:O)}function a(M,O){let R=e.params.navigation;M=dn(M),M.forEach(B=>{B&&(B.classList[O?"add":"remove"](...R.disabledClass.split(" ")),B.tagName==="BUTTON"&&(B.disabled=O),e.params.watchOverflow&&e.enabled&&B.classList[e.isLocked?"add":"remove"](R.lockClass))})}function c(){let{nextEl:M,prevEl:O}=e.navigation;if(e.params.loop){a(O,!1),a(M,!1);return}a(O,e.isBeginning&&!e.params.rewind),a(M,e.isEnd&&!e.params.rewind)}function u(M){M.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function h(M){M.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function v(){let M=e.params.navigation;if(e.params.navigation=l4(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(M.nextEl||M.prevEl))return;let O=o(M.nextEl),R=o(M.prevEl);Object.assign(e.navigation,{nextEl:O,prevEl:R}),O=dn(O),R=dn(R);let B=(F,N)=>{F&&F.addEventListener("click",N==="next"?h:u),!e.enabled&&F&&F.classList.add(...M.lockClass.split(" "))};O.forEach(F=>B(F,"next")),R.forEach(F=>B(F,"prev"))}function y(){let{nextEl:M,prevEl:O}=e.navigation;M=dn(M),O=dn(O);let R=(B,F)=>{B.removeEventListener("click",F==="next"?h:u),B.classList.remove(...e.params.navigation.disabledClass.split(" "))};M.forEach(B=>R(B,"next")),O.forEach(B=>R(B,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?S():(v(),c())}),i("toEdge fromEdge lock unlock",()=>{c()}),i("destroy",()=>{y()}),i("enable disable",()=>{let{nextEl:M,prevEl:O}=e.navigation;if(M=dn(M),O=dn(O),e.enabled){c();return}[...M,...O].filter(R=>!!R).forEach(R=>R.classList.add(e.params.navigation.lockClass))}),i("click",(M,O)=>{let{nextEl:R,prevEl:B}=e.navigation;R=dn(R),B=dn(B);let F=O.target,N=B.includes(F)||R.includes(F);if(e.isElement&&!N){let Y=O.path||O.composedPath&&O.composedPath();Y&&(N=Y.find(ne=>R.includes(ne)||B.includes(ne)))}if(e.params.navigation.hideOnClick&&!N){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===F||e.pagination.el.contains(F)))return;let Y;R.length?Y=R[0].classList.contains(e.params.navigation.hiddenClass):B.length&&(Y=B[0].classList.contains(e.params.navigation.hiddenClass)),r(Y===!0?"navigationShow":"navigationHide"),[...R,...B].filter(ne=>!!ne).forEach(ne=>ne.classList.toggle(e.params.navigation.hiddenClass))}});let P=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),v(),c()},S=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),y()};Object.assign(e.navigation,{enable:P,disable:S,update:c,init:v,destroy:y})}function Ba(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function tL(n){let{swiper:e,extendParams:t,on:i,emit:r}=n,o="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:F=>F,formatFractionTotal:F=>F,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let a,c=0;function u(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function h(F,N){let{bulletActiveClass:Y}=e.params.pagination;F&&(F=F[`${N==="prev"?"previous":"next"}ElementSibling`],F&&(F.classList.add(`${Y}-${N}`),F=F[`${N==="prev"?"previous":"next"}ElementSibling`],F&&F.classList.add(`${Y}-${N}-${N}`)))}function v(F,N,Y){if(F=F%Y,N=N%Y,N===F+1)return"next";if(N===F-1)return"previous"}function y(F){let N=F.target.closest(Ba(e.params.pagination.bulletClass));if(!N)return;F.preventDefault();let Y=m1(N)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===Y)return;let ne=v(e.realIndex,Y,e.slides.length);ne==="next"?e.slideNext():ne==="previous"?e.slidePrev():e.slideToLoop(Y)}else e.slideTo(Y)}function P(){let F=e.rtl,N=e.params.pagination;if(u())return;let Y=e.pagination.el;Y=dn(Y);let ne,ue,fe=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,oe=e.params.loop?Math.ceil(fe/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(ue=e.previousRealIndex||0,ne=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(ne=e.snapIndex,ue=e.previousSnapIndex):(ue=e.previousIndex||0,ne=e.activeIndex||0),N.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){let J=e.pagination.bullets,pe,ge,re;if(N.dynamicBullets&&(a=gp(J[0],e.isHorizontal()?"width":"height",!0),Y.forEach(ee=>{ee.style[e.isHorizontal()?"width":"height"]=`${a*(N.dynamicMainBullets+4)}px`}),N.dynamicMainBullets>1&&ue!==void 0&&(c+=ne-(ue||0),c>N.dynamicMainBullets-1?c=N.dynamicMainBullets-1:c<0&&(c=0)),pe=Math.max(ne-c,0),ge=pe+(Math.min(J.length,N.dynamicMainBullets)-1),re=(ge+pe)/2),J.forEach(ee=>{let se=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(ve=>`${N.bulletActiveClass}${ve}`)].map(ve=>typeof ve=="string"&&ve.includes(" ")?ve.split(" "):ve).flat();ee.classList.remove(...se)}),Y.length>1)J.forEach(ee=>{let se=m1(ee);se===ne?ee.classList.add(...N.bulletActiveClass.split(" ")):e.isElement&&ee.setAttribute("part","bullet"),N.dynamicBullets&&(se>=pe&&se<=ge&&ee.classList.add(...`${N.bulletActiveClass}-main`.split(" ")),se===pe&&h(ee,"prev"),se===ge&&h(ee,"next"))});else{let ee=J[ne];if(ee&&ee.classList.add(...N.bulletActiveClass.split(" ")),e.isElement&&J.forEach((se,ve)=>{se.setAttribute("part",ve===ne?"bullet-active":"bullet")}),N.dynamicBullets){let se=J[pe],ve=J[ge];for(let te=pe;te<=ge;te+=1)J[te]&&J[te].classList.add(...`${N.bulletActiveClass}-main`.split(" "));h(se,"prev"),h(ve,"next")}}if(N.dynamicBullets){let ee=Math.min(J.length,N.dynamicMainBullets+4),se=(a*ee-a)/2-re*a,ve=F?"right":"left";J.forEach(te=>{te.style[e.isHorizontal()?ve:"top"]=`${se}px`})}}Y.forEach((J,pe)=>{if(N.type==="fraction"&&(J.querySelectorAll(Ba(N.currentClass)).forEach(ge=>{ge.textContent=N.formatFractionCurrent(ne+1)}),J.querySelectorAll(Ba(N.totalClass)).forEach(ge=>{ge.textContent=N.formatFractionTotal(oe)})),N.type==="progressbar"){let ge;N.progressbarOpposite?ge=e.isHorizontal()?"vertical":"horizontal":ge=e.isHorizontal()?"horizontal":"vertical";let re=(ne+1)/oe,ee=1,se=1;ge==="horizontal"?ee=re:se=re,J.querySelectorAll(Ba(N.progressbarFillClass)).forEach(ve=>{ve.style.transform=`translate3d(0,0,0) scaleX(${ee}) scaleY(${se})`,ve.style.transitionDuration=`${e.params.speed}ms`})}N.type==="custom"&&N.renderCustom?(Lr(J,N.renderCustom(e,ne+1,oe)),pe===0&&r("paginationRender",J)):(pe===0&&r("paginationRender",J),r("paginationUpdate",J)),e.params.watchOverflow&&e.enabled&&J.classList[e.isLocked?"add":"remove"](N.lockClass)})}function S(){let F=e.params.pagination;if(u())return;let N=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length,Y=e.pagination.el;Y=dn(Y);let ne="";if(F.type==="bullets"){let ue=e.params.loop?Math.ceil(N/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&ue>N&&(ue=N);for(let fe=0;fe<ue;fe+=1)F.renderBullet?ne+=F.renderBullet.call(e,fe,F.bulletClass):ne+=`<${F.bulletElement} ${e.isElement?'part="bullet"':""} class="${F.bulletClass}"></${F.bulletElement}>`}F.type==="fraction"&&(F.renderFraction?ne=F.renderFraction.call(e,F.currentClass,F.totalClass):ne=`<span class="${F.currentClass}"></span> / <span class="${F.totalClass}"></span>`),F.type==="progressbar"&&(F.renderProgressbar?ne=F.renderProgressbar.call(e,F.progressbarFillClass):ne=`<span class="${F.progressbarFillClass}"></span>`),e.pagination.bullets=[],Y.forEach(ue=>{F.type!=="custom"&&Lr(ue,ne||""),F.type==="bullets"&&e.pagination.bullets.push(...ue.querySelectorAll(Ba(F.bulletClass)))}),F.type!=="custom"&&r("paginationRender",Y[0])}function M(){e.params.pagination=l4(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});let F=e.params.pagination;if(!F.el)return;let N;typeof F.el=="string"&&e.isElement&&(N=e.el.querySelector(F.el)),!N&&typeof F.el=="string"&&(N=[...document.querySelectorAll(F.el)]),N||(N=F.el),!(!N||N.length===0)&&(e.params.uniqueNavElements&&typeof F.el=="string"&&Array.isArray(N)&&N.length>1&&(N=[...e.el.querySelectorAll(F.el)],N.length>1&&(N=N.find(Y=>bs(Y,".swiper")[0]===e.el))),Array.isArray(N)&&N.length===1&&(N=N[0]),Object.assign(e.pagination,{el:N}),N=dn(N),N.forEach(Y=>{F.type==="bullets"&&F.clickable&&Y.classList.add(...(F.clickableClass||"").split(" ")),Y.classList.add(F.modifierClass+F.type),Y.classList.add(e.isHorizontal()?F.horizontalClass:F.verticalClass),F.type==="bullets"&&F.dynamicBullets&&(Y.classList.add(`${F.modifierClass}${F.type}-dynamic`),c=0,F.dynamicMainBullets<1&&(F.dynamicMainBullets=1)),F.type==="progressbar"&&F.progressbarOpposite&&Y.classList.add(F.progressbarOppositeClass),F.clickable&&Y.addEventListener("click",y),e.enabled||Y.classList.add(F.lockClass)}))}function O(){let F=e.params.pagination;if(u())return;let N=e.pagination.el;N&&(N=dn(N),N.forEach(Y=>{Y.classList.remove(F.hiddenClass),Y.classList.remove(F.modifierClass+F.type),Y.classList.remove(e.isHorizontal()?F.horizontalClass:F.verticalClass),F.clickable&&(Y.classList.remove(...(F.clickableClass||"").split(" ")),Y.removeEventListener("click",y))})),e.pagination.bullets&&e.pagination.bullets.forEach(Y=>Y.classList.remove(...F.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;let F=e.params.pagination,{el:N}=e.pagination;N=dn(N),N.forEach(Y=>{Y.classList.remove(F.horizontalClass,F.verticalClass),Y.classList.add(e.isHorizontal()?F.horizontalClass:F.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?B():(M(),S(),P())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&P()}),i("snapIndexChange",()=>{P()}),i("snapGridLengthChange",()=>{S(),P()}),i("destroy",()=>{O()}),i("enable disable",()=>{let{el:F}=e.pagination;F&&(F=dn(F),F.forEach(N=>N.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{P()}),i("click",(F,N)=>{let Y=N.target,ne=dn(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&ne&&ne.length>0&&!Y.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&Y===e.navigation.nextEl||e.navigation.prevEl&&Y===e.navigation.prevEl))return;let ue=ne[0].classList.contains(e.params.pagination.hiddenClass);r(ue===!0?"paginationShow":"paginationHide"),ne.forEach(fe=>fe.classList.toggle(e.params.pagination.hiddenClass))}});let R=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:F}=e.pagination;F&&(F=dn(F),F.forEach(N=>N.classList.remove(e.params.pagination.paginationDisabledClass))),M(),S(),P()},B=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:F}=e.pagination;F&&(F=dn(F),F.forEach(N=>N.classList.add(e.params.pagination.paginationDisabledClass))),O()};Object.assign(e.pagination,{enable:R,disable:B,render:S,update:P,init:M,destroy:O})}function nL(n){let{swiper:e,extendParams:t,on:i,emit:r}=n,o=hi(),a=!1,c=null,u=null,h,v,y,P;t({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function S(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;let{scrollbar:re,rtlTranslate:ee}=e,{dragEl:se,el:ve}=re,te=e.params.scrollbar,K=e.params.loop?e.progressLoop:e.progress,H=v,Z=(y-v)*K;ee?(Z=-Z,Z>0?(H=v-Z,Z=0):-Z+v>y&&(H=y+Z)):Z<0?(H=v+Z,Z=0):Z+v>y&&(H=y-Z),e.isHorizontal()?(se.style.transform=`translate3d(${Z}px, 0, 0)`,se.style.width=`${H}px`):(se.style.transform=`translate3d(0px, ${Z}px, 0)`,se.style.height=`${H}px`),te.hide&&(clearTimeout(c),ve.style.opacity=1,c=setTimeout(()=>{ve.style.opacity=0,ve.style.transitionDuration="400ms"},1e3))}function M(re){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${re}ms`)}function O(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;let{scrollbar:re}=e,{dragEl:ee,el:se}=re;ee.style.width="",ee.style.height="",y=e.isHorizontal()?se.offsetWidth:se.offsetHeight,P=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?v=y*P:v=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?ee.style.width=`${v}px`:ee.style.height=`${v}px`,P>=1?se.style.display="none":se.style.display="",e.params.scrollbar.hide&&(se.style.opacity=0),e.params.watchOverflow&&e.enabled&&re.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function R(re){return e.isHorizontal()?re.clientX:re.clientY}function B(re){let{scrollbar:ee,rtlTranslate:se}=e,{el:ve}=ee,te;te=(R(re)-K2(ve)[e.isHorizontal()?"left":"top"]-(h!==null?h:v/2))/(y-v),te=Math.max(Math.min(te,1),0),se&&(te=1-te);let K=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*te;e.updateProgress(K),e.setTranslate(K),e.updateActiveIndex(),e.updateSlidesClasses()}function F(re){let ee=e.params.scrollbar,{scrollbar:se,wrapperEl:ve}=e,{el:te,dragEl:K}=se;a=!0,h=re.target===K?R(re)-re.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,re.preventDefault(),re.stopPropagation(),ve.style.transitionDuration="100ms",K.style.transitionDuration="100ms",B(re),clearTimeout(u),te.style.transitionDuration="0ms",ee.hide&&(te.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),r("scrollbarDragStart",re)}function N(re){let{scrollbar:ee,wrapperEl:se}=e,{el:ve,dragEl:te}=ee;a&&(re.preventDefault&&re.cancelable?re.preventDefault():re.returnValue=!1,B(re),se.style.transitionDuration="0ms",ve.style.transitionDuration="0ms",te.style.transitionDuration="0ms",r("scrollbarDragMove",re))}function Y(re){let ee=e.params.scrollbar,{scrollbar:se,wrapperEl:ve}=e,{el:te}=se;a&&(a=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",ve.style.transitionDuration=""),ee.hide&&(clearTimeout(u),u=il(()=>{te.style.opacity=0,te.style.transitionDuration="400ms"},1e3)),r("scrollbarDragEnd",re),ee.snapOnRelease&&e.slideToClosest())}function ne(re){let{scrollbar:ee,params:se}=e,ve=ee.el;if(!ve)return;let te=ve,K=se.passiveListeners?{passive:!1,capture:!1}:!1,H=se.passiveListeners?{passive:!0,capture:!1}:!1;if(!te)return;let Z=re==="on"?"addEventListener":"removeEventListener";te[Z]("pointerdown",F,K),o[Z]("pointermove",N,K),o[Z]("pointerup",Y,H)}function ue(){!e.params.scrollbar.el||!e.scrollbar.el||ne("on")}function fe(){!e.params.scrollbar.el||!e.scrollbar.el||ne("off")}function oe(){let{scrollbar:re,el:ee}=e;e.params.scrollbar=l4(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});let se=e.params.scrollbar;if(!se.el)return;let ve;if(typeof se.el=="string"&&e.isElement&&(ve=e.el.querySelector(se.el)),!ve&&typeof se.el=="string"){if(ve=o.querySelectorAll(se.el),!ve.length)return}else ve||(ve=se.el);e.params.uniqueNavElements&&typeof se.el=="string"&&ve.length>1&&ee.querySelectorAll(se.el).length===1&&(ve=ee.querySelector(se.el)),ve.length>0&&(ve=ve[0]),ve.classList.add(e.isHorizontal()?se.horizontalClass:se.verticalClass);let te;ve&&(te=ve.querySelector(Ba(e.params.scrollbar.dragClass)),te||(te=lr("div",e.params.scrollbar.dragClass),ve.append(te))),Object.assign(re,{el:ve,dragEl:te}),se.draggable&&ue(),ve&&ve.classList[e.enabled?"remove":"add"](...rc(e.params.scrollbar.lockClass))}function J(){let re=e.params.scrollbar,ee=e.scrollbar.el;ee&&ee.classList.remove(...rc(e.isHorizontal()?re.horizontalClass:re.verticalClass)),fe()}i("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;let re=e.params.scrollbar,{el:ee}=e.scrollbar;ee=dn(ee),ee.forEach(se=>{se.classList.remove(re.horizontalClass,re.verticalClass),se.classList.add(e.isHorizontal()?re.horizontalClass:re.verticalClass)})}),i("init",()=>{e.params.scrollbar.enabled===!1?ge():(oe(),O(),S())}),i("update resize observerUpdate lock unlock changeDirection",()=>{O()}),i("setTranslate",()=>{S()}),i("setTransition",(re,ee)=>{M(ee)}),i("enable disable",()=>{let{el:re}=e.scrollbar;re&&re.classList[e.enabled?"remove":"add"](...rc(e.params.scrollbar.lockClass))}),i("destroy",()=>{J()});let pe=()=>{e.el.classList.remove(...rc(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...rc(e.params.scrollbar.scrollbarDisabledClass)),oe(),O(),S()},ge=()=>{e.el.classList.add(...rc(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...rc(e.params.scrollbar.scrollbarDisabledClass)),J()};Object.assign(e.scrollbar,{enable:pe,disable:ge,updateSize:O,setTranslate:S,init:oe,destroy:J})}function iL(n){let{swiper:e,extendParams:t,on:i}=n;t({parallax:{enabled:!1}});let r="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",o=(u,h)=>{let{rtl:v}=e,y=v?-1:1,P=u.getAttribute("data-swiper-parallax")||"0",S=u.getAttribute("data-swiper-parallax-x"),M=u.getAttribute("data-swiper-parallax-y"),O=u.getAttribute("data-swiper-parallax-scale"),R=u.getAttribute("data-swiper-parallax-opacity"),B=u.getAttribute("data-swiper-parallax-rotate");if(S||M?(S=S||"0",M=M||"0"):e.isHorizontal()?(S=P,M="0"):(M=P,S="0"),S.indexOf("%")>=0?S=`${parseInt(S,10)*h*y}%`:S=`${S*h*y}px`,M.indexOf("%")>=0?M=`${parseInt(M,10)*h}%`:M=`${M*h}px`,typeof R<"u"&&R!==null){let N=R-(R-1)*(1-Math.abs(h));u.style.opacity=N}let F=`translate3d(${S}, ${M}, 0px)`;if(typeof O<"u"&&O!==null){let N=O-(O-1)*(1-Math.abs(h));F+=` scale(${N})`}if(B&&typeof B<"u"&&B!==null){let N=B*h*-1;F+=` rotate(${N}deg)`}u.style.transform=F},a=()=>{let{el:u,slides:h,progress:v,snapGrid:y,isElement:P}=e,S=Ti(u,r);e.isElement&&S.push(...Ti(e.hostEl,r)),S.forEach(M=>{o(M,v)}),h.forEach((M,O)=>{let R=M.progress;e.params.slidesPerGroup>1&&e.params.slidesPerView!=="auto"&&(R+=Math.ceil(O/2)-v*(y.length-1)),R=Math.min(Math.max(R,-1),1),M.querySelectorAll(`${r}, [data-swiper-parallax-rotate]`).forEach(B=>{o(B,R)})})},c=function(u){u===void 0&&(u=e.params.speed);let{el:h,hostEl:v}=e,y=[...h.querySelectorAll(r)];e.isElement&&y.push(...v.querySelectorAll(r)),y.forEach(P=>{let S=parseInt(P.getAttribute("data-swiper-parallax-duration"),10)||u;u===0&&(S=0),P.style.transitionDuration=`${S}ms`})};i("beforeInit",()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)}),i("init",()=>{e.params.parallax.enabled&&a()}),i("setTranslate",()=>{e.params.parallax.enabled&&a()}),i("setTransition",(u,h)=>{e.params.parallax.enabled&&c(h)})}function rL(n){let{swiper:e,extendParams:t,on:i,emit:r}=n,o=$n();t({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,panOnMouseMove:!1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let a=1,c=!1,u=!1,h={x:0,y:0},v=-3,y,P,S=[],M={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},O={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},R={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},B=1;Object.defineProperty(e.zoom,"scale",{get(){return B},set(ze){if(B!==ze){let Ie=M.imageEl,Fe=M.slideEl;r("zoomChange",ze,Ie,Fe)}B=ze}});function F(){if(S.length<2)return 1;let ze=S[0].pageX,Ie=S[0].pageY,Fe=S[1].pageX,Oe=S[1].pageY;return Math.sqrt((Fe-ze)**2+(Oe-Ie)**2)}function N(){let ze=e.params.zoom,Ie=M.imageWrapEl.getAttribute("data-swiper-zoom")||ze.maxRatio;if(ze.limitToOriginalSize&&M.imageEl&&M.imageEl.naturalWidth){let Fe=M.imageEl.naturalWidth/M.imageEl.offsetWidth;return Math.min(Fe,Ie)}return Ie}function Y(){if(S.length<2)return{x:null,y:null};let ze=M.imageEl.getBoundingClientRect();return[(S[0].pageX+(S[1].pageX-S[0].pageX)/2-ze.x-o.scrollX)/a,(S[0].pageY+(S[1].pageY-S[0].pageY)/2-ze.y-o.scrollY)/a]}function ne(){return e.isElement?"swiper-slide":`.${e.params.slideClass}`}function ue(ze){let Ie=ne();return!!(ze.target.matches(Ie)||e.slides.filter(Fe=>Fe.contains(ze.target)).length>0)}function fe(ze){let Ie=`.${e.params.zoom.containerClass}`;return!!(ze.target.matches(Ie)||[...e.hostEl.querySelectorAll(Ie)].filter(Fe=>Fe.contains(ze.target)).length>0)}function oe(ze){if(ze.pointerType==="mouse"&&S.splice(0,S.length),!ue(ze))return;let Ie=e.params.zoom;if(y=!1,P=!1,S.push(ze),!(S.length<2)){if(y=!0,M.scaleStart=F(),!M.slideEl){M.slideEl=ze.target.closest(`.${e.params.slideClass}, swiper-slide`),M.slideEl||(M.slideEl=e.slides[e.activeIndex]);let Fe=M.slideEl.querySelector(`.${Ie.containerClass}`);if(Fe&&(Fe=Fe.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),M.imageEl=Fe,Fe?M.imageWrapEl=bs(M.imageEl,`.${Ie.containerClass}`)[0]:M.imageWrapEl=void 0,!M.imageWrapEl){M.imageEl=void 0;return}M.maxRatio=N()}if(M.imageEl){let[Fe,Oe]=Y();M.originX=Fe,M.originY=Oe,M.imageEl.style.transitionDuration="0ms"}c=!0}}function J(ze){if(!ue(ze))return;let Ie=e.params.zoom,Fe=e.zoom,Oe=S.findIndex(Ae=>Ae.pointerId===ze.pointerId);Oe>=0&&(S[Oe]=ze),!(S.length<2)&&(P=!0,M.scaleMove=F(),M.imageEl&&(Fe.scale=M.scaleMove/M.scaleStart*a,Fe.scale>M.maxRatio&&(Fe.scale=M.maxRatio-1+(Fe.scale-M.maxRatio+1)**.5),Fe.scale<Ie.minRatio&&(Fe.scale=Ie.minRatio+1-(Ie.minRatio-Fe.scale+1)**.5),M.imageEl.style.transform=`translate3d(0,0,0) scale(${Fe.scale})`))}function pe(ze){if(!ue(ze)||ze.pointerType==="mouse"&&ze.type==="pointerout")return;let Ie=e.params.zoom,Fe=e.zoom,Oe=S.findIndex(Ae=>Ae.pointerId===ze.pointerId);Oe>=0&&S.splice(Oe,1),!(!y||!P)&&(y=!1,P=!1,M.imageEl&&(Fe.scale=Math.max(Math.min(Fe.scale,M.maxRatio),Ie.minRatio),M.imageEl.style.transitionDuration=`${e.params.speed}ms`,M.imageEl.style.transform=`translate3d(0,0,0) scale(${Fe.scale})`,a=Fe.scale,c=!1,Fe.scale>1&&M.slideEl?M.slideEl.classList.add(`${Ie.zoomedSlideClass}`):Fe.scale<=1&&M.slideEl&&M.slideEl.classList.remove(`${Ie.zoomedSlideClass}`),Fe.scale===1&&(M.originX=0,M.originY=0,M.slideEl=void 0)))}let ge;function re(){e.touchEventsData.preventTouchMoveFromPointerMove=!1}function ee(){clearTimeout(ge),e.touchEventsData.preventTouchMoveFromPointerMove=!0,ge=setTimeout(()=>{e.destroyed||re()})}function se(ze){let Ie=e.device;if(!M.imageEl||O.isTouched)return;Ie.android&&ze.cancelable&&ze.preventDefault(),O.isTouched=!0;let Fe=S.length>0?S[0]:ze;O.touchesStart.x=Fe.pageX,O.touchesStart.y=Fe.pageY}function ve(ze){let Fe=ze.pointerType==="mouse"&&e.params.zoom.panOnMouseMove;if(!ue(ze)||!fe(ze))return;let Oe=e.zoom;if(!M.imageEl)return;if(!O.isTouched||!M.slideEl){Fe&&H(ze);return}if(Fe){H(ze);return}O.isMoved||(O.width=M.imageEl.offsetWidth||M.imageEl.clientWidth,O.height=M.imageEl.offsetHeight||M.imageEl.clientHeight,O.startX=mp(M.imageWrapEl,"x")||0,O.startY=mp(M.imageWrapEl,"y")||0,M.slideWidth=M.slideEl.offsetWidth,M.slideHeight=M.slideEl.offsetHeight,M.imageWrapEl.style.transitionDuration="0ms");let Ae=O.width*Oe.scale,xe=O.height*Oe.scale;if(O.minX=Math.min(M.slideWidth/2-Ae/2,0),O.maxX=-O.minX,O.minY=Math.min(M.slideHeight/2-xe/2,0),O.maxY=-O.minY,O.touchesCurrent.x=S.length>0?S[0].pageX:ze.pageX,O.touchesCurrent.y=S.length>0?S[0].pageY:ze.pageY,Math.max(Math.abs(O.touchesCurrent.x-O.touchesStart.x),Math.abs(O.touchesCurrent.y-O.touchesStart.y))>5&&(e.allowClick=!1),!O.isMoved&&!c){if(e.isHorizontal()&&(Math.floor(O.minX)===Math.floor(O.startX)&&O.touchesCurrent.x<O.touchesStart.x||Math.floor(O.maxX)===Math.floor(O.startX)&&O.touchesCurrent.x>O.touchesStart.x)){O.isTouched=!1,re();return}if(!e.isHorizontal()&&(Math.floor(O.minY)===Math.floor(O.startY)&&O.touchesCurrent.y<O.touchesStart.y||Math.floor(O.maxY)===Math.floor(O.startY)&&O.touchesCurrent.y>O.touchesStart.y)){O.isTouched=!1,re();return}}ze.cancelable&&ze.preventDefault(),ze.stopPropagation(),ee(),O.isMoved=!0;let st=(Oe.scale-a)/(M.maxRatio-e.params.zoom.minRatio),{originX:pt,originY:tt}=M;O.currentX=O.touchesCurrent.x-O.touchesStart.x+O.startX+st*(O.width-pt*2),O.currentY=O.touchesCurrent.y-O.touchesStart.y+O.startY+st*(O.height-tt*2),O.currentX<O.minX&&(O.currentX=O.minX+1-(O.minX-O.currentX+1)**.8),O.currentX>O.maxX&&(O.currentX=O.maxX-1+(O.currentX-O.maxX+1)**.8),O.currentY<O.minY&&(O.currentY=O.minY+1-(O.minY-O.currentY+1)**.8),O.currentY>O.maxY&&(O.currentY=O.maxY-1+(O.currentY-O.maxY+1)**.8),R.prevPositionX||(R.prevPositionX=O.touchesCurrent.x),R.prevPositionY||(R.prevPositionY=O.touchesCurrent.y),R.prevTime||(R.prevTime=Date.now()),R.x=(O.touchesCurrent.x-R.prevPositionX)/(Date.now()-R.prevTime)/2,R.y=(O.touchesCurrent.y-R.prevPositionY)/(Date.now()-R.prevTime)/2,Math.abs(O.touchesCurrent.x-R.prevPositionX)<2&&(R.x=0),Math.abs(O.touchesCurrent.y-R.prevPositionY)<2&&(R.y=0),R.prevPositionX=O.touchesCurrent.x,R.prevPositionY=O.touchesCurrent.y,R.prevTime=Date.now(),M.imageWrapEl.style.transform=`translate3d(${O.currentX}px, ${O.currentY}px,0)`}function te(){let ze=e.zoom;if(S.length=0,!M.imageEl)return;if(!O.isTouched||!O.isMoved){O.isTouched=!1,O.isMoved=!1;return}O.isTouched=!1,O.isMoved=!1;let Ie=300,Fe=300,Oe=R.x*Ie,Ae=O.currentX+Oe,xe=R.y*Fe,Ue=O.currentY+xe;R.x!==0&&(Ie=Math.abs((Ae-O.currentX)/R.x)),R.y!==0&&(Fe=Math.abs((Ue-O.currentY)/R.y));let st=Math.max(Ie,Fe);O.currentX=Ae,O.currentY=Ue;let pt=O.width*ze.scale,tt=O.height*ze.scale;O.minX=Math.min(M.slideWidth/2-pt/2,0),O.maxX=-O.minX,O.minY=Math.min(M.slideHeight/2-tt/2,0),O.maxY=-O.minY,O.currentX=Math.max(Math.min(O.currentX,O.maxX),O.minX),O.currentY=Math.max(Math.min(O.currentY,O.maxY),O.minY),M.imageWrapEl.style.transitionDuration=`${st}ms`,M.imageWrapEl.style.transform=`translate3d(${O.currentX}px, ${O.currentY}px,0)`}function K(){let ze=e.zoom;M.slideEl&&e.activeIndex!==e.slides.indexOf(M.slideEl)&&(M.imageEl&&(M.imageEl.style.transform="translate3d(0,0,0) scale(1)"),M.imageWrapEl&&(M.imageWrapEl.style.transform="translate3d(0,0,0)"),M.slideEl.classList.remove(`${e.params.zoom.zoomedSlideClass}`),ze.scale=1,a=1,M.slideEl=void 0,M.imageEl=void 0,M.imageWrapEl=void 0,M.originX=0,M.originY=0)}function H(ze){if(a<=1||!M.imageWrapEl||!ue(ze)||!fe(ze))return;let Ie=o.getComputedStyle(M.imageWrapEl).transform,Fe=new o.DOMMatrix(Ie);if(!u){u=!0,h.x=ze.clientX,h.y=ze.clientY,O.startX=Fe.e,O.startY=Fe.f,O.width=M.imageEl.offsetWidth||M.imageEl.clientWidth,O.height=M.imageEl.offsetHeight||M.imageEl.clientHeight,M.slideWidth=M.slideEl.offsetWidth,M.slideHeight=M.slideEl.offsetHeight;return}let Oe=(ze.clientX-h.x)*v,Ae=(ze.clientY-h.y)*v,xe=O.width*a,Ue=O.height*a,st=M.slideWidth,pt=M.slideHeight,tt=Math.min(st/2-xe/2,0),vt=-tt,kt=Math.min(pt/2-Ue/2,0),jt=-kt,hn=Math.max(Math.min(O.startX+Oe,vt),tt),Lt=Math.max(Math.min(O.startY+Ae,jt),kt);M.imageWrapEl.style.transitionDuration="0ms",M.imageWrapEl.style.transform=`translate3d(${hn}px, ${Lt}px, 0)`,h.x=ze.clientX,h.y=ze.clientY,O.startX=hn,O.startY=Lt,O.currentX=hn,O.currentY=Lt}function Z(ze){let Ie=e.zoom,Fe=e.params.zoom;if(!M.slideEl){ze&&ze.target&&(M.slideEl=ze.target.closest(`.${e.params.slideClass}, swiper-slide`)),M.slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?M.slideEl=Ti(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:M.slideEl=e.slides[e.activeIndex]);let Oo=M.slideEl.querySelector(`.${Fe.containerClass}`);Oo&&(Oo=Oo.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),M.imageEl=Oo,Oo?M.imageWrapEl=bs(M.imageEl,`.${Fe.containerClass}`)[0]:M.imageWrapEl=void 0}if(!M.imageEl||!M.imageWrapEl)return;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),M.slideEl.classList.add(`${Fe.zoomedSlideClass}`);let Oe,Ae,xe,Ue,st,pt,tt,vt,kt,jt,hn,Lt,er,tr,Po,va,ki,Ya;typeof O.touchesStart.x>"u"&&ze?(Oe=ze.pageX,Ae=ze.pageY):(Oe=O.touchesStart.x,Ae=O.touchesStart.y);let ko=a,Yr=typeof ze=="number"?ze:null;a===1&&Yr&&(Oe=void 0,Ae=void 0,O.touchesStart.x=void 0,O.touchesStart.y=void 0);let bn=N();Ie.scale=Yr||bn,a=Yr||bn,ze&&!(a===1&&Yr)?(ki=M.slideEl.offsetWidth,Ya=M.slideEl.offsetHeight,xe=K2(M.slideEl).left+o.scrollX,Ue=K2(M.slideEl).top+o.scrollY,st=xe+ki/2-Oe,pt=Ue+Ya/2-Ae,kt=M.imageEl.offsetWidth||M.imageEl.clientWidth,jt=M.imageEl.offsetHeight||M.imageEl.clientHeight,hn=kt*Ie.scale,Lt=jt*Ie.scale,er=Math.min(ki/2-hn/2,0),tr=Math.min(Ya/2-Lt/2,0),Po=-er,va=-tr,ko>0&&Yr&&typeof O.currentX=="number"&&typeof O.currentY=="number"?(tt=O.currentX*Ie.scale/ko,vt=O.currentY*Ie.scale/ko):(tt=st*Ie.scale,vt=pt*Ie.scale),tt<er&&(tt=er),tt>Po&&(tt=Po),vt<tr&&(vt=tr),vt>va&&(vt=va)):(tt=0,vt=0),Yr&&Ie.scale===1&&(M.originX=0,M.originY=0),O.currentX=tt,O.currentY=vt,M.imageWrapEl.style.transitionDuration="300ms",M.imageWrapEl.style.transform=`translate3d(${tt}px, ${vt}px,0)`,M.imageEl.style.transitionDuration="300ms",M.imageEl.style.transform=`translate3d(0,0,0) scale(${Ie.scale})`}function ke(){let ze=e.zoom,Ie=e.params.zoom;if(!M.slideEl){e.params.virtual&&e.params.virtual.enabled&&e.virtual?M.slideEl=Ti(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:M.slideEl=e.slides[e.activeIndex];let Fe=M.slideEl.querySelector(`.${Ie.containerClass}`);Fe&&(Fe=Fe.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),M.imageEl=Fe,Fe?M.imageWrapEl=bs(M.imageEl,`.${Ie.containerClass}`)[0]:M.imageWrapEl=void 0}!M.imageEl||!M.imageWrapEl||(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),ze.scale=1,a=1,O.currentX=void 0,O.currentY=void 0,O.touchesStart.x=void 0,O.touchesStart.y=void 0,M.imageWrapEl.style.transitionDuration="300ms",M.imageWrapEl.style.transform="translate3d(0,0,0)",M.imageEl.style.transitionDuration="300ms",M.imageEl.style.transform="translate3d(0,0,0) scale(1)",M.slideEl.classList.remove(`${Ie.zoomedSlideClass}`),M.slideEl=void 0,M.originX=0,M.originY=0,e.params.zoom.panOnMouseMove&&(h={x:0,y:0},u&&(u=!1,O.startX=0,O.startY=0)))}function Be(ze){let Ie=e.zoom;Ie.scale&&Ie.scale!==1?ke():Z(ze)}function Qe(){let ze=e.params.passiveListeners?{passive:!0,capture:!1}:!1,Ie=e.params.passiveListeners?{passive:!1,capture:!0}:!0;return{passiveListener:ze,activeListenerWithCapture:Ie}}function Se(){let ze=e.zoom;if(ze.enabled)return;ze.enabled=!0;let{passiveListener:Ie,activeListenerWithCapture:Fe}=Qe();e.wrapperEl.addEventListener("pointerdown",oe,Ie),e.wrapperEl.addEventListener("pointermove",J,Fe),["pointerup","pointercancel","pointerout"].forEach(Oe=>{e.wrapperEl.addEventListener(Oe,pe,Ie)}),e.wrapperEl.addEventListener("pointermove",ve,Fe)}function gt(){let ze=e.zoom;if(!ze.enabled)return;ze.enabled=!1;let{passiveListener:Ie,activeListenerWithCapture:Fe}=Qe();e.wrapperEl.removeEventListener("pointerdown",oe,Ie),e.wrapperEl.removeEventListener("pointermove",J,Fe),["pointerup","pointercancel","pointerout"].forEach(Oe=>{e.wrapperEl.removeEventListener(Oe,pe,Ie)}),e.wrapperEl.removeEventListener("pointermove",ve,Fe)}i("init",()=>{e.params.zoom.enabled&&Se()}),i("destroy",()=>{gt()}),i("touchStart",(ze,Ie)=>{e.zoom.enabled&&se(Ie)}),i("touchEnd",(ze,Ie)=>{e.zoom.enabled&&te()}),i("doubleTap",(ze,Ie)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&Be(Ie)}),i("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&K()}),i("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&K()}),Object.assign(e.zoom,{enable:Se,disable:gt,in:Z,out:ke,toggle:Be})}function oL(n){let{swiper:e,extendParams:t,on:i}=n;t({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0};function r(h,v){let y=function(){let O,R,B;return(F,N)=>{for(R=-1,O=F.length;O-R>1;)B=O+R>>1,F[B]<=N?R=B:O=B;return O}}();this.x=h,this.y=v,this.lastIndex=h.length-1;let P,S;return this.interpolate=function(O){return O?(S=y(this.x,O),P=S-1,(O-this.x[P])*(this.y[S]-this.y[P])/(this.x[S]-this.x[P])+this.y[P]):0},this}function o(h){e.controller.spline=e.params.loop?new r(e.slidesGrid,h.slidesGrid):new r(e.snapGrid,h.snapGrid)}function a(h,v){let y=e.controller.control,P,S,M=e.constructor;function O(R){if(R.destroyed)return;let B=e.rtlTranslate?-e.translate:e.translate;e.params.controller.by==="slide"&&(o(R),S=-e.controller.spline.interpolate(-B)),(!S||e.params.controller.by==="container")&&(P=(R.maxTranslate()-R.minTranslate())/(e.maxTranslate()-e.minTranslate()),(Number.isNaN(P)||!Number.isFinite(P))&&(P=1),S=(B-e.minTranslate())*P+R.minTranslate()),e.params.controller.inverse&&(S=R.maxTranslate()-S),R.updateProgress(S),R.setTranslate(S,e),R.updateActiveIndex(),R.updateSlidesClasses()}if(Array.isArray(y))for(let R=0;R<y.length;R+=1)y[R]!==v&&y[R]instanceof M&&O(y[R]);else y instanceof M&&v!==y&&O(y)}function c(h,v){let y=e.constructor,P=e.controller.control,S;function M(O){O.destroyed||(O.setTransition(h,e),h!==0&&(O.transitionStart(),O.params.autoHeight&&il(()=>{O.updateAutoHeight()}),h1(O.wrapperEl,()=>{P&&O.transitionEnd()})))}if(Array.isArray(P))for(S=0;S<P.length;S+=1)P[S]!==v&&P[S]instanceof y&&M(P[S]);else P instanceof y&&v!==P&&M(P)}function u(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}i("beforeInit",()=>{if(typeof window<"u"&&(typeof e.params.controller.control=="string"||e.params.controller.control instanceof HTMLElement)){(typeof e.params.controller.control=="string"?[...document.querySelectorAll(e.params.controller.control)]:[e.params.controller.control]).forEach(v=>{if(e.controller.control||(e.controller.control=[]),v&&v.swiper)e.controller.control.push(v.swiper);else if(v){let y=`${e.params.eventsPrefix}init`,P=S=>{e.controller.control.push(S.detail[0]),e.update(),v.removeEventListener(y,P)};v.addEventListener(y,P)}});return}e.controller.control=e.params.controller.control}),i("update",()=>{u()}),i("resize",()=>{u()}),i("observerUpdate",()=>{u()}),i("setTranslate",(h,v,y)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTranslate(v,y)}),i("setTransition",(h,v,y)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTransition(v,y)}),Object.assign(e.controller,{setTranslate:a,setTransition:c})}function aL(n){let{swiper:e,extendParams:t,on:i}=n;t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),e.a11y={clicked:!1};let r=null,o,a,c=new Date().getTime();function u(K){let H=r;H.length!==0&&Lr(H,K)}function h(K){K===void 0&&(K=16);let H=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(K).replace(/x/g,H)}function v(K){K=dn(K),K.forEach(H=>{H.setAttribute("tabIndex","0")})}function y(K){K=dn(K),K.forEach(H=>{H.setAttribute("tabIndex","-1")})}function P(K,H){K=dn(K),K.forEach(Z=>{Z.setAttribute("role",H)})}function S(K,H){K=dn(K),K.forEach(Z=>{Z.setAttribute("aria-roledescription",H)})}function M(K,H){K=dn(K),K.forEach(Z=>{Z.setAttribute("aria-controls",H)})}function O(K,H){K=dn(K),K.forEach(Z=>{Z.setAttribute("aria-label",H)})}function R(K,H){K=dn(K),K.forEach(Z=>{Z.setAttribute("id",H)})}function B(K,H){K=dn(K),K.forEach(Z=>{Z.setAttribute("aria-live",H)})}function F(K){K=dn(K),K.forEach(H=>{H.setAttribute("aria-disabled",!0)})}function N(K){K=dn(K),K.forEach(H=>{H.setAttribute("aria-disabled",!1)})}function Y(K){if(K.keyCode!==13&&K.keyCode!==32)return;let H=e.params.a11y,Z=K.target;if(!(e.pagination&&e.pagination.el&&(Z===e.pagination.el||e.pagination.el.contains(K.target))&&!K.target.matches(Ba(e.params.pagination.bulletClass)))){if(e.navigation&&e.navigation.prevEl&&e.navigation.nextEl){let ke=dn(e.navigation.prevEl);dn(e.navigation.nextEl).includes(Z)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?u(H.lastSlideMessage):u(H.nextSlideMessage)),ke.includes(Z)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?u(H.firstSlideMessage):u(H.prevSlideMessage))}e.pagination&&Z.matches(Ba(e.params.pagination.bulletClass))&&Z.click()}}function ne(){if(e.params.loop||e.params.rewind||!e.navigation)return;let{nextEl:K,prevEl:H}=e.navigation;H&&(e.isBeginning?(F(H),y(H)):(N(H),v(H))),K&&(e.isEnd?(F(K),y(K)):(N(K),v(K)))}function ue(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function fe(){return ue()&&e.params.pagination.clickable}function oe(){let K=e.params.a11y;ue()&&e.pagination.bullets.forEach(H=>{e.params.pagination.clickable&&(v(H),e.params.pagination.renderBullet||(P(H,"button"),O(H,K.paginationBulletMessage.replace(/\{\{index\}\}/,m1(H)+1)))),H.matches(Ba(e.params.pagination.bulletActiveClass))?H.setAttribute("aria-current","true"):H.removeAttribute("aria-current")})}let J=(K,H,Z)=>{v(K),K.tagName!=="BUTTON"&&(P(K,"button"),K.addEventListener("keydown",Y)),O(K,Z),M(K,H)},pe=K=>{a&&a!==K.target&&!a.contains(K.target)&&(o=!0),e.a11y.clicked=!0},ge=()=>{o=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},re=K=>{c=new Date().getTime()},ee=K=>{if(e.a11y.clicked||!e.params.a11y.scrollOnFocus||new Date().getTime()-c<100)return;let H=K.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!H||!e.slides.includes(H))return;a=H;let Z=e.slides.indexOf(H)===e.activeIndex,ke=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(H);Z||ke||K.sourceCapabilities&&K.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,requestAnimationFrame(()=>{o||(e.params.loop?e.slideToLoop(e.getSlideIndexWhenGrid(parseInt(H.getAttribute("data-swiper-slide-index"))),0):e.slideTo(e.getSlideIndexWhenGrid(e.slides.indexOf(H)),0),o=!1)}))},se=()=>{let K=e.params.a11y;K.itemRoleDescriptionMessage&&S(e.slides,K.itemRoleDescriptionMessage),K.slideRole&&P(e.slides,K.slideRole);let H=e.slides.length;K.slideLabelMessage&&e.slides.forEach((Z,ke)=>{let Be=e.params.loop?parseInt(Z.getAttribute("data-swiper-slide-index"),10):ke,Qe=K.slideLabelMessage.replace(/\{\{index\}\}/,Be+1).replace(/\{\{slidesLength\}\}/,H);O(Z,Qe)})},ve=()=>{let K=e.params.a11y;e.el.append(r);let H=e.el;K.containerRoleDescriptionMessage&&S(H,K.containerRoleDescriptionMessage),K.containerMessage&&O(H,K.containerMessage),K.containerRole&&P(H,K.containerRole);let Z=e.wrapperEl,ke=K.id||Z.getAttribute("id")||`swiper-wrapper-${h(16)}`,Be=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";R(Z,ke),B(Z,Be),se();let{nextEl:Qe,prevEl:Se}=e.navigation?e.navigation:{};Qe=dn(Qe),Se=dn(Se),Qe&&Qe.forEach(ze=>J(ze,ke,K.nextSlideMessage)),Se&&Se.forEach(ze=>J(ze,ke,K.prevSlideMessage)),fe()&&dn(e.pagination.el).forEach(Ie=>{Ie.addEventListener("keydown",Y)}),hi().addEventListener("visibilitychange",re),e.el.addEventListener("focus",ee,!0),e.el.addEventListener("focus",ee,!0),e.el.addEventListener("pointerdown",pe,!0),e.el.addEventListener("pointerup",ge,!0)};function te(){r&&r.remove();let{nextEl:K,prevEl:H}=e.navigation?e.navigation:{};K=dn(K),H=dn(H),K&&K.forEach(ke=>ke.removeEventListener("keydown",Y)),H&&H.forEach(ke=>ke.removeEventListener("keydown",Y)),fe()&&dn(e.pagination.el).forEach(Be=>{Be.removeEventListener("keydown",Y)}),hi().removeEventListener("visibilitychange",re),e.el&&typeof e.el!="string"&&(e.el.removeEventListener("focus",ee,!0),e.el.removeEventListener("pointerdown",pe,!0),e.el.removeEventListener("pointerup",ge,!0))}i("beforeInit",()=>{r=lr("span",e.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")}),i("afterInit",()=>{e.params.a11y.enabled&&ve()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&se()}),i("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&ne()}),i("paginationUpdate",()=>{e.params.a11y.enabled&&oe()}),i("destroy",()=>{e.params.a11y.enabled&&te()})}function sL(n){let{swiper:e,extendParams:t,on:i}=n;t({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let r=!1,o={},a=S=>S.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),c=S=>{let M=$n(),O;S?O=new URL(S):O=M.location;let R=O.pathname.slice(1).split("/").filter(Y=>Y!==""),B=R.length,F=R[B-2],N=R[B-1];return{key:F,value:N}},u=(S,M)=>{let O=$n();if(!r||!e.params.history.enabled)return;let R;e.params.url?R=new URL(e.params.url):R=O.location;let B=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${M}"]`):e.slides[M],F=a(B.getAttribute("data-history"));if(e.params.history.root.length>0){let Y=e.params.history.root;Y[Y.length-1]==="/"&&(Y=Y.slice(0,Y.length-1)),F=`${Y}/${S?`${S}/`:""}${F}`}else R.pathname.includes(S)||(F=`${S?`${S}/`:""}${F}`);e.params.history.keepQuery&&(F+=R.search);let N=O.history.state;N&&N.value===F||(e.params.history.replaceState?O.history.replaceState({value:F},null,F):O.history.pushState({value:F},null,F))},h=(S,M,O)=>{if(M)for(let R=0,B=e.slides.length;R<B;R+=1){let F=e.slides[R];if(a(F.getAttribute("data-history"))===M){let Y=e.getSlideIndex(F);e.slideTo(Y,S,O)}}else e.slideTo(0,S,O)},v=()=>{o=c(e.params.url),h(e.params.speed,o.value,!1)},y=()=>{let S=$n();if(e.params.history){if(!S.history||!S.history.pushState){e.params.history.enabled=!1,e.params.hashNavigation.enabled=!0;return}if(r=!0,o=c(e.params.url),!o.key&&!o.value){e.params.history.replaceState||S.addEventListener("popstate",v);return}h(0,o.value,e.params.runCallbacksOnInit),e.params.history.replaceState||S.addEventListener("popstate",v)}},P=()=>{let S=$n();e.params.history.replaceState||S.removeEventListener("popstate",v)};i("init",()=>{e.params.history.enabled&&y()}),i("destroy",()=>{e.params.history.enabled&&P()}),i("transitionEnd _freeModeNoMomentumRelease",()=>{r&&u(e.params.history.key,e.activeIndex)}),i("slideChange",()=>{r&&e.params.cssMode&&u(e.params.history.key,e.activeIndex)})}function lL(n){let{swiper:e,extendParams:t,emit:i,on:r}=n,o=!1,a=hi(),c=$n();t({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(P,S){if(e.virtual&&e.params.virtual.enabled){let M=e.slides.find(R=>R.getAttribute("data-hash")===S);return M?parseInt(M.getAttribute("data-swiper-slide-index"),10):0}return e.getSlideIndex(Ti(e.slidesEl,`.${e.params.slideClass}[data-hash="${S}"], swiper-slide[data-hash="${S}"]`)[0])}}});let u=()=>{i("hashChange");let P=a.location.hash.replace("#",""),S=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],M=S?S.getAttribute("data-hash"):"";if(P!==M){let O=e.params.hashNavigation.getSlideIndex(e,P);if(typeof O>"u"||Number.isNaN(O))return;e.slideTo(O)}},h=()=>{if(!o||!e.params.hashNavigation.enabled)return;let P=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],S=P?P.getAttribute("data-hash")||P.getAttribute("data-history"):"";e.params.hashNavigation.replaceState&&c.history&&c.history.replaceState?(c.history.replaceState(null,null,`#${S}`||""),i("hashSet")):(a.location.hash=S||"",i("hashSet"))},v=()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;o=!0;let P=a.location.hash.replace("#","");if(P){let M=e.params.hashNavigation.getSlideIndex(e,P);e.slideTo(M||0,0,e.params.runCallbacksOnInit,!0)}e.params.hashNavigation.watchState&&c.addEventListener("hashchange",u)},y=()=>{e.params.hashNavigation.watchState&&c.removeEventListener("hashchange",u)};r("init",()=>{e.params.hashNavigation.enabled&&v()}),r("destroy",()=>{e.params.hashNavigation.enabled&&y()}),r("transitionEnd _freeModeNoMomentumRelease",()=>{o&&h()}),r("slideChange",()=>{o&&e.params.cssMode&&h()})}function cL(n){let{swiper:e,extendParams:t,on:i,emit:r,params:o}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,c,u=o&&o.autoplay?o.autoplay.delay:3e3,h=o&&o.autoplay?o.autoplay.delay:3e3,v,y=new Date().getTime(),P,S,M,O,R,B,F;function N(H){!e||e.destroyed||!e.wrapperEl||H.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",N),!(F||H.detail&&H.detail.bySwiperTouchMove)&&pe())}let Y=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?P=!0:P&&(h=v,P=!1);let H=e.autoplay.paused?v:y+h-new Date().getTime();e.autoplay.timeLeft=H,r("autoplayTimeLeft",H,H/u),c=requestAnimationFrame(()=>{Y()})},ne=()=>{let H;return e.virtual&&e.params.virtual.enabled?H=e.slides.find(ke=>ke.classList.contains("swiper-slide-active")):H=e.slides[e.activeIndex],H?parseInt(H.getAttribute("data-swiper-autoplay"),10):void 0},ue=H=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(c),Y();let Z=typeof H>"u"?e.params.autoplay.delay:H;u=e.params.autoplay.delay,h=e.params.autoplay.delay;let ke=ne();!Number.isNaN(ke)&&ke>0&&typeof H>"u"&&(Z=ke,u=ke,h=ke),v=Z;let Be=e.params.speed,Qe=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(Be,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,Be,!0,!0),r("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(Be,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,Be,!0,!0),r("autoplay")),e.params.cssMode&&(y=new Date().getTime(),requestAnimationFrame(()=>{ue()})))};return Z>0?(clearTimeout(a),a=setTimeout(()=>{Qe()},Z)):requestAnimationFrame(()=>{Qe()}),Z},fe=()=>{y=new Date().getTime(),e.autoplay.running=!0,ue(),r("autoplayStart")},oe=()=>{e.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(c),r("autoplayStop")},J=(H,Z)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(a),H||(B=!0);let ke=()=>{r("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",N):pe()};if(e.autoplay.paused=!0,Z){R&&(v=e.params.autoplay.delay),R=!1,ke();return}v=(v||e.params.autoplay.delay)-(new Date().getTime()-y),!(e.isEnd&&v<0&&!e.params.loop)&&(v<0&&(v=0),ke())},pe=()=>{e.isEnd&&v<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(y=new Date().getTime(),B?(B=!1,ue(v)):ue(),e.autoplay.paused=!1,r("autoplayResume"))},ge=()=>{if(e.destroyed||!e.autoplay.running)return;let H=hi();H.visibilityState==="hidden"&&(B=!0,J(!0)),H.visibilityState==="visible"&&pe()},re=H=>{H.pointerType==="mouse"&&(B=!0,F=!0,!(e.animating||e.autoplay.paused)&&J(!0))},ee=H=>{H.pointerType==="mouse"&&(F=!1,e.autoplay.paused&&pe())},se=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",re),e.el.addEventListener("pointerleave",ee))},ve=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",re),e.el.removeEventListener("pointerleave",ee))},te=()=>{hi().addEventListener("visibilitychange",ge)},K=()=>{hi().removeEventListener("visibilitychange",ge)};i("init",()=>{e.params.autoplay.enabled&&(se(),te(),fe())}),i("destroy",()=>{ve(),K(),e.autoplay.running&&oe()}),i("_freeModeStaticRelease",()=>{(M||B)&&pe()}),i("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?oe():J(!0,!0)}),i("beforeTransitionStart",(H,Z,ke)=>{e.destroyed||!e.autoplay.running||(ke||!e.params.autoplay.disableOnInteraction?J(!0,!0):oe())}),i("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){oe();return}S=!0,M=!1,B=!1,O=setTimeout(()=>{B=!0,M=!0,J(!0)},200)}}),i("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!S)){if(clearTimeout(O),clearTimeout(a),e.params.autoplay.disableOnInteraction){M=!1,S=!1;return}M&&e.params.cssMode&&pe(),M=!1,S=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(R=!0)}),Object.assign(e.autoplay,{start:fe,stop:oe,pause:J,resume:pe})}function dL(n){let{swiper:e,extendParams:t,on:i}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,o=!1;e.thumbs={swiper:null};function a(){let h=e.thumbs.swiper;if(!h||h.destroyed)return;let v=h.clickedIndex,y=h.clickedSlide;if(y&&y.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof v>"u"||v===null)return;let P;h.params.loop?P=parseInt(h.clickedSlide.getAttribute("data-swiper-slide-index"),10):P=v,e.params.loop?e.slideToLoop(P):e.slideTo(P)}function c(){let{thumbs:h}=e.params;if(r)return!1;r=!0;let v=e.constructor;if(h.swiper instanceof v){if(h.swiper.destroyed)return r=!1,!1;e.thumbs.swiper=h.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(s4(h.swiper)){let y=Object.assign({},h.swiper);Object.assign(y,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new v(y),o=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",a),!0}function u(h){let v=e.thumbs.swiper;if(!v||v.destroyed)return;let y=v.params.slidesPerView==="auto"?v.slidesPerViewDynamic():v.params.slidesPerView,P=1,S=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(P=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(P=1),P=Math.floor(P),v.slides.forEach(R=>R.classList.remove(S)),v.params.loop||v.params.virtual&&v.params.virtual.enabled)for(let R=0;R<P;R+=1)Ti(v.slidesEl,`[data-swiper-slide-index="${e.realIndex+R}"]`).forEach(B=>{B.classList.add(S)});else for(let R=0;R<P;R+=1)v.slides[e.realIndex+R]&&v.slides[e.realIndex+R].classList.add(S);let M=e.params.thumbs.autoScrollOffset,O=M&&!v.params.loop;if(e.realIndex!==v.realIndex||O){let R=v.activeIndex,B,F;if(v.params.loop){let N=v.slides.find(Y=>Y.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);B=v.slides.indexOf(N),F=e.activeIndex>e.previousIndex?"next":"prev"}else B=e.realIndex,F=B>e.previousIndex?"next":"prev";O&&(B+=F==="next"?M:-1*M),v.visibleSlidesIndexes&&v.visibleSlidesIndexes.indexOf(B)<0&&(v.params.centeredSlides?B>R?B=B-Math.floor(y/2)+1:B=B+Math.floor(y/2)-1:B>R&&v.params.slidesPerGroup,v.slideTo(B,h?0:void 0))}}i("beforeInit",()=>{let{thumbs:h}=e.params;if(!(!h||!h.swiper))if(typeof h.swiper=="string"||h.swiper instanceof HTMLElement){let v=hi(),y=()=>{let S=typeof h.swiper=="string"?v.querySelector(h.swiper):h.swiper;if(S&&S.swiper)h.swiper=S.swiper,c(),u(!0);else if(S){let M=`${e.params.eventsPrefix}init`,O=R=>{h.swiper=R.detail[0],S.removeEventListener(M,O),c(),u(!0),h.swiper.update(),e.update()};S.addEventListener(M,O)}return S},P=()=>{if(e.destroyed)return;y()||requestAnimationFrame(P)};requestAnimationFrame(P)}else c(),u(!0)}),i("slideChange update resize observerUpdate",()=>{u()}),i("setTransition",(h,v)=>{let y=e.thumbs.swiper;!y||y.destroyed||y.setTransition(v)}),i("beforeDestroy",()=>{let h=e.thumbs.swiper;!h||h.destroyed||o&&h.destroy()}),Object.assign(e.thumbs,{init:c,update:u})}function uL(n){let{swiper:e,extendParams:t,emit:i,once:r}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function o(){if(e.params.cssMode)return;let u=e.getTranslate();e.setTranslate(u),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function a(){if(e.params.cssMode)return;let{touchEventsData:u,touches:h}=e;u.velocities.length===0&&u.velocities.push({position:h[e.isHorizontal()?"startX":"startY"],time:u.touchStartTime}),u.velocities.push({position:h[e.isHorizontal()?"currentX":"currentY"],time:Co()})}function c(u){let{currentPos:h}=u;if(e.params.cssMode)return;let{params:v,wrapperEl:y,rtlTranslate:P,snapGrid:S,touchEventsData:M}=e,R=Co()-M.touchStartTime;if(h<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(h>-e.maxTranslate()){e.slides.length<S.length?e.slideTo(S.length-1):e.slideTo(e.slides.length-1);return}if(v.freeMode.momentum){if(M.velocities.length>1){let oe=M.velocities.pop(),J=M.velocities.pop(),pe=oe.position-J.position,ge=oe.time-J.time;e.velocity=pe/ge,e.velocity/=2,Math.abs(e.velocity)<v.freeMode.minimumVelocity&&(e.velocity=0),(ge>150||Co()-oe.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=v.freeMode.momentumVelocityRatio,M.velocities.length=0;let B=1e3*v.freeMode.momentumRatio,F=e.velocity*B,N=e.translate+F;P&&(N=-N);let Y=!1,ne,ue=Math.abs(e.velocity)*20*v.freeMode.momentumBounceRatio,fe;if(N<e.maxTranslate())v.freeMode.momentumBounce?(N+e.maxTranslate()<-ue&&(N=e.maxTranslate()-ue),ne=e.maxTranslate(),Y=!0,M.allowMomentumBounce=!0):N=e.maxTranslate(),v.loop&&v.centeredSlides&&(fe=!0);else if(N>e.minTranslate())v.freeMode.momentumBounce?(N-e.minTranslate()>ue&&(N=e.minTranslate()+ue),ne=e.minTranslate(),Y=!0,M.allowMomentumBounce=!0):N=e.minTranslate(),v.loop&&v.centeredSlides&&(fe=!0);else if(v.freeMode.sticky){let oe;for(let J=0;J<S.length;J+=1)if(S[J]>-N){oe=J;break}Math.abs(S[oe]-N)<Math.abs(S[oe-1]-N)||e.swipeDirection==="next"?N=S[oe]:N=S[oe-1],N=-N}if(fe&&r("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(P?B=Math.abs((-N-e.translate)/e.velocity):B=Math.abs((N-e.translate)/e.velocity),v.freeMode.sticky){let oe=Math.abs((P?-N:N)-e.translate),J=e.slidesSizesGrid[e.activeIndex];oe<J?B=v.speed:oe<2*J?B=v.speed*1.5:B=v.speed*2.5}}else if(v.freeMode.sticky){e.slideToClosest();return}v.freeMode.momentumBounce&&Y?(e.updateProgress(ne),e.setTransition(B),e.setTranslate(N),e.transitionStart(!0,e.swipeDirection),e.animating=!0,h1(y,()=>{!e||e.destroyed||!M.allowMomentumBounce||(i("momentumBounce"),e.setTransition(v.speed),setTimeout(()=>{e.setTranslate(ne),h1(y,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(i("_freeModeNoMomentumRelease"),e.updateProgress(N),e.setTransition(B),e.setTranslate(N),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,h1(y,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(N),e.updateActiveIndex(),e.updateSlidesClasses()}else if(v.freeMode.sticky){e.slideToClosest();return}else v.freeMode&&i("_freeModeNoMomentumRelease");(!v.freeMode.momentum||R>=v.longSwipesMs)&&(i("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:o,onTouchMove:a,onTouchEnd:c}})}function pL(n){let{swiper:e,extendParams:t,on:i}=n;t({grid:{rows:1,fill:"column"}});let r,o,a,c,u=()=>{let O=e.params.spaceBetween;return typeof O=="string"&&O.indexOf("%")>=0?O=parseFloat(O.replace("%",""))/100*e.size:typeof O=="string"&&(O=parseFloat(O)),O},h=O=>{let{slidesPerView:R}=e.params,{rows:B,fill:F}=e.params.grid,N=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:O.length;a=Math.floor(N/B),Math.floor(N/B)===N/B?r=N:r=Math.ceil(N/B)*B,R!=="auto"&&F==="row"&&(r=Math.max(r,R*B)),o=r/B},v=()=>{e.slides&&e.slides.forEach(O=>{O.swiperSlideGridSet&&(O.style.height="",O.style[e.getDirectionLabel("margin-top")]="")})},y=(O,R,B)=>{let{slidesPerGroup:F}=e.params,N=u(),{rows:Y,fill:ne}=e.params.grid,ue=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:B.length,fe,oe,J;if(ne==="row"&&F>1){let pe=Math.floor(O/(F*Y)),ge=O-Y*F*pe,re=pe===0?F:Math.min(Math.ceil((ue-pe*Y*F)/Y),F);J=Math.floor(ge/re),oe=ge-J*re+pe*F,fe=oe+J*r/Y,R.style.order=fe}else ne==="column"?(oe=Math.floor(O/Y),J=O-oe*Y,(oe>a||oe===a&&J===Y-1)&&(J+=1,J>=Y&&(J=0,oe+=1))):(J=Math.floor(O/o),oe=O-J*o);R.row=J,R.column=oe,R.style.height=`calc((100% - ${(Y-1)*N}px) / ${Y})`,R.style[e.getDirectionLabel("margin-top")]=J!==0?N&&`${N}px`:"",R.swiperSlideGridSet=!0},P=(O,R)=>{let{centeredSlides:B,roundLengths:F}=e.params,N=u(),{rows:Y}=e.params.grid;if(e.virtualSize=(O+N)*r,e.virtualSize=Math.ceil(e.virtualSize/Y)-N,e.params.cssMode||(e.wrapperEl.style[e.getDirectionLabel("width")]=`${e.virtualSize+N}px`),B){let ne=[];for(let ue=0;ue<R.length;ue+=1){let fe=R[ue];F&&(fe=Math.floor(fe)),R[ue]<e.virtualSize+R[0]&&ne.push(fe)}R.splice(0,R.length),R.push(...ne)}},S=()=>{c=e.params.grid&&e.params.grid.rows>1},M=()=>{let{params:O,el:R}=e,B=O.grid&&O.grid.rows>1;c&&!B?(R.classList.remove(`${O.containerModifierClass}grid`,`${O.containerModifierClass}grid-column`),a=1,e.emitContainerClasses()):!c&&B&&(R.classList.add(`${O.containerModifierClass}grid`),O.grid.fill==="column"&&R.classList.add(`${O.containerModifierClass}grid-column`),e.emitContainerClasses()),c=B};i("init",S),i("update",M),e.grid={initSlides:h,unsetSlides:v,updateSlide:y,updateWrapperSize:P}}function XZ(n){let e=this,{params:t,slidesEl:i}=e;t.loop&&e.loopDestroy();let r=o=>{if(typeof o=="string"){let a=document.createElement("div");Lr(a,o),i.append(a.children[0]),Lr(a,"")}else i.append(o)};if(typeof n=="object"&&"length"in n)for(let o=0;o<n.length;o+=1)n[o]&&r(n[o]);else r(n);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update()}function KZ(n){let e=this,{params:t,activeIndex:i,slidesEl:r}=e;t.loop&&e.loopDestroy();let o=i+1,a=c=>{if(typeof c=="string"){let u=document.createElement("div");Lr(u,c),r.prepend(u.children[0]),Lr(u,"")}else r.prepend(c)};if(typeof n=="object"&&"length"in n){for(let c=0;c<n.length;c+=1)n[c]&&a(n[c]);o=i+n.length}else a(n);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update(),e.slideTo(o,0,!1)}function QZ(n,e){let t=this,{params:i,activeIndex:r,slidesEl:o}=t,a=r;i.loop&&(a-=t.loopedSlides,t.loopDestroy(),t.recalcSlides());let c=t.slides.length;if(n<=0){t.prependSlide(e);return}if(n>=c){t.appendSlide(e);return}let u=a>n?a+1:a,h=[];for(let v=c-1;v>=n;v-=1){let y=t.slides[v];y.remove(),h.unshift(y)}if(typeof e=="object"&&"length"in e){for(let v=0;v<e.length;v+=1)e[v]&&o.append(e[v]);u=a>n?a+e.length:a}else o.append(e);for(let v=0;v<h.length;v+=1)o.append(h[v]);t.recalcSlides(),i.loop&&t.loopCreate(),(!i.observer||t.isElement)&&t.update(),i.loop?t.slideTo(u+t.loopedSlides,0,!1):t.slideTo(u,0,!1)}function JZ(n){let e=this,{params:t,activeIndex:i}=e,r=i;t.loop&&(r-=e.loopedSlides,e.loopDestroy());let o=r,a;if(typeof n=="object"&&"length"in n){for(let c=0;c<n.length;c+=1)a=n[c],e.slides[a]&&e.slides[a].remove(),a<o&&(o-=1);o=Math.max(o,0)}else a=n,e.slides[a]&&e.slides[a].remove(),a<o&&(o-=1),o=Math.max(o,0);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update(),t.loop?e.slideTo(o+e.loopedSlides,0,!1):e.slideTo(o,0,!1)}function eX(){let n=this,e=[];for(let t=0;t<n.slides.length;t+=1)e.push(t);n.removeSlide(e)}function fL(n){let{swiper:e}=n;Object.assign(e,{appendSlide:XZ.bind(e),prependSlide:KZ.bind(e),addSlide:QZ.bind(e),removeSlide:JZ.bind(e),removeAllSlides:eX.bind(e)})}function ja(n){let{effect:e,swiper:t,on:i,setTranslate:r,setTransition:o,overwriteParams:a,perspective:c,recreateShadows:u,getEffectParams:h}=n;i("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),c&&c()&&t.classNames.push(`${t.params.containerModifierClass}3d`);let y=a?a():{};Object.assign(t.params,y),Object.assign(t.originalParams,y)}),i("setTranslate _virtualUpdated",()=>{t.params.effect===e&&r()}),i("setTransition",(y,P)=>{t.params.effect===e&&o(P)}),i("transitionEnd",()=>{if(t.params.effect===e&&u){if(!h||!h().slideShadows)return;t.slides.forEach(y=>{y.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(P=>P.remove())}),u()}});let v;i("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(v=!0),requestAnimationFrame(()=>{v&&t.slides&&t.slides.length&&(r(),v=!1)}))})}function rl(n,e){let t=Go(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function b1(n){let{swiper:e,duration:t,transformElements:i,allSlides:r}=n,{activeIndex:o}=e,a=c=>c.parentElement?c.parentElement:e.slides.find(h=>h.shadowRoot&&h.shadowRoot===c.parentNode);if(e.params.virtualTranslate&&t!==0){let c=!1,u;r?u=i:u=i.filter(h=>{let v=h.classList.contains("swiper-slide-transform")?a(h):h;return e.getSlideIndex(v)===o}),u.forEach(h=>{h1(h,()=>{if(c||!e||e.destroyed)return;c=!0,e.animating=!1;let v=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(v)})})}}function mL(n){let{swiper:e,extendParams:t,on:i}=n;t({fadeEffect:{crossFade:!1}}),ja({effect:"fade",swiper:e,on:i,setTranslate:()=>{let{slides:a}=e,c=e.params.fadeEffect;for(let u=0;u<a.length;u+=1){let h=e.slides[u],y=-h.swiperSlideOffset;e.params.virtualTranslate||(y-=e.translate);let P=0;e.isHorizontal()||(P=y,y=0);let S=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(h.progress),0):1+Math.min(Math.max(h.progress,-1),0),M=rl(c,h);M.style.opacity=S,M.style.transform=`translate3d(${y}px, ${P}px, 0px)`}},setTransition:a=>{let c=e.slides.map(u=>Go(u));c.forEach(u=>{u.style.transitionDuration=`${a}ms`}),b1({swiper:e,duration:a,transformElements:c,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function hL(n){let{swiper:e,extendParams:t,on:i}=n;t({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});let r=(u,h,v)=>{let y=v?u.querySelector(".swiper-slide-shadow-left"):u.querySelector(".swiper-slide-shadow-top"),P=v?u.querySelector(".swiper-slide-shadow-right"):u.querySelector(".swiper-slide-shadow-bottom");y||(y=lr("div",`swiper-slide-shadow-cube swiper-slide-shadow-${v?"left":"top"}`.split(" ")),u.append(y)),P||(P=lr("div",`swiper-slide-shadow-cube swiper-slide-shadow-${v?"right":"bottom"}`.split(" ")),u.append(P)),y&&(y.style.opacity=Math.max(-h,0)),P&&(P.style.opacity=Math.max(h,0))};ja({effect:"cube",swiper:e,on:i,setTranslate:()=>{let{el:u,wrapperEl:h,slides:v,width:y,height:P,rtlTranslate:S,size:M,browser:O}=e,R=g1(e),B=e.params.cubeEffect,F=e.isHorizontal(),N=e.virtual&&e.params.virtual.enabled,Y=0,ne;B.shadow&&(F?(ne=e.wrapperEl.querySelector(".swiper-cube-shadow"),ne||(ne=lr("div","swiper-cube-shadow"),e.wrapperEl.append(ne)),ne.style.height=`${y}px`):(ne=u.querySelector(".swiper-cube-shadow"),ne||(ne=lr("div","swiper-cube-shadow"),u.append(ne))));for(let fe=0;fe<v.length;fe+=1){let oe=v[fe],J=fe;N&&(J=parseInt(oe.getAttribute("data-swiper-slide-index"),10));let pe=J*90,ge=Math.floor(pe/360);S&&(pe=-pe,ge=Math.floor(-pe/360));let re=Math.max(Math.min(oe.progress,1),-1),ee=0,se=0,ve=0;J%4===0?(ee=-ge*4*M,ve=0):(J-1)%4===0?(ee=0,ve=-ge*4*M):(J-2)%4===0?(ee=M+ge*4*M,ve=M):(J-3)%4===0&&(ee=-M,ve=3*M+M*4*ge),S&&(ee=-ee),F||(se=ee,ee=0);let te=`rotateX(${R(F?0:-pe)}deg) rotateY(${R(F?pe:0)}deg) translate3d(${ee}px, ${se}px, ${ve}px)`;re<=1&&re>-1&&(Y=J*90+re*90,S&&(Y=-J*90-re*90)),oe.style.transform=te,B.slideShadows&&r(oe,re,F)}if(h.style.transformOrigin=`50% 50% -${M/2}px`,h.style["-webkit-transform-origin"]=`50% 50% -${M/2}px`,B.shadow)if(F)ne.style.transform=`translate3d(0px, ${y/2+B.shadowOffset}px, ${-y/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${B.shadowScale})`;else{let fe=Math.abs(Y)-Math.floor(Math.abs(Y)/90)*90,oe=1.5-(Math.sin(fe*2*Math.PI/360)/2+Math.cos(fe*2*Math.PI/360)/2),J=B.shadowScale,pe=B.shadowScale/oe,ge=B.shadowOffset;ne.style.transform=`scale3d(${J}, 1, ${pe}) translate3d(0px, ${P/2+ge}px, ${-P/2/pe}px) rotateX(-89.99deg)`}let ue=(O.isSafari||O.isWebView)&&O.needPerspectiveFix?-M/2:0;h.style.transform=`translate3d(0px,0,${ue}px) rotateX(${R(e.isHorizontal()?0:Y)}deg) rotateY(${R(e.isHorizontal()?-Y:0)}deg)`,h.style.setProperty("--swiper-cube-translate-z",`${ue}px`)},setTransition:u=>{let{el:h,slides:v}=e;if(v.forEach(y=>{y.style.transitionDuration=`${u}ms`,y.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(P=>{P.style.transitionDuration=`${u}ms`})}),e.params.cubeEffect.shadow&&!e.isHorizontal()){let y=h.querySelector(".swiper-cube-shadow");y&&(y.style.transitionDuration=`${u}ms`)}},recreateShadows:()=>{let u=e.isHorizontal();e.slides.forEach(h=>{let v=Math.max(Math.min(h.progress,1),-1);r(h,v,u)})},getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})}function ol(n,e,t){let i=`swiper-slide-shadow${t?`-${t}`:""}${n?` swiper-slide-shadow-${n}`:""}`,r=Go(e),o=r.querySelector(`.${i.split(" ").join(".")}`);return o||(o=lr("div",i.split(" ")),r.append(o)),o}function gL(n){let{swiper:e,extendParams:t,on:i}=n;t({flipEffect:{slideShadows:!0,limitRotation:!0}});let r=(u,h)=>{let v=e.isHorizontal()?u.querySelector(".swiper-slide-shadow-left"):u.querySelector(".swiper-slide-shadow-top"),y=e.isHorizontal()?u.querySelector(".swiper-slide-shadow-right"):u.querySelector(".swiper-slide-shadow-bottom");v||(v=ol("flip",u,e.isHorizontal()?"left":"top")),y||(y=ol("flip",u,e.isHorizontal()?"right":"bottom")),v&&(v.style.opacity=Math.max(-h,0)),y&&(y.style.opacity=Math.max(h,0))};ja({effect:"flip",swiper:e,on:i,setTranslate:()=>{let{slides:u,rtlTranslate:h}=e,v=e.params.flipEffect,y=g1(e);for(let P=0;P<u.length;P+=1){let S=u[P],M=S.progress;e.params.flipEffect.limitRotation&&(M=Math.max(Math.min(S.progress,1),-1));let O=S.swiperSlideOffset,B=-180*M,F=0,N=e.params.cssMode?-O-e.translate:-O,Y=0;e.isHorizontal()?h&&(B=-B):(Y=N,N=0,F=-B,B=0),S.style.zIndex=-Math.abs(Math.round(M))+u.length,v.slideShadows&&r(S,M);let ne=`translate3d(${N}px, ${Y}px, 0px) rotateX(${y(F)}deg) rotateY(${y(B)}deg)`,ue=rl(v,S);ue.style.transform=ne}},setTransition:u=>{let h=e.slides.map(v=>Go(v));h.forEach(v=>{v.style.transitionDuration=`${u}ms`,v.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(y=>{y.style.transitionDuration=`${u}ms`})}),b1({swiper:e,duration:u,transformElements:h})},recreateShadows:()=>{e.params.flipEffect,e.slides.forEach(u=>{let h=u.progress;e.params.flipEffect.limitRotation&&(h=Math.max(Math.min(u.progress,1),-1)),r(u,h)})},getEffectParams:()=>e.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function vL(n){let{swiper:e,extendParams:t,on:i}=n;t({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),ja({effect:"coverflow",swiper:e,on:i,setTranslate:()=>{let{width:a,height:c,slides:u,slidesSizesGrid:h}=e,v=e.params.coverflowEffect,y=e.isHorizontal(),P=e.translate,S=y?-P+a/2:-P+c/2,M=y?v.rotate:-v.rotate,O=v.depth,R=g1(e);for(let B=0,F=u.length;B<F;B+=1){let N=u[B],Y=h[B],ne=N.swiperSlideOffset,ue=(S-ne-Y/2)/Y,fe=typeof v.modifier=="function"?v.modifier(ue):ue*v.modifier,oe=y?M*fe:0,J=y?0:M*fe,pe=-O*Math.abs(fe),ge=v.stretch;typeof ge=="string"&&ge.indexOf("%")!==-1&&(ge=parseFloat(v.stretch)/100*Y);let re=y?0:ge*fe,ee=y?ge*fe:0,se=1-(1-v.scale)*Math.abs(fe);Math.abs(ee)<.001&&(ee=0),Math.abs(re)<.001&&(re=0),Math.abs(pe)<.001&&(pe=0),Math.abs(oe)<.001&&(oe=0),Math.abs(J)<.001&&(J=0),Math.abs(se)<.001&&(se=0);let ve=`translate3d(${ee}px,${re}px,${pe}px)  rotateX(${R(J)}deg) rotateY(${R(oe)}deg) scale(${se})`,te=rl(v,N);if(te.style.transform=ve,N.style.zIndex=-Math.abs(Math.round(fe))+1,v.slideShadows){let K=y?N.querySelector(".swiper-slide-shadow-left"):N.querySelector(".swiper-slide-shadow-top"),H=y?N.querySelector(".swiper-slide-shadow-right"):N.querySelector(".swiper-slide-shadow-bottom");K||(K=ol("coverflow",N,y?"left":"top")),H||(H=ol("coverflow",N,y?"right":"bottom")),K&&(K.style.opacity=fe>0?fe:0),H&&(H.style.opacity=-fe>0?-fe:0)}}},setTransition:a=>{e.slides.map(u=>Go(u)).forEach(u=>{u.style.transitionDuration=`${a}ms`,u.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(h=>{h.style.transitionDuration=`${a}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}function bL(n){let{swiper:e,extendParams:t,on:i}=n;t({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});let r=c=>typeof c=="string"?c:`${c}px`;ja({effect:"creative",swiper:e,on:i,setTranslate:()=>{let{slides:c,wrapperEl:u,slidesSizesGrid:h}=e,v=e.params.creativeEffect,{progressMultiplier:y}=v,P=e.params.centeredSlides,S=g1(e);if(P){let M=h[0]/2-e.params.slidesOffsetBefore||0;u.style.transform=`translateX(calc(50% - ${M}px))`}for(let M=0;M<c.length;M+=1){let O=c[M],R=O.progress,B=Math.min(Math.max(O.progress,-v.limitProgress),v.limitProgress),F=B;P||(F=Math.min(Math.max(O.originalProgress,-v.limitProgress),v.limitProgress));let N=O.swiperSlideOffset,Y=[e.params.cssMode?-N-e.translate:-N,0,0],ne=[0,0,0],ue=!1;e.isHorizontal()||(Y[1]=Y[0],Y[0]=0);let fe={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};B<0?(fe=v.next,ue=!0):B>0&&(fe=v.prev,ue=!0),Y.forEach((se,ve)=>{Y[ve]=`calc(${se}px + (${r(fe.translate[ve])} * ${Math.abs(B*y)}))`}),ne.forEach((se,ve)=>{let te=fe.rotate[ve]*Math.abs(B*y);ne[ve]=te}),O.style.zIndex=-Math.abs(Math.round(R))+c.length;let oe=Y.join(", "),J=`rotateX(${S(ne[0])}deg) rotateY(${S(ne[1])}deg) rotateZ(${S(ne[2])}deg)`,pe=F<0?`scale(${1+(1-fe.scale)*F*y})`:`scale(${1-(1-fe.scale)*F*y})`,ge=F<0?1+(1-fe.opacity)*F*y:1-(1-fe.opacity)*F*y,re=`translate3d(${oe}) ${J} ${pe}`;if(ue&&fe.shadow||!ue){let se=O.querySelector(".swiper-slide-shadow");if(!se&&fe.shadow&&(se=ol("creative",O)),se){let ve=v.shadowPerProgress?B*(1/v.limitProgress):B;se.style.opacity=Math.min(Math.max(Math.abs(ve),0),1)}}let ee=rl(v,O);ee.style.transform=re,ee.style.opacity=ge,fe.origin&&(ee.style.transformOrigin=fe.origin)}},setTransition:c=>{let u=e.slides.map(h=>Go(h));u.forEach(h=>{h.style.transitionDuration=`${c}ms`,h.querySelectorAll(".swiper-slide-shadow").forEach(v=>{v.style.transitionDuration=`${c}ms`})}),b1({swiper:e,duration:c,transformElements:u,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}function _L(n){let{swiper:e,extendParams:t,on:i}=n;t({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),ja({effect:"cards",swiper:e,on:i,setTranslate:()=>{let{slides:a,activeIndex:c,rtlTranslate:u}=e,h=e.params.cardsEffect,{startTranslate:v,isTouched:y}=e.touchEventsData,P=u?-e.translate:e.translate;for(let S=0;S<a.length;S+=1){let M=a[S],O=M.progress,R=Math.min(Math.max(O,-4),4),B=M.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(B-=a[0].swiperSlideOffset);let F=e.params.cssMode?-B-e.translate:-B,N=0,Y=-100*Math.abs(R),ne=1,ue=-h.perSlideRotate*R,fe=h.perSlideOffset-Math.abs(R)*.75,oe=e.virtual&&e.params.virtual.enabled?e.virtual.from+S:S,J=(oe===c||oe===c-1)&&R>0&&R<1&&(y||e.params.cssMode)&&P<v,pe=(oe===c||oe===c+1)&&R<0&&R>-1&&(y||e.params.cssMode)&&P>v;if(J||pe){let se=(1-Math.abs((Math.abs(R)-.5)/.5))**.5;ue+=-28*R*se,ne+=-.5*se,fe+=96*se,N=`${-25*se*Math.abs(R)}%`}if(R<0?F=`calc(${F}px ${u?"-":"+"} (${fe*Math.abs(R)}%))`:R>0?F=`calc(${F}px ${u?"-":"+"} (-${fe*Math.abs(R)}%))`:F=`${F}px`,!e.isHorizontal()){let se=N;N=F,F=se}let ge=R<0?`${1+(1-ne)*R}`:`${1-(1-ne)*R}`,re=`
        translate3d(${F}, ${N}, ${Y}px)
        rotateZ(${h.rotate?u?-ue:ue:0}deg)
        scale(${ge})
      `;if(h.slideShadows){let se=M.querySelector(".swiper-slide-shadow");se||(se=ol("cards",M)),se&&(se.style.opacity=Math.min(Math.max((Math.abs(R)-.5)/.5,0),1))}M.style.zIndex=-Math.abs(Math.round(O))+a.length;let ee=rl(h,M);ee.style.transform=re}},setTransition:a=>{let c=e.slides.map(u=>Go(u));c.forEach(u=>{u.style.transitionDuration=`${a}ms`,u.querySelectorAll(".swiper-slide-shadow").forEach(h=>{h.style.transitionDuration=`${a}ms`})}),b1({swiper:e,duration:a,transformElements:c})},perspective:()=>!0,overwriteParams:()=>({_loopSwapReset:!1,watchSlidesProgress:!0,loopAdditionalSlides:e.params.cardsEffect.rotate?3:2,centeredSlides:!0,virtualTranslate:!e.params.cssMode})})}var tX=[KT,QT,JT,eL,tL,nL,iL,rL,oL,aL,sL,lL,cL,dL,uL,pL,fL,mL,hL,gL,vL,bL,_L];v1.use(tX);var c4=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Q2(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Fg(n,e){let t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{typeof n[i]>"u"?n[i]=e[i]:Q2(e[i])&&Q2(n[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?n[i]=e[i]:Fg(n[i],e[i]):n[i]=e[i]})}function yL(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function xL(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function CL(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function d4(n){return n===void 0&&(n=""),n.replace(/-[a-z]/g,e=>e.toUpperCase().replace("-",""))}function ML(n){let{swiper:e,slides:t,passedParams:i,changedParams:r,nextEl:o,prevEl:a,scrollbarEl:c,paginationEl:u}=n,h=r.filter(J=>J!=="children"&&J!=="direction"&&J!=="wrapperClass"),{params:v,pagination:y,navigation:P,scrollbar:S,virtual:M,thumbs:O}=e,R,B,F,N,Y,ne,ue,fe;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&v.thumbs&&(!v.thumbs.swiper||v.thumbs.swiper.destroyed)&&(R=!0),r.includes("controller")&&i.controller&&i.controller.control&&v.controller&&!v.controller.control&&(B=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||u)&&(v.pagination||v.pagination===!1)&&y&&!y.el&&(F=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||c)&&(v.scrollbar||v.scrollbar===!1)&&S&&!S.el&&(N=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||a)&&(i.navigation.nextEl||o)&&(v.navigation||v.navigation===!1)&&P&&!P.prevEl&&!P.nextEl&&(Y=!0);let oe=J=>{e[J]&&(e[J].destroy(),J==="navigation"?(e.isElement&&(e[J].prevEl.remove(),e[J].nextEl.remove()),v[J].prevEl=void 0,v[J].nextEl=void 0,e[J].prevEl=void 0,e[J].nextEl=void 0):(e.isElement&&e[J].el.remove(),v[J].el=void 0,e[J].el=void 0))};r.includes("loop")&&e.isElement&&(v.loop&&!i.loop?ne=!0:!v.loop&&i.loop?ue=!0:fe=!0),h.forEach(J=>{if(Q2(v[J])&&Q2(i[J]))Object.assign(v[J],i[J]),(J==="navigation"||J==="pagination"||J==="scrollbar")&&"enabled"in i[J]&&!i[J].enabled&&oe(J);else{let pe=i[J];(pe===!0||pe===!1)&&(J==="navigation"||J==="pagination"||J==="scrollbar")?pe===!1&&oe(J):v[J]=i[J]}}),h.includes("controller")&&!B&&e.controller&&e.controller.control&&v.controller&&v.controller.control&&(e.controller.control=v.controller.control),r.includes("children")&&t&&M&&v.virtual.enabled?(M.slides=t,M.update(!0)):r.includes("virtual")&&M&&v.virtual.enabled&&(t&&(M.slides=t),M.update(!0)),r.includes("children")&&t&&v.loop&&(fe=!0),R&&O.init()&&O.update(!0),B&&(e.controller.control=v.controller.control),F&&(e.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-pagination"),u.part.add("pagination"),e.el.appendChild(u)),u&&(v.pagination.el=u),y.init(),y.render(),y.update()),N&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),e.el.appendChild(c)),c&&(v.scrollbar.el=c),S.init(),S.updateSize(),S.setTranslate()),Y&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),Lr(o,e.hostEl.constructor.nextButtonSvg),o.part.add("button-next"),e.el.appendChild(o)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),Lr(a,e.hostEl.constructor.prevButtonSvg),a.part.add("button-prev"),e.el.appendChild(a))),o&&(v.navigation.nextEl=o),a&&(v.navigation.prevEl=a),P.init(),P.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&e.changeDirection(i.direction,!1),(ne||fe)&&e.loopDestroy(),(ue||fe)&&e.loopCreate(),e.update()}var wL=n=>{if(parseFloat(n)===Number(n))return Number(n);if(n==="true"||n==="")return!0;if(n==="false")return!1;if(n==="null")return null;if(n!=="undefined"){if(typeof n=="string"&&n.includes("{")&&n.includes("}")&&n.includes('"')){let e;try{e=JSON.parse(n)}catch{e=n}return e}return n}},SL=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"];function bC(n,e,t){let i={},r={};Fg(i,Rg);let o=[...c4,"on"],a=o.map(u=>u.replace(/_/,""));o.forEach(u=>{u=u.replace("_",""),typeof n[u]<"u"&&(r[u]=n[u])});let c=[...n.attributes];return typeof e=="string"&&typeof t<"u"&&c.push({name:e,value:Q2(t)?ie({},t):t}),c.forEach(u=>{let h=SL.find(v=>u.name.startsWith(`${v}-`));if(h){let v=d4(h),y=d4(u.name.split(`${h}-`)[1]);typeof r[v]>"u"&&(r[v]={}),r[v]===!0&&(r[v]={enabled:!0}),r[v]===!1&&(r[v]={enabled:!1}),r[v][y]=wL(u.value)}else{let v=d4(u.name);if(!a.includes(v))return;let y=wL(u.value);r[v]&&SL.includes(u.name)&&!Q2(y)?(r[v].constructor!==Object&&(r[v]={}),r[v].enabled=!!y):r[v]=y}}),Fg(i,r),i.navigation?i.navigation=ie({prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},i.navigation!==!0?i.navigation:{}):i.navigation===!1&&delete i.navigation,i.scrollbar?i.scrollbar=ie({el:".swiper-scrollbar"},i.scrollbar!==!0?i.scrollbar:{}):i.scrollbar===!1&&delete i.scrollbar,i.pagination?i.pagination=ie({el:".swiper-pagination"},i.pagination!==!0?i.pagination:{}):i.pagination===!1&&delete i.pagination,{params:i,passedParams:r}}var nX=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}",iX="::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}",_C=class{},kL=typeof window>"u"||typeof HTMLElement>"u"?_C:HTMLElement,PL=`<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>
    `,OL=(n,e)=>{if(typeof CSSStyleSheet<"u"&&n.adoptedStyleSheets){let t=new CSSStyleSheet;t.replaceSync(e),n.adoptedStyleSheets=[t]}else{let t=document.createElement("style");t.rel="stylesheet",t.textContent=e,n.appendChild(t)}},Vg=class extends kL{constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return PL}static get prevButtonSvg(){return PL.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[nX,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join(`
`)}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){let e=this.slideSlots||0,t=[...this.querySelectorAll("[slot^=slide-]")].map(i=>parseInt(i.getAttribute("slot").split("slide-")[1],10));if(this.slideSlots=t.length?Math.max(...t)+1:0,!!this.rendered){if(this.slideSlots>e)for(let i=e;i<this.slideSlots;i+=1){let r=document.createElement("swiper-slide");r.setAttribute("part",`slide slide-${i+1}`);let o=document.createElement("slot");o.setAttribute("name",`slide-${i+1}`),r.appendChild(o),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(r)}else if(this.slideSlots<e){let i=this.swiper.slides;for(let r=i.length-1;r>=0;r-=1)r>this.slideSlots&&i[r].remove()}}}render(){if(this.rendered)return;this.calcSlideSlots();let e=this.cssStyles();this.slideSlots>0&&(e=e.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),e.length&&OL(this.shadowRoot,e),this.cssLinks().forEach(i=>{if(this.shadowRoot.querySelector(`link[href="${i}"]`))return;let o=document.createElement("link");o.rel="stylesheet",o.href=i,this.shadowRoot.appendChild(o)});let t=document.createElement("div");t.classList.add("swiper"),t.part="container",Lr(t,`
      <slot name="container-start"></slot>
      <div class="swiper-wrapper" part="wrapper">
        <slot></slot>
        ${Array.from({length:this.slideSlots}).map((i,r)=>`
        <swiper-slide part="slide slide-${r}">
          <slot name="slide-${r}"></slot>
        </swiper-slide>
        `).join("")}
      </div>
      <slot name="container-end"></slot>
      ${yL(this.passedParams)?`
        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>
        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>
      `:""}
      ${xL(this.passedParams)?`
        <div part="pagination" class="swiper-pagination"></div>
      `:""}
      ${CL(this.passedParams)?`
        <div part="scrollbar" class="swiper-scrollbar"></div>
      `:""}
    `),this.shadowRoot.appendChild(t),this.rendered=!0}initialize(){var e=this;if(this.swiper&&this.swiper.initialized)return;let{params:t,passedParams:i}=bC(this);this.swiperParams=t,this.passedParams=i,delete this.swiperParams.init,this.render(),this.swiper=new v1(this.shadowRoot.querySelector(".swiper"),Ve(ie(ie({},t.virtual?{}:{observer:!0}),t),{touchEventsTarget:"container",onAny:function(r){r==="observerUpdate"&&e.calcSlideSlots();let o=t.eventsPrefix?`${t.eventsPrefix}${r.toLowerCase()}`:r.toLowerCase();for(var a=arguments.length,c=new Array(a>1?a-1:0),u=1;u<a;u++)c[u-1]=arguments[u];let h=new CustomEvent(o,{detail:c,bubbles:r!=="hashChange",cancelable:!0});e.dispatchEvent(h)}}))}connectedCallback(){this.swiper&&this.swiper.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||this.init===!1||this.getAttribute("init")==="false"||this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||this.swiper&&this.swiper.destroy&&this.swiper.destroy()}updateSwiperOnPropChange(e,t){let{params:i,passedParams:r}=bC(this,e,t);this.passedParams=r,this.swiperParams=i,!(this.swiper&&this.swiper.params[e]===t)&&ML(ie(ie(ie({swiper:this.swiper,passedParams:this.passedParams,changedParams:[d4(e)]},e==="navigation"&&r[e]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{}),e==="pagination"&&r[e]?{paginationEl:".swiper-pagination"}:{}),e==="scrollbar"&&r[e]?{scrollbarEl:".swiper-scrollbar"}:{}))}attributeChangedCallback(e,t,i){this.swiper&&this.swiper.initialized&&(t==="true"&&i===null&&(i=!1),this.updateSwiperOnPropChange(e,i))}static get observedAttributes(){return c4.filter(t=>t.includes("_")).map(t=>t.replace(/[A-Z]/g,i=>`-${i}`).replace("_","").toLowerCase())}};c4.forEach(n=>{n!=="init"&&(n=n.replace("_",""),Object.defineProperty(Vg.prototype,n,{configurable:!0,get(){return(this.passedParams||{})[n]},set(e){this.passedParams||(this.passedParams={}),this.passedParams[n]=e,this.swiper&&this.swiper.initialized&&this.updateSwiperOnPropChange(n,e)}}))});var yC=class extends kL{constructor(){super(),this.attachShadow({mode:"open"})}render(){let e=this.lazy||this.getAttribute("lazy")===""||this.getAttribute("lazy")==="true";if(OL(this.shadowRoot,iX),this.shadowRoot.appendChild(document.createElement("slot")),e){let t=document.createElement("div");t.classList.add("swiper-lazy-preloader"),t.part.add("preloader"),this.shadowRoot.appendChild(t)}}initialize(){this.render()}connectedCallback(){this.swiperLoopMoveDOM||this.initialize()}},Bg=()=>{typeof window>"u"||(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",Vg),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",yC))};typeof window<"u"&&(window.SwiperElementRegisterParams=n=>{c4.push(...n)});function rX(n,e){n&1&&(l(0,"div",15),m(1," Guest favorite "),d())}var _1=class n{imageUrl;title;subtitle;price;rating;isFavourite=!1;reviewCount=0;propertyId;cardClick=new ye;wishlistClick=new ye;onCardClick(){this.cardClick.emit(this.propertyId)}onWishlistClick(e){e.stopPropagation(),console.log("event orm slider-card ",e),this.wishlistClick.emit(this.propertyId)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=le({type:n,selectors:[["app-slider-card"]],inputs:{imageUrl:"imageUrl",title:"title",subtitle:"subtitle",price:"price",rating:"rating",isFavourite:"isFavourite",reviewCount:"reviewCount",propertyId:"propertyId"},outputs:{cardClick:"cardClick",wishlistClick:"wishlistClick"},decls:21,vars:8,consts:[[1,"card","border-0","rounded","rounded-2","cursor-pointer",3,"click"],[1,"image-container","position-relative"],["alt","listing image","loading","lazy",1,"img-fluid","rounded-4","ratio-1x1",3,"src"],["class","favorite badge position-absolute top-0 start-0 m-2",4,"ngIf"],[1,"bi","text-success","position-absolute","top-0","end-0","m-2",3,"click"],["viewBox","0 0 32 32","aria-hidden","true","role","presentation","focusable","false",2,"display","block","height","24px","width","24px","stroke","white","stroke-width","2","overflow","visible"],["d","M16 28c7-4.73 14-10 14-17a6.98 6.98 0 0 0-7-7c-1.8 0-3.58.68-4.95 2.05L16 8.1l-2.05-2.05a6.98 6.98 0 0 0-9.9 0A6.98 6.98 0 0 0 2 11c0 7 7 12.27 14 17z"],[1,"info","px-2","pt-2","pb-3"],[1,"title","fw-semibold"],[1,"subtitle","small"],[1,"d-flex","justify-content-between","align-items-center","mt-1","flex-row-reverse"],[1,"rating","small","d-flex","align-items-center"],[1,"bi","bi-star-fill","text-warning","me-1","rating"],[1,"price"],[1,"small"],[1,"favorite","badge","position-absolute","top-0","start-0","m-2"]],template:function(t,i){t&1&&(l(0,"div",0),T("click",function(){return i.onCardClick()}),l(1,"div",1),k(2,"img",2),j(3,rX,2,0,"div",3),l(4,"button",4),T("click",function(o){return i.onWishlistClick(o)}),l(5,"div"),$e(),l(6,"svg",5),k(7,"path",6),d()()()(),lt(),l(8,"div",7)(9,"div",8),m(10),d(),l(11,"div",9),m(12),d(),l(13,"div",10)(14,"div",11),k(15,"i",12),m(16),d(),l(17,"div",13),m(18),l(19,"span",14),m(20,"per night"),d()()()()()),t&2&&(p(2),_("src",i.imageUrl,et),p(),_("ngIf",i.rating>4&&i.reviewCount>100),p(3),xt("fill",i.isFavourite?"#ff385c":"rgba(0, 0, 0, 0.5)"),p(4),$(i.title),p(2),$(i.subtitle),p(4),U("",i.rating," "),p(2),U("$",i.price," "))},dependencies:[he,Ce],styles:[".card[_ngcontent-%COMP%]{overflow:hidden;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;transition:transform .2s ease-in-out;background-color:transparent!important;color:var(--primary-text-color)}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:160px;object-fit:cover}.favorite[_ngcontent-%COMP%]{font-size:14px;padding:4px 10px;border-radius:999px;color:#fff;background-color:#0000004d;transition:all .3s ease-in-out}.heart[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.heart[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;color:#fff}.title[_ngcontent-%COMP%]{font-size:14px}.subtitle[_ngcontent-%COMP%], .price[_ngcontent-%COMP%], .rating[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text-color)!important}"]})};var oX=["swiperEl"],aX=()=>[1,2,3,4,5,6,7];function sX(n,e){if(n&1){let t=X();l(0,"swiper-slide")(1,"app-slider-card",14),T("cardClick",function(r){z(t);let o=C(2);return A(o.onCardClicked(r))})("wishlistClick",function(r){z(t);let o=C(2);return A(o.onWishListClick(r))}),d()()}if(n&2){let t=e.$implicit,i=C(2);p(),_("propertyId",t.id)("title",t.title)("imageUrl",i.getPropertyImage(t))("price",t.pricePerNight)("description",t.description)("rating",t.averageRating)("isFavourite",t.isFavourite??!1)("reviewCount",t.reviewCount)}}function lX(n,e){if(n&1&&(zt(0),j(1,sX,2,8,"swiper-slide",13),At()),n&2){let t=C();p(),_("ngForOf",t.properties)("ngForTrackBy",t.trackByPropertyId)}}function cX(n,e){n&1&&(l(0,"swiper-slide")(1,"div",16),k(2,"div",17)(3,"div",18)(4,"div",19),l(5,"div",20),k(6,"div",21)(7,"div",21),d()()())}function dX(n,e){n&1&&j(0,cX,8,0,"swiper-slide",15),n&2&&_("ngForOf",Kt(1,aX))}Bg();var jg=class n{isLoading=!1;title="";slidesPerView=3;propertyClicked=new ye;wishlistIconClick=new ye;onWishListClick(e){this.wishlistIconClick.emit(e)}onCardClicked(e){this.propertyClicked.emit(e)}swiperEl;isBeginning=!0;isEnd=!1;breakpoints={};properties=[];ngOnInit(){this.breakpoints={320:{slidesPerView:1,spaceBetween:12},640:{slidesPerView:2,spaceBetween:16},768:{slidesPerView:3,spaceBetween:16},1024:{slidesPerView:this.slidesPerView,spaceBetween:16},1280:{slidesPerView:this.slidesPerView,spaceBetween:16}},setTimeout(()=>{this.setupSwiperEvents()},100)}setupSwiperEvents(){let e=this.swiperEl?.nativeElement;e&&(e.addEventListener("swiperslidechange",()=>{this.updateNavigationState()}),e.addEventListener("swiperreachbeginning",()=>{this.isBeginning=!0}),e.addEventListener("swiperreachend",()=>{this.isEnd=!0}),e.addEventListener("swiperfrombeginning",()=>{this.isBeginning=!1}),e.addEventListener("swiperfromend",()=>{this.isEnd=!1}))}updateNavigationState(){let e=this.swiperEl?.nativeElement;e?.swiper&&(this.isBeginning=e.swiper.isBeginning,this.isEnd=e.swiper.isEnd)}slideNext(){let e=this.swiperEl?.nativeElement;e?.swiper&&e.swiper.slideNext()}slidePrev(){let e=this.swiperEl?.nativeElement;e?.swiper&&e.swiper.slidePrev()}trackByPropertyId(e,t){return t.id}getPropertyImage(e){let t=e.images?.find(i=>i.isCover&&!i.isDeleted);return t?.imageUrl?`${Ke.base}${t.imageUrl}`:"assets/images/deafult.png"}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=le({type:n,selectors:[["app-property-swiper"]],viewQuery:function(t,i){if(t&1&&en(oX,5),t&2){let r;qt(r=Zt())&&(i.swiperEl=r.first)}},inputs:{isLoading:"isLoading",title:"title",slidesPerView:"slidesPerView",properties:"properties"},outputs:{propertyClicked:"propertyClicked",wishlistIconClick:"wishlistIconClick"},decls:16,vars:7,consts:[["swiperEl",""],["shimmerSlides",""],[1,"properties-container","container"],[1,"header","mt-3"],[1,"title"],["dir","ltr",1,"navigation-arrows"],[1,"nav-btn","prev-btn",3,"click","disabled"],["width","16","height","16","viewBox","0 0 24 24","fill","none"],["d","M15 18L9 12L15 6","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"nav-btn","next-btn",3,"click","disabled"],["d","M9 18L15 12L9 6","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["space-between","16","grab-cursor","true","mousewheel","false","keyboard","true",3,"breakpoints"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"cardClick","wishlistClick","propertyId","title","imageUrl","price","description","rating","isFavourite","reviewCount"],[4,"ngFor","ngForOf"],[1,"shimmer-card","p-2","rounded-2"],[1,"shimmer","shimmer-img","rounded-4","mb-2","ratio-1x1","w-100"],[1,"shimmer","shimmer-line","mb-1","w-75"],[1,"shimmer","shimmer-line","mb-1","w-50"],[1,"d-flex","justify-content-between","mt-2"],[1,"shimmer","shimmer-line","w-25"]],template:function(t,i){if(t&1){let r=X();l(0,"div",2)(1,"div",3)(2,"h2",4),m(3),d(),l(4,"div",5)(5,"button",6),T("click",function(){return z(r),A(i.slidePrev())}),$e(),l(6,"svg",7),k(7,"path",8),d()(),lt(),l(8,"button",9),T("click",function(){return z(r),A(i.slideNext())}),$e(),l(9,"svg",7),k(10,"path",10),d()()()(),lt(),l(11,"swiper-container",11,0),j(13,lX,2,2,"ng-container",12)(14,dX,1,2,"ng-template",null,1,Ta),d()()}if(t&2){let r=qi(15);p(3),$(i.title),p(2),_("disabled",i.isBeginning),p(3),_("disabled",i.isEnd),p(3),_("breakpoints",i.breakpoints),an("slides-per-view",i.slidesPerView),p(2),_("ngIf",!i.isLoading)("ngIfElse",r)}},dependencies:[he,Xe,Ce,_1],styles:[".properties-container[_ngcontent-%COMP%]{margin:0 auto;padding:0 20px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;overflow:hidden}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.title[_ngcontent-%COMP%]{font-size:22px;font-weight:600;color:#222;margin:0}.navigation-arrows[_ngcontent-%COMP%]{display:flex;gap:8px}.nav-btn[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;border:1px solid #ddd;background:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;color:#222}.nav-btn[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#222;transform:scale(1.04)}.nav-btn[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}swiper-container[_ngcontent-%COMP%]{padding:0rem 0 1rem!important;width:100%;overflow:hidden}swiper-slide[_ngcontent-%COMP%]{margin-bottom:.5rem;height:auto}@media (max-width: 768px){.properties-container[_ngcontent-%COMP%]{padding:0 16px}.title[_ngcontent-%COMP%]{font-size:20px}.navigation-arrows[_ngcontent-%COMP%]{display:none}swiper-slide[_ngcontent-%COMP%]{width:240px!important}}@media (max-width: 480px){swiper-slide[_ngcontent-%COMP%]{width:200px!important}}"]})};var u4=class n{homeContext="";dynamicContext="";setHomeContext(e){this.homeContext=e}setDynamicContext(e){this.dynamicContext=e}appendDynamicContext(e){this.dynamicContext+=`
`+e}getContext(){return`${this.homeContext}
${this.dynamicContext}`.trim()}clearDynamicContext(){this.dynamicContext=""}clearAllContext(){this.homeContext="",this.dynamicContext=""}static \u0275fac=function(t){return new(t||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var x1=class{},DL=(()=>{class n extends x1{getTranslation(t){return qe({})}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})();static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),bp=class{},EL=(()=>{class n{handle(t){return t.key}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})();function Ug(n,e){if(n===e)return!0;if(n===null||e===null)return!1;if(n!==n&&e!==e)return!0;let t=typeof n,i=typeof e,r,o,a;if(t==i&&t=="object")if(Array.isArray(n)){if(!Array.isArray(e))return!1;if((r=n.length)==e.length){for(o=0;o<r;o++)if(!Ug(n[o],e[o]))return!1;return!0}}else{if(Array.isArray(e))return!1;a=Object.create(null);for(o in n){if(!Ug(n[o],e[o]))return!1;a[o]=!0}for(o in e)if(!(o in a)&&typeof e[o]<"u")return!1;return!0}return!1}function y1(n){return typeof n<"u"&&n!==null}function yp(n){return Hg(n)&&!kC(n)&&n!==null}function Hg(n){return typeof n=="object"}function kC(n){return Array.isArray(n)}function OC(n){return typeof n=="string"}function uX(n){return typeof n=="function"}function xC(n,e){let t=Object.assign({},n);return Hg(n)?(Hg(n)&&Hg(e)&&Object.keys(e).forEach(i=>{yp(e[i])?i in n?t[i]=xC(n[i],e[i]):Object.assign(t,{[i]:e[i]}):Object.assign(t,{[i]:e[i]})}),t):xC({},e)}function CC(n,e){let t=e.split(".");e="";do e+=t.shift(),y1(n)&&y1(n[e])&&(yp(n[e])||kC(n[e])||!t.length)?(n=n[e],e=""):t.length?e+=".":n=void 0;while(t.length);return n}function pX(n,e,t){let i=e.split("."),r=n;for(let o=0;o<i.length;o++){let a=i[o];o===i.length-1?r[a]=t:((!r[a]||!yp(r[a]))&&(r[a]={}),r=r[a])}}var p4=class{},IL=(()=>{class n extends p4{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(t,i){if(OC(t))return this.interpolateString(t,i);if(uX(t))return this.interpolateFunction(t,i)}interpolateFunction(t,i){return t(i)}interpolateString(t,i){return i?t.replace(this.templateMatcher,(r,o)=>{let a=CC(i,o);return y1(a)?a:r}):t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})();static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),f4=class{},TL=(()=>{class n extends f4{compile(t,i){return t}compileTranslations(t,i){return t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})();static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),_p=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new ye;onLangChange=new ye;onDefaultLangChange=new ye},MC=new He("ISOLATE_TRANSLATE_SERVICE"),wC=new He("USE_DEFAULT_LANG"),SC=new He("DEFAULT_LANGUAGE"),PC=new He("USE_EXTEND"),vp=n=>na(n)?n:qe(n),Qi=(()=>{class n{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(t){this.store.defaultLang=t}get currentLang(){return this.store.currentLang}set currentLang(t){this.store.currentLang=t}get langs(){return this.store.langs}set langs(t){this.store.langs=t}get translations(){return this.store.translations}set translations(t){this.store.translations=t}constructor(t,i,r,o,a,c=!0,u=!1,h=!1,v){this.store=t,this.currentLoader=i,this.compiler=r,this.parser=o,this.missingTranslationHandler=a,this.useDefaultLang=c,this.extend=h,u&&(this.store=new _p),v&&this.setDefaultLang(v)}setDefaultLang(t){if(t===this.defaultLang)return;let i=this.retrieveTranslations(t);typeof i<"u"?(this.defaultLang==null&&(this.defaultLang=t),i.pipe(vr(1)).subscribe(()=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(this.lastUseLanguage=t,t===this.currentLang)return qe(this.translations[t]);this.currentLang||(this.currentLang=t);let i=this.retrieveTranslations(t);return na(i)?(i.pipe(vr(1)).subscribe(()=>{this.changeLang(t)}),i):(this.changeLang(t),qe(this.translations[t]))}changeLang(t){t===this.lastUseLanguage&&(this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),this.defaultLang==null&&this.changeDefaultLang(t))}retrieveTranslations(t){if(typeof this.translations[t]>"u"||this.extend)return this._translationRequests[t]=this._translationRequests[t]||this.loadAndCompileTranslations(t),this._translationRequests[t]}getTranslation(t){return this.loadAndCompileTranslations(t)}loadAndCompileTranslations(t){this.pending=!0;let i=this.currentLoader.getTranslation(t).pipe(X0(1),vr(1));return this.loadingTranslations=i.pipe(Ne(r=>this.compiler.compileTranslations(r,t)),X0(1),vr(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[t]=this.extend&&this.translations[t]?ie(ie({},r),this.translations[t]):r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),i}setTranslation(t,i,r=!1){let o=this.compiler.compileTranslations(i,t);(r||this.extend)&&this.translations[t]?this.translations[t]=xC(this.translations[t],o):this.translations[t]=o,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){let i=t.filter(r=>!this.langs.includes(r));i.length>0&&(this.langs=[...this.langs,...i])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(t,i,r){let o;if(t&&(o=this.runInterpolation(CC(t,i),r)),o===void 0&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.runInterpolation(CC(this.translations[this.defaultLang],i),r)),o===void 0){let a={key:i,translateService:this};typeof r<"u"&&(a.interpolateParams=r),o=this.missingTranslationHandler.handle(a)}return o!==void 0?o:i}runInterpolation(t,i){if(kC(t))return t.map(r=>this.runInterpolation(r,i));if(yp(t)){let r={};for(let o in t){let a=this.runInterpolation(t[o],i);a!==void 0&&(r[o]=a)}return r}else return this.parser.interpolate(t,i)}getParsedResult(t,i,r){if(i instanceof Array){let o={},a=!1;for(let u of i)o[u]=this.getParsedResultForKey(t,u,r),a=a||na(o[u]);if(!a)return o;let c=i.map(u=>vp(o[u]));return Bl(c).pipe(Ne(u=>{let h={};return u.forEach((v,y)=>{h[i[y]]=v}),h}))}return this.getParsedResultForKey(t,i,r)}get(t,i){if(!y1(t)||!t.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(Ma(r=>vp(this.getParsedResult(r,t,i)))):vp(this.getParsedResult(this.translations[this.currentLang],t,i))}getStreamOnTranslationChange(t,i){if(!y1(t)||!t.length)throw new Error('Parameter "key" is required and cannot be empty');return Ka(Hc(()=>this.get(t,i)),this.onTranslationChange.pipe(ii(r=>{let o=this.getParsedResult(r.translations,t,i);return vp(o)})))}stream(t,i){if(!y1(t)||!t.length)throw new Error('Parameter "key" required');return Ka(Hc(()=>this.get(t,i)),this.onLangChange.pipe(ii(r=>{let o=this.getParsedResult(r.translations,t,i);return vp(o)})))}instant(t,i){if(!y1(t)||t.length===0)throw new Error('Parameter "key" is required and cannot be empty');let r=this.getParsedResult(this.translations[this.currentLang],t,i);return na(r)?Array.isArray(t)?t.reduce((o,a)=>(o[a]=a,o),{}):t:r}set(t,i,r=this.currentLang){pX(this.translations[r],t,OC(i)?this.compiler.compile(i,r):this.compiler.compileTranslations(i,r)),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.loadAndCompileTranslations(t)}resetLang(t){delete this._translationRequests[t],delete this.translations[t]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let t=this.getBrowserCultureLang();return t?t.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(i){return new(i||n)(De(_p),De(x1),De(f4),De(p4),De(bp),De(wC),De(MC),De(PC),De(SC))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Xt=(()=>{class n{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(t,i){this.translate=t,this._ref=i}updateValue(t,i,r){let o=a=>{this.value=a!==void 0?a:t,this.lastKey=t,this._ref.markForCheck()};if(r){let a=this.translate.getParsedResult(r,t,i);na(a)?a.subscribe(o):o(a)}this.translate.get(t,i).subscribe(o)}transform(t,...i){if(!t||!t.length)return t;if(Ug(t,this.lastKey)&&Ug(i,this.lastParams))return this.value;let r;if(y1(i[0])&&i.length)if(OC(i[0])&&i[0].length){let o=i[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{r=JSON.parse(o)}catch(a){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else yp(i[0])&&(r=i[0]);return this.lastKey=t,this.lastParams=i,this.updateValue(t,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{this.lastKey&&o.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,r,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,r,o.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,r))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(i){return new(i||n)(V(Qi,16),V(Ot,16))};static \u0275pipe=Kl({name:"translate",type:n,pure:!1});static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})();var wt=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[t.loader||{provide:x1,useClass:DL},t.compiler||{provide:f4,useClass:TL},t.parser||{provide:p4,useClass:IL},t.missingTranslationHandler||{provide:bp,useClass:EL},_p,{provide:MC,useValue:t.isolate},{provide:wC,useValue:t.useDefaultLang},{provide:PC,useValue:t.extend},{provide:SC,useValue:t.defaultLanguage},Qi]}}static forChild(t={}){return{ngModule:n,providers:[t.loader||{provide:x1,useClass:DL},t.compiler||{provide:f4,useClass:TL},t.parser||{provide:p4,useClass:IL},t.missingTranslationHandler||{provide:bp,useClass:EL},{provide:MC,useValue:t.isolate},{provide:wC,useValue:t.useDefaultLang},{provide:PC,useValue:t.extend},{provide:SC,useValue:t.defaultLanguage},Qi]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=xn({type:n});static \u0275inj=gn({})}return n})();function TC(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var e0=TC();function FL(n){e0=n}var Mp={exec:()=>null};function Kn(n,e=""){let t=typeof n=="string"?n:n.source,i={replace:(r,o)=>{let a=typeof o=="string"?o:o.source;return a=a.replace(Mo.caret,"$1"),t=t.replace(r,a),i},getRegex:()=>new RegExp(t,e)};return i}var Mo={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},fX=/^(?:[ \t]*(?:\n|$))+/,mX=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,hX=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,wp=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,gX=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,LC=/(?:[*+-]|\d{1,9}[.)])/,VL=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,BL=Kn(VL).replace(/bull/g,LC).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),vX=Kn(VL).replace(/bull/g,LC).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),zC=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,bX=/^[^\n]+/,AC=/(?!\s*\])(?:\\.|[^\[\]\\])+/,_X=Kn(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",AC).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),yX=Kn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,LC).getRegex(),Zg="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",NC=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,xX=Kn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",NC).replace("tag",Zg).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),jL=Kn(zC).replace("hr",wp).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zg).getRegex(),CX=Kn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",jL).getRegex(),RC={blockquote:CX,code:mX,def:_X,fences:hX,heading:gX,hr:wp,html:xX,lheading:BL,list:yX,newline:fX,paragraph:jL,table:Mp,text:bX},LL=Kn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",wp).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zg).getRegex(),MX=Ve(ie({},RC),{lheading:vX,table:LL,paragraph:Kn(zC).replace("hr",wp).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",LL).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zg).getRegex()}),wX=Ve(ie({},RC),{html:Kn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",NC).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Mp,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Kn(zC).replace("hr",wp).replace("heading",` *#{1,6} *[^
]`).replace("lheading",BL).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),SX=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,PX=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,HL=/^( {2,}|\\)\n(?!\s*$)/,kX=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Xg=/[\p{P}\p{S}]/u,FC=/[\s\p{P}\p{S}]/u,UL=/[^\s\p{P}\p{S}]/u,OX=Kn(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,FC).getRegex(),$L=/(?!~)[\p{P}\p{S}]/u,DX=/(?!~)[\s\p{P}\p{S}]/u,EX=/(?:[^\s\p{P}\p{S}]|~)/u,IX=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,WL=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,TX=Kn(WL,"u").replace(/punct/g,Xg).getRegex(),LX=Kn(WL,"u").replace(/punct/g,$L).getRegex(),GL="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",zX=Kn(GL,"gu").replace(/notPunctSpace/g,UL).replace(/punctSpace/g,FC).replace(/punct/g,Xg).getRegex(),AX=Kn(GL,"gu").replace(/notPunctSpace/g,EX).replace(/punctSpace/g,DX).replace(/punct/g,$L).getRegex(),NX=Kn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,UL).replace(/punctSpace/g,FC).replace(/punct/g,Xg).getRegex(),RX=Kn(/\\(punct)/,"gu").replace(/punct/g,Xg).getRegex(),FX=Kn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),VX=Kn(NC).replace("(?:-->|$)","-->").getRegex(),BX=Kn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",VX).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Gg=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,jX=Kn(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Gg).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),YL=Kn(/^!?\[(label)\]\[(ref)\]/).replace("label",Gg).replace("ref",AC).getRegex(),qL=Kn(/^!?\[(ref)\](?:\[\])?/).replace("ref",AC).getRegex(),HX=Kn("reflink|nolink(?!\\()","g").replace("reflink",YL).replace("nolink",qL).getRegex(),VC={_backpedal:Mp,anyPunctuation:RX,autolink:FX,blockSkip:IX,br:HL,code:PX,del:Mp,emStrongLDelim:TX,emStrongRDelimAst:zX,emStrongRDelimUnd:NX,escape:SX,link:jX,nolink:qL,punctuation:OX,reflink:YL,reflinkSearch:HX,tag:BX,text:kX,url:Mp},UX=Ve(ie({},VC),{link:Kn(/^!?\[(label)\]\((.*?)\)/).replace("label",Gg).getRegex(),reflink:Kn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Gg).getRegex()}),DC=Ve(ie({},VC),{emStrongRDelimAst:AX,emStrongLDelim:LX,url:Kn(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),$X=Ve(ie({},DC),{br:Kn(HL).replace("{2,}","*").getRegex(),text:Kn(DC.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),$g={normal:RC,gfm:MX,pedantic:wX},xp={normal:VC,gfm:DC,breaks:$X,pedantic:UX},WX={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zL=n=>WX[n];function al(n,e){if(e){if(Mo.escapeTest.test(n))return n.replace(Mo.escapeReplace,zL)}else if(Mo.escapeTestNoEncode.test(n))return n.replace(Mo.escapeReplaceNoEncode,zL);return n}function AL(n){try{n=encodeURI(n).replace(Mo.percentDecode,"%")}catch{return null}return n}function NL(n,e){let t=n.replace(Mo.findPipe,(o,a,c)=>{let u=!1,h=a;for(;--h>=0&&c[h]==="\\";)u=!u;return u?"|":" |"}),i=t.split(Mo.splitPipe),r=0;if(i[0].trim()||i.shift(),i.length>0&&!i.at(-1)?.trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(Mo.slashPipe,"|");return i}function Cp(n,e,t){let i=n.length;if(i===0)return"";let r=0;for(;r<i;){let o=n.charAt(i-r-1);if(o===e&&!t)r++;else if(o!==e&&t)r++;else break}return n.slice(0,i-r)}function GX(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let i=0;i<n.length;i++)if(n[i]==="\\")i++;else if(n[i]===e[0])t++;else if(n[i]===e[1]&&(t--,t<0))return i;return t>0?-2:-1}function RL(n,e,t,i,r){let o=e.href,a=e.title||null,c=n[1].replace(r.other.outputLinkReplace,"$1");i.state.inLink=!0;let u={type:n[0].charAt(0)==="!"?"image":"link",raw:t,href:o,title:a,text:c,tokens:i.inlineTokens(c)};return i.state.inLink=!1,u}function YX(n,e,t){let i=n.match(t.other.indentCodeCompensation);if(i===null)return e;let r=i[1];return e.split(`
`).map(o=>{let a=o.match(t.other.beginningSpace);if(a===null)return o;let[c]=a;return c.length>=r.length?o.slice(r.length):o}).join(`
`)}var Yg=class{options;rules;lexer;constructor(n){this.options=n||e0}space(n){let e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){let e=this.rules.block.code.exec(n);if(e){let t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Cp(t,`
`)}}}fences(n){let e=this.rules.block.fences.exec(n);if(e){let t=e[0],i=YX(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:i}}}heading(n){let e=this.rules.block.heading.exec(n);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){let i=Cp(t,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(t=i.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(n){let e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:Cp(e[0],`
`)}}blockquote(n){let e=this.rules.block.blockquote.exec(n);if(e){let t=Cp(e[0],`
`).split(`
`),i="",r="",o=[];for(;t.length>0;){let a=!1,c=[],u;for(u=0;u<t.length;u++)if(this.rules.other.blockquoteStart.test(t[u]))c.push(t[u]),a=!0;else if(!a)c.push(t[u]);else break;t=t.slice(u);let h=c.join(`
`),v=h.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${h}`:h,r=r?`${r}
${v}`:v;let y=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(v,o,!0),this.lexer.state.top=y,t.length===0)break;let P=o.at(-1);if(P?.type==="code")break;if(P?.type==="blockquote"){let S=P,M=S.raw+`
`+t.join(`
`),O=this.blockquote(M);o[o.length-1]=O,i=i.substring(0,i.length-S.raw.length)+O.raw,r=r.substring(0,r.length-S.text.length)+O.text;break}else if(P?.type==="list"){let S=P,M=S.raw+`
`+t.join(`
`),O=this.list(M);o[o.length-1]=O,i=i.substring(0,i.length-P.raw.length)+O.raw,r=r.substring(0,r.length-S.raw.length)+O.raw,t=M.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:o,text:r}}}list(n){let e=this.rules.block.list.exec(n);if(e){let t=e[1].trim(),i=t.length>1,r={type:"list",raw:"",ordered:i,start:i?+t.slice(0,-1):"",loose:!1,items:[]};t=i?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=i?t:"[*+-]");let o=this.rules.other.listItemRegex(t),a=!1;for(;n;){let u=!1,h="",v="";if(!(e=o.exec(n))||this.rules.block.hr.test(n))break;h=e[0],n=n.substring(h.length);let y=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,B=>" ".repeat(3*B.length)),P=n.split(`
`,1)[0],S=!y.trim(),M=0;if(this.options.pedantic?(M=2,v=y.trimStart()):S?M=e[1].length+1:(M=e[2].search(this.rules.other.nonSpaceChar),M=M>4?1:M,v=y.slice(M),M+=e[1].length),S&&this.rules.other.blankLine.test(P)&&(h+=P+`
`,n=n.substring(P.length+1),u=!0),!u){let B=this.rules.other.nextBulletRegex(M),F=this.rules.other.hrRegex(M),N=this.rules.other.fencesBeginRegex(M),Y=this.rules.other.headingBeginRegex(M),ne=this.rules.other.htmlBeginRegex(M);for(;n;){let ue=n.split(`
`,1)[0],fe;if(P=ue,this.options.pedantic?(P=P.replace(this.rules.other.listReplaceNesting,"  "),fe=P):fe=P.replace(this.rules.other.tabCharGlobal,"    "),N.test(P)||Y.test(P)||ne.test(P)||B.test(P)||F.test(P))break;if(fe.search(this.rules.other.nonSpaceChar)>=M||!P.trim())v+=`
`+fe.slice(M);else{if(S||y.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||N.test(y)||Y.test(y)||F.test(y))break;v+=`
`+P}!S&&!P.trim()&&(S=!0),h+=ue+`
`,n=n.substring(ue.length+1),y=fe.slice(M)}}r.loose||(a?r.loose=!0:this.rules.other.doubleBlankLine.test(h)&&(a=!0));let O=null,R;this.options.gfm&&(O=this.rules.other.listIsTask.exec(v),O&&(R=O[0]!=="[ ] ",v=v.replace(this.rules.other.listReplaceTask,""))),r.items.push({type:"list_item",raw:h,task:!!O,checked:R,loose:!1,text:v,tokens:[]}),r.raw+=h}let c=r.items.at(-1);if(c)c.raw=c.raw.trimEnd(),c.text=c.text.trimEnd();else return;r.raw=r.raw.trimEnd();for(let u=0;u<r.items.length;u++)if(this.lexer.state.top=!1,r.items[u].tokens=this.lexer.blockTokens(r.items[u].text,[]),!r.loose){let h=r.items[u].tokens.filter(y=>y.type==="space"),v=h.length>0&&h.some(y=>this.rules.other.anyLine.test(y.raw));r.loose=v}if(r.loose)for(let u=0;u<r.items.length;u++)r.items[u].loose=!0;return r}}html(n){let e=this.rules.block.html.exec(n);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(n){let e=this.rules.block.def.exec(n);if(e){let t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:i,title:r}}}table(n){let e=this.rules.block.table.exec(n);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let t=NL(e[1]),i=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===i.length){for(let a of i)this.rules.other.tableAlignRight.test(a)?o.align.push("right"):this.rules.other.tableAlignCenter.test(a)?o.align.push("center"):this.rules.other.tableAlignLeft.test(a)?o.align.push("left"):o.align.push(null);for(let a=0;a<t.length;a++)o.header.push({text:t[a],tokens:this.lexer.inline(t[a]),header:!0,align:o.align[a]});for(let a of r)o.rows.push(NL(a,o.header.length).map((c,u)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:o.align[u]})));return o}}lheading(n){let e=this.rules.block.lheading.exec(n);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(n){let e=this.rules.block.paragraph.exec(n);if(e){let t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(n){let e=this.rules.block.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(n){let e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(n){let e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(n){let e=this.rules.inline.link.exec(n);if(e){let t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;let o=Cp(t.slice(0,-1),"\\");if((t.length-o.length)%2===0)return}else{let o=GX(e[2],"()");if(o===-2)return;if(o>-1){let a=(e[0].indexOf("!")===0?5:4)+e[1].length+o;e[2]=e[2].substring(0,o),e[0]=e[0].substring(0,a).trim(),e[3]=""}}let i=e[2],r="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(i);o&&(i=o[1],r=o[3])}else r=e[3]?e[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?i=i.slice(1):i=i.slice(1,-1)),RL(e,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(n,e){let t;if((t=this.rules.inline.reflink.exec(n))||(t=this.rules.inline.nolink.exec(n))){let i=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),r=e[i.toLowerCase()];if(!r){let o=t[0].charAt(0);return{type:"text",raw:o,text:o}}return RL(t,r,t[0],this.lexer,this.rules)}}emStrong(n,e,t=""){let i=this.rules.inline.emStrongLDelim.exec(n);if(!(!i||i[3]&&t.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!t||this.rules.inline.punctuation.exec(t))){let r=[...i[0]].length-1,o,a,c=r,u=0,h=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,e=e.slice(-1*n.length+r);(i=h.exec(e))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(a=[...o].length,i[3]||i[4]){c+=a;continue}else if((i[5]||i[6])&&r%3&&!((r+a)%3)){u+=a;continue}if(c-=a,c>0)continue;a=Math.min(a,a+c+u);let v=[...i[0]][0].length,y=n.slice(0,r+i.index+v+a);if(Math.min(r,a)%2){let S=y.slice(1,-1);return{type:"em",raw:y,text:S,tokens:this.lexer.inlineTokens(S)}}let P=y.slice(2,-2);return{type:"strong",raw:y,text:P,tokens:this.lexer.inlineTokens(P)}}}}codespan(n){let e=this.rules.inline.code.exec(n);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(t),r=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return i&&r&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(n){let e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){let e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(n){let e=this.rules.inline.autolink.exec(n);if(e){let t,i;return e[2]==="@"?(t=e[1],i="mailto:"+t):(t=e[1],i=t),{type:"link",raw:e[0],text:t,href:i,tokens:[{type:"text",raw:t,text:t}]}}}url(n){let e;if(e=this.rules.inline.url.exec(n)){let t,i;if(e[2]==="@")t=e[0],i="mailto:"+t;else{let r;do r=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(r!==e[0]);t=e[0],e[1]==="www."?i="http://"+e[0]:i=e[0]}return{type:"link",raw:e[0],text:t,href:i,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(n){let e=this.rules.inline.text.exec(n);if(e){let t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},ac=class EC{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||e0,this.options.tokenizer=this.options.tokenizer||new Yg,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:Mo,block:$g.normal,inline:xp.normal};this.options.pedantic?(t.block=$g.pedantic,t.inline=xp.pedantic):this.options.gfm&&(t.block=$g.gfm,this.options.breaks?t.inline=xp.breaks:t.inline=xp.gfm),this.tokenizer.rules=t}static get rules(){return{block:$g,inline:xp}}static lex(e,t){return new EC(t).lex(e)}static lexInline(e,t){return new EC(t).inlineTokens(e)}lex(e){e=e.replace(Mo.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let i=this.inlineQueue[t];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],i=!1){for(this.options.pedantic&&(e=e.replace(Mo.tabCharGlobal,"    ").replace(Mo.spaceLine,""));e;){let r;if(this.options.extensions?.block?.some(a=>(r=a.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);let a=t.at(-1);r.raw.length===1&&a!==void 0?a.raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);let a=t.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=`
`+r.raw,a.text+=`
`+r.text,this.inlineQueue.at(-1).src=a.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);let a=t.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=`
`+r.raw,a.text+=`
`+r.raw,this.inlineQueue.at(-1).src=a.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let o=e;if(this.options.extensions?.startBlock){let a=1/0,c=e.slice(1),u;this.options.extensions.startBlock.forEach(h=>{u=h.call({lexer:this},c),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(o=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){let a=t.at(-1);i&&a?.type==="paragraph"?(a.raw+=`
`+r.raw,a.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):t.push(r),i=o.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);let a=t.at(-1);a?.type==="text"?(a.raw+=`
`+r.raw,a.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):t.push(r);continue}if(e){let a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let i=e,r=null;if(this.tokens.links){let c=Object.keys(this.tokens.links);if(c.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)c.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,r.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(r=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let o=!1,a="";for(;e;){o||(a=""),o=!1;let c;if(this.options.extensions?.inline?.some(h=>(c=h.call({lexer:this},e,t))?(e=e.substring(c.raw.length),t.push(c),!0):!1))continue;if(c=this.tokenizer.escape(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.tag(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.link(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(c.raw.length);let h=t.at(-1);c.type==="text"&&h?.type==="text"?(h.raw+=c.raw,h.text+=c.text):t.push(c);continue}if(c=this.tokenizer.emStrong(e,i,a)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.codespan(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.br(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.del(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.autolink(e)){e=e.substring(c.raw.length),t.push(c);continue}if(!this.state.inLink&&(c=this.tokenizer.url(e))){e=e.substring(c.raw.length),t.push(c);continue}let u=e;if(this.options.extensions?.startInline){let h=1/0,v=e.slice(1),y;this.options.extensions.startInline.forEach(P=>{y=P.call({lexer:this},v),typeof y=="number"&&y>=0&&(h=Math.min(h,y))}),h<1/0&&h>=0&&(u=e.substring(0,h+1))}if(c=this.tokenizer.inlineText(u)){e=e.substring(c.raw.length),c.raw.slice(-1)!=="_"&&(a=c.raw.slice(-1)),o=!0;let h=t.at(-1);h?.type==="text"?(h.raw+=c.raw,h.text+=c.text):t.push(c);continue}if(e){let h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return t}},qg=class{options;parser;constructor(n){this.options=n||e0}space(n){return""}code({text:n,lang:e,escaped:t}){let i=(e||"").match(Mo.notSpaceStart)?.[0],r=n.replace(Mo.endingNewline,"")+`
`;return i?'<pre><code class="language-'+al(i)+'">'+(t?r:al(r,!0))+`</code></pre>
`:"<pre><code>"+(t?r:al(r,!0))+`</code></pre>
`}blockquote({tokens:n}){return`<blockquote>
${this.parser.parse(n)}</blockquote>
`}html({text:n}){return n}heading({tokens:n,depth:e}){return`<h${e}>${this.parser.parseInline(n)}</h${e}>
`}hr(n){return`<hr>
`}list(n){let e=n.ordered,t=n.start,i="";for(let a=0;a<n.items.length;a++){let c=n.items[a];i+=this.listitem(c)}let r=e?"ol":"ul",o=e&&t!==1?' start="'+t+'"':"";return"<"+r+o+`>
`+i+"</"+r+`>
`}listitem(n){let e="";if(n.task){let t=this.checkbox({checked:!!n.checked});n.loose?n.tokens[0]?.type==="paragraph"?(n.tokens[0].text=t+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&n.tokens[0].tokens[0].type==="text"&&(n.tokens[0].tokens[0].text=t+" "+al(n.tokens[0].tokens[0].text),n.tokens[0].tokens[0].escaped=!0)):n.tokens.unshift({type:"text",raw:t+" ",text:t+" ",escaped:!0}):e+=t+" "}return e+=this.parser.parse(n.tokens,!!n.loose),`<li>${e}</li>
`}checkbox({checked:n}){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>
`}table(n){let e="",t="";for(let r=0;r<n.header.length;r++)t+=this.tablecell(n.header[r]);e+=this.tablerow({text:t});let i="";for(let r=0;r<n.rows.length;r++){let o=n.rows[r];t="";for(let a=0;a<o.length;a++)t+=this.tablecell(o[a]);i+=this.tablerow({text:t})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+i+`</table>
`}tablerow({text:n}){return`<tr>
${n}</tr>
`}tablecell(n){let e=this.parser.parseInline(n.tokens),t=n.header?"th":"td";return(n.align?`<${t} align="${n.align}">`:`<${t}>`)+e+`</${t}>
`}strong({tokens:n}){return`<strong>${this.parser.parseInline(n)}</strong>`}em({tokens:n}){return`<em>${this.parser.parseInline(n)}</em>`}codespan({text:n}){return`<code>${al(n,!0)}</code>`}br(n){return"<br>"}del({tokens:n}){return`<del>${this.parser.parseInline(n)}</del>`}link({href:n,title:e,tokens:t}){let i=this.parser.parseInline(t),r=AL(n);if(r===null)return i;n=r;let o='<a href="'+n+'"';return e&&(o+=' title="'+al(e)+'"'),o+=">"+i+"</a>",o}image({href:n,title:e,text:t,tokens:i}){i&&(t=this.parser.parseInline(i,this.parser.textRenderer));let r=AL(n);if(r===null)return al(t);n=r;let o=`<img src="${n}" alt="${t}"`;return e&&(o+=` title="${al(e)}"`),o+=">",o}text(n){return"tokens"in n&&n.tokens?this.parser.parseInline(n.tokens):"escaped"in n&&n.escaped?n.text:al(n.text)}},BC=class{strong({text:n}){return n}em({text:n}){return n}codespan({text:n}){return n}del({text:n}){return n}html({text:n}){return n}text({text:n}){return n}link({text:n}){return""+n}image({text:n}){return""+n}br(){return""}},sc=class IC{options;renderer;textRenderer;constructor(e){this.options=e||e0,this.options.renderer=this.options.renderer||new qg,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new BC}static parse(e,t){return new IC(t).parse(e)}static parseInline(e,t){return new IC(t).parseInline(e)}parse(e,t=!0){let i="";for(let r=0;r<e.length;r++){let o=e[r];if(this.options.extensions?.renderers?.[o.type]){let c=o,u=this.options.extensions.renderers[c.type].call({parser:this},c);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){i+=u||"";continue}}let a=o;switch(a.type){case"space":{i+=this.renderer.space(a);continue}case"hr":{i+=this.renderer.hr(a);continue}case"heading":{i+=this.renderer.heading(a);continue}case"code":{i+=this.renderer.code(a);continue}case"table":{i+=this.renderer.table(a);continue}case"blockquote":{i+=this.renderer.blockquote(a);continue}case"list":{i+=this.renderer.list(a);continue}case"html":{i+=this.renderer.html(a);continue}case"paragraph":{i+=this.renderer.paragraph(a);continue}case"text":{let c=a,u=this.renderer.text(c);for(;r+1<e.length&&e[r+1].type==="text";)c=e[++r],u+=`
`+this.renderer.text(c);t?i+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):i+=u;continue}default:{let c='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return i}parseInline(e,t=this.renderer){let i="";for(let r=0;r<e.length;r++){let o=e[r];if(this.options.extensions?.renderers?.[o.type]){let c=this.options.extensions.renderers[o.type].call({parser:this},o);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){i+=c||"";continue}}let a=o;switch(a.type){case"escape":{i+=t.text(a);break}case"html":{i+=t.html(a);break}case"link":{i+=t.link(a);break}case"image":{i+=t.image(a);break}case"strong":{i+=t.strong(a);break}case"em":{i+=t.em(a);break}case"codespan":{i+=t.codespan(a);break}case"br":{i+=t.br(a);break}case"del":{i+=t.del(a);break}case"text":{i+=t.text(a);break}default:{let c='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return i}},Wg=class{options;block;constructor(n){this.options=n||e0}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(n){return n}postprocess(n){return n}processAllTokens(n){return n}provideLexer(){return this.block?ac.lex:ac.lexInline}provideParser(){return this.block?sc.parse:sc.parseInline}},qX=class{defaults=TC();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=sc;Renderer=qg;TextRenderer=BC;Lexer=ac;Tokenizer=Yg;Hooks=Wg;constructor(...n){this.use(...n)}walkTokens(n,e){let t=[];for(let i of n)switch(t=t.concat(e.call(this,i)),i.type){case"table":{let r=i;for(let o of r.header)t=t.concat(this.walkTokens(o.tokens,e));for(let o of r.rows)for(let a of o)t=t.concat(this.walkTokens(a.tokens,e));break}case"list":{let r=i;t=t.concat(this.walkTokens(r.items,e));break}default:{let r=i;this.defaults.extensions?.childTokens?.[r.type]?this.defaults.extensions.childTokens[r.type].forEach(o=>{let a=r[o].flat(1/0);t=t.concat(this.walkTokens(a,e))}):r.tokens&&(t=t.concat(this.walkTokens(r.tokens,e)))}}return t}use(...n){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(t=>{let i=ie({},t);if(i.async=this.defaults.async||i.async||!1,t.extensions&&(t.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if("renderer"in r){let o=e.renderers[r.name];o?e.renderers[r.name]=function(...a){let c=r.renderer.apply(this,a);return c===!1&&(c=o.apply(this,a)),c}:e.renderers[r.name]=r.renderer}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=e[r.level];o?o.unshift(r.tokenizer):e[r.level]=[r.tokenizer],r.start&&(r.level==="block"?e.startBlock?e.startBlock.push(r.start):e.startBlock=[r.start]:r.level==="inline"&&(e.startInline?e.startInline.push(r.start):e.startInline=[r.start]))}"childTokens"in r&&r.childTokens&&(e.childTokens[r.name]=r.childTokens)}),i.extensions=e),t.renderer){let r=this.defaults.renderer||new qg(this.defaults);for(let o in t.renderer){if(!(o in r))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let a=o,c=t.renderer[a],u=r[a];r[a]=(...h)=>{let v=c.apply(r,h);return v===!1&&(v=u.apply(r,h)),v||""}}i.renderer=r}if(t.tokenizer){let r=this.defaults.tokenizer||new Yg(this.defaults);for(let o in t.tokenizer){if(!(o in r))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let a=o,c=t.tokenizer[a],u=r[a];r[a]=(...h)=>{let v=c.apply(r,h);return v===!1&&(v=u.apply(r,h)),v}}i.tokenizer=r}if(t.hooks){let r=this.defaults.hooks||new Wg;for(let o in t.hooks){if(!(o in r))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let a=o,c=t.hooks[a],u=r[a];Wg.passThroughHooks.has(o)?r[a]=h=>{if(this.defaults.async)return Promise.resolve(c.call(r,h)).then(y=>u.call(r,y));let v=c.call(r,h);return u.call(r,v)}:r[a]=(...h)=>{let v=c.apply(r,h);return v===!1&&(v=u.apply(r,h)),v}}i.hooks=r}if(t.walkTokens){let r=this.defaults.walkTokens,o=t.walkTokens;i.walkTokens=function(a){let c=[];return c.push(o.call(this,a)),r&&(c=c.concat(r.call(this,a))),c}}this.defaults=ie(ie({},this.defaults),i)}),this}setOptions(n){return this.defaults=ie(ie({},this.defaults),n),this}lexer(n,e){return ac.lex(n,e??this.defaults)}parser(n,e){return sc.parse(n,e??this.defaults)}parseMarkdown(n){return(e,t)=>{let i=ie({},t),r=ie(ie({},this.defaults),i),o=this.onError(!!r.silent,!!r.async);if(this.defaults.async===!0&&i.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));r.hooks&&(r.hooks.options=r,r.hooks.block=n);let a=r.hooks?r.hooks.provideLexer():n?ac.lex:ac.lexInline,c=r.hooks?r.hooks.provideParser():n?sc.parse:sc.parseInline;if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(e):e).then(u=>a(u,r)).then(u=>r.hooks?r.hooks.processAllTokens(u):u).then(u=>r.walkTokens?Promise.all(this.walkTokens(u,r.walkTokens)).then(()=>u):u).then(u=>c(u,r)).then(u=>r.hooks?r.hooks.postprocess(u):u).catch(o);try{r.hooks&&(e=r.hooks.preprocess(e));let u=a(e,r);r.hooks&&(u=r.hooks.processAllTokens(u)),r.walkTokens&&this.walkTokens(u,r.walkTokens);let h=c(u,r);return r.hooks&&(h=r.hooks.postprocess(h)),h}catch(u){return o(u)}}}onError(n,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,n){let i="<p>An error occurred:</p><pre>"+al(t.message+"",!0)+"</pre>";return e?Promise.resolve(i):i}if(e)return Promise.reject(t);throw t}}},J2=new qX;function Xn(n,e){return J2.parse(n,e)}Xn.options=Xn.setOptions=function(n){return J2.setOptions(n),Xn.defaults=J2.defaults,FL(Xn.defaults),Xn};Xn.getDefaults=TC;Xn.defaults=e0;Xn.use=function(...n){return J2.use(...n),Xn.defaults=J2.defaults,FL(Xn.defaults),Xn};Xn.walkTokens=function(n,e){return J2.walkTokens(n,e)};Xn.parseInline=J2.parseInline;Xn.Parser=sc;Xn.parser=sc.parse;Xn.Renderer=qg;Xn.TextRenderer=BC;Xn.Lexer=ac;Xn.lexer=ac.lex;Xn.Tokenizer=Yg;Xn.Hooks=Wg;Xn.parse=Xn;var AOe=Xn.options,NOe=Xn.setOptions,ROe=Xn.use,FOe=Xn.walkTokens,VOe=Xn.parseInline;var BOe=sc.parse,jOe=ac.lex;var Yo=class n{constructor(e){this.translate=e;let t=localStorage.getItem("lang")||"en";this.translate.use(t),document.body.classList.toggle("dRTL",t==="ar"),document.body.classList.toggle("dLTR",t!=="ar")}switchLang(e){document.body.classList.toggle("dRTL",e==="ar"),document.body.classList.toggle("dLTR",e!=="ar"),this.translate.use(e),localStorage.setItem("lang",e)}get currentLang(){return this.translate.currentLang}static \u0275fac=function(t){return new(t||n)(De(Qi))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var ZL=()=>({left:"20px",right:"auto"}),XL=()=>({right:"20px",left:"auto"});function ZX(n,e){n&1&&($e(),l(0,"svg",28),k(1,"path",29),d())}function XX(n,e){n&1&&($e(),l(0,"svg",28),k(1,"line",14)(2,"line",15),d())}function KX(n,e){if(n&1){let t=X();l(0,"button",34),T("click",function(){let r=z(t).$implicit,o=C(2);return A(o.handleQuickAction(r.action))}),m(1),d()}if(n&2){let t=e.$implicit;p(),U(" ",t.text," ")}}function QX(n,e){if(n&1&&(l(0,"div",30)(1,"p",31),m(2),Q(3,"translate"),d(),l(4,"div",32),j(5,KX,2,1,"button",33),d()()),n&2){let t=C();p(2),$(de(3,2,"CHAT.QUICK_HELP")),p(3),_("ngForOf",t.quickActions)}}function JX(n,e){if(n&1&&(l(0,"div",35),k(1,"div",36),l(2,"div",37),m(3),Q(4,"date"),d()()),n&2){let t=e.$implicit;_("ngClass",t.role),p(),_("innerHTML",t.content,Xl),p(2),U(" ",Vt(4,3,t.timestamp,"short")," ")}}function eK(n,e){n&1&&(l(0,"div",38)(1,"div",39)(2,"div",40),k(3,"span")(4,"span")(5,"span"),d()()())}function tK(n,e){if(n&1){let t=X();l(0,"div",41),T("click",function(){z(t);let r=C();return A(r.closeChat())}),d()}}var h4=class n{constructor(e,t){this.lang=e;this.translate=t}isOpen=!1;messages=[];userInput="";isLoading=!1;showQuickActions=!0;langChangeSubscription;API_URL=Ke.baseUrl+"/chatbot/chat";http=q(Ct);contextService=q(u4);quickActions=[{text:"\u{1F3E0} Find a place",action:"I want to find a place to stay"},{text:"\u{1F4C5} Check availability",action:"Is this property available on certain dates?"},{text:"\u{1F4B0} Pricing info",action:"What is the price for 3 nights?"}];ngOnInit(){this.langChangeSubscription=this.translate.onLangChange.subscribe(()=>{this.reinitializeChat()}),this.initializeChat()}ngOnDestroy(){this.langChangeSubscription&&this.langChangeSubscription.unsubscribe()}initializeChat(){this.translate.get(["CHAT.welcome","CHAT.quick.find_place","CHAT.quick.check_availability","CHAT.quick.pricing"]).subscribe(e=>{this.messages.length===0&&this.addMessage("assistant",e["CHAT.welcome"]),this.quickActions=[{text:e["CHAT.quick.find_place"],action:"I want to find a place to stay"},{text:e["CHAT.quick.check_availability"],action:"Is this property available on certain dates?"},{text:e["CHAT.quick.pricing"],action:"What is the price for 3 nights?"}]})}reinitializeChat(){this.translate.get(["CHAT.welcome","CHAT.quick.find_place","CHAT.quick.check_availability","CHAT.quick.pricing"]).subscribe(e=>{this.messages.length>0&&this.messages[0].role==="assistant"&&(this.messages[0].content=e["CHAT.welcome"]),this.quickActions=[{text:e["CHAT.quick.find_place"],action:"I want to find a place to stay"},{text:e["CHAT.quick.check_availability"],action:"Is this property available on certain dates?"},{text:e["CHAT.quick.pricing"],action:"What is the price for 3 nights?"}]})}toggleChat(){this.isOpen=!this.isOpen,setTimeout(()=>this.scrollToBottom(),100)}closeChat(){this.isOpen=!1}clearChat(){this.messages=[],this.translate.get("CHAT.cleared").subscribe(e=>{this.addMessage("assistant",e)}),this.showQuickActions=!0}async sendMessage(){if(!this.userInput.trim()||this.isLoading)return;let e=this.userInput.trim();this.userInput="",this.addMessage("user",e),this.isLoading=!0;try{let i={model:"llama3-70b-8192",messages:[{role:"system",content:`You are a helpful assistant on an Airbnb-like platform. Use only the provided context below to answer the user:

${this.contextService.getContext()}`},...this.messages.filter(a=>a.content.trim()!=="").slice(-10).map(a=>({role:a.role,content:a.content}))],max_tokens:150,temperature:.9},o=(await this.http.post(this.API_URL,i).toPromise())?.choices?.[0]?.message?.content;if(o){let a=await Xn(o);this.addMessage("assistant",a)}else throw new Error("No valid reply from assistant")}catch(t){console.error("\u274C API Error:",t),this.translate.get("CHAT.error").subscribe(i=>{this.addMessage("assistant",i)})}finally{this.isLoading=!1}}handleQuickAction(e){this.userInput=e,this.sendMessage()}onKeyPress(e){e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),this.sendMessage())}addMessage(e,t){this.messages.push({role:e,content:t,timestamp:new Date}),e==="user"&&this.messages.filter(i=>i.role==="user").length>0&&(this.showQuickActions=!1),setTimeout(()=>this.scrollToBottom(),100)}scrollToBottom(){let e=document.querySelector(".CHAT-messages");e&&(e.scrollTop=e.scrollHeight)}static \u0275fac=function(t){return new(t||n)(V(Yo),V(Qi))};static \u0275cmp=le({type:n,selectors:[["app-chat-bot"]],decls:39,vars:34,consts:[[1,"chat-bot-toggle",3,"click","ngStyle"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",4,"ngIf"],[1,"chat-bot-window",3,"ngStyle"],[1,"chat-header"],[1,"header-info"],[1,"bot-avatar"],[1,"bot-details"],[1,"status"],[1,"header-actions"],[1,"clear-btn",3,"click","title"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["points","3,6 5,6 21,6"],["d","m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"],[1,"close-btn",3,"click","title"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"chat-messages"],["class","quick-actions",4,"ngIf"],["class","message",3,"ngClass",4,"ngFor","ngForOf"],["class","message assistant",4,"ngIf"],[1,"chat-input-container"],[1,"input-wrapper"],["type","text",1,"chat-input",3,"ngModelChange","keypress","ngModel","placeholder","disabled"],[1,"send-btn",3,"click","disabled"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","22","y1","2","x2","11","y2","13"],["points","22,2 15,22 11,13 2,9 22,2"],["class","chat-backdrop",3,"click",4,"ngIf"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10z"],[1,"quick-actions"],[1,"quick-actions-title"],[1,"quick-actions-grid"],["class","quick-action-btn",3,"click",4,"ngFor","ngForOf"],[1,"quick-action-btn",3,"click"],[1,"message",3,"ngClass"],[1,"message-content",3,"innerHTML"],[1,"message-time"],[1,"message","assistant"],[1,"message-content"],[1,"typing-indicator"],[1,"chat-backdrop",3,"click"]],template:function(t,i){t&1&&(l(0,"div",0),T("click",function(){return i.toggleChat()}),j(1,ZX,2,0,"svg",1)(2,XX,3,0,"svg",1),d(),l(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),m(7,"\u{1F916}"),d(),l(8,"div",6)(9,"h3"),m(10),Q(11,"translate"),d(),l(12,"span",7),m(13),Q(14,"translate"),d()()(),l(15,"div",8)(16,"button",9),Q(17,"translate"),T("click",function(){return i.clearChat()}),$e(),l(18,"svg",10),k(19,"polyline",11)(20,"path",12),d()(),lt(),l(21,"button",13),Q(22,"translate"),T("click",function(){return i.closeChat()}),$e(),l(23,"svg",10),k(24,"line",14)(25,"line",15),d()()()(),lt(),l(26,"div",16),j(27,QX,6,4,"div",17)(28,JX,5,6,"div",18)(29,eK,6,0,"div",19),d(),l(30,"div",20)(31,"div",21)(32,"input",22),Q(33,"translate"),mt("ngModelChange",function(o){return _t(i.userInput,o)||(i.userInput=o),o}),T("keypress",function(o){return i.onKeyPress(o)}),d(),l(34,"button",23),T("click",function(){return i.sendMessage()}),$e(),l(35,"svg",24),k(36,"line",25)(37,"polygon",26),d()()()()(),j(38,tK,1,0,"div",27)),t&2&&(Me("open",i.isOpen),_("ngStyle",i.lang.currentLang==="ar"?Kt(30,ZL):Kt(31,XL)),p(),_("ngIf",!i.isOpen),p(),_("ngIf",i.isOpen),p(),Me("open",i.isOpen),_("ngStyle",i.lang.currentLang==="ar"?Kt(32,ZL):Kt(33,XL)),p(7),$(de(11,20,"CHAT.TITLE")),p(3),$(de(14,22,"CHAT.STATUS")),p(3),_("title",de(17,24,"CHAT.CLEAR")),p(5),_("title",de(22,26,"CHAT.CLOSE")),p(6),_("ngIf",i.showQuickActions&&i.messages.length<=1),p(),_("ngForOf",i.messages),p(),_("ngIf",i.isLoading),p(3),ft("ngModel",i.userInput),_("placeholder",de(33,28,"CHAT.PLACEHOLDER_bot"))("disabled",i.isLoading),p(2),_("disabled",!i.userInput.trim()||i.isLoading),p(4),_("ngIf",i.isOpen))},dependencies:[he,Bt,Xe,Ce,_o,Mt,Rt,Dt,kn,wt,mi,Xt],styles:[".chat-bot-toggle[_ngcontent-%COMP%]{position:fixed;bottom:24px;width:60px;height:60px;background:linear-gradient(135deg,var(--airbnb-red) 0%,var(--airbnb-dark-red) 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 4px 20px var(--shadow-color);transition:all .3s cubic-bezier(.4,0,.2,1);z-index:1000;color:var(--selected-text)}.chat-bot-toggle[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 6px 25px var(--shadow-color)}.chat-bot-toggle.open[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--airbnb-dark-red) 0%,#dc2626 100%);box-shadow:0 4px 20px var(--shadow-color)}.chat-bot-toggle.open[_ngcontent-%COMP%]:hover{box-shadow:0 6px 25px var(--shadow-color)}.chat-bot-window[_ngcontent-%COMP%]{position:fixed;bottom:90px;width:380px;height:500px;background:var(--bg-color);border-radius:16px;box-shadow:0 20px 60px var(--shadow-color);transform:translateY(20px) scale(.95);opacity:0;visibility:hidden;transition:all .3s cubic-bezier(.4,0,.2,1);z-index:10000;display:flex;flex-direction:column;overflow:hidden;border:1px solid var(--border-color)}.chat-bot-window.open[_ngcontent-%COMP%]{transform:translateY(0) scale(1);opacity:1;visibility:visible}.chat-header[_ngcontent-%COMP%]{padding:16px 20px;background:linear-gradient(135deg,var(--airbnb-red) 0%,var(--airbnb-dark-red) 100%);color:var(--selected-text);display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--border-color)}.header-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.bot-avatar[_ngcontent-%COMP%]{width:40px;height:40px;background:var(--bg);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px}.bot-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600}.bot-details[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-size:12px;opacity:.8}.header-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.clear-btn[_ngcontent-%COMP%], .close-btn[_ngcontent-%COMP%]{width:32px;height:32px;background:var(--bg);border:none;border-radius:6px;color:var(--selected-text);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .2s}.clear-btn[_ngcontent-%COMP%]:hover, .close-btn[_ngcontent-%COMP%]:hover{background:var(--bg);opacity:.8}.chat-messages[_ngcontent-%COMP%]{flex:1;padding:20px;overflow-y:auto;background:var(--light-grey-bg);display:flex;flex-direction:column;gap:16px;scroll-behavior:smooth}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--secondary-text-color);border-radius:2px}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:85%;animation:_ngcontent-%COMP%_messageSlideIn .3s ease-out}.message.user[_ngcontent-%COMP%]{align-self:flex-end}.message.assistant[_ngcontent-%COMP%]{align-self:flex-start}.message-content[_ngcontent-%COMP%]{padding:12px 16px;border-radius:18px;font-size:14px;line-height:1.5;word-wrap:break-word}.message.user[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--airbnb-red) 0%,var(--airbnb-dark-red) 100%);color:var(--selected-text);border-bottom-right-radius:6px}.message.assistant[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background:var(--bg-color);color:var(--primary-text-color);border:1px solid var(--border-color);border-bottom-left-radius:6px}.message-time[_ngcontent-%COMP%]{font-size:11px;color:var(--secondary-text-color);margin-top:4px;padding:0 4px}.message.user[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{text-align:right}.message.assistant[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{text-align:left}.quick-actions[_ngcontent-%COMP%]{margin-bottom:20px;padding:16px;background:var(--light-grey-bg);border-radius:12px;border:1px solid var(--border-color)}.quick-actions-title[_ngcontent-%COMP%]{margin:0 0 12px;font-size:14px;font-weight:600;color:var(--secondary-text-color);text-align:center}.quick-actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:8px}.quick-action-btn[_ngcontent-%COMP%]{padding:10px 12px;background:var(--bg-color);border:1px solid var(--border-color);border-radius:8px;font-size:13px;cursor:pointer;transition:all .2s;text-align:center;color:var(--primary-text-color);font-weight:500}.quick-action-btn[_ngcontent-%COMP%]:hover{background:var(--airbnb-red);color:var(--selected-text);border-color:var(--airbnb-red);transform:translateY(-1px);box-shadow:0 2px 8px var(--shadow-color)}.typing-indicator[_ngcontent-%COMP%]{display:flex;gap:4px;align-items:center}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:6px;height:6px;background:var(--secondary-text-color);border-radius:50%;animation:_ngcontent-%COMP%_typing 1.4s infinite ease-in-out}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.32s}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.16s}@keyframes _ngcontent-%COMP%_typing{0%,80%,to{transform:scale(.8);opacity:.5}40%{transform:scale(1);opacity:1}}.chat-input-container[_ngcontent-%COMP%]{padding:16px 20px;background:var(--bg-color);border-top:1px solid var(--border-color)}.input-wrapper[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:flex-end}.chat-input[_ngcontent-%COMP%]{flex:1;padding:12px 16px;border:1.5px solid var(--border-color);border-radius:24px;font-size:14px;outline:none;transition:border-color .2s;resize:none;min-height:44px;max-height:100px;background:var(--light-grey-bg);color:var(--primary-text-color)}.chat-input[_ngcontent-%COMP%]:focus{border-color:var(--airbnb-red);background:var(--bg-color)}.chat-input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.send-btn[_ngcontent-%COMP%]{width:44px;height:44px;background:linear-gradient(135deg,var(--airbnb-red) 0%,var(--airbnb-dark-red) 100%);border:none;border-radius:50%;color:var(--selected-text);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;flex-shrink:0}.send-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.05);box-shadow:0 4px 12px var(--shadow-color)}.send-btn[_ngcontent-%COMP%]:disabled{background:var(--secondary-text-color);cursor:not-allowed;transform:none;box-shadow:none}.chat-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:998;opacity:0;animation:_ngcontent-%COMP%_backdropFadeIn .3s ease-out forwards;-webkit-animation:_ngcontent-%COMP%_backdropFadeIn .3s ease-out forwards}@keyframes _ngcontent-%COMP%_messageSlideIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_backdropFadeIn{to{opacity:1}}@media (max-width: 480px){.chat-bot-window[_ngcontent-%COMP%]{width:calc(100vw - 40px);height:calc(100vh - 140px);right:20px;left:20px;bottom:90px}.chat-bot-toggle[_ngcontent-%COMP%]{bottom:20px;right:20px}}"]})};var Cn=class n{constructor(e){this.http=e}propertyUrl=`${Ke.baseUrl}/property`;baseUrl=`${Ke.baseUrl}/Property`;propertyTypeUrl=`${Ke.baseUrl}/PropertyType`;countriesApiUrl="https://countriesnow.space/api/v0.1/countries";getAllPropertyTypes(){return this.http.get(this.propertyTypeUrl,{withCredentials:!0})}getAllForDashboard(){return this.http.get(`${this.baseUrl}/dashboard`).pipe(Ne(e=>e.data))}getByIdWithCover(e){return this.http.get(`${this.baseUrl}/cover/${e}`).pipe(Ne(t=>t.data))}getByIdWithCoverFor3ssam(e){return this.http.get(`${this.baseUrl}/cover/${e}`).pipe(Ne(t=>t.data))}getImagesByPropertyId(e){return this.http.get(`${this.baseUrl}/${e}/images`).pipe(Ne(t=>t.data))}uploadPhotos(e){return this.http.post(`${this.baseUrl}/property-images/upload`,e,{reportProgress:!0,observe:"events"})}getAllProperties(){return this.http.get(this.propertyUrl).pipe(Ne(e=>e.data))}getPropertyById(e){let t=`${this.propertyUrl}/${e}`;return this.http.get(t).pipe(Ne(i=>i.data))}updateProperty(e){return console.log("Sending update payload:",e),this.http.put(this.baseUrl,e,{withCredentials:!0})}reject(e){return this.http.put(`${this.baseUrl}/reject/${e}`,{})}accept(e){return this.http.put(`${this.baseUrl}/accept/${e}`,{})}updatePropertySection(e,t,i){let r=this.createCompleteDTO(e,t,i);return this.updateProperty(r)}createCompleteDTO(e,t,i){let r={id:e.id,title:e.title,description:e.description,city:e.city,country:e.country,state:e.state,latitude:e.latitude,longitude:e.longitude,pricePerNight:e.pricePerNight,maxGuests:e.maxGuests,bedrooms:e.bedrooms||0,beds:e.beds||0,bathrooms:e.bathrooms||0,averageRating:e.averageRating||0,reviewCount:e.reviewCount||0,isFavourite:e.isFavourite||!1,isActive:e.isActive||!0,isDeleted:e.isDeleted||!1,propertyTypeId:e.propertyTypeId,hostId:e.hostId};switch(i){case"title":r.title=t;break;case"rooms":r.bedrooms=Number(t.bedrooms)||e.bedrooms||1,r.beds=Number(t.beds)||e.beds||1,r.bathrooms=Number(t.bathrooms)||e.bathrooms||1;break;case"description":r.description=t;break;case"price":r.pricePerNight=Number(t);break;case"maxGuests":r.maxGuests=Number(t);break;case"propertyId":r.propertyTypeId=Number(t);break;case"location":r.city=t.city||e.city,r.country=t.country||e.country,r.state=t.address||e.state,t.coordinates&&(r.latitude=Number(t.coordinates.lat)||e.latitude,r.longitude=Number(t.coordinates.lng)||e.longitude);break;default:Object.assign(r,t)}return console.log(`Created complete DTO for ${i}:`,r),r}getNearestProperties(e=1,t=10,i=10){let r=new Ra().set("page",e.toString()).set("pageSize",t.toString()).set("maxDistanceKm",i.toString());return this.http.get(`${this.baseUrl}/nearest`,{headers:r})}getAllCountries(){return this.http.get(this.countriesApiUrl,{withCredentials:!1})}searchProperties(e){let t={};return e.country&&(t.Country=e.country),e.longitude!=null&&(t.Longitude=e.longitude),e.latitude!=null&&(t.Latitude=e.latitude),e.guestsCount!=null&&(t.GuestsCount=e.guestsCount),e.startDate&&(t.StartDate=e.startDate),e.endDate&&(t.endDate=e.endDate),e.page&&(t.Page=e.page),t.PageSize=12,e.maxDistanceKm!=null&&(t.maxDistanceKm=e.maxDistanceKm),this.http.get(`${this.baseUrl}/search`,{params:t})}getGuetsAndPricePerNeightPropertyById(e){return this.http.get(`${this.baseUrl}/property/${e}`)}deletePropertyImages(e,t){let i=new FormData;t.forEach(o=>{i.append("imgIds",o.toString())});let r=new n1("DELETE",`${this.baseUrl}/property-images/delete/${e}`,i,{reportProgress:!1,withCredentials:!0});return this.http.request(r).pipe(Ne(o=>(console.log("Delete service response event:",o),o.body?o.body:o.status===204?{data:!0,isSuccess:!0,message:"Images deleted successfully"}:{data:!0,isSuccess:!0,message:"Images deleted successfully"})),In(o=>{if(console.error("Delete images error:",o),o.status===204)return new It(a=>{a.next({data:!0,isSuccess:!0,message:"Images deleted successfully"}),a.complete()});throw o}))}getAllAmenities(){return this.http.get(`${Ke.baseUrl}/Amenity/all`,{withCredentials:!0}).pipe(Ne(e=>e.data))}getAmenitiesByPropertyId(e){return this.http.get(`${Ke.baseUrl}/Amenity/property/${e}/amenities`,{withCredentials:!0}).pipe(Ne(t=>t.data))}togglePropertyAmenity(e,t){return this.http.post(`${Ke.baseUrl}/Amenity/assign/${e}/porperty/${t}`,{},{withCredentials:!0})}getPropertyWithHostData(e){return this.http.get(`${this.baseUrl}/cover/${e}`).pipe(Ne(t=>t.data))}deactivate(e){return this.http.put(this.baseUrl+"/deactivate/"+e,{})}activate(e){return this.http.put(this.baseUrl+"/activate/"+e,{})}getPropertiesByHostId(e){return this.http.get(`${this.baseUrl}/host/${e}`,{withCredentials:!0}).pipe(Ne(t=>t.data))}static \u0275fac=function(t){return new(t||n)(De(Ct))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var KL=(()=>{let e=class e{constructor(i,r){this.document=i,this.platformId=r,this.documentIsAccessible=uh(this.platformId)}static getCookieRegExp(i){let r=i.replace(/([[\]{}()|=;+?,.*^$\\])/gi,"\\$1");return new RegExp("(?:^"+r+"|;\\s*"+r+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(i){try{return decodeURIComponent(i)}catch{return i}}check(i){return this.documentIsAccessible?(i=encodeURIComponent(i),e.getCookieRegExp(i).test(this.document.cookie)):!1}get(i){if(this.check(i)){i=encodeURIComponent(i);let o=e.getCookieRegExp(i).exec(this.document.cookie);return o?.[1]?e.safeDecodeURIComponent(o[1]):""}else return""}getAll(){if(!this.documentIsAccessible)return{};let i={},r=this.document;return r.cookie&&r.cookie!==""&&r.cookie.split(";").forEach(o=>{let[a,c]=o.split("=");i[e.safeDecodeURIComponent(a.replace(/^ /,""))]=e.safeDecodeURIComponent(c)}),i}set(i,r,o,a,c,u,h,v){if(!this.documentIsAccessible)return;if(typeof o=="number"||o instanceof Date||a||c||u||h){let S={expires:o,path:a,domain:c,secure:u,sameSite:h||"Lax",partitioned:v};this.set(i,r,S);return}let y=encodeURIComponent(i)+"="+encodeURIComponent(r)+";",P=o||{};if(P.expires)if(typeof P.expires=="number"){let S=new Date(new Date().getTime()+P.expires*1e3*60*60*24);y+="expires="+S.toUTCString()+";"}else y+="expires="+P.expires.toUTCString()+";";P.path&&(y+="path="+P.path+";"),P.domain&&(y+="domain="+P.domain+";"),P.secure===!1&&P.sameSite==="None"&&(P.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${i} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),P.secure&&(y+="secure;"),P.sameSite||(P.sameSite="Lax"),y+="sameSite="+P.sameSite+";",P.partitioned&&(y+="Partitioned;"),this.document.cookie=y}delete(i,r,o,a,c="Lax"){if(!this.documentIsAccessible)return;let u=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(i,"",{expires:u,path:r,domain:o,secure:a,sameSite:c})}deleteAll(i,r,o,a="Lax"){if(!this.documentIsAccessible)return;let c=this.getAll();for(let u in c)c.hasOwnProperty(u)&&this.delete(u,i,r,o,a)}};e.\u0275fac=function(r){return new(r||e)(De(Tt),De(Us))},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var dt=class n{constructor(e,t){this.cookieService=e;this.http=t;this.accessTokenSubject.next(this.cookieService.get(this.accessTokenKey)||null),this.refreshTokenSubject.next(this.cookieService.get(this.refreshTokenKey)||null),this.userIdSubject.next(this.cookieService.get(this.userIdKey)||null);let i=this.cookieService.get(this.roleKey);if(i){let r=decodeURIComponent(i),o=JSON.parse(r);this.roleSubject.next(o)}}accessTokenKey="accessToken";refreshTokenKey="refreshToken";userIdKey="userId";roleKey="role";accessTokenSubject=new Sn(null);refreshTokenSubject=new Sn(null);userIdSubject=new Sn(null);roleSubject=new Sn(null);setAccessToken(e){this.accessTokenSubject.next(e)}setRefreshToken(e){this.refreshTokenSubject.next(e)}setUserId(e,t){console.log("login response",e,t);let i=new Date;this.cookieService.set(this.userIdKey,e,t?new Date(t):i.setMinutes(i.getMinutes()+28),"/"),this.userIdSubject.next(e)}setRole(e){let t=e.map(i=>i.name);sessionStorage.setItem(this.roleKey,JSON.stringify(t)),this.cookieService.set(this.roleKey,JSON.stringify(t),7,"/"),this.roleSubject.next(t)}get accessToken(){let e=this.cookieService.get(this.accessTokenKey)||null;return this.accessTokenSubject.next(e),e}get refreshToken(){let e=this.cookieService.get(this.refreshTokenKey)||null;return this.refreshTokenSubject.next(e),e}get userId(){let e=this.cookieService.get(this.userIdKey)||null;return this.userIdSubject.next(e),e}get role(){let e=this.cookieService.get(this.roleKey),t=decodeURIComponent(e);return e?JSON.parse(t):[]}get accessToken$(){return this.accessTokenSubject.asObservable()}get refreshToken$(){return this.refreshTokenSubject.asObservable()}refreshTokenBackend$(){return this.http.post(Ke.baseUrl+"/user/refresh-token",{},{withCredentials:!0})}get userId$(){return this.userIdSubject.asObservable()}get role$(){return this.roleSubject.asObservable()}clear(){this.cookieService.delete(this.accessTokenKey,"/"),this.cookieService.delete(this.refreshTokenKey,"/"),this.cookieService.delete(this.userIdKey,"/"),this.cookieService.delete(this.roleKey,"/"),this.accessTokenSubject.next(null),this.refreshTokenSubject.next(null),this.userIdSubject.next(null),this.roleSubject.next(null)}static \u0275fac=function(t){return new(t||n)(De(KL),De(Ct))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var ai=class n{activeDialogSubject=new Sn(null);activeDialog$=this.activeDialogSubject.asObservable();openDialog(e){this.activeDialogSubject.next(e)}closeDialog(){this.activeDialogSubject.next(null)}isDialogOpen(e){return this.activeDialogSubject.value==e}static \u0275fac=function(t){return new(t||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};function iK(n,e){if(n&1){let t=X();l(0,"app-wish-list-modal",3),T("close",function(){z(t);let r=C();return A(r.onClose())})("finish",function(r){z(t);let o=C();return A(o.onFinish(r))}),d()}if(n&2){let t=C();_("propertyId",t.selectedPropertyId)("show",t.show)("userId",t.authService.userId??void 0)}}function rK(n,e){if(n&1){let t=X();l(0,"div")(1,"app-property-swiper",4),T("propertyClicked",function(r){z(t);let o=C();return A(o.onPropertyClick(r))})("wishlistIconClick",function(r){z(t);let o=C();return A(o.onWishlistClick(r))}),d()()}if(n&2){let t=e.$implicit;p(),_("title",t.title)("slidesPerView",t.slidesPerView)("isLoading",t.isLoading)("properties",t.properties)}}var v4=class n{constructor(e,t,i,r,o,a,c,u){this.confirm=e;this.propertyService=t;this.router=i;this.wishlistService=r;this.authService=o;this.dialogService=a;this.snackBar=c;this.translate=u}properties=[];selectedPropertyId;show=!1;isLoading=!1;contextLoaded=!1;langChangeSubscription;contextService=q(u4);sections=[];sectionProperties=[];ngOnInit(){this.langChangeSubscription=this.translate.onLangChange.subscribe(()=>{this.reinitializeSections()}),this.translate.get("HOME.SECTIONS.POPULAR_CAIRO").subscribe(()=>{this.initializeSections(),this.loadAllSections()})}ngOnDestroy(){this.langChangeSubscription&&this.langChangeSubscription.unsubscribe()}reinitializeSections(){this.initializeSections(),this.sectionProperties.forEach((e,t)=>{this.sections[t]&&(e.title=this.sections[t].title)})}initializeSections(){this.sections=[{title:this.translate.instant("HOME.SECTIONS.POPULAR_CAIRO"),search:{country:"Egypt",city:"Cairo"}},{title:this.translate.instant("HOME.SECTIONS.HURGHADA_NEXT_WEEKEND"),search:{country:"Egypt",city:"Hurghada",startDate:this.getNextWeekend()}},{title:this.translate.instant("HOME.SECTIONS.STAY_NEW_CAIRO"),search:{country:"Egypt",city:"New Cairo"}},{title:this.translate.instant("HOME.SECTIONS.DUBAI_NEXT_MONTH"),search:{country:"UAE",city:"Dubai",startDate:this.getNextMonth()}},{title:this.translate.instant("HOME.SECTIONS.AIN_SOKHNA"),search:{country:"Egypt",city:"Ain Sokhna"}},{title:this.translate.instant("HOME.SECTIONS.ALEX_NEXT_WEEKEND"),search:{country:"Egypt",city:"Alexandria",startDate:this.getNextWeekend()}},{title:this.translate.instant("HOME.SECTIONS.PARIS"),search:{country:"France",city:"Paris"}},{title:this.translate.instant("HOME.SECTIONS.SHEIKH_ZAYED"),search:{country:"Egypt",city:"Sheikh Zayed City"}}],this.sections=this.shuffleArray(this.sections)}prepareHomeContext(){let e=[];e.push("On the home page, we show popular property sections:");for(let t of this.sectionProperties){if(t.properties.length===0)continue;let i=`Section: "${t.title}" includes:
`+t.properties.slice(0,3).map(r=>{let o=`${Ke.domainBaseUrl}/property/${r.id}`;return`\u2022 <strong>${r.title}</strong> in ${r.city},
           ${r.country}  , Descrption ${r.description}  , AVerage Rating${r.averageRating},
            Max guests ${r.maxGuests},Reviews  ${r.reviewCount}
          - $${r.pricePerNight}
          /night<br><a href="${o}" class="view-link" target="_blank">View Property</a>`}).join(`
`);e.push(i)}this.contextService.setHomeContext(e.join(`

`))}getNextWeekend(){let e=new Date,t=new Date(e);return t.setDate(e.getDate()+(6-e.getDay())%7),t.toISOString()}getNextMonth(){let e=new Date;return e.setMonth(e.getMonth()+1),e.toISOString()}getRandomSlidesCount(){let e=[5,6,7];return e[Math.floor(Math.random()*e.length)]}shuffleArray(e){return e.map(t=>({value:t,sort:Math.random()})).sort((t,i)=>t.sort-i.sort).map(({value:t})=>t)}loadAllSections(){let e=0;this.sections.forEach((t,i)=>{this.sectionProperties.push({title:t.title,properties:[],isLoading:!0,slidesPerView:this.getRandomSlidesCount()}),this.propertyService.searchProperties(t.search).subscribe({next:r=>{r.isSuccess&&(this.sectionProperties[i].properties=r.data.items),this.sectionProperties[i].isLoading=!1,e++,e===this.sections.length&&!this.contextLoaded&&(this.prepareHomeContext(),this.contextLoaded=!0)},error:()=>{this.sectionProperties[i].isLoading=!1}})})}onPropertyClick(e){this.router.navigate(["/property",e])}onWishlistClick(e){if(!this.authService.userId){this.showToast(this.translate.instant("HOME.TOAST.LOGIN_REQUIRED"),"top","right"),this.dialogService.openDialog("login");return}let t;for(let i of this.sectionProperties){let r=i.properties.find(o=>o.id===e);if(r){t=r;break}}t?.isFavourite?this.removeFromWishlist(e):(this.selectedPropertyId=e,this.show=!0)}removeFromWishlist(e){this.wishlistService.removePropertyFromWishlist(e).subscribe({next:t=>{if(t){for(let i of this.sectionProperties){let r=i.properties.find(o=>o.id===e);r&&(r.isFavourite=!1)}this.showToast(this.translate.instant("HOME.TOAST.REMOVED"),"bottom","left")}else this.showToast(this.translate.instant("HOME.TOAST.REMOVE_FAILED"),"bottom","left")},error:()=>{this.showToast(this.translate.instant("HOME.TOAST.REMOVE_FAILED"),"bottom","left")}})}onFinish(e){this.onClose(),e.subscribe({next:t=>{if(t){for(let i of this.sectionProperties){let r=i.properties.find(o=>o.id===this.selectedPropertyId);r&&(r.isFavourite=!0)}this.showToast(this.translate.instant("HOME.TOAST.ADDED"),"bottom","left")}else this.showToast(this.translate.instant("HOME.TOAST.ADD_FAILED"),"bottom","left")},error:()=>{this.showToast(this.translate.instant("HOME.TOAST.ADD_FAILED"),"bottom","left")}})}showToast(e,t,i){this.snackBar.open(e,"Close",{duration:3e3,horizontalPosition:i,verticalPosition:t,panelClass:["custom-snackbar"]})}onClose(){this.show=!1}static \u0275fac=function(t){return new(t||n)(V(Ui),V(Cn),V(nt),V(Uo),V(dt),V(ai),V(vn),V(Qi))};static \u0275cmp=le({type:n,selectors:[["app-home"]],decls:4,vars:2,consts:[[1,"container","col-12","col-md-12","col-xl-11","mx-auto","list-container"],["class","col-12",3,"propertyId","show","userId","close","finish",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-12",3,"close","finish","propertyId","show","userId"],[3,"propertyClicked","wishlistIconClick","title","slidesPerView","isLoading","properties"]],template:function(t,i){t&1&&(k(0,"div",0)(1,"app-chat-bot"),j(2,iK,1,3,"app-wish-list-modal",1)(3,rK,2,4,"div",2)),t&2&&(p(2),_("ngIf",i.show),p(),_("ngForOf",i.sectionProperties))},dependencies:[he,Xe,Ce,nl,jg,Mt,wt,h4],styles:[".transition-3ms[_ngcontent-%COMP%]{transition:all .3s ease}.transition-5ms[_ngcontent-%COMP%]{transition:all .5s ease}.transition-1s[_ngcontent-%COMP%]{transition:all 1s ease}  .custom-snackbar{z-index:20000000000000!important}  .cdk-overlay-container{z-index:20000000000000!important}  .custom-snackbar{background-color:#fff!important;color:#333!important;box-shadow:0 2px 10px #00000026;font-weight:500}  .mdc-snackbar__surface{background-color:#fff!important;color:#333!important;box-shadow:0 2px 10px #00000026;font-weight:500}  .mat-mdc-snackbar-surface{background-color:#fff!important;color:#333!important;box-shadow:0 2px 10px #00000026;font-weight:500}  .mdc-button__label{color:var(--airbnb-red)!important}"]})};var QL=60,JL=QL*60,ez=JL*24,oK=ez*7,t0=1e3,b4=QL*t0,jC=JL*t0,tz=ez*t0,nz=oK*t0,n0="millisecond",C1="second",_s="minute",M1="hour",no="day",Ha="week",ua="month",Kg="quarter",io="year",w1="date",Qg="YYYY-MM-DDTHH:mm:ssZ",HC="Invalid Date",iz=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,rz=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g;var az={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],i=e%100;return"["+e+(t[(i-20)%10]||t[i]||t[0])+"]"}};var UC=function(e,t,i){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(i)+e},aK=function(e){var t=-e.utcOffset(),i=Math.abs(t),r=Math.floor(i/60),o=i%60;return(t<=0?"+":"-")+UC(r,2,"0")+":"+UC(o,2,"0")},sK=function n(e,t){if(e.date()<t.date())return-n(t,e);var i=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(i,ua),o=t-r<0,a=e.clone().add(i+(o?-1:1),ua);return+(-(i+(t-r)/(o?r-a:a-r))||0)},lK=function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},cK=function(e){var t={M:ua,y:io,w:Ha,d:no,D:w1,h:M1,m:_s,s:C1,ms:n0,Q:Kg};return t[e]||String(e||"").toLowerCase().replace(/s$/,"")},dK=function(e){return e===void 0},sz={s:UC,z:aK,m:sK,a:lK,p:cK,u:dK};var Sp="en",i0={};i0[Sp]=az;var lz="$isDayjsObject",$C=function(e){return e instanceof e8||!!(e&&e[lz])},Jg=function n(e,t,i){var r;if(!e)return Sp;if(typeof e=="string"){var o=e.toLowerCase();i0[o]&&(r=o),t&&(i0[o]=t,r=o);var a=e.split("-");if(!r&&a.length>1)return n(a[0])}else{var c=e.name;i0[c]=e,r=c}return!i&&r&&(Sp=r),r||!i&&Sp},Ar=function(e,t){if($C(e))return e.clone();var i=typeof t=="object"?t:{};return i.date=e,i.args=arguments,new e8(i)},uK=function(e,t){return Ar(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})},si=sz;si.l=Jg;si.i=$C;si.w=uK;var pK=function(e){var t=e.date,i=e.utc;if(t===null)return new Date(NaN);if(si.u(t))return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){var r=t.match(iz);if(r){var o=r[2]-1||0,a=(r[7]||"0").substring(0,3);return i?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)},e8=function(){function n(t){this.$L=Jg(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[lz]=!0}var e=n.prototype;return e.parse=function(i){this.$d=pK(i),this.init()},e.init=function(){var i=this.$d;this.$y=i.getFullYear(),this.$M=i.getMonth(),this.$D=i.getDate(),this.$W=i.getDay(),this.$H=i.getHours(),this.$m=i.getMinutes(),this.$s=i.getSeconds(),this.$ms=i.getMilliseconds()},e.$utils=function(){return si},e.isValid=function(){return this.$d.toString()!==HC},e.isSame=function(i,r){var o=Ar(i);return this.startOf(r)<=o&&o<=this.endOf(r)},e.isAfter=function(i,r){return Ar(i)<this.startOf(r)},e.isBefore=function(i,r){return this.endOf(r)<Ar(i)},e.$g=function(i,r,o){return si.u(i)?this[r]:this.set(o,i)},e.unix=function(){return Math.floor(this.valueOf()/1e3)},e.valueOf=function(){return this.$d.getTime()},e.startOf=function(i,r){var o=this,a=si.u(r)?!0:r,c=si.p(i),u=function(B,F){var N=si.w(o.$u?Date.UTC(o.$y,F,B):new Date(o.$y,F,B),o);return a?N:N.endOf(no)},h=function(B,F){var N=[0,0,0,0],Y=[23,59,59,999];return si.w(o.toDate()[B].apply(o.toDate("s"),(a?N:Y).slice(F)),o)},v=this.$W,y=this.$M,P=this.$D,S="set"+(this.$u?"UTC":"");switch(c){case io:return a?u(1,0):u(31,11);case ua:return a?u(1,y):u(0,y+1);case Ha:{var M=this.$locale().weekStart||0,O=(v<M?v+7:v)-M;return u(a?P-O:P+(6-O),y)}case no:case w1:return h(S+"Hours",0);case M1:return h(S+"Minutes",1);case _s:return h(S+"Seconds",2);case C1:return h(S+"Milliseconds",3);default:return this.clone()}},e.endOf=function(i){return this.startOf(i,!1)},e.$set=function(i,r){var o,a=si.p(i),c="set"+(this.$u?"UTC":""),u=(o={},o[no]=c+"Date",o[w1]=c+"Date",o[ua]=c+"Month",o[io]=c+"FullYear",o[M1]=c+"Hours",o[_s]=c+"Minutes",o[C1]=c+"Seconds",o[n0]=c+"Milliseconds",o)[a],h=a===no?this.$D+(r-this.$W):r;if(a===ua||a===io){var v=this.clone().set(w1,1);v.$d[u](h),v.init(),this.$d=v.set(w1,Math.min(this.$D,v.daysInMonth())).$d}else u&&this.$d[u](h);return this.init(),this},e.set=function(i,r){return this.clone().$set(i,r)},e.get=function(i){return this[si.p(i)]()},e.add=function(i,r){var o=this,a;i=Number(i);var c=si.p(r),u=function(P){var S=Ar(o);return si.w(S.date(S.date()+Math.round(P*i)),o)};if(c===ua)return this.set(ua,this.$M+i);if(c===io)return this.set(io,this.$y+i);if(c===no)return u(1);if(c===Ha)return u(7);var h=(a={},a[_s]=b4,a[M1]=jC,a[C1]=t0,a)[c]||1,v=this.$d.getTime()+i*h;return si.w(v,this)},e.subtract=function(i,r){return this.add(i*-1,r)},e.format=function(i){var r=this,o=this.$locale();if(!this.isValid())return o.invalidDate||HC;var a=i||Qg,c=si.z(this),u=this.$H,h=this.$m,v=this.$M,y=o.weekdays,P=o.months,S=o.meridiem,M=function(N,Y,ne,ue){return N&&(N[Y]||N(r,a))||ne[Y].slice(0,ue)},O=function(N){return si.s(u%12||12,N,"0")},R=S||function(F,N,Y){var ne=F<12?"AM":"PM";return Y?ne.toLowerCase():ne},B=function(N){switch(N){case"YY":return String(r.$y).slice(-2);case"YYYY":return si.s(r.$y,4,"0");case"M":return v+1;case"MM":return si.s(v+1,2,"0");case"MMM":return M(o.monthsShort,v,P,3);case"MMMM":return M(P,v);case"D":return r.$D;case"DD":return si.s(r.$D,2,"0");case"d":return String(r.$W);case"dd":return M(o.weekdaysMin,r.$W,y,2);case"ddd":return M(o.weekdaysShort,r.$W,y,3);case"dddd":return y[r.$W];case"H":return String(u);case"HH":return si.s(u,2,"0");case"h":return O(1);case"hh":return O(2);case"a":return R(u,h,!0);case"A":return R(u,h,!1);case"m":return String(h);case"mm":return si.s(h,2,"0");case"s":return String(r.$s);case"ss":return si.s(r.$s,2,"0");case"SSS":return si.s(r.$ms,3,"0");case"Z":return c;default:break}return null};return a.replace(rz,function(F,N){return N||B(F)||c.replace(":","")})},e.utcOffset=function(){return-Math.round(this.$d.getTimezoneOffset()/15)*15},e.diff=function(i,r,o){var a=this,c=si.p(r),u=Ar(i),h=(u.utcOffset()-this.utcOffset())*b4,v=this-u,y=function(){return si.m(a,u)},P;switch(c){case io:P=y()/12;break;case ua:P=y();break;case Kg:P=y()/3;break;case Ha:P=(v-h)/nz;break;case no:P=(v-h)/tz;break;case M1:P=v/jC;break;case _s:P=v/b4;break;case C1:P=v/t0;break;default:P=v;break}return o?P:si.a(P)},e.daysInMonth=function(){return this.endOf(ua).$D},e.$locale=function(){return i0[this.$L]},e.locale=function(i,r){if(!i)return this.$L;var o=this.clone(),a=Jg(i,r,!0);return a&&(o.$L=a),o},e.clone=function(){return si.w(this.$d,this)},e.toDate=function(){return new Date(this.valueOf())},e.toJSON=function(){return this.isValid()?this.toISOString():null},e.toISOString=function(){return this.$d.toISOString()},e.toString=function(){return this.$d.toUTCString()},n}(),cz=e8.prototype;Ar.prototype=cz;[["$ms",n0],["$s",C1],["$m",_s],["$H",M1],["$W",no],["$M",ua],["$y",io],["$D",w1]].forEach(function(n){cz[n[1]]=function(e){return this.$g(e,n[0],n[1])}});Ar.extend=function(n,e){return n.$i||(n(e,e8,Ar),n.$i=!0),Ar};Ar.locale=Jg;Ar.isDayjs=$C;Ar.unix=function(n){return Ar(n*1e3)};Ar.en=i0[Sp];Ar.Ls=i0;Ar.p={};var ln=Ar;var WC=function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(t,i,r){return i||r.slice(1)})},GC={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t8=function(e,t){return e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(i,r,o){var a=o&&o.toUpperCase();return r||t[o]||GC[o]||WC(t[a])})};var YC=function(n,e,t){var i=e.prototype,r=function(v){return v&&(v.indexOf?v:v.s)},o=function(v,y,P,S,M){var O=v.name?v:v.$locale(),R=r(O[y]),B=r(O[P]),F=R||B.map(function(Y){return Y.slice(0,S)});if(!M)return F;var N=O.weekStart;return F.map(function(Y,ne){return F[(ne+(N||0))%7]})},a=function(){return t.Ls[t.locale()]},c=function(v,y){return v.formats[y]||WC(v.formats[y.toUpperCase()])},u=function(){var v=this;return{months:function(P){return P?P.format("MMMM"):o(v,"months")},monthsShort:function(P){return P?P.format("MMM"):o(v,"monthsShort","months",3)},firstDayOfWeek:function(){return v.$locale().weekStart||0},weekdays:function(P){return P?P.format("dddd"):o(v,"weekdays")},weekdaysMin:function(P){return P?P.format("dd"):o(v,"weekdaysMin","weekdays",2)},weekdaysShort:function(P){return P?P.format("ddd"):o(v,"weekdaysShort","weekdays",3)},longDateFormat:function(P){return c(v.$locale(),P)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return u.bind(this)()},t.localeData=function(){var h=a();return{firstDayOfWeek:function(){return h.weekStart||0},weekdays:function(){return t.weekdays()},weekdaysShort:function(){return t.weekdaysShort()},weekdaysMin:function(){return t.weekdaysMin()},months:function(){return t.months()},monthsShort:function(){return t.monthsShort()},longDateFormat:function(y){return c(h,y)},meridiem:h.meridiem,ordinal:h.ordinal}},t.months=function(){return o(a(),"months")},t.monthsShort=function(){return o(a(),"monthsShort","months",3)},t.weekdays=function(h){return o(a(),"weekdays",null,null,h)},t.weekdaysShort=function(h){return o(a(),"weekdaysShort","weekdays",3,h)},t.weekdaysMin=function(h){return o(a(),"weekdaysMin","weekdays",2,h)}};var dz=function(n,e,t){var i=e.prototype,r=i.format;t.en.formats=GC,i.format=function(o){o===void 0&&(o=Qg);var a=this.$locale(),c=a.formats,u=c===void 0?{}:c,h=t8(o,u);return r.call(this,h)}};var fK="isoweek",uz=function(n,e,t){var i=function(u,h){var v=(h?t.utc:t)().year(u).startOf(io),y=4-v.isoWeekday();return v.isoWeekday()>4&&(y+=7),v.add(y,no)},r=function(u){return u.add(4-u.isoWeekday(),no)},o=e.prototype;o.isoWeekYear=function(){var c=r(this);return c.year()},o.isoWeek=function(c){if(!this.$utils().u(c))return this.add((c-this.isoWeek())*7,no);var u=r(this),h=i(this.isoWeekYear(),this.$u);return u.diff(h,Ha)+1},o.isoWeekday=function(c){return this.$utils().u(c)?this.day()||7:this.day(this.day()%7?c:c-7)};var a=o.startOf;o.startOf=function(c,u){var h=this.$utils(),v=h.u(u)?!0:u,y=h.p(c);return y===fK?v?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):a.bind(this)(c,u)}};var pz=function(n,e,t){var i=e.prototype;i.week=function(r){if(r===void 0&&(r=null),r!==null)return this.add((r-this.week())*7,no);var o=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var a=t(this).startOf(io).add(1,io).date(o),c=t(this).endOf(Ha);if(a.isBefore(c))return 1}var u=t(this).startOf(io).date(o),h=u.startOf(Ha).subtract(1,n0),v=this.diff(h,Ha,!0);return v<0?t(this).startOf("week").week():Math.ceil(v)},i.weeks=function(r){return r===void 0&&(r=null),this.week(r)}};var mK=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,fz=/\d/,Pp=/\d\d/,hK=/\d{3}/,gK=/\d{4}/,ys=/\d\d?/,vK=/[+-]?\d+/,bK=/[+-]\d\d:?(\d\d)?|Z/,kp=/\d*[^-_:/,()\s\d]+/,S1={},gz=function(e){return e=+e,e+(e>68?1900:2e3)};function _K(n){if(!n||n==="Z")return 0;var e=n.match(/([+-]|\d\d)/g),t=+(e[1]*60)+(+e[2]||0);return t===0?0:e[0]==="+"?-t:t}var ro=function(e){return function(t){this[e]=+t}},mz=[bK,function(n){var e=this.zone||(this.zone={});e.offset=_K(n)}],qC=function(e){var t=S1[e];return t&&(t.indexOf?t:t.s.concat(t.f))},hz=function(e,t){var i,r=S1,o=r.meridiem;if(!o)i=e===(t?"pm":"PM");else for(var a=1;a<=24;a+=1)if(e.indexOf(o(a,0,t))>-1){i=a>12;break}return i},yK={A:[kp,function(n){this.afternoon=hz(n,!1)}],a:[kp,function(n){this.afternoon=hz(n,!0)}],Q:[fz,function(n){this.month=(n-1)*3+1}],S:[fz,function(n){this.milliseconds=+n*100}],SS:[Pp,function(n){this.milliseconds=+n*10}],SSS:[hK,function(n){this.milliseconds=+n}],s:[ys,ro("seconds")],ss:[ys,ro("seconds")],m:[ys,ro("minutes")],mm:[ys,ro("minutes")],H:[ys,ro("hours")],h:[ys,ro("hours")],HH:[ys,ro("hours")],hh:[ys,ro("hours")],D:[ys,ro("day")],DD:[Pp,ro("day")],Do:[kp,function(n){var e=S1,t=e.ordinal,i=n.match(/\d+/);if(this.day=i[0],!!t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===n&&(this.day=r)}],w:[ys,ro("week")],ww:[Pp,ro("week")],M:[ys,ro("month")],MM:[Pp,ro("month")],MMM:[kp,function(n){var e=qC("months"),t=qC("monthsShort"),i=(t||e.map(function(r){return r.slice(0,3)})).indexOf(n)+1;if(i<1)throw new Error;this.month=i%12||i}],MMMM:[kp,function(n){var e=qC("months"),t=e.indexOf(n)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[vK,ro("year")],YY:[Pp,function(n){this.year=gz(n)}],YYYY:[gK,ro("year")],Z:mz,ZZ:mz};function xK(n){var e=n.afternoon;if(e!==void 0){var t=n.hours;e?t<12&&(n.hours+=12):t===12&&(n.hours=0),delete n.afternoon}}function CK(n){n=t8(n,S1&&S1.formats);for(var e=n.match(mK),t=e.length,i=0;i<t;i+=1){var r=e[i],o=yK[r],a=o&&o[0],c=o&&o[1];c?e[i]={regex:a,parser:c}:e[i]=r.replace(/^\[|\]$/g,"")}return function(u){for(var h={},v=0,y=0;v<t;v+=1){var P=e[v];if(typeof P=="string")y+=P.length;else{var S=P.regex,M=P.parser,O=u.slice(y),R=S.exec(O),B=R[0];M.call(h,B),u=u.replace(B,"")}}return xK(h),h}}var MK=function(e,t,i,r){try{if(["x","X"].indexOf(t)>-1)return new Date((t==="X"?1e3:1)*e);var o=CK(t),a=o(e),c=a.year,u=a.month,h=a.day,v=a.hours,y=a.minutes,P=a.seconds,S=a.milliseconds,M=a.zone,O=a.week,R=new Date,B=h||(!c&&!u?R.getDate():1),F=c||R.getFullYear(),N=0;c&&!u||(N=u>0?u-1:R.getMonth());var Y=v||0,ne=y||0,ue=P||0,fe=S||0;if(M)return new Date(Date.UTC(F,N,B,Y,ne,ue,fe+M.offset*60*1e3));if(i)return new Date(Date.UTC(F,N,B,Y,ne,ue,fe));var oe;return oe=new Date(F,N,B,Y,ne,ue,fe),O&&(oe=r(oe).week(O).toDate()),oe}catch{return new Date("")}},vz=function(n,e,t){t.p.customParseFormat=!0,n&&n.parseTwoDigitYear&&(gz=n.parseTwoDigitYear);var i=e.prototype,r=i.parse;i.parse=function(o){var a=o.date,c=o.utc,u=o.args;this.$u=c;var h=u[1];if(typeof h=="string"){var v=u[2]===!0,y=u[3]===!0,P=v||y,S=u[2];y&&(S=u[2]),S1=this.$locale(),!v&&S&&(S1=t.Ls[S]),this.$d=MK(a,h,c,t),this.init(),S&&S!==!0&&(this.$L=this.locale(S).$L),P&&a!=this.format(h)&&(this.$d=new Date("")),S1={}}else if(h instanceof Array)for(var M=h.length,O=1;O<=M;O+=1){u[1]=h[O-1];var R=t.apply(this,u);if(R.isValid()){this.$d=R.$d,this.$L=R.$L,this.init();break}O===M&&(this.$d=new Date(""))}else r.call(this,o)}};var wK=/[+-]\d\d(?::?\d\d)?/g,SK=/([+-]|\d\d)/g;function PK(n){n===void 0&&(n="");var e=n.match(wK);if(!e)return null;var t=(""+e[0]).match(SK)||["-",0,0],i=t[0],r=t[1],o=t[2],a=+r*60+ +o;return a===0?0:i==="+"?a:-a}var bz=function(n,e,t){var i=e.prototype;t.utc=function(y){var P={date:y,utc:!0,args:arguments};return new e(P)},i.utc=function(y){var P=t(this.toDate(),{locale:this.$L,utc:!0});return y?P.add(this.utcOffset(),_s):P},i.local=function(){return t(this.toDate(),{locale:this.$L,utc:!1})};var r=i.parse;i.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),r.call(this,y)};var o=i.init;i.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else o.call(this)};var a=i.utcOffset;i.utcOffset=function(y,P){var S=this.$utils(),M=S.u;if(M(y))return this.$u?0:M(this.$offset)?a.call(this):this.$offset;if(typeof y=="string"&&(y=PK(y),y===null))return this;var O=Math.abs(y)<=16?y*60:y,R=this;if(P)return R.$offset=O,R.$u=y===0,R;if(y!==0){var B=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();R=this.local().add(O+B,_s),R.$offset=O,R.$x.$localOffset=B}else R=this.utc();return R};var c=i.format,u="YYYY-MM-DDTHH:mm:ss[Z]";i.format=function(y){var P=y||(this.$u?u:"");return c.call(this,P)},i.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-y*b4},i.isUTC=function(){return!!this.$u},i.toISOString=function(){return this.toDate().toISOString()},i.toString=function(){return this.toDate().toUTCString()};var h=i.toDate;i.toDate=function(y){return y==="s"&&this.$offset?t(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var v=i.diff;i.diff=function(y,P,S){if(y&&this.$u===y.$u)return v.call(this,y,P,S);var M=this.local(),O=t(y).local();return v.call(M,O,P,S)}};var kK=["pickerContainer"],OK=(n,e,t,i,r,o,a)=>({ltr:n,rtl:e,shown:t,hidden:i,inline:r,double:o,"show-ranges":a}),DK=n=>({active:n}),EK=(n,e)=>({right:n,left:e});function IK(n,e){if(n&1){let t=X();l(0,"li")(1,"button",8),T("click",function(r){let o=z(t).$implicit,a=C(2);return A(a.clickRange(r,o))}),m(2),d()()}if(n&2){let t=e.$implicit,i=C(2);p(),_("disabled",i.disableRange(t))("ngClass",nn(3,DK,t===i.chosenRange)),p(),U(" ",t," ")}}function TK(n,e){if(n&1&&(zt(0),l(1,"div",6)(2,"ul"),j(3,IK,3,5,"li",7),d()(),At()),n&2){let t=C();p(3),_("ngForOf",t.rangesArray)}}function LK(n,e){n&1&&k(0,"th")}function zK(n,e){if(n&1){let t=X();zt(0),l(1,"th",19),T("click",function(){z(t);let r=C(3);return A(r.clickPrev(r.sideEnum.left))}),d(),At()}}function AK(n,e){n&1&&(zt(0),k(1,"th"),At())}function NK(n,e){if(n&1&&(l(0,"option",25),m(1),d()),n&2){let t=e.$implicit,i=C(4);_("disabled",i.calendarVariables.left.dropdowns.inMinYear&&t<i.calendarVariables.left.minDate.month()||i.calendarVariables.left.dropdowns.inMaxYear&&t>i.calendarVariables.left.maxDate.month())("value",t)("selected",i.calendarVariables.left.dropdowns.currentMonth===t),p(),U(" ",i.locale.monthNames[t]," ")}}function RK(n,e){if(n&1&&(l(0,"option",26),m(1),d()),n&2){let t=e.$implicit,i=C(4);_("selected",t===i.calendarVariables.left.dropdowns.currentYear),p(),U(" ",t," ")}}function FK(n,e){if(n&1){let t=X();zt(0),l(1,"div",20),m(2),l(3,"select",21),T("change",function(r){z(t);let o=C(3);return A(o.monthChanged(r,o.sideEnum.left))}),j(4,NK,2,4,"option",22),d()(),l(5,"div",20),m(6),l(7,"select",23),T("change",function(r){z(t);let o=C(3);return A(o.yearChanged(r,o.sideEnum.left))}),j(8,RK,2,2,"option",24),d()(),At()}if(n&2){let t=C(3);p(2),U(" ",t.locale.monthNames[t.calendarVariables==null||t.calendarVariables.left==null?null:t.calendarVariables.left.calendar[1][1].month()]," "),p(2),_("ngForOf",t.calendarVariables.left.dropdowns.monthArrays),p(2),U(" ",t.calendarVariables==null||t.calendarVariables.left==null?null:t.calendarVariables.left.calendar[1][1].format(" YYYY")," "),p(2),_("ngForOf",t.calendarVariables.left.dropdowns.yearArrays)}}function VK(n,e){if(n&1&&(zt(0),m(1),At()),n&2){let t=C(3);p(),Nt(" ",t.locale.monthNames[t.calendarVariables==null||t.calendarVariables.left==null?null:t.calendarVariables.left.calendar[1][1].month()]," ",t.calendarVariables==null||t.calendarVariables.left==null?null:t.calendarVariables.left.calendar[1][1].format(" YYYY")," ")}}function BK(n,e){if(n&1){let t=X();zt(0),l(1,"th",27),T("click",function(){z(t);let r=C(3);return A(r.clickNext(r.sideEnum.left))}),d(),At()}}function jK(n,e){n&1&&(zt(0),k(1,"th"),At())}function HK(n,e){if(n&1&&(l(0,"th",28)(1,"span"),m(2),d()()),n&2){let t=C(3);p(2),$(t.locale.weekLabel)}}function UK(n,e){if(n&1&&(l(0,"th")(1,"span"),m(2),d()()),n&2){let t=e.$implicit;p(2),$(t)}}function $K(n,e){if(n&1&&(l(0,"td",28)(1,"span"),m(2),d()()),n&2){let t=C().$implicit,i=C(3);p(2),$(i.calendarVariables.left.calendar[t][0].week())}}function WK(n,e){if(n&1&&(l(0,"td",28)(1,"span"),m(2),d()()),n&2){let t=C().$implicit,i=C(3);p(2),$(i.calendarVariables.left.calendar[t][0].isoWeek())}}function GK(n,e){if(n&1){let t=X();l(0,"td",30),T("click",function(r){let o=z(t).$implicit,a=C().$implicit,c=C(3);return A(c.clickDate(r,c.sideEnum.left,a,o))})("mouseenter",function(r){let o=z(t).$implicit,a=C().$implicit,c=C(3);return A(c.hoverDate(r,c.sideEnum.left,a,o))}),l(1,"span"),m(2),d()()}if(n&2){let t=e.$implicit,i=C().$implicit,r=C(3);cn(r.calendarVariables.left.classes[i][t]),p(2),$(r.calendarVariables.left.calendar[i][t].date())}}function YK(n,e){if(n&1&&(l(0,"tr"),j(1,$K,3,1,"td",16)(2,WK,3,1,"td",16)(3,GK,3,3,"td",29),d()),n&2){let t=e.$implicit,i=C(3);cn(i.calendarVariables.left.classes[t].classList),p(),_("ngIf",i.showWeekNumbers),p(),_("ngIf",i.showISOWeekNumbers),p(),_("ngForOf",i.calendarVariables.left.calCols)}}function qK(n,e){if(n&1&&(l(0,"table",13)(1,"thead")(2,"tr"),j(3,LK,1,0,"th",2)(4,zK,2,0,"ng-container",2)(5,AK,2,0,"ng-container",2),l(6,"th",14),j(7,FK,9,4,"ng-container",2)(8,VK,2,2,"ng-container",2),d(),j(9,BK,2,0,"ng-container",2)(10,jK,2,0,"ng-container",2),d(),l(11,"tr",15),j(12,HK,3,1,"th",16)(13,UK,3,1,"th",7),d()(),l(14,"tbody",17),j(15,YK,4,5,"tr",18),d()()),n&2){let t=C(2);p(3),_("ngIf",t.showWeekNumbers||t.showISOWeekNumbers),p(),_("ngIf",!t.calendarVariables.left.minDate||t.calendarVariables.left.minDate.isBefore(t.calendarVariables.left.calendar.firstDay)&&(!t.linkedCalendars||!0)),p(),_("ngIf",!(!t.calendarVariables.left.minDate||t.calendarVariables.left.minDate.isBefore(t.calendarVariables.left.calendar.firstDay)&&(!t.linkedCalendars||!0))),p(2),_("ngIf",t.showDropdowns&&t.calendarVariables.left.dropdowns),p(),_("ngIf",!t.showDropdowns||!t.calendarVariables.left.dropdowns),p(),_("ngIf",(!t.calendarVariables.left.maxDate||t.calendarVariables.left.maxDate.isAfter(t.calendarVariables.left.calendar.lastDay))&&(!t.linkedCalendars||t.singleDatePicker)),p(),_("ngIf",!((!t.calendarVariables.left.maxDate||t.calendarVariables.left.maxDate.isAfter(t.calendarVariables.left.calendar.lastDay))&&(!t.linkedCalendars||t.singleDatePicker))),p(2),_("ngIf",t.showWeekNumbers||t.showISOWeekNumbers),p(),_("ngForOf",t.locale.daysOfWeek),p(2),_("ngForOf",t.calendarVariables.left.calRows)}}function ZK(n,e){if(n&1&&(l(0,"option",40),m(1),d()),n&2){let t=e.$implicit,i=C(3);_("value",t)("disabled",i.timepickerVariables.left.disabledHours.indexOf(t)>-1),p(),U(" ",t," ")}}function XK(n,e){if(n&1&&(l(0,"option",40),m(1),d()),n&2){let t=e.$implicit,i=e.index,r=C(3);_("value",t)("disabled",r.timepickerVariables.left.disabledMinutes.indexOf(t)>-1),p(),U(" ",r.timepickerVariables.left.minutesLabel[i]," ")}}function KK(n,e){if(n&1&&(l(0,"option",40),m(1),d()),n&2){let t=e.$implicit,i=e.index,r=C(4);_("value",t)("disabled",r.timepickerVariables.left.disabledSeconds.indexOf(t)>-1),p(),U(" ",r.timepickerVariables.left.secondsLabel[i]," ")}}function QK(n,e){if(n&1){let t=X();l(0,"select",41),mt("ngModelChange",function(r){z(t);let o=C(3);return _t(o.timepickerVariables.left.selectedSecond,r)||(o.timepickerVariables.left.selectedSecond=r),A(r)}),T("ngModelChange",function(r){z(t);let o=C(3);return A(o.timeChanged(r,o.sideEnum.left))}),j(1,KK,2,3,"option",34),d()}if(n&2){let t=C(3);_("disabled",!t.startDate),ft("ngModel",t.timepickerVariables.left.selectedSecond),p(),_("ngForOf",t.timepickerVariables.left.seconds)}}function JK(n,e){if(n&1){let t=X();l(0,"select",42),mt("ngModelChange",function(r){z(t);let o=C(3);return _t(o.timepickerVariables.left.ampmModel,r)||(o.timepickerVariables.left.ampmModel=r),A(r)}),T("ngModelChange",function(r){z(t);let o=C(3);return A(o.timeChanged(r,o.sideEnum.left))}),l(1,"option",43),m(2,"AM"),d(),l(3,"option",44),m(4,"PM"),d()()}if(n&2){let t=C(3);ft("ngModel",t.timepickerVariables.left.ampmModel),p(),_("disabled",t.timepickerVariables.left.amDisabled),p(2),_("disabled",t.timepickerVariables.left.pmDisabled)}}function eQ(n,e){if(n&1){let t=X();l(0,"div",31)(1,"div",32)(2,"select",33),mt("ngModelChange",function(r){z(t);let o=C(2);return _t(o.timepickerVariables.left.selectedHour,r)||(o.timepickerVariables.left.selectedHour=r),A(r)}),T("ngModelChange",function(r){z(t);let o=C(2);return A(o.timeChanged(r,o.sideEnum.left))}),j(3,ZK,2,3,"option",34),d()(),l(4,"div",32)(5,"select",35),mt("ngModelChange",function(r){z(t);let o=C(2);return _t(o.timepickerVariables.left.selectedMinute,r)||(o.timepickerVariables.left.selectedMinute=r),A(r)}),T("ngModelChange",function(r){z(t);let o=C(2);return A(o.timeChanged(r,o.sideEnum.left))}),j(6,XK,2,3,"option",34),d(),k(7,"span",36)(8,"span",37),d(),l(9,"div",32),j(10,QK,2,3,"select",38),k(11,"span",36)(12,"span",37),d(),l(13,"div",32),j(14,JK,5,3,"select",39),k(15,"span",36)(16,"span",37),d()()}if(n&2){let t=C(2);p(2),_("disabled",!t.startDate),ft("ngModel",t.timepickerVariables.left.selectedHour),p(),_("ngForOf",t.timepickerVariables.left.hours),p(2),_("disabled",!t.startDate),ft("ngModel",t.timepickerVariables.left.selectedMinute),p(),_("ngForOf",t.timepickerVariables.left.minutes),p(4),_("ngIf",t.timePickerSeconds),p(4),_("ngIf",!t.timePicker24Hour)}}function tQ(n,e){if(n&1&&(l(0,"div",9)(1,"div",10),j(2,qK,16,10,"table",11),d(),j(3,eQ,17,8,"div",12),d()),n&2){let t=C();_("ngClass",wi(3,EK,t.singleDatePicker,!t.singleDatePicker)),p(2),_("ngIf",t.calendarVariables),p(),_("ngIf",t.timePicker)}}function nQ(n,e){n&1&&k(0,"th")}function iQ(n,e){if(n&1){let t=X();zt(0),l(1,"th",19),T("click",function(){z(t);let r=C(3);return A(r.clickPrev(r.sideEnum.right))}),d(),At()}}function rQ(n,e){n&1&&(zt(0),k(1,"th"),At())}function oQ(n,e){if(n&1&&(l(0,"option",25),m(1),d()),n&2){let t=e.$implicit,i=C(4);_("disabled",i.calendarVariables.right.dropdowns.inMinYear&&i.calendarVariables.right.minDate&&t<i.calendarVariables.right.minDate.month()||i.calendarVariables.right.dropdowns.inMaxYear&&i.calendarVariables.right.maxDate&&t>i.calendarVariables.right.maxDate.month())("value",t)("selected",i.calendarVariables.right.dropdowns.currentMonth===t),p(),U(" ",i.locale.monthNames[t]," ")}}function aQ(n,e){if(n&1&&(l(0,"option",26),m(1),d()),n&2){let t=e.$implicit,i=C(4);_("selected",t===i.calendarVariables.right.dropdowns.currentYear),p(),U(" ",t," ")}}function sQ(n,e){if(n&1){let t=X();zt(0),l(1,"div",20),m(2),l(3,"select",21),T("change",function(r){z(t);let o=C(3);return A(o.monthChanged(r,o.sideEnum.right))}),j(4,oQ,2,4,"option",22),d()(),l(5,"div",20),m(6),l(7,"select",23),T("change",function(r){z(t);let o=C(3);return A(o.yearChanged(r,o.sideEnum.right))}),j(8,aQ,2,2,"option",24),d()(),At()}if(n&2){let t=C(3);p(2),U(" ",t.locale.monthNames[t.calendarVariables==null||t.calendarVariables.right==null?null:t.calendarVariables.right.calendar[1][1].month()]," "),p(2),_("ngForOf",t.calendarVariables.right.dropdowns.monthArrays),p(2),U(" ",t.calendarVariables==null||t.calendarVariables.right==null?null:t.calendarVariables.right.calendar[1][1].format(" YYYY")," "),p(2),_("ngForOf",t.calendarVariables.right.dropdowns.yearArrays)}}function lQ(n,e){if(n&1&&(zt(0),m(1),At()),n&2){let t=C(3);p(),Nt(" ",t.locale.monthNames[t.calendarVariables==null||t.calendarVariables.right==null?null:t.calendarVariables.right.calendar[1][1].month()]," ",t.calendarVariables==null||t.calendarVariables.right==null?null:t.calendarVariables.right.calendar[1][1].format(" YYYY")," ")}}function cQ(n,e){if(n&1){let t=X();zt(0),l(1,"th",27),T("click",function(){z(t);let r=C(3);return A(r.clickNext(r.sideEnum.right))}),d(),At()}}function dQ(n,e){n&1&&(zt(0),k(1,"th"),At())}function uQ(n,e){if(n&1&&(l(0,"th",28)(1,"span"),m(2),d()()),n&2){let t=C(3);p(2),$(t.locale.weekLabel)}}function pQ(n,e){if(n&1&&(l(0,"th")(1,"span"),m(2),d()()),n&2){let t=e.$implicit;p(2),$(t)}}function fQ(n,e){if(n&1&&(l(0,"td",28)(1,"span"),m(2),d()()),n&2){let t=C().$implicit,i=C(3);p(2),$(i.calendarVariables.right.calendar[t][0].week())}}function mQ(n,e){if(n&1&&(l(0,"td",28)(1,"span"),m(2),d()()),n&2){let t=C().$implicit,i=C(3);p(2),$(i.calendarVariables.right.calendar[t][0].isoWeek())}}function hQ(n,e){if(n&1){let t=X();l(0,"td",30),T("click",function(r){let o=z(t).$implicit,a=C().$implicit,c=C(3);return A(c.clickDate(r,c.sideEnum.right,a,o))})("mouseenter",function(r){let o=z(t).$implicit,a=C().$implicit,c=C(3);return A(c.hoverDate(r,c.sideEnum.right,a,o))}),l(1,"span"),m(2),d()()}if(n&2){let t=e.$implicit,i=C().$implicit,r=C(3);cn(r.calendarVariables.right.classes[i][t]),p(2),$(r.calendarVariables.right.calendar[i][t].date())}}function gQ(n,e){if(n&1&&(l(0,"tr"),j(1,fQ,3,1,"td",16)(2,mQ,3,1,"td",16)(3,hQ,3,3,"td",29),d()),n&2){let t=e.$implicit,i=C(3);cn(i.calendarVariables.right.classes[t].classList),p(),_("ngIf",i.showWeekNumbers),p(),_("ngIf",i.showISOWeekNumbers),p(),_("ngForOf",i.calendarVariables.right.calCols)}}function vQ(n,e){if(n&1&&(l(0,"table",13)(1,"thead")(2,"tr"),j(3,nQ,1,0,"th",2)(4,iQ,2,0,"ng-container",2)(5,rQ,2,0,"ng-container",2),l(6,"th",46),j(7,sQ,9,4,"ng-container",2)(8,lQ,2,2,"ng-container",2),d(),j(9,cQ,2,0,"ng-container",2)(10,dQ,2,0,"ng-container",2),d(),l(11,"tr",15),j(12,uQ,3,1,"th",16)(13,pQ,3,1,"th",7),d()(),l(14,"tbody"),j(15,gQ,4,5,"tr",18),d()()),n&2){let t=C(2);p(3),_("ngIf",t.showWeekNumbers||t.showISOWeekNumbers),p(),_("ngIf",(!t.calendarVariables.right.minDate||t.calendarVariables.right.minDate.isBefore(t.calendarVariables.right.calendar.firstDay))&&!t.linkedCalendars),p(),_("ngIf",!((!t.calendarVariables.right.minDate||t.calendarVariables.right.minDate.isBefore(t.calendarVariables.right.calendar.firstDay))&&!t.linkedCalendars)),p(2),_("ngIf",t.showDropdowns&&t.calendarVariables.right.dropdowns),p(),_("ngIf",!t.showDropdowns||!t.calendarVariables.right.dropdowns),p(),_("ngIf",!t.calendarVariables.right.maxDate||t.calendarVariables.right.maxDate.isAfter(t.calendarVariables.right.calendar.lastDay)&&(!t.linkedCalendars||t.singleDatePicker||!0)),p(),_("ngIf",!(!t.calendarVariables.right.maxDate||t.calendarVariables.right.maxDate.isAfter(t.calendarVariables.right.calendar.lastDay)&&(!t.linkedCalendars||t.singleDatePicker||!0))),p(2),_("ngIf",t.showWeekNumbers||t.showISOWeekNumbers),p(),_("ngForOf",t.locale.daysOfWeek),p(2),_("ngForOf",t.calendarVariables.right.calRows)}}function bQ(n,e){if(n&1&&(l(0,"option",40),m(1),d()),n&2){let t=e.$implicit,i=C(3);_("value",t)("disabled",i.timepickerVariables.right.disabledHours.indexOf(t)>-1),p(),U(" ",t," ")}}function _Q(n,e){if(n&1&&(l(0,"option",40),m(1),d()),n&2){let t=e.$implicit,i=e.index,r=C(3);_("value",t)("disabled",r.timepickerVariables.right.disabledMinutes.indexOf(t)>-1),p(),U(" ",r.timepickerVariables.right.minutesLabel[i]," ")}}function yQ(n,e){if(n&1&&(l(0,"option",40),m(1),d()),n&2){let t=e.$implicit,i=e.index,r=C(4);_("value",t)("disabled",r.timepickerVariables.right.disabledSeconds.indexOf(t)>-1),p(),U(" ",r.timepickerVariables.right.secondsLabel[i]," ")}}function xQ(n,e){if(n&1){let t=X();l(0,"select",41),mt("ngModelChange",function(r){z(t);let o=C(3);return _t(o.timepickerVariables.right.selectedSecond,r)||(o.timepickerVariables.right.selectedSecond=r),A(r)}),T("ngModelChange",function(r){z(t);let o=C(3);return A(o.timeChanged(r,o.sideEnum.right))}),j(1,yQ,2,3,"option",34),d()}if(n&2){let t=C(3);_("disabled",!t.startDate),ft("ngModel",t.timepickerVariables.right.selectedSecond),p(),_("ngForOf",t.timepickerVariables.right.seconds)}}function CQ(n,e){if(n&1){let t=X();l(0,"select",42),mt("ngModelChange",function(r){z(t);let o=C(3);return _t(o.timepickerVariables.right.ampmModel,r)||(o.timepickerVariables.right.ampmModel=r),A(r)}),T("ngModelChange",function(r){z(t);let o=C(3);return A(o.timeChanged(r,o.sideEnum.right))}),l(1,"option",43),m(2,"AM"),d(),l(3,"option",44),m(4,"PM"),d()()}if(n&2){let t=C(3);ft("ngModel",t.timepickerVariables.right.ampmModel),p(),_("disabled",t.timepickerVariables.right.amDisabled),p(2),_("disabled",t.timepickerVariables.right.pmDisabled)}}function MQ(n,e){if(n&1){let t=X();l(0,"div",31)(1,"div",32)(2,"select",47),mt("ngModelChange",function(r){z(t);let o=C(2);return _t(o.timepickerVariables.right.selectedHour,r)||(o.timepickerVariables.right.selectedHour=r),A(r)}),T("ngModelChange",function(r){z(t);let o=C(2);return A(o.timeChanged(r,o.sideEnum.right))}),j(3,bQ,2,3,"option",34),d(),k(4,"span",36)(5,"span",37),d(),l(6,"div",32)(7,"select",35),mt("ngModelChange",function(r){z(t);let o=C(2);return _t(o.timepickerVariables.right.selectedMinute,r)||(o.timepickerVariables.right.selectedMinute=r),A(r)}),T("ngModelChange",function(r){z(t);let o=C(2);return A(o.timeChanged(r,o.sideEnum.right))}),j(8,_Q,2,3,"option",34),d(),k(9,"span",36)(10,"span",37),d(),l(11,"div",32),j(12,xQ,2,3,"select",38),k(13,"span",36)(14,"span",37),d(),l(15,"div",32),j(16,CQ,5,3,"select",39),k(17,"span",36)(18,"span",37),d()()}if(n&2){let t=C(2);p(2),_("disabled",!t.startDate),ft("ngModel",t.timepickerVariables.right.selectedHour),p(),_("ngForOf",t.timepickerVariables.right.hours),p(4),_("disabled",!t.startDate),ft("ngModel",t.timepickerVariables.right.selectedMinute),p(),_("ngForOf",t.timepickerVariables.right.minutes),p(4),_("ngIf",t.timePickerSeconds),p(4),_("ngIf",!t.timePicker24Hour)}}function wQ(n,e){if(n&1&&(l(0,"div",45)(1,"div",10),j(2,vQ,16,10,"table",11),d(),j(3,MQ,19,8,"div",12),d()),n&2){let t=C();p(2),_("ngIf",t.calendarVariables),p(),_("ngIf",t.timePicker)}}function SQ(n,e){if(n&1){let t=X();l(0,"button",53),T("click",function(){z(t);let r=C(2);return A(r.clear())}),m(1),$e(),l(2,"svg",54),k(3,"path",55),d()()}if(n&2){let t=C(2);_("title",t.locale.clearLabel),p(),U(" ",t.locale.clearLabel," ")}}function PQ(n,e){if(n&1){let t=X();l(0,"button",56),T("click",function(r){z(t);let o=C(2);return A(o.clickCancel(r))}),m(1),d()}if(n&2){let t=C(2);p(),$(t.locale.cancelLabel)}}function kQ(n,e){if(n&1){let t=X();l(0,"div",48)(1,"div",49),j(2,SQ,4,2,"button",50)(3,PQ,2,1,"button",51),l(4,"button",52),T("click",function(r){z(t);let o=C();return A(o.clickApply(r))}),m(5),d()()()}if(n&2){let t=C();p(2),_("ngIf",t.showClearButton),p(),_("ngIf",t.showCancel),p(),_("disabled",t.applyBtn.disabled),p(),$(t.locale.applyLabel)}}ln.extend(YC);var ZC=new He("daterangepicker.config"),n8={direction:"ltr",separator:" - ",weekLabel:"W",applyLabel:"Apply",cancelLabel:"Cancel",clearLabel:"Clear",customRangeLabel:"Custom range",daysOfWeek:ln.weekdaysMin(),monthNames:ln.monthsShort(),firstDay:ln.localeData().firstDayOfWeek()},i8=(()=>{class n{constructor(t){this.configHolder=t}get config(){return this.configHolder?ie(ie({},n8),this.configHolder):n8}configWithLocale(t){return!this.configHolder&&!t?n8:ie(Ve(ie({},n8),{daysOfWeek:t.weekdaysMin,monthNames:t.monthsShort,firstDay:t.weekStart}),this.configHolder)}}return n.\u0275fac=function(t){return new(t||n)(De(ZC))},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})();ln.extend(YC);ln.extend(dz);ln.extend(uz);ln.extend(pz);ln.extend(vz);ln.extend(bz);var Tn=function(n){return n.left="left",n.right="right",n}(Tn||{}),Op=(()=>{class n{constructor(t,i,r){this.el=t,this.ref=i,this.localeHolderService=r,this.startDate=ln().utc(!0).startOf("day"),this.endDate=ln().utc(!0).endOf("day"),this.dateLimit=null,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.linkedCalendars=!1,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.maxSpan=!1,this.lockStartDate=!1,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.showClearButton=!1,this.firstMonthDayClass=null,this.lastMonthDayClass=null,this.emptyWeekRowClass=null,this.emptyWeekColumnClass=null,this.firstDayOfNextMonthClass=null,this.lastDayOfPreviousMonthClass=null,this.showCancel=!1,this.keepCalendarOpeningWithRange=!1,this.showRangeLabelOnInput=!1,this.customRangeDirection=!1,this.closeOnAutoApply=!0,this.calendarVariables={},this.timepickerVariables={},this.daterangepicker={start:new Ri,end:new Ri},this.applyBtn={disabled:!1},this.sideEnum=Tn,this.rangesArray=[],this.isShown=!1,this.inline=!0,this.leftCalendar={month:null,calendar:[]},this.rightCalendar={month:null,calendar:[]},this.showCalInRanges=!1,this.nowHoveredDate=null,this.pickingDate=!1,this.localeHolder={},this.rangesHolder={},this.cachedVersion={start:null,end:null},this.clickNext=o=>{o===Tn.left?this.leftCalendar.month=this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month=this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&(this.leftCalendar.month=this.leftCalendar.month.add(1,"month"))),this.updateCalendars()},this.choosedDate=new ye,this.rangeClicked=new ye,this.datesUpdated=new ye,this.startDateChanged=new ye,this.endDateChanged=new ye,this.cancelClicked=new ye,this.clearClicked=new ye}get minDate(){return this.minDateHolder}set minDate(t){ln.isDayjs(t)?this.minDateHolder=t:typeof t=="string"?this.minDateHolder=ln(t).utc(!0):this.minDateHolder=null}get locale(){return this.localeHolder}set locale(t){this.localeHolder=ie(ie({},this.localeHolderService.config),t),t.locale&&(this.localeHolder=this.localeHolderService.configWithLocale(t.locale))}get ranges(){return this.rangesHolder}set ranges(t){this.rangesHolder=t,this.renderRanges()}get maxDate(){return this.maxDateHolder}set maxDate(t){ln.isDayjs(t)?this.maxDateHolder=t:typeof t=="string"?this.maxDateHolder=ln(t).utc(!0):this.maxDateHolder=null}isInvalidDate(t){return!1}isCustomDate(t){return!1}isTooltipDate(t){return null}handleInternalClick(t){return t.stopPropagation()}ngOnChanges(t){(t.startDate||t.endDate)&&this.inline&&this.updateView()}ngOnInit(){this.buildLocale();let t=[...this.locale.daysOfWeek];if(this.locale.firstDay=this.locale.firstDay%7,this.locale.firstDay!==0){let i=this.locale.firstDay;for(;i>0;)t.push(t.shift()),i--}this.locale.daysOfWeek=t,this.inline&&(this.cachedVersion.start=this.startDate.clone(),this.cachedVersion.end=this.endDate.clone()),this.startDate&&this.timePicker&&(this.setStartDate(this.startDate),this.renderTimePicker(Tn.left)),this.endDate&&this.timePicker&&(this.setEndDate(this.endDate),this.renderTimePicker(Tn.right)),this.updateMonthsInView(),this.renderCalendar(Tn.left),this.renderCalendar(Tn.right),this.renderRanges()}renderRanges(){this.rangesArray=[];let t,i;if(typeof this.ranges=="object"){for(let r in this.ranges)if(this.ranges[r]){typeof this.ranges[r][0]=="string"?t=ln(this.ranges[r][0],this.locale.format).utc(!0):t=ln(this.ranges[r][0]).utc(!0),typeof this.ranges[r][1]=="string"?i=ln(this.ranges[r][1],this.locale.format).utc(!0):i=ln(this.ranges[r][1]).utc(!0),this.minDate&&t.isBefore(this.minDate)&&(t=this.minDate.clone());let o=this.maxDate;if(this.maxSpan&&o&&t.clone().add(this.maxSpan).isAfter(o)&&(o=t.clone().add(this.maxSpan)),o&&i.isAfter(o)&&(i=o.clone()),this.minDate&&i.isBefore(this.minDate,this.timePicker?"minute":"day")||o&&t.isAfter(o,this.timePicker?"minute":"day"))continue;let a=document.createElement("textarea");a.innerHTML=r;let c=a.value;this.ranges[c]=[t,i]}for(let r in this.ranges)this.ranges[r]&&this.rangesArray.push(r);this.showCustomRangeLabel&&this.rangesArray.push(this.locale.customRangeLabel),this.showCalInRanges=!this.rangesArray.length||this.alwaysShowCalendars,this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"))}}renderTimePicker(t){let i,r,o=this.maxDate;t===Tn.left?(i=this.startDate.clone(),r=this.minDate):t===Tn.right&&this.endDate?(i=this.endDate.clone(),r=this.startDate):t===Tn.right&&!this.endDate&&(i=this.getDateWithTime(this.startDate,Tn.right),i.isBefore(this.startDate)&&(i=this.startDate.clone()),r=this.startDate);let a=this.timePicker24Hour?0:1,c=this.timePicker24Hour?23:12;this.timepickerVariables[t]={hours:[],minutes:[],minutesLabel:[],seconds:[],secondsLabel:[],disabledHours:[],disabledMinutes:[],disabledSeconds:[],selectedHour:0,selectedMinute:0,selectedSecond:0,selected:i};for(let u=a;u<=c;u++){let h=u;this.timePicker24Hour||(h=i.hour()>=12?u===12?12:u+12:u===12?0:u);let v=i.clone().hour(h),y=!1;r&&v.minute(59).isBefore(r)&&(y=!0),o&&v.minute(0).isAfter(o)&&(y=!0),this.timepickerVariables[t].hours.push(u),h===i.hour()&&!y?this.timepickerVariables[t].selectedHour=u:y&&this.timepickerVariables[t].disabledHours.push(u)}for(let u=0;u<60;u+=this.timePickerIncrement){let h=u<10?`0${u}`:`${u}`,v=i.clone().minute(u),y=!1;r&&v.second(59).isBefore(r)&&(y=!0),o&&v.second(0).isAfter(o)&&(y=!0),this.timepickerVariables[t].minutes.push(u),this.timepickerVariables[t].minutesLabel.push(h),i.minute()===u&&!y?this.timepickerVariables[t].selectedMinute=u:y&&this.timepickerVariables[t].disabledMinutes.push(u)}if(this.timePickerSeconds)for(let u=0;u<60;u++){let h=u<10?`0${u}`:`${u}`,v=i.clone().second(u),y=!1;r&&v.isBefore(r)&&(y=!0),o&&v.isAfter(o)&&(y=!0),this.timepickerVariables[t].seconds.push(u),this.timepickerVariables[t].secondsLabel.push(h),i.second()===u&&!y?this.timepickerVariables[t].selectedSecond=u:y&&this.timepickerVariables[t].disabledSeconds.push(u)}this.timePicker24Hour||(r&&i.clone().hour(12).minute(0).second(0).isBefore(r)&&(this.timepickerVariables[t].amDisabled=!0),o&&i.clone().hour(0).minute(0).second(0).isAfter(o)&&(this.timepickerVariables[t].pmDisabled=!0),i.hour()>=12?this.timepickerVariables[t].ampmModel="PM":this.timepickerVariables[t].ampmModel="AM"),this.timepickerVariables[t].selected=i}renderCalendar(t){let i=t===Tn.left?this.leftCalendar:this.rightCalendar,r=i.month.month(),o=i.month.year(),a=i.month.hour(),c=i.month.minute(),u=i.month.second(),h=ln(new Date(o,r)).utc(!0).daysInMonth(),v=ln(new Date(o,r,1)).utc(!0),y=ln(new Date(o,r,h)).utc(!0),P=ln(v).utc(!0).subtract(1,"month").month(),S=ln(v).utc(!0).subtract(1,"month").year(),M=ln(new Date(S,P)).utc(!0).daysInMonth(),O=v.day(),R=[];R.firstDay=v,R.lastDay=y;for(let ne=0;ne<6;ne++)R[ne]=[];let B=M-O+this.locale.firstDay+1;B>M&&(B-=7),O===this.locale.firstDay&&(B=M-6);let F=ln(new Date(S,P,B,12,c,u)).utc(!0);for(let ne=0,ue=0,fe=0;ne<42;ne++,ue++,F=ln(F).utc(!0).add(24,"hours"))ne>0&&ue%7===0&&(ue=0,fe++),R[fe][ue]=F.clone().hour(a).minute(c).second(u),F=F.hour(12),this.minDate&&R[fe][ue].format("YYYY-MM-DD")===this.minDate.format("YYYY-MM-DD")&&R[fe][ue].isBefore(this.minDate)&&t==="left"&&(R[fe][ue]=this.minDate.clone()),this.maxDate&&R[fe][ue].format("YYYY-MM-DD")===this.maxDate.format("YYYY-MM-DD")&&R[fe][ue].isAfter(this.maxDate)&&t==="right"&&(R[fe][ue]=this.maxDate.clone());t===Tn.left?this.leftCalendar.calendar=R:this.rightCalendar.calendar=R;let N=t==="left"?this.minDate:this.startDate,Y=this.maxDate;if(this.endDate===null&&this.dateLimit){let ne=this.startDate.clone().add(this.dateLimit,"day").endOf("day");if((!Y||ne.isBefore(Y))&&(Y=ne),this.customRangeDirection){N=this.minDate;let ue=this.startDate.clone().subtract(this.dateLimit,"day").endOf("day");(!N||ue.isAfter(N))&&(N=ue)}}if(this.calendarVariables[t]={month:r,year:o,hour:a,minute:c,second:u,daysInMonth:h,firstDay:v,lastDay:y,lastMonth:P,lastYear:S,daysInLastMonth:M,dayOfWeek:O,calRows:Array.from(Array(6).keys()),calCols:Array.from(Array(7).keys()),classes:{},minDate:N,maxDate:Y,calendar:R},this.showDropdowns){let ne=R[1][1].month(),ue=R[1][1].year(),fe=ln().utc(!0).year(),oe=Y&&Y.year()||fe+5,J=N&&N.year()||fe-50,pe=ue===J,ge=ue===oe,re=[];for(let ee=J;ee<=oe;ee++)re.push(ee);this.calendarVariables[t].dropdowns={currentMonth:ne,currentYear:ue,maxYear:oe,minYear:J,inMinYear:pe,inMaxYear:ge,monthArrays:Array.from(Array(12).keys()),yearArrays:re}}this.buildCells(R,t)}setStartDate(t){typeof t=="string"&&(this.startDate=ln(t,this.locale.format).utc(!0)),typeof t=="object"&&(this.pickingDate=!0,this.startDate=ln(t).utc(!0)),this.timePicker||(this.pickingDate=!0,this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&(this.startDate=this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&(this.startDate=this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement))),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&(this.startDate=this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement))),this.isShown||this.updateElement(),this.startDateChanged.emit({startDate:this.startDate}),this.updateMonthsInView()}setEndDate(t){typeof t=="string"&&(this.endDate=ln(t,this.locale.format).utc(!0)),typeof t=="object"&&(this.pickingDate=!1,this.endDate=ln(t).utc(!0)),this.timePicker||(this.pickingDate=!1,this.endDate=this.endDate.add(1,"d").startOf("day").subtract(1,"second")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.dateLimit&&this.startDate.clone().add(this.dateLimit,"day").isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit,"day")),this.isShown,this.endDateChanged.emit({endDate:this.endDate}),this.updateMonthsInView()}updateView(){this.timePicker&&(this.renderTimePicker(Tn.left),this.renderTimePicker(Tn.right)),this.updateMonthsInView(),this.updateCalendars()}updateMonthsInView(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate&&this.leftCalendar&&this.startDate.format("YYYY-MM")===this.leftCalendar.month.format("YYYY-MM")||this.startDate&&this.rightCalendar&&this.startDate.format("YYYY-MM")===this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")===this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")===this.rightCalendar.month.format("YYYY-MM")))return;this.startDate&&(this.leftCalendar.month=this.startDate.clone().date(2),!this.linkedCalendars&&(this.endDate.month()!==this.startDate.month()||this.endDate.year()!==this.startDate.year())?this.rightCalendar.month=this.endDate.clone().date(2):this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"))}else this.leftCalendar.month.format("YYYY-MM")!==this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!==this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))}updateCalendars(){this.renderCalendar(Tn.left),this.renderCalendar(Tn.right),this.endDate!==null&&this.calculateChosenLabel()}updateElement(){let t=this.locale.displayFormat?this.locale.displayFormat:this.locale.format;!this.singleDatePicker&&this.autoUpdateInput?this.startDate&&this.endDate&&(this.rangesArray.length&&this.showRangeLabelOnInput===!0&&this.chosenRange&&this.locale.customRangeLabel!==this.chosenRange?this.chosenLabel=this.chosenRange:this.chosenLabel=this.startDate.format(t)+this.locale.separator+this.endDate.format(t)):this.autoUpdateInput&&(this.chosenLabel=this.startDate.format(t))}remove(){this.isShown=!1}calculateChosenLabel(){(!this.locale||!this.locale.separator)&&this.buildLocale();let t=!0,i=0;if(this.rangesArray.length>0){for(let r in this.ranges)if(this.ranges[r]){if(this.timePicker){let o=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(o)===this.ranges[r][0].format(o)&&this.endDate.format(o)===this.ranges[r][1].format(o)){t=!1,this.chosenRange=this.rangesArray[i];break}}else if(this.startDate.format("YYYY-MM-DD")===this.ranges[r][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")===this.ranges[r][1].format("YYYY-MM-DD")){t=!1,this.chosenRange=this.rangesArray[i];break}i++}t&&(this.showCustomRangeLabel?this.chosenRange=this.locale.customRangeLabel:this.chosenRange=null,this.showCalInRanges=!0)}this.updateElement()}clickApply(t){if(!this.singleDatePicker&&this.startDate&&!this.endDate&&(this.endDate=this.getDateWithTime(this.startDate,Tn.right),this.calculateChosenLabel()),this.isInvalidDate&&this.startDate&&this.endDate){let i=this.startDate.clone();for(;i.isBefore(this.endDate);){if(this.isInvalidDate(i)){this.endDate=i.subtract(1,"days"),this.calculateChosenLabel();break}i=i.add(1,"days")}}this.chosenLabel&&this.choosedDate.emit({chosenLabel:this.chosenLabel,startDate:this.startDate,endDate:this.endDate}),this.datesUpdated.emit({startDate:this.startDate,endDate:this.endDate}),(t||this.closeOnAutoApply&&!t)&&this.hide()}clickCancel(t){this.startDate=this.cachedVersion.start,this.endDate=this.cachedVersion.end,this.inline&&this.updateView(),this.cancelClicked.emit(),this.hide()}monthChanged(t,i){let r=this.calendarVariables[i].dropdowns.currentYear,o=parseInt(t.target.value,10);this.monthOrYearChanged(o,r,i)}yearChanged(t,i){let r=this.calendarVariables[i].dropdowns.currentMonth,o=parseInt(t.target.value,10);this.monthOrYearChanged(r,o,i)}timeChanged(t,i){let r=parseInt(String(this.timepickerVariables[i].selectedHour),10),o=parseInt(String(this.timepickerVariables[i].selectedMinute),10),a=this.timePickerSeconds?parseInt(String(this.timepickerVariables[i].selectedSecond),10):0;if(!this.timePicker24Hour){let c=this.timepickerVariables[i].ampmModel;c==="PM"&&r<12&&(r+=12),c==="AM"&&r===12&&(r=0)}if(i===Tn.left){let c=this.startDate.clone();c=c.hour(r),c=c.minute(o),c=c.second(a),this.setStartDate(c),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")===c.format("YYYY-MM-DD")&&this.endDate.isBefore(c)?this.setEndDate(c.clone()):!this.endDate&&this.timePicker&&this.getDateWithTime(c,Tn.right).isBefore(c)&&(this.timepickerVariables[Tn.right].selectedHour=r,this.timepickerVariables[Tn.right].selectedMinute=o,this.timepickerVariables[Tn.right].selectedSecond=a)}else if(this.endDate){let c=this.endDate.clone();c=c.hour(r),c=c.minute(o),c=c.second(a),this.setEndDate(c)}this.updateCalendars(),this.renderTimePicker(Tn.left),this.renderTimePicker(Tn.right),this.autoApply&&this.clickApply()}monthOrYearChanged(t,i,r){let o=r===Tn.left,a=t,c=i;o||(c<this.startDate.year()||c===this.startDate.year()&&a<this.startDate.month())&&(a=this.startDate.month(),c=this.startDate.year()),this.minDate&&(c<this.minDate.year()||c===this.minDate.year()&&a<this.minDate.month())&&(a=this.minDate.month(),c=this.minDate.year()),this.maxDate&&(c>this.maxDate.year()||c===this.maxDate.year()&&a>this.maxDate.month())&&(a=this.maxDate.month(),c=this.maxDate.year()),this.calendarVariables[r].dropdowns.currentYear=c,this.calendarVariables[r].dropdowns.currentMonth=a,o?(this.leftCalendar.month=this.leftCalendar.month.month(a).year(c),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month=this.rightCalendar.month.month(a).year(c),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()}clickPrev(t){t===Tn.left?(this.leftCalendar.month=this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&(this.rightCalendar.month=this.rightCalendar.month.subtract(1,"month"))):this.rightCalendar.month=this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()}hoverDate(t,i,r,o){let a=this.calendarVariables.left.calendar[r][o],c=this.calendarVariables.right.calendar[r][o];this.pickingDate&&(this.nowHoveredDate=i===Tn.left?a:c,this.renderCalendar(Tn.left),this.renderCalendar(Tn.right))}clickDate(t,i,r,o){if(t.target.tagName==="TD"){if(!t.target.classList.contains("available"))return}else if(t.target.tagName==="SPAN"&&!t.target.parentElement.classList.contains("available"))return;this.rangesArray.length&&(this.chosenRange=this.locale.customRangeLabel);let a=i===Tn.left?this.leftCalendar.calendar[r][o]:this.rightCalendar.calendar[r][o];(this.endDate||a.isBefore(this.startDate,"day")&&this.customRangeDirection===!1)&&this.lockStartDate===!1?(this.timePicker&&(a=this.getDateWithTime(a,Tn.left)),this.endDate=null,this.setStartDate(a.clone())):!this.endDate&&a.isBefore(this.startDate)&&this.customRangeDirection===!1?this.setEndDate(this.startDate.clone()):(this.timePicker&&(a=this.getDateWithTime(a,Tn.right)),a.isBefore(this.startDate,"day")===!0&&this.customRangeDirection===!0?(this.setEndDate(this.startDate),this.setStartDate(a.clone())):this.setEndDate(a.clone()),this.autoApply&&this.calculateChosenLabel()),this.singleDatePicker&&(this.setEndDate(this.startDate),this.updateElement(),this.autoApply&&this.clickApply()),this.updateView(),this.autoApply&&this.startDate&&this.endDate&&this.clickApply(),t.stopPropagation()}clickRange(t,i){if(this.chosenRange=i,i===this.locale.customRangeLabel)this.isShown=!0,this.showCalInRanges=!0;else{let r=this.ranges[i];if(console.log("1 ",r),this.startDate=r[0].clone(),this.endDate=r[1].clone(),this.showRangeLabelOnInput&&i!==this.locale.customRangeLabel?this.chosenLabel=i:this.calculateChosenLabel(),this.showCalInRanges=!this.rangesArray.length||this.alwaysShowCalendars,this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day")),this.alwaysShowCalendars||(this.isShown=!1),this.rangeClicked.emit({label:i,dates:r}),!this.keepCalendarOpeningWithRange||this.autoApply)this.clickApply();else{if(!this.alwaysShowCalendars)return this.clickApply();if(this.maxDate&&this.maxDate.isSame(r[0],"month"))this.rightCalendar.month=this.rightCalendar.month.month(r[0].month()),this.rightCalendar.month=this.rightCalendar.month.year(r[0].year()),this.leftCalendar.month=this.leftCalendar.month.month(r[0].month()-1),this.leftCalendar.month=this.leftCalendar.month.year(r[1].year());else{this.leftCalendar.month=this.leftCalendar.month.month(r[0].month()),this.leftCalendar.month=this.leftCalendar.month.year(r[0].year());let o=this.linkedCalendars?r[0].clone().add(1,"month"):r[1].clone();this.rightCalendar.month=this.rightCalendar.month.month(o.month()),this.rightCalendar.month=this.rightCalendar.month.year(o.year())}this.updateCalendars(),this.timePicker&&(this.renderTimePicker(Tn.left),this.renderTimePicker(Tn.right))}}}show(t){this.isShown||(this.cachedVersion.start=this.startDate.clone(),this.cachedVersion.end=this.endDate.clone(),this.isShown=!0,this.updateView())}hide(t){this.isShown&&(this.endDate||(this.cachedVersion.start&&(this.startDate=this.cachedVersion.start.clone()),this.cachedVersion.end&&(this.endDate=this.cachedVersion.end.clone())),!this.startDate.isSame(this.cachedVersion.start)||this.endDate.isSame(this.cachedVersion.end),this.updateElement(),this.isShown=!1,this.ref.detectChanges())}updateLocale(t){for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(this.locale[i]=t[i],i==="customRangeLabel"&&this.renderRanges())}clear(){this.startDate=ln().utc(!0).startOf("day"),this.endDate=ln().utc(!0).endOf("day"),this.choosedDate.emit({chosenLabel:"",startDate:null,endDate:null}),this.datesUpdated.emit({startDate:null,endDate:null}),this.clearClicked.emit(),this.hide()}disableRange(t){if(t===this.locale.customRangeLabel)return!1;let i=this.ranges[t],r=i.every(a=>this.minDate?a.isBefore(this.minDate):!1),o=i.every(a=>this.maxDate?a.isAfter(this.maxDate):!1);return r||o}getDateWithTime(t,i){let r=parseInt(String(this.timepickerVariables[i].selectedHour),10);if(!this.timePicker24Hour){let c=this.timepickerVariables[i].ampmModel;c==="PM"&&r<12&&(r+=12),c==="AM"&&r===12&&(r=0)}let o=parseInt(String(this.timepickerVariables[i].selectedMinute),10),a=this.timePickerSeconds?parseInt(String(this.timepickerVariables[i].selectedSecond),10):0;return t.clone().hour(r).minute(o).second(a)}buildLocale(){this.locale=ie(ie({},this.localeHolderService.config),this.locale),this.locale.format||(this.timePicker?this.locale.format=ln.localeData().longDateFormat("lll"):this.locale.format=ln.localeData().longDateFormat("L"))}buildCells(t,i){for(let r=0;r<6;r++){this.calendarVariables[i].classes[r]={classList:""};let o=[];this.emptyWeekRowClass&&Array.from(Array(7).keys()).some(a=>t[r][a].month()!==this.calendarVariables[i].month)&&o.push(this.emptyWeekRowClass);for(let a=0;a<7;a++){let c=[];this.emptyWeekColumnClass&&t[r][a].month()!==this.calendarVariables[i].month&&c.push(this.emptyWeekColumnClass),t[r][a].isSame(ln().utc(!0),"day")&&c.push("today"),t[r][a].isoWeekday()>5&&c.push("weekend"),t[r][a].month()!==t[1][1].month()&&(c.push("off"),this.lastDayOfPreviousMonthClass&&(t[r][a].month()<t[1][1].month()||t[1][1].month()===0)&&t[r][a].date()===this.calendarVariables[i].daysInLastMonth&&c.push(this.lastDayOfPreviousMonthClass),this.firstDayOfNextMonthClass&&(t[r][a].month()>t[1][1].month()||t[r][a].month()===0)&&t[r][a].date()===1&&c.push(this.firstDayOfNextMonthClass)),this.firstMonthDayClass&&t[r][a].month()===t[1][1].month()&&t[r][a].date()===t.firstDay.date()&&c.push(this.firstMonthDayClass),this.lastMonthDayClass&&t[r][a].month()===t[1][1].month()&&t[r][a].date()===t.lastDay.date()&&c.push(this.lastMonthDayClass),this.minDate&&t[r][a].isBefore(this.minDate,"day")&&c.push("off","disabled"),this.calendarVariables[i].maxDate&&t[r][a].isAfter(this.calendarVariables[i].maxDate,"day")&&c.push("off","disabled"),this.isInvalidDate(t[r][a])&&c.push("off","disabled","invalid"),this.startDate&&t[r][a].format("YYYY-MM-DD")===this.startDate.format("YYYY-MM-DD")&&c.push("active","start-date"),this.endDate!=null&&t[r][a].format("YYYY-MM-DD")===this.endDate.format("YYYY-MM-DD")&&c.push("active","end-date"),(this.nowHoveredDate!=null&&this.pickingDate||this.endDate!=null)&&t[r][a]>this.startDate&&(t[r][a]<this.endDate||t[r][a]<this.nowHoveredDate&&this.pickingDate)&&!c.find(y=>y==="off")&&c.push("in-range");let u=this.isCustomDate(t[r][a]);u!==!1&&(typeof u=="string"?c.push(u):Array.prototype.push.apply(c,u));let h="",v=!1;for(let y of c)h+=y+" ",y==="disabled"&&(v=!0);v||(h+="available"),this.calendarVariables[i].classes[r][a]=h.replace(/^\s+|\s+$/g,"")}this.calendarVariables[i].classes[r].classList=o.join(" ")}}}return n.\u0275fac=function(t){return new(t||n)(V(Yt),V(Ot),V(i8))},n.\u0275cmp=le({type:n,selectors:[["ngx-daterangepicker-material"]],viewQuery:function(t,i){if(t&1&&en(kK,7),t&2){let r;qt(r=Zt())&&(i.pickerContainer=r.first)}},hostBindings:function(t,i){t&1&&T("click",function(o){return i.handleInternalClick(o)})},inputs:{startDate:"startDate",endDate:"endDate",dateLimit:"dateLimit",autoApply:"autoApply",singleDatePicker:"singleDatePicker",showDropdowns:"showDropdowns",showWeekNumbers:"showWeekNumbers",showISOWeekNumbers:"showISOWeekNumbers",linkedCalendars:"linkedCalendars",autoUpdateInput:"autoUpdateInput",alwaysShowCalendars:"alwaysShowCalendars",maxSpan:"maxSpan",lockStartDate:"lockStartDate",timePicker:"timePicker",timePicker24Hour:"timePicker24Hour",timePickerIncrement:"timePickerIncrement",timePickerSeconds:"timePickerSeconds",showClearButton:"showClearButton",firstMonthDayClass:"firstMonthDayClass",lastMonthDayClass:"lastMonthDayClass",emptyWeekRowClass:"emptyWeekRowClass",emptyWeekColumnClass:"emptyWeekColumnClass",firstDayOfNextMonthClass:"firstDayOfNextMonthClass",lastDayOfPreviousMonthClass:"lastDayOfPreviousMonthClass",showCustomRangeLabel:"showCustomRangeLabel",showCancel:"showCancel",keepCalendarOpeningWithRange:"keepCalendarOpeningWithRange",showRangeLabelOnInput:"showRangeLabelOnInput",customRangeDirection:"customRangeDirection",drops:"drops",opens:"opens",closeOnAutoApply:"closeOnAutoApply",minDate:"minDate",locale:"locale",ranges:"ranges",maxDate:"maxDate",isInvalidDate:"isInvalidDate",isCustomDate:"isCustomDate",isTooltipDate:"isTooltipDate"},outputs:{choosedDate:"choosedDate",rangeClicked:"rangeClicked",datesUpdated:"datesUpdated",startDateChanged:"startDateChanged",endDateChanged:"endDateChanged",cancelClicked:"cancelClicked",clearClicked:"clearClicked"},standalone:!1,features:[Vn([{provide:Fa,useExisting:pi(()=>n),multi:!0}]),Gt],decls:6,vars:15,consts:[["pickerContainer",""],[1,"md-drppicker",3,"ngClass"],[4,"ngIf"],["class","calendar",3,"ngClass",4,"ngIf"],["class","calendar right",4,"ngIf"],["class","buttons",4,"ngIf"],[1,"ranges"],[4,"ngFor","ngForOf"],["type","button",3,"click","disabled","ngClass"],[1,"calendar",3,"ngClass"],[1,"calendar-table"],["class","table-condensed",4,"ngIf"],["class","calendar-time",4,"ngIf"],[1,"table-condensed"],["colspan","5",1,"month","drp-animate"],[1,"week-days"],["class","week",4,"ngIf"],[1,"drp-animate"],[3,"class",4,"ngFor","ngForOf"],[1,"prev","available",3,"click"],[1,"dropdowns"],[1,"monthselect",3,"change"],[3,"disabled","value","selected",4,"ngFor","ngForOf"],[1,"yearselect",3,"change"],[3,"selected",4,"ngFor","ngForOf"],[3,"disabled","value","selected"],[3,"selected"],[1,"next","available",3,"click"],[1,"week"],[3,"class","click","mouseenter",4,"ngFor","ngForOf"],[3,"click","mouseenter"],[1,"calendar-time"],[1,"select"],[1,"hourselect","select-item",3,"ngModelChange","disabled","ngModel"],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"select-item","minuteselect",3,"ngModelChange","disabled","ngModel"],[1,"select-highlight"],[1,"select-bar"],["class","select-item secondselect",3,"disabled","ngModel","ngModelChange",4,"ngIf"],["class","select-item ampmselect",3,"ngModel","ngModelChange",4,"ngIf"],[3,"value","disabled"],[1,"select-item","secondselect",3,"ngModelChange","disabled","ngModel"],[1,"select-item","ampmselect",3,"ngModelChange","ngModel"],["value","AM",3,"disabled"],["value","PM",3,"disabled"],[1,"calendar","right"],["colspan","5",1,"month"],[1,"select-item","hourselect",3,"ngModelChange","disabled","ngModel"],[1,"buttons"],[1,"buttons_input"],["class","btn btn-default clear","type","button",3,"title","click",4,"ngIf"],["class","btn btn-default","type","button",3,"click",4,"ngIf"],["type","button",1,"btn",3,"click","disabled"],["type","button",1,"btn","btn-default","clear",3,"click","title"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 -5 24 24"],["d","M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"],["type","button",1,"btn","btn-default",3,"click"]],template:function(t,i){t&1&&(l(0,"div",1,0),j(2,TK,4,1,"ng-container",2)(3,tQ,4,6,"div",3)(4,wQ,4,2,"div",4)(5,kQ,6,4,"div",5),d()),t&2&&(cn("drops-"+i.drops+"-"+i.opens),_("ngClass",G_(7,OK,i.locale.direction==="ltr",i.locale.direction==="rtl",i.isShown||i.inline,!i.isShown&&!i.inline,i.inline,!i.singleDatePicker&&i.showCalInRanges,i.rangesArray.length)),p(2),_("ngIf",i.rangesArray.length),p(),_("ngIf",i.showCalInRanges),p(),_("ngIf",i.showCalInRanges&&!i.singleDatePicker),p(),_("ngIf",!i.autoApply&&(!i.rangesArray.length||i.showCalInRanges&&!i.singleDatePicker)))},dependencies:[Bt,Ce,Xe,c1,d1,Js,Dt,kn],styles:[`.md-drppicker{position:absolute;font-family:Roboto,sans-serif;color:inherit;border-radius:4px;width:278px;padding:4px;margin-top:-10px;overflow:hidden;z-index:1000;font-size:14px;background-color:#fff;box-shadow:0 2px 4px #00000029,0 2px 8px #0000001f}.md-drppicker.double{width:auto}.md-drppicker.inline{position:relative;display:inline-block}.md-drppicker:before,.md-drppicker:after{position:absolute;display:inline-block;border-bottom-color:#0003;content:""}.md-drppicker.openscenter:before{left:0;right:0;width:0;margin-left:auto;margin-right:auto}.md-drppicker.openscenter:after{left:0;right:0;width:0;margin-left:auto;margin-right:auto}.md-drppicker.single .ranges,.md-drppicker.single .calendar{float:none}.md-drppicker.shown{transform:scale(1);transition:all .1s ease-in-out;transform-origin:0 0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.md-drppicker.shown.drops-up-left{transform-origin:100% 100%}.md-drppicker.shown.drops-up-right{transform-origin:0 100%}.md-drppicker.shown.drops-down-left{transform-origin:100% 0}.md-drppicker.shown.drops-down-right{transform-origin:0 0}.md-drppicker.shown.drops-down-center{transform-origin:NaN%}.md-drppicker.shown.drops-up-center{transform-origin:50%}.md-drppicker.shown .calendar{display:block}.md-drppicker.hidden{transition:all .1s ease;transform:scale(0);transform-origin:0 0;cursor:default;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.md-drppicker.hidden.drops-up-left{transform-origin:100% 100%}.md-drppicker.hidden.drops-up-right{transform-origin:0 100%}.md-drppicker.hidden.drops-down-left{transform-origin:100% 0}.md-drppicker.hidden.drops-down-right{transform-origin:0 0}.md-drppicker.hidden.drops-down-center{transform-origin:50% 0}.md-drppicker.hidden.drops-up-center{transform-origin:50% 100%}.md-drppicker.hidden .calendar{display:none}.md-drppicker .calendar{max-width:270px;margin:4px}.md-drppicker .calendar.single .calendar-table{border:none}.md-drppicker .calendar th,.md-drppicker .calendar td{padding:0;white-space:nowrap;text-align:center;min-width:32px}.md-drppicker .calendar th span,.md-drppicker .calendar td span{pointer-events:none}.md-drppicker .calendar-table{border:1px solid #fff;padding:4px;border-radius:4px;background-color:#fff}.md-drppicker table{width:100%;margin:0}.md-drppicker th{color:#988c8c}.md-drppicker td,.md-drppicker th{text-align:center;width:20px;height:20px;border-radius:4px;border:1px solid transparent;white-space:nowrap;cursor:pointer;height:2em;width:2em}.md-drppicker td.available.prev,.md-drppicker th.available.prev{display:block;background-image:url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMy43IDYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMuNyA2IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIGQ9Ik0zLjcsMC43TDEuNCwzbDIuMywyLjNMMyw2TDAsM2wzLTNMMy43LDAuN3oiLz4NCjwvZz4NCjwvc3ZnPg0K);background-repeat:no-repeat;background-size:.5em;background-position:center;opacity:.8;transition:background-color .2s ease;border-radius:2em}.md-drppicker td.available.prev:hover,.md-drppicker th.available.prev:hover{margin:0}.md-drppicker td.available.next,.md-drppicker th.available.next{transform:rotate(180deg);display:block;background-image:url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMy43IDYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMuNyA2IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIGQ9Ik0zLjcsMC43TDEuNCwzbDIuMywyLjNMMyw2TDAsM2wzLTNMMy43LDAuN3oiLz4NCjwvZz4NCjwvc3ZnPg0K);background-repeat:no-repeat;background-size:.5em;background-position:center;opacity:.8;transition:background-color .2s ease;border-radius:2em}.md-drppicker td.available.next:hover,.md-drppicker th.available.next:hover{margin:0;transform:rotate(180deg)}.md-drppicker td.available:hover,.md-drppicker th.available:hover{background-color:#eee;border-color:transparent;color:inherit;background-repeat:no-repeat;background-size:.5em;background-position:center;margin:.25em 0;opacity:.8;border-radius:2em;transform:scale(1);transition:all .45s cubic-bezier(.23,1,.32,1) 0ms}.md-drppicker td.week,.md-drppicker th.week{font-size:80%;color:#ccc}.md-drppicker td{margin:.25em 0;opacity:.8;transition:background-color .2s ease;border-radius:2em;transform:scale(1);transition:all .45s cubic-bezier(.23,1,.32,1) 0ms}.md-drppicker td.off,.md-drppicker td.off.in-range,.md-drppicker td.off.start-date,.md-drppicker td.off.end-date{background-color:#fff;border-color:transparent;color:#999}.md-drppicker td.in-range{background-color:#dde2e4;border-color:transparent;color:#000;border-radius:0}.md-drppicker td.start-date{border-radius:2em 0 0 2em}.md-drppicker td.end-date{border-radius:0 2em 2em 0}.md-drppicker td.start-date.end-date{border-radius:4px}.md-drppicker td.active{transition:background .3s ease-out;background:rgba(0,0,0,.1)}.md-drppicker td.active,.md-drppicker td.active:hover{background-color:#3f51b5;border-color:transparent;color:#fff}.md-drppicker th.month{width:auto}.md-drppicker td.disabled,.md-drppicker option.disabled{color:#999;cursor:not-allowed;text-decoration:line-through}.md-drppicker .dropdowns{background-repeat:no-repeat;background-size:10px;background-position-y:center;background-position-x:right;width:50px;background-image:url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDI1NSAyNTUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI1NSAyNTU7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8ZyBpZD0iYXJyb3ctZHJvcC1kb3duIj4KCQk8cG9seWdvbiBwb2ludHM9IjAsNjMuNzUgMTI3LjUsMTkxLjI1IDI1NSw2My43NSAgICIgZmlsbD0iIzk4OGM4YyIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=)}.md-drppicker .dropdowns select{display:inline-block;background-color:#ffffffe6;width:100%;padding:5px;border:1px solid #f2f2f2;border-radius:2px;height:3rem}.md-drppicker .dropdowns select.monthselect,.md-drppicker .dropdowns select.yearselect{font-size:12px;padding:1px;height:auto;margin:0;cursor:default}.md-drppicker .dropdowns select.hourselect,.md-drppicker .dropdowns select.minuteselect,.md-drppicker .dropdowns select.secondselect,.md-drppicker .dropdowns select.ampmselect{width:50px;margin:0 auto;background:#eee;border:1px solid #eee;padding:2px;outline:0;font-size:12px}.md-drppicker .dropdowns select.monthselect,.md-drppicker .dropdowns select.yearselect{cursor:pointer;opacity:0;position:absolute;top:0;left:0;margin:0;padding:0}.md-drppicker th.month>div{position:relative;display:inline-block}.md-drppicker .calendar-time{text-align:center;margin:4px auto 0;line-height:30px;position:relative}.md-drppicker .calendar-time .select{display:inline}.md-drppicker .calendar-time .select .select-item{display:inline-block;width:auto;position:relative;font-family:inherit;background-color:transparent;padding:10px 10px 10px 0;font-size:18px;border-radius:0;border:none;border-bottom:1px solid rgba(0,0,0,.12)}.md-drppicker .calendar-time .select .select-item:after{position:absolute;top:18px;right:10px;width:0;height:0;padding:0;content:"";border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid rgba(0,0,0,.12);pointer-events:none}.md-drppicker .calendar-time .select .select-item:focus{outline:none}.md-drppicker .calendar-time .select .select-item .select-label{color:#00000042;font-size:16px;font-weight:400;position:absolute;pointer-events:none;left:0;top:10px;transition:.2s ease all}.md-drppicker .calendar-time select.disabled{color:#ccc;cursor:not-allowed}.md-drppicker .label-input{border:1px solid #ccc;border-radius:4px;color:#555;height:30px;line-height:30px;display:block;vertical-align:middle;margin:0 auto 5px;padding:0 0 0 28px;width:100%}.md-drppicker .label-input.active{border:1px solid #08c;border-radius:4px}.md-drppicker .md-drppicker_input{position:relative;padding:0 30px 0 0}.md-drppicker .md-drppicker_input i,.md-drppicker .md-drppicker_input svg{position:absolute;left:8px;top:8px}.md-drppicker.rtl .label-input{padding-right:28px;padding-left:6px}.md-drppicker.rtl .md-drppicker_input i,.md-drppicker.rtl .md-drppicker_input svg{left:auto;right:8px}.md-drppicker .show-ranges .drp-calendar.left{border-left:1px solid #ddd}.md-drppicker .ranges{float:none;text-align:left;margin:0}.md-drppicker .ranges ul{list-style:none;margin:0 auto;padding:0;width:100%}.md-drppicker .ranges ul li{font-size:12px}.md-drppicker .ranges ul li button{padding:8px 12px;width:100%;background:none;border:none;text-align:left;cursor:pointer}.md-drppicker .ranges ul li button.active{background-color:#3f51b5;color:#fff}.md-drppicker .ranges ul li button[disabled]{opacity:.3}.md-drppicker .ranges ul li button:active{background:transparent}.md-drppicker .ranges ul li:hover{background-color:#eee}.md-drppicker .show-calendar .ranges{margin-top:8px}.md-drppicker [hidden]{display:none}.md-drppicker .buttons{text-align:right;margin:0 5px 5px 0}.md-drppicker .btn{position:relative;overflow:hidden;border-width:0;outline:none;padding:0 6px;cursor:pointer;border-radius:2px;box-shadow:0 1px 4px #0009;background-color:#3f51b5;color:#ecf0f1;transition:background-color .4s;height:auto;text-transform:uppercase;line-height:36px;border:none}.md-drppicker .btn:hover,.md-drppicker .btn:focus{background-color:#3f51b5}.md-drppicker .btn>*{position:relative}.md-drppicker .btn span{display:block;padding:12px 24px}.md-drppicker .btn:before{content:"";position:absolute;top:50%;left:50%;display:block;width:0;padding-top:0;border-radius:100%;background-color:#ecf0f14d;transform:translate(-50%,-50%)}.md-drppicker .btn:active:before{width:120%;padding-top:120%;transition:width .2s ease-out,padding-top .2s ease-out}.md-drppicker .btn:disabled{opacity:.5}.md-drppicker .btn.btn-default{color:#000;background-color:#dcdcdc}.md-drppicker .clear{box-shadow:none;background-color:#fff!important}.md-drppicker .clear svg{color:#eb3232;fill:currentColor}@media (min-width: 564px){.md-drppicker{width:auto}.md-drppicker.single .calendar.left{clear:none}.md-drppicker.ltr{direction:ltr;text-align:left}.md-drppicker.ltr .calendar.left{clear:left}.md-drppicker.ltr .calendar.left .calendar-table{border-right:none;border-top-right-radius:0;border-bottom-right-radius:0}.md-drppicker.ltr .calendar.right{margin-left:0}.md-drppicker.ltr .calendar.right .calendar-table{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.md-drppicker.ltr .left .md-drppicker_input,.md-drppicker.ltr .right .md-drppicker_input{padding-right:35px}.md-drppicker.ltr .calendar.left .calendar-table{padding-right:12px}.md-drppicker.ltr .ranges,.md-drppicker.ltr .calendar{float:left}.md-drppicker.rtl{direction:rtl;text-align:right}.md-drppicker.rtl .calendar.left{clear:right;margin-left:0}.md-drppicker.rtl .calendar.left .calendar-table{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.md-drppicker.rtl .calendar.right{margin-right:0}.md-drppicker.rtl .calendar.right .calendar-table{border-right:none;border-top-right-radius:0;border-bottom-right-radius:0}.md-drppicker.rtl .left .md-drppicker_input,.md-drppicker.rtl .calendar.left .calendar-table{padding-left:12px}.md-drppicker.rtl .ranges,.md-drppicker.rtl .calendar{text-align:right;float:right}.drp-animate{transform:translate(0);transition:transform .2s ease,opacity .2s ease}.drp-animate.drp-picker-site-this{transition-timing-function:linear}.drp-animate.drp-animate-right{transform:translate(10%);opacity:0}.drp-animate.drp-animate-left{transform:translate(-10%);opacity:0}}@media (min-width: 730px){.md-drppicker .ranges{width:auto}.md-drppicker.ltr .ranges{float:left}.md-drppicker.rtl .ranges{float:right}.md-drppicker .calendar.left{clear:none!important}}
`],encapsulation:2}),n})(),r8=(()=>{class n{constructor(t,i,r,o,a,c,u){this.viewContainerRef=t,this.ref=i,this.el=r,this.renderer=o,this.differs=a,this.localeHolderService=c,this.elementRef=u,this.onChange=new ye,this.rangeClicked=new ye,this.datesUpdated=new ye,this.startDateChanged=new ye,this.endDateChanged=new ye,this.clearClicked=new ye,this.dateLimit=null,this.showCancel=!1,this.lockStartDate=!1,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.closeOnAutoApply=!0,this.notForChangesProperty=["locale","endKey","startKey"],this.onChangeFn=Function.prototype,this.onTouched=Function.prototype,this.validatorChange=Function.prototype,this.localeHolder={},this.endKey="endDate",this.startKey="startDate",this.drops="down",this.opens="auto",t.clear();let h=t.createComponent(Op);this.picker=h.instance,this.picker.inline=!1}get disabled(){return this.disabledHolder}set startKey(t){t!==null?this.startKeyHolder=t:this.startKeyHolder="startDate"}get locale(){return this.localeHolder}set locale(t){this.localeHolder=ie(ie({},this.localeHolderService.config),t)}set endKey(t){t!==null?this.endKeyHolder=t:this.endKeyHolder="endDate"}get value(){return this.valueHolder||null}set value(t){this.valueHolder=t,this.onChangeFn(t),this.ref.markForCheck()}outsideClick(t){t.target&&(t.target.classList.contains("ngx-daterangepicker-action")||this.elementRef.nativeElement.contains(t.target)||this.hide())}hide(t){this.picker.hide(t)}onBlur(){this.onTouched()}inputChanged(t){if(t.target.tagName.toLowerCase()!=="input"||!t.target.value.length)return;let i=t.target.value.split(this.picker.locale.separator),r=null,o=null;i.length===2&&(r=ln(i[0],this.picker.locale.format),o=ln(i[1],this.picker.locale.format)),(this.singleDatePicker||r===null||o===null)&&(r=ln(t.target.value,this.picker.locale.format),o=r),!(!r.isValid()||!o.isValid())&&(this.picker.setStartDate(r),this.picker.setEndDate(o),this.picker.updateView())}open(t){this.disabled||(this.picker.show(t),setTimeout(()=>{this.setPosition()}))}ngOnInit(){this.picker.startDateChanged.asObservable().subscribe(t=>{this.startDateChanged.emit(t)}),this.picker.endDateChanged.asObservable().subscribe(t=>{this.endDateChanged.emit(t)}),this.picker.rangeClicked.asObservable().subscribe(t=>{this.rangeClicked.emit(t)}),this.picker.datesUpdated.asObservable().subscribe(t=>{this.datesUpdated.emit(t)}),this.picker.clearClicked.asObservable().subscribe(()=>{this.clearClicked.emit()}),this.picker.choosedDate.asObservable().subscribe(t=>{if(t){let i={[this.startKeyHolder]:t.startDate,[this.endKeyHolder]:t.endDate};this.value=i,this.onChange.emit(i),typeof t.chosenLabel=="string"&&(this.el.nativeElement.value=t.chosenLabel)}}),this.picker.firstMonthDayClass=this.firstMonthDayClass,this.picker.lastMonthDayClass=this.lastMonthDayClass,this.picker.emptyWeekRowClass=this.emptyWeekRowClass,this.picker.emptyWeekColumnClass=this.emptyWeekColumnClass,this.picker.firstDayOfNextMonthClass=this.firstDayOfNextMonthClass,this.picker.lastDayOfPreviousMonthClass=this.lastDayOfPreviousMonthClass,this.picker.drops=this.drops,this.picker.opens=this.opens,this.localeDiffer=this.differs.find(this.locale).create(),this.picker.closeOnAutoApply=this.closeOnAutoApply}ngOnChanges(t){for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&this.notForChangesProperty.indexOf(i)===-1&&(this.picker[i]=t[i].currentValue)}ngDoCheck(){this.localeDiffer&&this.localeDiffer.diff(this.locale)&&this.picker.updateLocale(this.locale)}toggle(t){this.picker.isShown?this.hide(t):this.open(t)}clear(){this.picker.clear()}writeValue(t){this.setValue(t)}registerOnChange(t){this.onChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabledHolder=t}setPosition(){let t,i,r=this.picker.pickerContainer.nativeElement,o=this.el.nativeElement;if(this.drops&&this.drops==="up"?i=o.offsetTop-r.clientHeight+"px":i="auto",this.opens==="left")t={top:i,left:o.offsetLeft-r.clientWidth+o.clientWidth+"px",right:"auto"};else if(this.opens==="center")t={top:i,left:o.offsetLeft+o.clientWidth/2-r.clientWidth/2+"px",right:"auto"};else if(this.opens==="right")t={top:i,left:o.offsetLeft+"px",right:"auto"};else{let a=o.offsetLeft+o.clientWidth/2-r.clientWidth/2;a<0?t={top:i,left:o.offsetLeft+"px",right:"auto"}:t={top:i,left:a+"px",right:"auto"}}t&&(this.renderer.setStyle(r,"top",t.top),this.renderer.setStyle(r,"left",t.left),this.renderer.setStyle(r,"right",t.right))}setValue(t){t?(this.value=t,t[this.startKeyHolder]&&this.picker.setStartDate(t[this.startKeyHolder]),t[this.endKeyHolder]&&this.picker.setEndDate(t[this.endKeyHolder]),this.picker.calculateChosenLabel(),this.picker.chosenLabel&&(this.el.nativeElement.value=this.picker.chosenLabel)):this.picker.clear()}}return n.\u0275fac=function(t){return new(t||n)(V(Ir),V(Ot),V(Yt),V(Yi),V(Sd),V(i8),V(Yt))},n.\u0275dir=ct({type:n,selectors:[["input","ngxDaterangepickerMd",""]],hostVars:1,hostBindings:function(t,i){t&1&&T("click",function(o){return i.outsideClick(o)},ru)("keyup.esc",function(o){return i.hide(o)})("blur",function(){return i.onBlur()})("keyup",function(o){return i.inputChanged(o)})("click",function(o){return i.open(o)}),t&2&&or("disabled",i.disabled)},inputs:{minDate:"minDate",maxDate:"maxDate",autoApply:"autoApply",alwaysShowCalendars:"alwaysShowCalendars",showCustomRangeLabel:"showCustomRangeLabel",linkedCalendars:"linkedCalendars",dateLimit:"dateLimit",singleDatePicker:"singleDatePicker",showWeekNumbers:"showWeekNumbers",showISOWeekNumbers:"showISOWeekNumbers",showDropdowns:"showDropdowns",isInvalidDate:"isInvalidDate",isCustomDate:"isCustomDate",isTooltipDate:"isTooltipDate",showClearButton:"showClearButton",customRangeDirection:"customRangeDirection",ranges:"ranges",opens:"opens",drops:"drops",firstMonthDayClass:"firstMonthDayClass",lastMonthDayClass:"lastMonthDayClass",emptyWeekRowClass:"emptyWeekRowClass",emptyWeekColumnClass:"emptyWeekColumnClass",firstDayOfNextMonthClass:"firstDayOfNextMonthClass",lastDayOfPreviousMonthClass:"lastDayOfPreviousMonthClass",keepCalendarOpeningWithRange:"keepCalendarOpeningWithRange",showRangeLabelOnInput:"showRangeLabelOnInput",showCancel:"showCancel",lockStartDate:"lockStartDate",timePicker:"timePicker",timePicker24Hour:"timePicker24Hour",timePickerIncrement:"timePickerIncrement",timePickerSeconds:"timePickerSeconds",closeOnAutoApply:"closeOnAutoApply",endKeyHolder:"endKeyHolder",startKey:"startKey",locale:"locale",endKey:"endKey"},outputs:{onChange:"change",rangeClicked:"rangeClicked",datesUpdated:"datesUpdated",startDateChanged:"startDateChanged",endDateChanged:"endDateChanged",clearClicked:"clearClicked"},standalone:!1,features:[Vn([{provide:Fa,useExisting:pi(()=>n),multi:!0}]),Gt]}),n})(),qo=(()=>{class n{constructor(){}static forRoot(t={}){return{ngModule:n,providers:[{provide:ZC,useValue:t},{provide:i8,useClass:i8,deps:[ZC]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xn({type:n}),n.\u0275inj=gn({providers:[],imports:[[he,Mt,Ii]]}),n})();var OQ=["navVideo"],DQ=(n,e)=>({active:n,"disabled-link":e});function EQ(n,e){n&1&&(l(0,"span",8),m(1),Q(2,"translate"),d()),n&2&&(p(),U(" ",de(2,1,"COMMON.COMING_SOON")," "))}function IQ(n,e){if(n&1&&k(0,"source",9),n&2){let t=e.$implicit;_("src",t.src,et)("type",t.type)}}function TQ(n,e){if(n&1){let t=X();l(0,"a",3),T("mouseenter",function(r){z(t);let o=C();return A(o.playVideo(r))})("mouseleave",function(r){z(t);let o=C();return A(o.pauseVideo(r))})("click",function(r){let o=z(t).$implicit;return A(o.isNew?r.preventDefault():null)}),j(1,EQ,3,3,"span",4),k(2,"img",5),l(3,"video",6,0),j(5,IQ,1,2,"source",7),d(),m(6),Q(7,"translate"),d()}if(n&2){let t=e.$implicit,i=C();_("ngClass",wi(10,DQ,i.currentRoute===t.route,t.isNew))("routerLink",t.isNew?null:t.route),p(),_("ngIf",t.isNew),p(),_("alt",t.label+" Icon")("src",t.imgSrc,et),p(),_("poster",t.poster,et),p(2),_("ngForOf",t.videoSources),p(),U(" ",de(7,8,t.label)," ")}}var o8=class n{constructor(e,t){this.router=e;this.lang=t;this.router.events.pipe(Nn(i=>i instanceof Cr)).subscribe(()=>{this.currentRoute=this.router.url})}navItems=[];currentRoute="";videoElements;ngOnInit(){this.currentRoute=this.router.url}ngAfterViewInit(){this.videoElements?.forEach(e=>{e.nativeElement.loop=!0})}playVideo(e){let t=e.currentTarget.querySelector("video");t&&(t.play(),t.loop=!0,t.style.transform="scale(1.1)",t.style.transition="transform 0.3s ease-in-out")}pauseVideo(e){let t=e.currentTarget.querySelector("video");t&&(t.pause(),t.currentTime=0)}static \u0275fac=function(t){return new(t||n)(V(nt),V(Yo))};static \u0275cmp=le({type:n,selectors:[["app-top-nav"]],viewQuery:function(t,i){if(t&1&&en(OQ,5),t&2){let r;qt(r=Zt())&&(i.videoElements=r)}},inputs:{navItems:"navItems"},decls:2,vars:2,consts:[["navVideo",""],[1,"d-none","d-lg-flex","align-items-center","top-nav-categories",3,"ngClass"],["class","top-nav-category",3,"ngClass","routerLink","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],[1,"top-nav-category",3,"mouseenter","mouseleave","click","ngClass","routerLink"],["class","coming-soon-badge position-absolute text-uppercase",4,"ngIf"],["width","100","loading","lazy",3,"alt","src"],["playsinline","","preload","auto","muted","","data-testid","tab-bar-entry-video","disablePictureInPicture","",1,"s1kxodx6","atm_jp_1f51e7f","atm_jr_1h6ojuz","atm_vy_1osqo2v","atm_e2_1osqo2v","atm_tr_18ws4an","atm_mj_glywfm","s1y8p483","atm_mk_stnw88","atm_tk_idpfg4","atm_fq_idpfg4","stz1the","atm_k4_kb7nvz","dir","dir-ltr",3,"poster"],[3,"src","type",4,"ngFor","ngForOf"],[1,"coming-soon-badge","position-absolute","text-uppercase"],[3,"src","type"]],template:function(t,i){t&1&&(l(0,"div",1),j(1,TQ,8,13,"a",2),d()),t&2&&(_("ngClass",i.lang.currentLang==="ar"?"top-nav-ar":"top-nav-en"),p(),_("ngForOf",i.navItems))},dependencies:[he,Bt,Xe,Ce,Ni,Hi,wt,Xt],styles:['.top-nav-category[_ngcontent-%COMP%]{padding:.5rem 1rem;font-weight:600;color:var(--secondary-text-color);position:relative;cursor:pointer;transition:all .2s ease-in-out;display:flex;align-items:center;gap:.25rem;margin:0 10px;text-decoration:none}.top-nav-category[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:64px!important}.top-nav-category[_ngcontent-%COMP%]:hover{color:var(--primary-text-color)}.top-nav-category[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:.6rem;transform:translate(-50%) scaleX(0);width:72%;height:3px;background-color:var(--primary-text-color);border-radius:2px;transition:transform .4s ease-in-out;transform-origin:center;opacity:0}.top-nav-ar[_ngcontent-%COMP%]   .top-nav-category[_ngcontent-%COMP%]:after{right:-16%;left:auto}.top-nav-en[_ngcontent-%COMP%]   .top-nav-category[_ngcontent-%COMP%]:after{left:58%;right:auto}.top-nav-category.active[_ngcontent-%COMP%]{color:var(--primary-text-color)}.top-nav-category.active[_ngcontent-%COMP%]:after{transform:translate(-50%) scaleX(1);opacity:1}.top-nav-category[_ngcontent-%COMP%]   .new-badge[_ngcontent-%COMP%]{background-color:var(--airbnb-red);color:#fff;font-size:.6rem;font-weight:700;padding:.1rem .4rem;border-radius:.25rem;position:absolute;top:-5px;right:-10px;white-space:nowrap}.top-nav-category[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:80px;height:auto}.top-nav-category[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{display:none;width:80px;height:auto}.top-nav-category[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:none}.top-nav-category[_ngcontent-%COMP%]:hover   video[_ngcontent-%COMP%]{display:block}.coming-soon-badge[_ngcontent-%COMP%]{top:5px;right:5px;background:linear-gradient(45deg,#ff385c,#ff6b6b,#ff385c);background-size:200% 200%;color:#fff;font-size:9px;font-weight:600;padding:4px 8px;border-radius:12px;z-index:10;box-shadow:0 2px 8px #ff385c4d;animation:_ngcontent-%COMP%_dancingBadge 2s ease-in-out infinite;transform-origin:center;border:1px solid rgba(255,255,255,.2)}@keyframes _ngcontent-%COMP%_dancingBadge{0%{transform:scale(1) rotate(0);background-position:0% 50%}25%{transform:scale(1.1) rotate(-3deg);background-position:100% 50%}50%{transform:scale(1.05) rotate(0);background-position:0% 50%}75%{transform:scale(1.1) rotate(3deg);background-position:100% 50%}to{transform:scale(1) rotate(0);background-position:0% 50%}}.top-nav-category[_ngcontent-%COMP%]:hover   .coming-soon-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_dancingBadgeHover .6s ease-in-out infinite}@keyframes _ngcontent-%COMP%_dancingBadgeHover{0%,to{transform:scale(1.05) rotate(-2deg)}50%{transform:scale(1.15) rotate(2deg)}}.disabled-link[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed;opacity:.9}',".airbnb-header[_ngcontent-%COMP%]{background:linear-gradient(to bottom,var(--bg-color),var(--head));border-bottom:1px solid var(--border-color);box-shadow:inset 0 1px 3px var(--shadow-color);position:fixed;top:0;left:0;width:100%;z-index:1030;padding-top:1rem;padding-bottom:1rem;transition:all .5s ease-in-out;-webkit-transition:all .5s ease-in-out;-moz-transition:all .5s ease-in-out;-ms-transition:all .5s ease-in-out;-o-transition:all .5s ease-in-out}.airbnb-logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--airbnb-red);height:32px;width:102px}.switch-to-hosting-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:9999px;font-size:.9rem;font-weight:600;color:var(--primary-text-color);transition:background-color .2s ease-in-out;cursor:pointer;text-decoration:none}.switch-to-hosting-btn[_ngcontent-%COMP%]:hover{background-color:var(--light-grey-bg)}.user-menu-button[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:9999px;padding:6px 10px;transition:box-shadow .2s ease-in-out;background-color:var(--bg-color);display:flex;align-items:center;gap:8px}.user-menu-button[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px var(--shadow-color)}.user-menu-button[_ngcontent-%COMP%]   .icon-menu[_ngcontent-%COMP%]{color:var(--secondary-text-color)}.user-menu-button[_ngcontent-%COMP%]   .icon-user[_ngcontent-%COMP%]{background-color:var(--primary-text-color);color:var(--bg-color);border-radius:50%;height:32px;width:32px;display:flex;align-items:center;justify-content:center}.icon-user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain;border-radius:50%}.user-menu-dropdown[_ngcontent-%COMP%]{margin-top:.5rem;transform:translate(0)!important;min-width:200px;max-width:calc(100vw - 16px);background-color:var(--active);min-height:100px!important}.menu-dropdown[_ngcontent-%COMP%]{background-color:var(--active);width:100%}.menu-dropdown[_ngcontent-%COMP%]:hover{background-color:transparent!important}.dropdown-item[_ngcontent-%COMP%]{color:var(--primary-text-color)}.dropdown-item[_ngcontent-%COMP%]:hover{color:#000}.dropdown-item[_ngcontent-%COMP%]:active{background-color:var(--airbnb-red)}.dropdown-item.active[_ngcontent-%COMP%]{background-color:var(--airbnb-red)!important;color:#f7f7f7}.search-bar-container[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:9999px;box-shadow:0 1px 2px var(--shadow-color);transition:all 5s ease-in-out;cursor:pointer;background-color:var(--bg-color);max-width:fit-content;width:100%}.span-bg-n[_ngcontent-%COMP%]{background-color:var(--airbnb-red);color:#fff;font-size:.7rem}@media (max-width: 991.98px){.top-nav-categories[_ngcontent-%COMP%], .search-bar-container[_ngcontent-%COMP%]{display:none!important}.airbnb-header[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.airbnb-header[_ngcontent-%COMP%]   .user-menu-button[_ngcontent-%COMP%]{margin-left:auto}.airbnb-header[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]{display:block;width:100%;border:1px solid var(--border-color);border-radius:9999px;padding:.5rem 1rem;box-shadow:0 1px 2px var(--shadow-color);font-size:.9rem;color:var(--primary-text-color);outline:none}.airbnb-header[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]::placeholder{color:var(--secondary-text-color)}}.icon-small[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2;fill:none;stroke:currentColor}.icon-medium[_ngcontent-%COMP%]{width:24px;height:24px;stroke-width:1.5;fill:none;stroke:currentColor}.airbnb-header.search-bar-sticky[_ngcontent-%COMP%]   .search-bar-container[_ngcontent-%COMP%]{margin-top:-55px;transform:scale(.9);transition:all .5s ease-in-out;z-index:999;height:fit-content!important;max-width:fit-content!important;flex-grow:0!important;-webkit-transform:scale(.9);-moz-transform:scale(.9);-ms-transform:scale(.9);-o-transform:scale(.9)}.airbnb-header[_ngcontent-%COMP%]   .search-bar-container[_ngcontent-%COMP%]{transform:scale(1);transition:all .5s ease-in-out;z-index:auto}.top-nav-categories[_ngcontent-%COMP%], .top-nav-wrapper[_ngcontent-%COMP%]{transition:all .5s ease}.airbnb-header.search-bar-sticky[_ngcontent-%COMP%]   .top-nav-categories[_ngcontent-%COMP%], .airbnb-header.search-bar-sticky[_ngcontent-%COMP%]   .top-nav-wrapper[_ngcontent-%COMP%]{opacity:0;margin-top:-11rem;pointer-events:none}.relative-header[_ngcontent-%COMP%]{position:relative!important}"]})};var c8=mr(Dp());var LQ=()=>[1,2,3,4,5,6,7,8,9];function zQ(n,e){if(n&1){let t=X();l(0,"li",5),T("click",function(){let r=z(t).$implicit,o=C();return A(o.onDestinationSelect({country:r.country,city:r.city,state:r.state,latitude:r.latitude,longitude:r.longitude}))}),k(1,"img",6),l(2,"div")(3,"p",7),m(4),d(),l(5,"small",8),m(6),d()()()}if(n&2){let t=e.$implicit;p(),_("src",t.iconSrc,et),p(3),jo(" ",t.country," ",t.city," ",t.state," "),p(2),$(t.description)}}function AQ(n,e){n&1&&(l(0,"li",4),k(1,"div",10),l(2,"div",11),k(3,"div",12)(4,"div",13),d()())}function NQ(n,e){n&1&&j(0,AQ,5,0,"li",9),n&2&&_("ngForOf",Kt(1,LQ))}var a8=class n{constructor(e){this.propertyService=e}searchValue="";isLoading=!1;countries;suggestedDestinations=[];iconSet=["https://a0.muscache.com/im/pictures/airbnb-platform-assets/AirbnbPlatformAssets-hawaii-autosuggest-destination-icons-1/original/2cab2315-eab8-4e3b-8ffa-1411745515f3.png","https://a0.muscache.com/im/pictures/airbnb-platform-assets/AirbnbPlatformAssets-hawaii-autosuggest-destination-icons-1/original/03f38150-079a-48ed-a306-c57947717ad9.png","https://a0.muscache.com/im/pictures/airbnb-platform-assets/AirbnbPlatformAssets-hawaii-autosuggest-destination-icons-1/original/9a91d068-0d2a-4f2c-aa5d-bb4992d45d0e.png","https://a0.muscache.com/im/pictures/airbnb-platform-assets/AirbnbPlatformAssets-hawaii-autosuggest-destination-icons-2/original/4f56182b-d556-45ec-95bb-067be0ba62fe.png"];destinationSelected=new ye;onDestinationSelect(e){this.destinationSelected.emit(e)}getRandomIcon(){let e=Math.floor(Math.random()*this.iconSet.length);return this.iconSet[e]}ngOnChanges(e){if("searchValue"in e){let t=this.searchValue.trim().toLowerCase();t===""?this.loadSuggestedDestinations():this.filterCountries(t)}}loadSuggestedDestinations(){this.isLoading=!0,this.propertyService.getNearestProperties(1,10,1e4).subscribe(e=>{this.isLoading=!1,e.isSuccess&&(this.suggestedDestinations=e.data.items.map(t=>({iconSrc:this.getRandomIcon(),country:t.country,city:t.city,state:t.state,description:t.description.substring(0,50),latitude:t.latitude,longitude:t.longitude})))})}filterCountries(e){this.isLoading=!0;let t=e.split(",").map(o=>o.trim().toLowerCase()).filter(o=>o!=="");if(t.length===0){this.loadSuggestedDestinations();return}let i=t.length===1?t[0]:t[1],r=t.length>=1?t[0]:"";this.propertyService.getAllCountries().subscribe(o=>{if(this.isLoading=!1,!o.error){let a=[];o.data.forEach(h=>{r?h.cities.forEach(v=>{v.toLowerCase().includes(r)&&a.push({iconSrc:"https://cdn-icons-png.flaticon.com/512/684/684908.png",country:h.country,city:v,state:"",description:"",latitude:0,longitude:0})}):h.country.toLowerCase().includes(i)&&h.cities.forEach(v=>{a.push({iconSrc:"https://cdn-icons-png.flaticon.com/512/684/684908.png",country:h.country,city:v,state:"",description:"",latitude:0,longitude:0})})});let c=e.toLowerCase();if(!a.some(h=>{let v=`${h.country.toLowerCase()},${h.city.toLowerCase()}`;return v.includes(c)||c.includes(v)})&&t.length>=1&&a.unshift({iconSrc:"https://cdn-icons-png.flaticon.com/512/684/684908.png",country:t.length>1?t[1]:t[0],city:t[0],state:"",description:"Previously selected",latitude:0,longitude:0}),a.length>10){let h=a.slice(1).slice(1,10);this.suggestedDestinations=[a[0],...h]}else this.suggestedDestinations=a}})}static \u0275fac=function(t){return new(t||n)(V(Cn))};static \u0275cmp=le({type:n,selectors:[["app-search-where-modal"]],inputs:{searchValue:"searchValue"},outputs:{destinationSelected:"destinationSelected"},features:[Gt],decls:8,vars:5,consts:[[1,"p-2"],[1,"mb-3"],[1,"list-unstyled"],["class","d-flex align-items-center p-2 rounded-4",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","p-2","shimmer","rounded-4","mb-2"],[1,"d-flex","align-items-center","p-2","rounded-4",3,"click"],["alt","","loading","lazy",1,"me-3",2,"width","32px","height","32px",3,"src"],[1,"mb-0","fw-bold"],[2,"color","var(--secondary-text-color)"],["class","d-flex align-items-center p-2 shimmer rounded-4 mb-2",4,"ngFor","ngForOf"],[1,"me-3","rounded-circle","shimmer-icon"],[2,"flex","1"],[1,"shimmer-line","w-75","mb-2"],[1,"shimmer-line","w-50"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div")(2,"h6",1),m(3),Q(4,"translate"),d(),l(5,"ul",2),j(6,zQ,7,5,"li",3),yr(7,NQ,1,2,"li",4),d()()()),t&2&&(p(3),U(" ",de(4,3,"HEADER.SUGGESTED_DESTINATIONS")," "),p(3),_("ngForOf",i.suggestedDestinations),p(),xr(i.isLoading?7:-1))},dependencies:[wt,he,Xe,Xt],styles:[".list-unstyled[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--border-color);transition:all .2s ease;-webkit-transition:all .2s ease;-moz-transition:all .2s ease;-ms-transition:all .2s ease;-o-transition:all .2s ease}",'.search-filter-group[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;flex-grow:1;justify-content:space-between;border:1px solid var(--border-color);border-radius:9999px;transition:all .5s ease-in-out}.group-active-bg[_ngcontent-%COMP%]{background-color:var(--shadow-color)}.group-default-bg[_ngcontent-%COMP%]{background-color:var(--bg-color)}.search-filter-item[_ngcontent-%COMP%]{position:relative;padding:5px 24px!important;border-radius:9999px;transition:all .2s ease-in-out;cursor:pointer;z-index:1;height:50px!important}.indicator-line[_ngcontent-%COMP%]{position:absolute;background-color:var(--active);border-radius:9999px;z-index:0;transition:all .5s ease;-webkit-transition:all .5s ease;-moz-transition:all .5s ease;-ms-transition:all .5s ease;-o-transition:all .5s ease;animation:_ngcontent-%COMP%_slideIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:scaleX(0)}to{transform:scaleX(1)}}.search-filter-item[_ngcontent-%COMP%]:nth-child(2):before, .search-filter-item[_ngcontent-%COMP%]:nth-child(2):after{content:"";position:absolute;top:50%;transform:translateY(-50%);width:1px;height:60%;background-color:#d7d4d4;opacity:1;transition:opacity .2s ease-in-out}.search-filter-item[_ngcontent-%COMP%]:nth-child(2):before{left:0}.search-filter-item[_ngcontent-%COMP%]:nth-child(2):after{right:0}.search-filter-item[_ngcontent-%COMP%]:nth-child(1):hover ~ .search-filter-item[_ngcontent-%COMP%]:nth-child(2):before{opacity:0}.search-filter-group[_ngcontent-%COMP%]:hover   .search-filter-item[_ngcontent-%COMP%]:last-child:hover   .search-filter-item[_ngcontent-%COMP%]:nth-child(2):after{opacity:0}.search-filter-item[_ngcontent-%COMP%]:nth-child(2):hover:before, .search-filter-item[_ngcontent-%COMP%]:nth-child(2):hover:after{opacity:0}.search-filter-item[_ngcontent-%COMP%]:hover{background-color:var(--bg)}.search-filter-item.active[_ngcontent-%COMP%]:hover{background-color:transparent;cursor:default}.search-filter-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;line-height:1.2}.search-filter-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--primary-text-color);margin-bottom:4px;padding:0 18px}.search-filter-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:.9rem;color:var(--secondary-text-color);padding:0 18px}.search-icon-button[_ngcontent-%COMP%]{background-color:var(--airbnb-red);color:#fff;border-radius:50px;padding:10px;display:flex;align-items:center;justify-content:center;transition:all .5s ease-in-out;flex-shrink:0;-webkit-transition:all .5s ease-in-out;-moz-transition:all .5s ease-in-out;-ms-transition:all .5s ease-in-out;-o-transition:all .5s ease-in-out}.search-icon-button[_ngcontent-%COMP%]:hover{background-color:var(--airbnb-dark-red)}.search-icon-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:20px;width:20px;stroke-width:5}.custom-modal[_ngcontent-%COMP%]{position:absolute;z-index:1;margin-top:.8rem;box-shadow:0 1px 2px #0003;min-width:400px;width:min-content!important;border-radius:12px;overflow-x:hidden;background-color:var(--active);justify-content:center;align-items:center;opacity:0;transition:all .5s ease-in-out;animation:_ngcontent-%COMP%_fadeZoomIn .5s ease both;transform-origin:top center}.fade-zoom-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeZoomIn .5s ease both;-webkit-animation:_ngcontent-%COMP%_fadeZoomIn .5s ease both}.fade-zoom-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeZoomOut .3s ease both}.custom-modal.d-flex[_ngcontent-%COMP%]{display:flex!important;opacity:1;transition:all .5s ease-in-out}.custom-modal-content[_ngcontent-%COMP%]{width:100%;transform:translateY(20px);transition:all .6s ease-in-out;-webkit-transition:all .6s ease-in-out;-moz-transition:all .6s ease-in-out;-ms-transition:all .6s ease-in-out;-o-transition:all .6s ease-in-out}.custom-modal.d-flex[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]{transform:translateY(0);transition:all .6s ease-in-out;-webkit-transition:all .6s ease-in-out;-moz-transition:all .6s ease-in-out;-ms-transition:all .6s ease-in-out;-o-transition:all .6s ease-in-out}.close-button[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700;cursor:pointer;line-height:1}.close-button[_ngcontent-%COMP%]:hover, .close-button[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}@keyframes _ngcontent-%COMP%_fadeZoomIn{0%{opacity:0;transform:scale(.95) translateY(-10px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes _ngcontent-%COMP%_fadeZoomOut{0%{opacity:1;transform:scale(1) translateY(0)}to{opacity:0;transform:scale(.95) translateY(-10px)}}.dest[_ngcontent-%COMP%]{border:none;outline:none;background-color:transparent!important;padding:0}.dest[_ngcontent-%COMP%]:focus{border:none;outline:none;background-color:transparent!important}.custom-scroll[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#aaa transparent;overscroll-behavior:contain;overflow-y:auto}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px;-webkit-appearance:none}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-button, .custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-button:single-button{display:none!important;height:0!important;width:0!important;visibility:hidden!important}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#bbb;border-radius:9999px;background-clip:padding-box;border:2px solid transparent;transition:background-color .3s ease}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#888}.airbnb-header.search-bar-sticky.modal-open[_ngcontent-%COMP%]   .search-bar-container[_ngcontent-%COMP%]{transform:scale(1)!important;-webkit-transform:scale(1)!important;-moz-transform:scale(1)!important;-ms-transform:scale(1)!important;-o-transform:scale(1)!important;margin-top:0!important;max-width:none!important}',".airbnb-header[_ngcontent-%COMP%]{background:linear-gradient(to bottom,var(--bg-color),var(--head));border-bottom:1px solid var(--border-color);box-shadow:inset 0 1px 3px var(--shadow-color);position:fixed;top:0;left:0;width:100%;z-index:1030;padding-top:1rem;padding-bottom:1rem;transition:all .5s ease-in-out;-webkit-transition:all .5s ease-in-out;-moz-transition:all .5s ease-in-out;-ms-transition:all .5s ease-in-out;-o-transition:all .5s ease-in-out}.airbnb-logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--airbnb-red);height:32px;width:102px}.switch-to-hosting-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:9999px;font-size:.9rem;font-weight:600;color:var(--primary-text-color);transition:background-color .2s ease-in-out;cursor:pointer;text-decoration:none}.switch-to-hosting-btn[_ngcontent-%COMP%]:hover{background-color:var(--light-grey-bg)}.user-menu-button[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:9999px;padding:6px 10px;transition:box-shadow .2s ease-in-out;background-color:var(--bg-color);display:flex;align-items:center;gap:8px}.user-menu-button[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px var(--shadow-color)}.user-menu-button[_ngcontent-%COMP%]   .icon-menu[_ngcontent-%COMP%]{color:var(--secondary-text-color)}.user-menu-button[_ngcontent-%COMP%]   .icon-user[_ngcontent-%COMP%]{background-color:var(--primary-text-color);color:var(--bg-color);border-radius:50%;height:32px;width:32px;display:flex;align-items:center;justify-content:center}.icon-user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain;border-radius:50%}.user-menu-dropdown[_ngcontent-%COMP%]{margin-top:.5rem;transform:translate(0)!important;min-width:200px;max-width:calc(100vw - 16px);background-color:var(--active);min-height:100px!important}.menu-dropdown[_ngcontent-%COMP%]{background-color:var(--active);width:100%}.menu-dropdown[_ngcontent-%COMP%]:hover{background-color:transparent!important}.dropdown-item[_ngcontent-%COMP%]{color:var(--primary-text-color)}.dropdown-item[_ngcontent-%COMP%]:hover{color:#000}.dropdown-item[_ngcontent-%COMP%]:active{background-color:var(--airbnb-red)}.dropdown-item.active[_ngcontent-%COMP%]{background-color:var(--airbnb-red)!important;color:#f7f7f7}.search-bar-container[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:9999px;box-shadow:0 1px 2px var(--shadow-color);transition:all 5s ease-in-out;cursor:pointer;background-color:var(--bg-color);max-width:fit-content;width:100%}.span-bg-n[_ngcontent-%COMP%]{background-color:var(--airbnb-red);color:#fff;font-size:.7rem}@media (max-width: 991.98px){.top-nav-categories[_ngcontent-%COMP%], .search-bar-container[_ngcontent-%COMP%]{display:none!important}.airbnb-header[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.airbnb-header[_ngcontent-%COMP%]   .user-menu-button[_ngcontent-%COMP%]{margin-left:auto}.airbnb-header[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]{display:block;width:100%;border:1px solid var(--border-color);border-radius:9999px;padding:.5rem 1rem;box-shadow:0 1px 2px var(--shadow-color);font-size:.9rem;color:var(--primary-text-color);outline:none}.airbnb-header[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]::placeholder{color:var(--secondary-text-color)}}.icon-small[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2;fill:none;stroke:currentColor}.icon-medium[_ngcontent-%COMP%]{width:24px;height:24px;stroke-width:1.5;fill:none;stroke:currentColor}.airbnb-header.search-bar-sticky[_ngcontent-%COMP%]   .search-bar-container[_ngcontent-%COMP%]{margin-top:-55px;transform:scale(.9);transition:all .5s ease-in-out;z-index:999;height:fit-content!important;max-width:fit-content!important;flex-grow:0!important;-webkit-transform:scale(.9);-moz-transform:scale(.9);-ms-transform:scale(.9);-o-transform:scale(.9)}.airbnb-header[_ngcontent-%COMP%]   .search-bar-container[_ngcontent-%COMP%]{transform:scale(1);transition:all .5s ease-in-out;z-index:auto}.top-nav-categories[_ngcontent-%COMP%], .top-nav-wrapper[_ngcontent-%COMP%]{transition:all .5s ease}.airbnb-header.search-bar-sticky[_ngcontent-%COMP%]   .top-nav-categories[_ngcontent-%COMP%], .airbnb-header.search-bar-sticky[_ngcontent-%COMP%]   .top-nav-wrapper[_ngcontent-%COMP%]{opacity:0;margin-top:-11rem;pointer-events:none}.relative-header[_ngcontent-%COMP%]{position:relative!important}"]})};var Vi=mr(Dp());var QC=n=>({active:n}),RQ=()=>({}),s8=class n{activeQuickOption=null;minDate=(0,Vi.default)().startOf("year").format("YYYY-MM-DD");maxDate=(0,Vi.default)().add(1,"year").endOf("month").format("YYYY-MM-DD");ranges={Today:[(0,Vi.default)(),(0,Vi.default)()],Tomorrow:[(0,Vi.default)().add(1,"days"),(0,Vi.default)().add(1,"days")],"This weekend":[(0,Vi.default)().isoWeekday(5),(0,Vi.default)().isoWeekday(7)],"Next week":[(0,Vi.default)().add(1,"week").startOf("isoWeek"),(0,Vi.default)().add(1,"week").endOf("isoWeek")],"Next month":[(0,Vi.default)().add(1,"month").startOf("month"),(0,Vi.default)().add(1,"month").endOf("month")]};selectedDateRange={startDate:null,endDate:null};locale={format:"MMM DD, YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",customRangeLabel:"Custom Range",weekLabel:"W",daysOfWeek:Vi.default.weekdaysMin(),monthNames:Vi.default.monthsShort(),firstDay:Vi.default.localeData().firstDayOfWeek()};dateSelected=new ye;datesUpdated(e){this.activeQuickOption=null,this.selectedDateRange=e,this.emitDate()}selectQuickDate(e){if(this.activeQuickOption===e){this.activeQuickOption=null,this.selectedDateRange={startDate:null,endDate:null},console.log("\u274C Quick option cleared");return}this.activeQuickOption=e;let t=(0,Vi.default)();switch(e){case"today":this.selectedDateRange={startDate:t,endDate:t};break;case"tomorrow":let i=t.clone().add(1,"day");this.selectedDateRange={startDate:i,endDate:i};break;case"thisWeekend":let r=(0,Vi.default)().isoWeekday(5),o=(0,Vi.default)().isoWeekday(6);this.selectedDateRange={startDate:r,endDate:o};break}this.emitDate()}emitDate(){let{startDate:e,endDate:t}=this.selectedDateRange;if(e&&t){let i=e.local().format("YYYY-MM-DD"),r=t.local().format("YYYY-MM-DD");!(this.activeQuickOption!==null)&&i!==r&&(r=t.clone().add(-1,"day").local().format("YYYY-MM-DD")),i===r?(console.log("\u{1F4C5} Selected Single Date:",i),this.dateSelected.emit(i)):(console.log("\u{1F4C5} Selected Start:",i),console.log("\u{1F4C5} Selected End:",r),this.dateSelected.emit({start:i,end:r}))}}getTodayFormatted(){return(0,Vi.default)().format("MMM DD")}getTomorrowFormatted(){return(0,Vi.default)().add(1,"day").format("MMM DD")}getFridayDate(){return(0,Vi.default)().isoWeekday(5).format("MMM DD")}getSaturdayDate(){return(0,Vi.default)().isoWeekday(6).format("MMM DD")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=le({type:n,selectors:[["app-search-date-modal"]],outputs:{dateSelected:"dateSelected"},decls:22,vars:34,consts:[[1,"d-flex","flex-row","custom-date-modal-content","airbnb-calendar-wrapper"],[1,"d-flex","flex-column","gap-3","date-quick-options",2,"margin-right","1rem !important"],[1,"quick-option-card","airbnb-option",3,"click","ngClass"],[1,"fw-bold","mb-0"],[1,"flex-grow-1","airbnb-calendar"],[3,"ngModelChange","datesUpdated","minDate","maxDate","locale","ranges","linkedCalendars","alwaysShowCalendars","singleDatePicker","showCustomRangeLabel","showClearButton","autoApply","ngModel"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2),T("click",function(){return i.selectQuickDate("today")}),l(3,"p",3),m(4),Q(5,"translate"),d(),l(6,"small"),m(7),d()(),l(8,"div",2),T("click",function(){return i.selectQuickDate("tomorrow")}),l(9,"p",3),m(10),Q(11,"translate"),d(),l(12,"small"),m(13),d()(),l(14,"div",2),T("click",function(){return i.selectQuickDate("thisWeekend")}),l(15,"p",3),m(16),Q(17,"translate"),d(),l(18,"small"),m(19),d()()(),l(20,"div",4)(21,"ngx-daterangepicker-material",5),mt("ngModelChange",function(o){return _t(i.selectedDateRange,o)||(i.selectedDateRange=o),o}),T("datesUpdated",function(o){return i.datesUpdated(o)}),d()()()),t&2&&(p(2),_("ngClass",nn(27,QC,i.activeQuickOption==="today")),p(2),$(de(5,21,"HEADER.TODAY")),p(3),$(i.getTodayFormatted()),p(),_("ngClass",nn(29,QC,i.activeQuickOption==="tomorrow")),p(2),U(" ",de(11,23,"HEADER.TOMORROW")," "),p(3),$(i.getTomorrowFormatted()),p(),_("ngClass",nn(31,QC,i.activeQuickOption==="thisWeekend")),p(2),U(" ",de(17,25,"HEADER.THIS_WEEKEND")," "),p(3),Nt(" ",i.getFridayDate()," \u2013 ",i.getSaturdayDate()," "),p(2),_("minDate",i.minDate)("maxDate",i.maxDate)("locale",i.locale)("ranges",Kt(33,RQ))("linkedCalendars",!1)("alwaysShowCalendars",!0)("singleDatePicker",!1)("showCustomRangeLabel",!1)("showClearButton",!1)("autoApply",!0),ft("ngModel",i.selectedDateRange))},dependencies:[Mt,Dt,kn,qo,Op,wt,he,Bt,Xt],styles:[".daterangepicker{position:relative!important;display:block!important;visibility:visible!important;opacity:1!important;z-index:auto!important;margin-top:0!important;box-shadow:none!important}.airbnb-calendar-wrapper[_ngcontent-%COMP%]{align-items:flex-start;justify-content:space-between}.date-quick-options[_ngcontent-%COMP%]{min-width:180px;flex-shrink:0}.airbnb-option[_ngcontent-%COMP%]{border:1px solid var(--shadow-color);border-radius:12px;padding:16px;cursor:pointer;transition:all .2s ease;background-color:var(--active);width:100%}.airbnb-option[_ngcontent-%COMP%]:hover, .airbnb-option.active[_ngcontent-%COMP%]{border-color:var(--primary-text-color)}.airbnb-option[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-bottom:4px}.airbnb-option[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:14px;color:var(--secondary-text-color)}.airbnb-calendar[_ngcontent-%COMP%]{position:relative}  .md-drppicker{background-color:var(--active)!important}  .daterangepicker{box-shadow:none!important;border:none!important;margin:0!important;padding:0!important;position:relative!important;display:block!important}  .md-drppicker .calendar-table{border-color:var(--active)!important;background-color:var(--active)!important}  .daterangepicker .drp-calendar{max-width:none!important}  .daterangepicker .drp-calendar.right{display:none!important}  .daterangepicker .drp-calendar.left{float:none!important;width:100%!important}  .daterangepicker .calendar-table{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:14px;color:#222;border:none!important}  .daterangepicker .calendar-table th,   .daterangepicker .calendar-table td{border:none!important;width:60px!important;height:50px!important;line-height:50px!important;text-align:center;font-weight:400;position:relative}  .daterangepicker .calendar-table th{color:#717171;font-weight:600;font-size:12px;text-transform:uppercase;letter-spacing:1px}  .daterangepicker .month{font-weight:600;font-size:18px;text-align:center;margin-bottom:20px;color:#222}  .daterangepicker .prev,   .daterangepicker .next{border:none!important;background:none!important;color:#222!important;font-size:18px;width:32px!important;height:32px!important;border-radius:50%!important;display:flex!important;align-items:center!important;justify-content:center!important;cursor:pointer!important;transition:all .2s ease!important}  .daterangepicker .prev:hover,   .daterangepicker .next:hover{background-color:#f7f7f7!important}  .daterangepicker td.available:hover{background-color:#f0f0f0!important;color:var(--bg-color)!important;border-radius:50%!important}  .daterangepicker td.available{cursor:pointer;border-radius:50%!important;transition:all .2s ease}  .daterangepicker td.active,   .daterangepicker td.active:hover{background-color:#222!important;color:var(--bg-color)!important;border-radius:50%!important;font-weight:600!important}  .daterangepicker td.start-date{background-color:#222!important;color:#fff!important;border-radius:50%!important;font-weight:600!important}  .daterangepicker td.end-date{background-color:#222!important;color:#fff!important;border-radius:50%!important;font-weight:600!important}  .daterangepicker td.in-range{background-color:#f0f0f0!important;border-radius:0!important}  .daterangepicker td.off.available{color:var(--bg-color)!important}  .daterangepicker td.today{font-weight:600;text-decoration:underline}  .drp-buttons,   .ranges{display:none!important}  .md-drppicker{box-shadow:none!important}  .md-drppicker.shown{transition:none!important;-moz-transition:none!important;-ms-transition:none!important;-o-transition:none!important;-webkit-transition:none!important}@media (max-width: 768px){.airbnb-calendar-wrapper[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.date-quick-options[_ngcontent-%COMP%]{min-width:100%}.airbnb-option[_ngcontent-%COMP%]{padding:12px}}.md-drppicker[_ngcontent-%COMP%]   td.active[_ngcontent-%COMP%], .md-drppicker[_ngcontent-%COMP%]   td.active[_ngcontent-%COMP%]:hover{background-color:#0000001a!important;border-color:transparent;color:var(--bg-color)!important}.active[_ngcontent-%COMP%]   .available[_ngcontent-%COMP%]   .end-date[_ngcontent-%COMP%]   .start-date[_ngcontent-%COMP%]   .today[_ngcontent-%COMP%]{background-color:#0000001a!important;border-color:transparent;color:var(--bg-color)}  .md-drppicker td.active{background-color:#000!important;color:var(--bg-color)!important;border-color:transparent!important}  .md-drppicker td{padding:.6rem!important}  .md-drppicker td.start-date,   .md-drppicker td.end-date{background-color:#000!important;color:#fff!important}  .daterangepicker .calendar.right{display:none!important}.airbnb-calendar[_ngcontent-ng-c120480673][_ngcontent-%COMP%]{min-width:fit-content;max-height:310px;overflow:hidden}  .md-drppicker .calendar th,   .md-drppicker .calendar td{min-width:50px!important}  .airbnb-calendar{position:relative;width:554px!important}  .md-drppicker td.off, .md-drppicker[_ngcontent-%COMP%]   td.off.in-range[_ngcontent-%COMP%], .md-drppicker[_ngcontent-%COMP%]   td.off.start-date[_ngcontent-%COMP%], .md-drppicker[_ngcontent-%COMP%]   td.off.end-date[_ngcontent-%COMP%]{background-color:var(--active)!important}  .md-drppicker td:hover, .md-drppicker[_ngcontent-%COMP%]   td.in-range[_ngcontent-%COMP%]:hover, .md-drppicker[_ngcontent-%COMP%]   td.start-date[_ngcontent-%COMP%]:hover, .md-drppicker[_ngcontent-%COMP%]   td.end-date[_ngcontent-%COMP%]:hover{color:var(--airbnb-red)!important}",'.search-filter-group[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;flex-grow:1;justify-content:space-between;border:1px solid var(--border-color);border-radius:9999px;transition:all .5s ease-in-out}.group-active-bg[_ngcontent-%COMP%]{background-color:var(--shadow-color)}.group-default-bg[_ngcontent-%COMP%]{background-color:var(--bg-color)}.search-filter-item[_ngcontent-%COMP%]{position:relative;padding:5px 24px!important;border-radius:9999px;transition:all .2s ease-in-out;cursor:pointer;z-index:1;height:50px!important}.indicator-line[_ngcontent-%COMP%]{position:absolute;background-color:var(--active);border-radius:9999px;z-index:0;transition:all .5s ease;-webkit-transition:all .5s ease;-moz-transition:all .5s ease;-ms-transition:all .5s ease;-o-transition:all .5s ease;animation:_ngcontent-%COMP%_slideIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:scaleX(0)}to{transform:scaleX(1)}}.search-filter-item[_ngcontent-%COMP%]:nth-child(2):before, .search-filter-item[_ngcontent-%COMP%]:nth-child(2):after{content:"";position:absolute;top:50%;transform:translateY(-50%);width:1px;height:60%;background-color:#d7d4d4;opacity:1;transition:opacity .2s ease-in-out}.search-filter-item[_ngcontent-%COMP%]:nth-child(2):before{left:0}.search-filter-item[_ngcontent-%COMP%]:nth-child(2):after{right:0}.search-filter-item[_ngcontent-%COMP%]:nth-child(1):hover ~ .search-filter-item[_ngcontent-%COMP%]:nth-child(2):before{opacity:0}.search-filter-group[_ngcontent-%COMP%]:hover   .search-filter-item[_ngcontent-%COMP%]:last-child:hover   .search-filter-item[_ngcontent-%COMP%]:nth-child(2):after{opacity:0}.search-filter-item[_ngcontent-%COMP%]:nth-child(2):hover:before, .search-filter-item[_ngcontent-%COMP%]:nth-child(2):hover:after{opacity:0}.search-filter-item[_ngcontent-%COMP%]:hover{background-color:var(--bg)}.search-filter-item.active[_ngcontent-%COMP%]:hover{background-color:transparent;cursor:default}.search-filter-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;line-height:1.2}.search-filter-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--primary-text-color);margin-bottom:4px;padding:0 18px}.search-filter-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:.9rem;color:var(--secondary-text-color);padding:0 18px}.search-icon-button[_ngcontent-%COMP%]{background-color:var(--airbnb-red);color:#fff;border-radius:50px;padding:10px;display:flex;align-items:center;justify-content:center;transition:all .5s ease-in-out;flex-shrink:0;-webkit-transition:all .5s ease-in-out;-moz-transition:all .5s ease-in-out;-ms-transition:all .5s ease-in-out;-o-transition:all .5s ease-in-out}.search-icon-button[_ngcontent-%COMP%]:hover{background-color:var(--airbnb-dark-red)}.search-icon-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:20px;width:20px;stroke-width:5}.custom-modal[_ngcontent-%COMP%]{position:absolute;z-index:1;margin-top:.8rem;box-shadow:0 1px 2px #0003;min-width:400px;width:min-content!important;border-radius:12px;overflow-x:hidden;background-color:var(--active);justify-content:center;align-items:center;opacity:0;transition:all .5s ease-in-out;animation:_ngcontent-%COMP%_fadeZoomIn .5s ease both;transform-origin:top center}.fade-zoom-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeZoomIn .5s ease both;-webkit-animation:_ngcontent-%COMP%_fadeZoomIn .5s ease both}.fade-zoom-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeZoomOut .3s ease both}.custom-modal.d-flex[_ngcontent-%COMP%]{display:flex!important;opacity:1;transition:all .5s ease-in-out}.custom-modal-content[_ngcontent-%COMP%]{width:100%;transform:translateY(20px);transition:all .6s ease-in-out;-webkit-transition:all .6s ease-in-out;-moz-transition:all .6s ease-in-out;-ms-transition:all .6s ease-in-out;-o-transition:all .6s ease-in-out}.custom-modal.d-flex[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]{transform:translateY(0);transition:all .6s ease-in-out;-webkit-transition:all .6s ease-in-out;-moz-transition:all .6s ease-in-out;-ms-transition:all .6s ease-in-out;-o-transition:all .6s ease-in-out}.close-button[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700;cursor:pointer;line-height:1}.close-button[_ngcontent-%COMP%]:hover, .close-button[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}@keyframes _ngcontent-%COMP%_fadeZoomIn{0%{opacity:0;transform:scale(.95) translateY(-10px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes _ngcontent-%COMP%_fadeZoomOut{0%{opacity:1;transform:scale(1) translateY(0)}to{opacity:0;transform:scale(.95) translateY(-10px)}}.dest[_ngcontent-%COMP%]{border:none;outline:none;background-color:transparent!important;padding:0}.dest[_ngcontent-%COMP%]:focus{border:none;outline:none;background-color:transparent!important}.custom-scroll[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#aaa transparent;overscroll-behavior:contain;overflow-y:auto}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px;-webkit-appearance:none}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-button, .custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-button:single-button{display:none!important;height:0!important;width:0!important;visibility:hidden!important}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#bbb;border-radius:9999px;background-clip:padding-box;border:2px solid transparent;transition:background-color .3s ease}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#888}.airbnb-header.search-bar-sticky.modal-open[_ngcontent-%COMP%]   .search-bar-container[_ngcontent-%COMP%]{transform:scale(1)!important;-webkit-transform:scale(1)!important;-moz-transform:scale(1)!important;-ms-transform:scale(1)!important;-o-transform:scale(1)!important;margin-top:0!important;max-width:none!important}',".airbnb-header[_ngcontent-%COMP%]{background:linear-gradient(to bottom,var(--bg-color),var(--head));border-bottom:1px solid var(--border-color);box-shadow:inset 0 1px 3px var(--shadow-color);position:fixed;top:0;left:0;width:100%;z-index:1030;padding-top:1rem;padding-bottom:1rem;transition:all .5s ease-in-out;-webkit-transition:all .5s ease-in-out;-moz-transition:all .5s ease-in-out;-ms-transition:all .5s ease-in-out;-o-transition:all .5s ease-in-out}.airbnb-logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--airbnb-red);height:32px;width:102px}.switch-to-hosting-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:9999px;font-size:.9rem;font-weight:600;color:var(--primary-text-color);transition:background-color .2s ease-in-out;cursor:pointer;text-decoration:none}.switch-to-hosting-btn[_ngcontent-%COMP%]:hover{background-color:var(--light-grey-bg)}.user-menu-button[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:9999px;padding:6px 10px;transition:box-shadow .2s ease-in-out;background-color:var(--bg-color);display:flex;align-items:center;gap:8px}.user-menu-button[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px var(--shadow-color)}.user-menu-button[_ngcontent-%COMP%]   .icon-menu[_ngcontent-%COMP%]{color:var(--secondary-text-color)}.user-menu-button[_ngcontent-%COMP%]   .icon-user[_ngcontent-%COMP%]{background-color:var(--primary-text-color);color:var(--bg-color);border-radius:50%;height:32px;width:32px;display:flex;align-items:center;justify-content:center}.icon-user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain;border-radius:50%}.user-menu-dropdown[_ngcontent-%COMP%]{margin-top:.5rem;transform:translate(0)!important;min-width:200px;max-width:calc(100vw - 16px);background-color:var(--active);min-height:100px!important}.menu-dropdown[_ngcontent-%COMP%]{background-color:var(--active);width:100%}.menu-dropdown[_ngcontent-%COMP%]:hover{background-color:transparent!important}.dropdown-item[_ngcontent-%COMP%]{color:var(--primary-text-color)}.dropdown-item[_ngcontent-%COMP%]:hover{color:#000}.dropdown-item[_ngcontent-%COMP%]:active{background-color:var(--airbnb-red)}.dropdown-item.active[_ngcontent-%COMP%]{background-color:var(--airbnb-red)!important;color:#f7f7f7}.search-bar-container[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:9999px;box-shadow:0 1px 2px var(--shadow-color);transition:all 5s ease-in-out;cursor:pointer;background-color:var(--bg-color);max-width:fit-content;width:100%}.span-bg-n[_ngcontent-%COMP%]{background-color:var(--airbnb-red);color:#fff;font-size:.7rem}@media (max-width: 991.98px){.top-nav-categories[_ngcontent-%COMP%], .search-bar-container[_ngcontent-%COMP%]{display:none!important}.airbnb-header[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.airbnb-header[_ngcontent-%COMP%]   .user-menu-button[_ngcontent-%COMP%]{margin-left:auto}.airbnb-header[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]{display:block;width:100%;border:1px solid var(--border-color);border-radius:9999px;padding:.5rem 1rem;box-shadow:0 1px 2px var(--shadow-color);font-size:.9rem;color:var(--primary-text-color);outline:none}.airbnb-header[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]::placeholder{color:var(--secondary-text-color)}}.icon-small[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2;fill:none;stroke:currentColor}.icon-medium[_ngcontent-%COMP%]{width:24px;height:24px;stroke-width:1.5;fill:none;stroke:currentColor}.airbnb-header.search-bar-sticky[_ngcontent-%COMP%]   .search-bar-container[_ngcontent-%COMP%]{margin-top:-55px;transform:scale(.9);transition:all .5s ease-in-out;z-index:999;height:fit-content!important;max-width:fit-content!important;flex-grow:0!important;-webkit-transform:scale(.9);-moz-transform:scale(.9);-ms-transform:scale(.9);-o-transform:scale(.9)}.airbnb-header[_ngcontent-%COMP%]   .search-bar-container[_ngcontent-%COMP%]{transform:scale(1);transition:all .5s ease-in-out;z-index:auto}.top-nav-categories[_ngcontent-%COMP%], .top-nav-wrapper[_ngcontent-%COMP%]{transition:all .5s ease}.airbnb-header.search-bar-sticky[_ngcontent-%COMP%]   .top-nav-categories[_ngcontent-%COMP%], .airbnb-header.search-bar-sticky[_ngcontent-%COMP%]   .top-nav-wrapper[_ngcontent-%COMP%]{opacity:0;margin-top:-11rem;pointer-events:none}.relative-header[_ngcontent-%COMP%]{position:relative!important}"]})};var _z=(n,e)=>({"btn-outline-secondary":n,disabled:e});function FQ(n,e){if(n&1&&(l(0,"p",9),m(1),d()),n&2){let t=C().$implicit;p(),U(" ",t.subLabel," ")}}function VQ(n,e){if(n&1){let t=X();l(0,"div",2)(1,"div",3)(2,"p",4),m(3),d(),j(4,FQ,2,1,"p",5),d(),l(5,"div",6)(6,"button",7),T("click",function(){let r=z(t).index,o=C();return A(o.decrementGuest(r))}),m(7," - "),d(),l(8,"span",8),m(9),d(),l(10,"button",7),T("click",function(){let r=z(t).index,o=C();return A(o.incrementGuest(r))}),m(11," + "),d()()()}if(n&2){let t=e.$implicit,i=e.index,r=C();Me("border-bottom",i<r.guests.length-1),p(3),$(t.label),p(),_("ngIf",t.subLabel),p(2),_("disabled",t.count===t.min)("ngClass",wi(9,_z,t.count>t.min,t.count===t.min)),p(3),$(t.count),p(),_("disabled",t.count===t.max)("ngClass",wi(12,_z,t.count<t.max,t.count===t.max))}}var l8=class n{guests=[];incrementGuest(e){this.guests[e].count<this.guests[e].max&&this.guests[e].count++}decrementGuest(e){this.guests[e].count>this.guests[e].min&&this.guests[e].count--}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=le({type:n,selectors:[["app-search-who-modal"]],inputs:{guests:"guests"},decls:2,vars:1,consts:[[1,"guest-options","p-3"],["class","d-flex align-items-center justify-content-between py-3 guest-option",3,"border-bottom",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","justify-content-between","py-3","guest-option"],[1,"d-flex","flex-column","justify-content-center","align-content-start"],[1,"mb-0","fw-bold"],["style","min-width: max-content; color: var(--secondary-text-color);",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","gap-3","guest-item"],["type","button",1,"btn","rounded-circle",3,"click","disabled","ngClass"],[1,"text-center","fw-bold",2,"min-width","20px"],[2,"min-width","max-content","color","var(--secondary-text-color)"]],template:function(t,i){t&1&&(l(0,"div",0),j(1,VQ,12,15,"div",1),d()),t&2&&(p(),_("ngForOf",i.guests))},dependencies:[wt,Mt,he,Bt,Xe,Ce],styles:[".guest-option[_ngcontent-%COMP%]{padding-bottom:.8rem}.guest-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 5px;border:1px solid var(--light-grey-bg);background-color:var(--bg-color);border-radius:50%;width:32px;height:32px;display:flex;justify-content:center;align-items:center;font-size:1.2rem;font-weight:700;cursor:pointer;transition:all .2s ease-in-out}.guest-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border-color:var(--primary-text-color);color:var(--primary-text-color)}.guest-item[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], .guest-item[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{border-color:var(--active);color:var(--light-grey-bg);background-color:var(--bg-color);cursor:not-allowed;opacity:1}.guest-item[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem}.guest-item[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-size:.9rem}",'.search-filter-group[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;flex-grow:1;justify-content:space-between;border:1px solid var(--border-color);border-radius:9999px;transition:all .5s ease-in-out}.group-active-bg[_ngcontent-%COMP%]{background-color:var(--shadow-color)}.group-default-bg[_ngcontent-%COMP%]{background-color:var(--bg-color)}.search-filter-item[_ngcontent-%COMP%]{position:relative;padding:5px 24px!important;border-radius:9999px;transition:all .2s ease-in-out;cursor:pointer;z-index:1;height:50px!important}.indicator-line[_ngcontent-%COMP%]{position:absolute;background-color:var(--active);border-radius:9999px;z-index:0;transition:all .5s ease;-webkit-transition:all .5s ease;-moz-transition:all .5s ease;-ms-transition:all .5s ease;-o-transition:all .5s ease;animation:_ngcontent-%COMP%_slideIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:scaleX(0)}to{transform:scaleX(1)}}.search-filter-item[_ngcontent-%COMP%]:nth-child(2):before, .search-filter-item[_ngcontent-%COMP%]:nth-child(2):after{content:"";position:absolute;top:50%;transform:translateY(-50%);width:1px;height:60%;background-color:#d7d4d4;opacity:1;transition:opacity .2s ease-in-out}.search-filter-item[_ngcontent-%COMP%]:nth-child(2):before{left:0}.search-filter-item[_ngcontent-%COMP%]:nth-child(2):after{right:0}.search-filter-item[_ngcontent-%COMP%]:nth-child(1):hover ~ .search-filter-item[_ngcontent-%COMP%]:nth-child(2):before{opacity:0}.search-filter-group[_ngcontent-%COMP%]:hover   .search-filter-item[_ngcontent-%COMP%]:last-child:hover   .search-filter-item[_ngcontent-%COMP%]:nth-child(2):after{opacity:0}.search-filter-item[_ngcontent-%COMP%]:nth-child(2):hover:before, .search-filter-item[_ngcontent-%COMP%]:nth-child(2):hover:after{opacity:0}.search-filter-item[_ngcontent-%COMP%]:hover{background-color:var(--bg)}.search-filter-item.active[_ngcontent-%COMP%]:hover{background-color:transparent;cursor:default}.search-filter-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;line-height:1.2}.search-filter-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--primary-text-color);margin-bottom:4px;padding:0 18px}.search-filter-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:.9rem;color:var(--secondary-text-color);padding:0 18px}.search-icon-button[_ngcontent-%COMP%]{background-color:var(--airbnb-red);color:#fff;border-radius:50px;padding:10px;display:flex;align-items:center;justify-content:center;transition:all .5s ease-in-out;flex-shrink:0;-webkit-transition:all .5s ease-in-out;-moz-transition:all .5s ease-in-out;-ms-transition:all .5s ease-in-out;-o-transition:all .5s ease-in-out}.search-icon-button[_ngcontent-%COMP%]:hover{background-color:var(--airbnb-dark-red)}.search-icon-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:20px;width:20px;stroke-width:5}.custom-modal[_ngcontent-%COMP%]{position:absolute;z-index:1;margin-top:.8rem;box-shadow:0 1px 2px #0003;min-width:400px;width:min-content!important;border-radius:12px;overflow-x:hidden;background-color:var(--active);justify-content:center;align-items:center;opacity:0;transition:all .5s ease-in-out;animation:_ngcontent-%COMP%_fadeZoomIn .5s ease both;transform-origin:top center}.fade-zoom-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeZoomIn .5s ease both;-webkit-animation:_ngcontent-%COMP%_fadeZoomIn .5s ease both}.fade-zoom-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeZoomOut .3s ease both}.custom-modal.d-flex[_ngcontent-%COMP%]{display:flex!important;opacity:1;transition:all .5s ease-in-out}.custom-modal-content[_ngcontent-%COMP%]{width:100%;transform:translateY(20px);transition:all .6s ease-in-out;-webkit-transition:all .6s ease-in-out;-moz-transition:all .6s ease-in-out;-ms-transition:all .6s ease-in-out;-o-transition:all .6s ease-in-out}.custom-modal.d-flex[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]{transform:translateY(0);transition:all .6s ease-in-out;-webkit-transition:all .6s ease-in-out;-moz-transition:all .6s ease-in-out;-ms-transition:all .6s ease-in-out;-o-transition:all .6s ease-in-out}.close-button[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700;cursor:pointer;line-height:1}.close-button[_ngcontent-%COMP%]:hover, .close-button[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}@keyframes _ngcontent-%COMP%_fadeZoomIn{0%{opacity:0;transform:scale(.95) translateY(-10px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes _ngcontent-%COMP%_fadeZoomOut{0%{opacity:1;transform:scale(1) translateY(0)}to{opacity:0;transform:scale(.95) translateY(-10px)}}.dest[_ngcontent-%COMP%]{border:none;outline:none;background-color:transparent!important;padding:0}.dest[_ngcontent-%COMP%]:focus{border:none;outline:none;background-color:transparent!important}.custom-scroll[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#aaa transparent;overscroll-behavior:contain;overflow-y:auto}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px;-webkit-appearance:none}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-button, .custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-button:single-button{display:none!important;height:0!important;width:0!important;visibility:hidden!important}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#bbb;border-radius:9999px;background-clip:padding-box;border:2px solid transparent;transition:background-color .3s ease}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#888}.airbnb-header.search-bar-sticky.modal-open[_ngcontent-%COMP%]   .search-bar-container[_ngcontent-%COMP%]{transform:scale(1)!important;-webkit-transform:scale(1)!important;-moz-transform:scale(1)!important;-ms-transform:scale(1)!important;-o-transform:scale(1)!important;margin-top:0!important;max-width:none!important}',".airbnb-header[_ngcontent-%COMP%]{background:linear-gradient(to bottom,var(--bg-color),var(--head));border-bottom:1px solid var(--border-color);box-shadow:inset 0 1px 3px var(--shadow-color);position:fixed;top:0;left:0;width:100%;z-index:1030;padding-top:1rem;padding-bottom:1rem;transition:all .5s ease-in-out;-webkit-transition:all .5s ease-in-out;-moz-transition:all .5s ease-in-out;-ms-transition:all .5s ease-in-out;-o-transition:all .5s ease-in-out}.airbnb-logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--airbnb-red);height:32px;width:102px}.switch-to-hosting-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:9999px;font-size:.9rem;font-weight:600;color:var(--primary-text-color);transition:background-color .2s ease-in-out;cursor:pointer;text-decoration:none}.switch-to-hosting-btn[_ngcontent-%COMP%]:hover{background-color:var(--light-grey-bg)}.user-menu-button[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:9999px;padding:6px 10px;transition:box-shadow .2s ease-in-out;background-color:var(--bg-color);display:flex;align-items:center;gap:8px}.user-menu-button[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px var(--shadow-color)}.user-menu-button[_ngcontent-%COMP%]   .icon-menu[_ngcontent-%COMP%]{color:var(--secondary-text-color)}.user-menu-button[_ngcontent-%COMP%]   .icon-user[_ngcontent-%COMP%]{background-color:var(--primary-text-color);color:var(--bg-color);border-radius:50%;height:32px;width:32px;display:flex;align-items:center;justify-content:center}.icon-user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain;border-radius:50%}.user-menu-dropdown[_ngcontent-%COMP%]{margin-top:.5rem;transform:translate(0)!important;min-width:200px;max-width:calc(100vw - 16px);background-color:var(--active);min-height:100px!important}.menu-dropdown[_ngcontent-%COMP%]{background-color:var(--active);width:100%}.menu-dropdown[_ngcontent-%COMP%]:hover{background-color:transparent!important}.dropdown-item[_ngcontent-%COMP%]{color:var(--primary-text-color)}.dropdown-item[_ngcontent-%COMP%]:hover{color:#000}.dropdown-item[_ngcontent-%COMP%]:active{background-color:var(--airbnb-red)}.dropdown-item.active[_ngcontent-%COMP%]{background-color:var(--airbnb-red)!important;color:#f7f7f7}.search-bar-container[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:9999px;box-shadow:0 1px 2px var(--shadow-color);transition:all 5s ease-in-out;cursor:pointer;background-color:var(--bg-color);max-width:fit-content;width:100%}.span-bg-n[_ngcontent-%COMP%]{background-color:var(--airbnb-red);color:#fff;font-size:.7rem}@media (max-width: 991.98px){.top-nav-categories[_ngcontent-%COMP%], .search-bar-container[_ngcontent-%COMP%]{display:none!important}.airbnb-header[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.airbnb-header[_ngcontent-%COMP%]   .user-menu-button[_ngcontent-%COMP%]{margin-left:auto}.airbnb-header[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]{display:block;width:100%;border:1px solid var(--border-color);border-radius:9999px;padding:.5rem 1rem;box-shadow:0 1px 2px var(--shadow-color);font-size:.9rem;color:var(--primary-text-color);outline:none}.airbnb-header[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]::placeholder{color:var(--secondary-text-color)}}.icon-small[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2;fill:none;stroke:currentColor}.icon-medium[_ngcontent-%COMP%]{width:24px;height:24px;stroke-width:1.5;fill:none;stroke:currentColor}.airbnb-header.search-bar-sticky[_ngcontent-%COMP%]   .search-bar-container[_ngcontent-%COMP%]{margin-top:-55px;transform:scale(.9);transition:all .5s ease-in-out;z-index:999;height:fit-content!important;max-width:fit-content!important;flex-grow:0!important;-webkit-transform:scale(.9);-moz-transform:scale(.9);-ms-transform:scale(.9);-o-transform:scale(.9)}.airbnb-header[_ngcontent-%COMP%]   .search-bar-container[_ngcontent-%COMP%]{transform:scale(1);transition:all .5s ease-in-out;z-index:auto}.top-nav-categories[_ngcontent-%COMP%], .top-nav-wrapper[_ngcontent-%COMP%]{transition:all .5s ease}.airbnb-header.search-bar-sticky[_ngcontent-%COMP%]   .top-nav-categories[_ngcontent-%COMP%], .airbnb-header.search-bar-sticky[_ngcontent-%COMP%]   .top-nav-wrapper[_ngcontent-%COMP%]{opacity:0;margin-top:-11rem;pointer-events:none}.relative-header[_ngcontent-%COMP%]{position:relative!important}"]})};var BQ=["filterGroupRef"],jQ=["modalRef"],HQ=["whereRef"],UQ=["dateRef"],$Q=["whoRef"],JC=n=>({active:n}),WQ=(n,e,t)=>({width:n,height:e,left:t}),GQ=n=>({"fade-out":n}),YQ=(n,e)=>({top:n,left:e}),qQ=(n,e)=>({"fade-zoom-in":n,"fade-zoom-out":e,"d-flex":!0});function ZQ(n,e){n&1&&(l(0,"p",7),m(1),Q(2,"translate"),d()),n&2&&(p(),$(de(2,1,"HEADER.ANYWHERE")))}function XQ(n,e){if(n&1){let t=X();l(0,"p",7),m(1),Q(2,"translate"),d(),l(3,"input",18),Q(4,"translate"),mt("ngModelChange",function(r){z(t);let o=C();return _t(o.searchInputValue,r)||(o.searchInputValue=r),A(r)}),T("input",function(r){z(t);let o=C();return A(o.updateSearchValue(r))}),d()}if(n&2){let t=C();p(),$(de(2,3,"HEADER.WHERE")),p(2),ft("ngModel",t.searchInputValue),_("placeholder",de(4,5,"HEADER.SEARCH_DESTINATIONS"))}}function KQ(n,e){n&1&&(l(0,"p",9),m(1),Q(2,"translate"),d()),n&2&&(p(),U(" ",de(2,1,"HEADER.ADD_DATE")," "))}function QQ(n,e){if(n&1&&(l(0,"p",9),m(1),Q(2,"translate"),d(),l(3,"p",19),m(4),Q(5,"translate"),d()),n&2){let t=C();p(),$(de(2,2,"HEADER.DATE")),p(3),U(" ",t.selectedDate||de(5,4,"HEADER.ADD_DATES")," ")}}function JQ(n,e){n&1&&(l(0,"p",9),m(1),Q(2,"translate"),d()),n&2&&(p(),$(de(2,1,"HEADER.ADD_GUESTS")))}function eJ(n,e){if(n&1&&(zt(0),m(1),Q(2,"translate"),At()),n&2){let t=C(2);p(),Nt(" ",t.getTotalGuests()," ",de(2,2,"HEADER.GUEST")," ")}}function tJ(n,e){n&1&&(zt(0),m(1,", "),At())}function nJ(n,e){if(n&1&&(zt(0),j(1,tJ,2,0,"ng-container",20),m(2),Q(3,"translate"),At()),n&2){let t=C(2);p(),_("ngIf",t.getTotalGuests()>0),p(),Nt("",t.getInfantsCount()," ",de(3,3,"HEADER.INFANT")," ")}}function iJ(n,e){n&1&&(zt(0),m(1),Q(2,"translate"),At()),n&2&&(p(),U(" ",de(2,1,"HEADER.ADD_GUESTS")," "))}function rJ(n,e){if(n&1&&(l(0,"p",9),m(1),Q(2,"translate"),d(),l(3,"p",19),j(4,eJ,3,4,"ng-container",20)(5,nJ,4,5,"ng-container",20)(6,iJ,3,3,"ng-container",20),d()),n&2){let t=C();p(),$(de(2,4,"HEADER.WHO")),p(3),_("ngIf",t.getTotalGuests()>0),p(),_("ngIf",t.getInfantsCount()>0),p(),_("ngIf",t.getTotalGuests()===0&&t.getInfantsCount()===0)}}function oJ(n,e){if(n&1){let t=X();l(0,"div",26)(1,"app-search-where-modal",27),T("destinationSelected",function(r){z(t);let o=C(2);return A(o.onDestinationSelected(r))}),d()()}if(n&2){let t=C(2);p(),_("searchValue",t.searchInputValue)}}function aJ(n,e){if(n&1){let t=X();l(0,"div",28)(1,"app-search-date-modal",29),T("dateSelected",function(r){z(t);let o=C(2);return A(o.onDateSelected(r))}),d()()}}function sJ(n,e){if(n&1&&(l(0,"div",30),k(1,"app-search-who-modal",31),d()),n&2){let t=C(2);p(),_("guests",t.guests)}}function lJ(n,e){if(n&1){let t=X();l(0,"div",21,4),T("animationend",function(){z(t);let r=C();return A(r.onModalAnimationEnd())}),l(2,"div",22),j(3,oJ,2,1,"div",23)(4,aJ,2,0,"div",24)(5,sJ,2,1,"div",25),d()()}if(n&2){let t=C();_("ngClass",nn(7,GQ,t.isModalAnimatingOut))("ngStyle",wi(9,YQ,t.modalTop+"px",t.modalLeft+"px"))("ngClass",wi(12,qQ,t.isModalVisible&&!t.isModalAnimatingOut,t.isModalAnimatingOut)),p(2),_("ngSwitch",t.activeFilter),p(),_("ngSwitchCase","where"),p(),_("ngSwitchCase","date"),p(),_("ngSwitchCase","who")}}var d8=class n{constructor(e,t){this.ngZone=e;this.router=t}isSearchBarSticky=!1;country="";longitude=0;latitude=0;selectedDate="";searchInputValue="";updateSearchValue(e){this.searchInputValue=e.target.value}onDestinationSelected(e){this.searchInputValue=` ${e.country},${e.city}, ${e.state}`,this.country=e.country,this.latitude=e.latitude,this.longitude=e.longitude,this.closeSearchModal()}onWindowScroll(e){this.isModalVisible&&!this.isModalAnimatingOut&&this.ngZone.run(()=>{this.closeSearchModal()}),this.updateStickyState()}updateStickyState(){let e=window.scrollY>80,t=document.querySelector(".airbnb-header");t&&(e&&!this.isModalVisible?(t.classList.add("search-bar-sticky"),t.classList.remove("modal-open")):e&&this.isModalVisible?(t.classList.add("search-bar-sticky"),t.classList.add("modal-open")):(t.classList.remove("search-bar-sticky"),t.classList.remove("modal-open"))),this.isSearchBarSticky=e}selectedDateRange={startDate:null,endDate:null};activeFilter="";isModalVisible=!1;isModalAnimatingOut=!1;indicatorLeft=0;indicatorWidth=0;indicatorHeight=0;modalTop=0;modalLeft=0;modalObserver;boundClickHandler=this.handleClickOutside.bind(this);filterGroupRef;modalRef;whereRef;dateRef;whoRef;get isAnyFilterActive(){return this.activeFilter!==""}ngAfterViewInit(){document.addEventListener("click",this.boundClickHandler)}ngOnDestroy(){document.removeEventListener("click",this.boundClickHandler),this.modalObserver&&this.modalObserver.disconnect()}setActive(e){this.activeFilter=e,this.openSearchModal(e)}openSearchModal(e){this.activeFilter=e,this.isModalVisible=!0,this.isModalAnimatingOut=!1,this.updateStickyState(),setTimeout(()=>{this.updateIndicator(),this.setupModalObserver()},0)}closeSearchModal(){this.isModalVisible&&(this.isModalAnimatingOut=!0,this.activeFilter="",this.updateStickyState(),this.updateIndicator(),this.modalObserver&&(this.modalObserver.disconnect(),this.modalObserver=void 0),setTimeout(()=>{this.ngZone.run(()=>{this.isModalVisible=!1,this.activeFilter="",this.indicatorWidth=0})},500))}onModalAnimationEnd(){this.isModalAnimatingOut&&this.ngZone.run(()=>{this.isModalVisible=!1,this.isModalAnimatingOut=!1,this.activeFilter="",this.indicatorWidth=0})}handleClickOutside(e){if(!this.isModalVisible&&!this.isModalAnimatingOut)return;let t=this.filterGroupRef.nativeElement,i=this.modalRef?.nativeElement,r=e.target,o=t.contains(r),a=i?.contains(r);!o&&!a&&this.ngZone.run(()=>{this.closeSearchModal()})}setupModalObserver(){this.modalRef&&this.modalRef.nativeElement&&!this.modalObserver&&(this.modalObserver=new MutationObserver(()=>{this.isModalVisible&&this.activeFilter&&this.updateIndicator()}),this.modalObserver.observe(this.modalRef.nativeElement,{childList:!0,subtree:!0,attributes:!0}))}updateIndicator(){let e;switch(this.activeFilter){case"where":e=this.whereRef;break;case"date":e=this.dateRef;break;case"who":e=this.whoRef;break;default:this.indicatorLeft=0,this.indicatorWidth=0,this.indicatorHeight=0;return}let t=e.nativeElement;if(this.indicatorLeft=t.offsetLeft,this.indicatorWidth=t.offsetWidth,this.indicatorHeight=t.offsetHeight,this.modalTop=t.offsetTop+t.offsetHeight,this.modalRef&&this.modalRef.nativeElement){let i=this.modalRef.nativeElement.offsetWidth,o=this.filterGroupRef.nativeElement.offsetWidth,a=t.offsetLeft;a+i>o&&(a=o-i),a<0&&(a=0),this.modalLeft=a}else this.modalLeft=t.offsetLeft}guests=[{label:"Adults",subLabel:"Ages 13 or above",count:0,min:0,max:12},{label:"Children",subLabel:"Ages 2-12",count:0,min:0,max:4},{label:"Infants",subLabel:"Under 2",count:0,min:0,max:5}];getTotalGuests(){return this.guests[0].count+this.guests[1].count}getInfantsCount(){return this.guests[2].count}onDateSelected(e){if(typeof e=="string"){let t=(0,c8.default)(e).local();this.selectedDateRange={startDate:t,endDate:t},this.selectedDate=t.format("MMM DD")}else if(typeof e=="object"&&e.start&&e.end){let t=(0,c8.default)(e.start).local(),i=(0,c8.default)(e.end).local();this.selectedDateRange={startDate:t,endDate:i},this.selectedDate=`${t.format("MMM DD")} - ${i.format("MMM DD")}`}}onSearch(){let e={};this.country&&(e.country=this.country),this.latitude&&(e.latitude=this.latitude),this.longitude&&(e.longitude=this.longitude),this.selectedDateRange.startDate&&this.selectedDateRange.endDate&&(e.startDate=this.selectedDateRange.startDate.toISOString(),e.endDate=this.selectedDateRange.endDate.add(1,"day").toISOString());let t=this.getTotalGuests();t>0&&(e.guestsCount=t),this.router.navigate(["/FilteredProperties"],{queryParams:e}),console.log(e)}static \u0275fac=function(t){return new(t||n)(V(St),V(nt))};static \u0275cmp=le({type:n,selectors:[["app-search-filter-group"]],viewQuery:function(t,i){if(t&1&&(en(BQ,5),en(jQ,5),en(HQ,5),en(UQ,5),en($Q,5)),t&2){let r;qt(r=Zt())&&(i.filterGroupRef=r.first),qt(r=Zt())&&(i.modalRef=r.first),qt(r=Zt())&&(i.whereRef=r.first),qt(r=Zt())&&(i.dateRef=r.first),qt(r=Zt())&&(i.whoRef=r.first)}},hostBindings:function(t,i){t&1&&T("scroll",function(o){return i.onWindowScroll(o)},Vo)},decls:21,vars:19,consts:[["filterGroupRef",""],["whereRef",""],["dateRef",""],["whoRef",""],["modalRef",""],[1,"search-filter-group",3,"ngClass"],[1,"search-filter-item","d-flex","align-items-start","justify-content-center","flex-column",3,"click","ngClass"],[1,"label","mb-0"],[1,"search-filter-item","d-flex","align-items-start","justify-content-center","flex-column",2,"min-width","12rem !important",3,"click","ngClass"],[1,"label"],[1,"search-filter-item","d-flex","align-items-center","justify-content-center",2,"min-width","15rem !important",3,"ngClass"],[3,"click"],[1,"ms-auto","cursor-pointer",3,"click"],[1,"search-icon-button","d-flex","align-items-center","justify-content-center"],["viewBox","0 0 32 32","aria-hidden","true","role","presentation","focusable","false",2,"display","block","fill","none","height","16px","width","16px","stroke","currentColor","stroke-width","4","overflow","visible"],["fill","none","d","M13 24a11 11 0 1 0 0-22 11 11 0 0 0 0 22zm8-3 9 9"],[1,"indicator-line",3,"ngStyle"],["id","searchModal","class","custom-modal",3,"ngClass","ngStyle","animationend",4,"ngIf"],["type","text",1,"search-input","dest",3,"ngModelChange","input","ngModel","placeholder"],[1,"value"],[4,"ngIf"],["id","searchModal",1,"custom-modal",3,"animationend","ngClass","ngStyle"],[1,"custom-modal-content",3,"ngSwitch"],["class","custom-scroll","style","max-height: 420px; padding: 18px 0px 18px 12px;",4,"ngSwitchCase"],["style",`
          max-height: 331px;
          max-width: 610px;
          overflow-y: hidden;
          padding: 20px;
        `,4,"ngSwitchCase"],["style","padding: 0px 10px;",4,"ngSwitchCase"],[1,"custom-scroll",2,"max-height","420px","padding","18px 0px 18px 12px"],[3,"destinationSelected","searchValue"],[2,"max-height","331px","max-width","610px","overflow-y","hidden","padding","20px"],[3,"dateSelected"],[2,"padding","0px 10px"],[3,"guests"]],template:function(t,i){if(t&1){let r=X();l(0,"div",5,0)(2,"div",6,1),T("click",function(){return z(r),A(i.setActive("where"))}),yr(4,ZQ,3,3,"p",7)(5,XQ,5,7),d(),l(6,"div",8,2),T("click",function(){return z(r),A(i.setActive("date"))}),yr(8,KQ,3,3,"p",9)(9,QQ,6,6),d(),l(10,"div",10,3)(12,"div",11),T("click",function(){return z(r),A(i.setActive("who"))}),yr(13,JQ,3,3,"p",9)(14,rJ,7,6),d(),l(15,"div",12),T("click",function(){return z(r),A(i.onSearch())}),l(16,"div",13),$e(),l(17,"svg",14),k(18,"path",15),d()()()(),lt(),k(19,"div",16),j(20,lJ,6,15,"div",17),d()}t&2&&(_("ngClass",i.isAnyFilterActive?"group-active-bg":"group-default-bg"),p(2),_("ngClass",nn(9,JC,i.activeFilter==="where")),p(2),xr(i.isSearchBarSticky?4:5),p(2),_("ngClass",nn(11,JC,i.activeFilter==="date")),p(2),xr(i.isSearchBarSticky?8:9),p(2),_("ngClass",nn(13,JC,i.activeFilter==="who")),p(3),xr(i.isSearchBarSticky?13:14),p(6),_("ngStyle",fu(15,WQ,i.indicatorWidth+"px",i.indicatorHeight+"px",i.indicatorLeft+"px")),p(),_("ngIf",i.isModalVisible||i.isModalAnimatingOut))},dependencies:[he,Bt,Ce,_o,aa,ps,Ni,Mt,Rt,Dt,kn,wt,qo,a8,s8,l8,Xt],styles:['.search-filter-group[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;flex-grow:1;justify-content:space-between;border:1px solid var(--border-color);border-radius:9999px;transition:all .5s ease-in-out}.group-active-bg[_ngcontent-%COMP%]{background-color:var(--shadow-color)}.group-default-bg[_ngcontent-%COMP%]{background-color:var(--bg-color)}.search-filter-item[_ngcontent-%COMP%]{position:relative;padding:5px 24px!important;border-radius:9999px;transition:all .2s ease-in-out;cursor:pointer;z-index:1;height:50px!important}.indicator-line[_ngcontent-%COMP%]{position:absolute;background-color:var(--active);border-radius:9999px;z-index:0;transition:all .5s ease;-webkit-transition:all .5s ease;-moz-transition:all .5s ease;-ms-transition:all .5s ease;-o-transition:all .5s ease;animation:_ngcontent-%COMP%_slideIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:scaleX(0)}to{transform:scaleX(1)}}.search-filter-item[_ngcontent-%COMP%]:nth-child(2):before, .search-filter-item[_ngcontent-%COMP%]:nth-child(2):after{content:"";position:absolute;top:50%;transform:translateY(-50%);width:1px;height:60%;background-color:#d7d4d4;opacity:1;transition:opacity .2s ease-in-out}.search-filter-item[_ngcontent-%COMP%]:nth-child(2):before{left:0}.search-filter-item[_ngcontent-%COMP%]:nth-child(2):after{right:0}.search-filter-item[_ngcontent-%COMP%]:nth-child(1):hover ~ .search-filter-item[_ngcontent-%COMP%]:nth-child(2):before{opacity:0}.search-filter-group[_ngcontent-%COMP%]:hover   .search-filter-item[_ngcontent-%COMP%]:last-child:hover   .search-filter-item[_ngcontent-%COMP%]:nth-child(2):after{opacity:0}.search-filter-item[_ngcontent-%COMP%]:nth-child(2):hover:before, .search-filter-item[_ngcontent-%COMP%]:nth-child(2):hover:after{opacity:0}.search-filter-item[_ngcontent-%COMP%]:hover{background-color:var(--bg)}.search-filter-item.active[_ngcontent-%COMP%]:hover{background-color:transparent;cursor:default}.search-filter-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;line-height:1.2}.search-filter-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--primary-text-color);margin-bottom:4px;padding:0 18px}.search-filter-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:.9rem;color:var(--secondary-text-color);padding:0 18px}.search-icon-button[_ngcontent-%COMP%]{background-color:var(--airbnb-red);color:#fff;border-radius:50px;padding:10px;display:flex;align-items:center;justify-content:center;transition:all .5s ease-in-out;flex-shrink:0;-webkit-transition:all .5s ease-in-out;-moz-transition:all .5s ease-in-out;-ms-transition:all .5s ease-in-out;-o-transition:all .5s ease-in-out}.search-icon-button[_ngcontent-%COMP%]:hover{background-color:var(--airbnb-dark-red)}.search-icon-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:20px;width:20px;stroke-width:5}.custom-modal[_ngcontent-%COMP%]{position:absolute;z-index:1;margin-top:.8rem;box-shadow:0 1px 2px #0003;min-width:400px;width:min-content!important;border-radius:12px;overflow-x:hidden;background-color:var(--active);justify-content:center;align-items:center;opacity:0;transition:all .5s ease-in-out;animation:_ngcontent-%COMP%_fadeZoomIn .5s ease both;transform-origin:top center}.fade-zoom-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeZoomIn .5s ease both;-webkit-animation:_ngcontent-%COMP%_fadeZoomIn .5s ease both}.fade-zoom-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeZoomOut .3s ease both}.custom-modal.d-flex[_ngcontent-%COMP%]{display:flex!important;opacity:1;transition:all .5s ease-in-out}.custom-modal-content[_ngcontent-%COMP%]{width:100%;transform:translateY(20px);transition:all .6s ease-in-out;-webkit-transition:all .6s ease-in-out;-moz-transition:all .6s ease-in-out;-ms-transition:all .6s ease-in-out;-o-transition:all .6s ease-in-out}.custom-modal.d-flex[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]{transform:translateY(0);transition:all .6s ease-in-out;-webkit-transition:all .6s ease-in-out;-moz-transition:all .6s ease-in-out;-ms-transition:all .6s ease-in-out;-o-transition:all .6s ease-in-out}.close-button[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700;cursor:pointer;line-height:1}.close-button[_ngcontent-%COMP%]:hover, .close-button[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}@keyframes _ngcontent-%COMP%_fadeZoomIn{0%{opacity:0;transform:scale(.95) translateY(-10px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes _ngcontent-%COMP%_fadeZoomOut{0%{opacity:1;transform:scale(1) translateY(0)}to{opacity:0;transform:scale(.95) translateY(-10px)}}.dest[_ngcontent-%COMP%]{border:none;outline:none;background-color:transparent!important;padding:0}.dest[_ngcontent-%COMP%]:focus{border:none;outline:none;background-color:transparent!important}.custom-scroll[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#aaa transparent;overscroll-behavior:contain;overflow-y:auto}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px;-webkit-appearance:none}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-button, .custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-button:single-button{display:none!important;height:0!important;width:0!important;visibility:hidden!important}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#bbb;border-radius:9999px;background-clip:padding-box;border:2px solid transparent;transition:background-color .3s ease}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#888}.airbnb-header.search-bar-sticky.modal-open[_ngcontent-%COMP%]   .search-bar-container[_ngcontent-%COMP%]{transform:scale(1)!important;-webkit-transform:scale(1)!important;-moz-transform:scale(1)!important;-ms-transform:scale(1)!important;-o-transform:scale(1)!important;margin-top:0!important;max-width:none!important}',".airbnb-header[_ngcontent-%COMP%]{background:linear-gradient(to bottom,var(--bg-color),var(--head));border-bottom:1px solid var(--border-color);box-shadow:inset 0 1px 3px var(--shadow-color);position:fixed;top:0;left:0;width:100%;z-index:1030;padding-top:1rem;padding-bottom:1rem;transition:all .5s ease-in-out;-webkit-transition:all .5s ease-in-out;-moz-transition:all .5s ease-in-out;-ms-transition:all .5s ease-in-out;-o-transition:all .5s ease-in-out}.airbnb-logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--airbnb-red);height:32px;width:102px}.switch-to-hosting-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:9999px;font-size:.9rem;font-weight:600;color:var(--primary-text-color);transition:background-color .2s ease-in-out;cursor:pointer;text-decoration:none}.switch-to-hosting-btn[_ngcontent-%COMP%]:hover{background-color:var(--light-grey-bg)}.user-menu-button[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:9999px;padding:6px 10px;transition:box-shadow .2s ease-in-out;background-color:var(--bg-color);display:flex;align-items:center;gap:8px}.user-menu-button[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px var(--shadow-color)}.user-menu-button[_ngcontent-%COMP%]   .icon-menu[_ngcontent-%COMP%]{color:var(--secondary-text-color)}.user-menu-button[_ngcontent-%COMP%]   .icon-user[_ngcontent-%COMP%]{background-color:var(--primary-text-color);color:var(--bg-color);border-radius:50%;height:32px;width:32px;display:flex;align-items:center;justify-content:center}.icon-user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain;border-radius:50%}.user-menu-dropdown[_ngcontent-%COMP%]{margin-top:.5rem;transform:translate(0)!important;min-width:200px;max-width:calc(100vw - 16px);background-color:var(--active);min-height:100px!important}.menu-dropdown[_ngcontent-%COMP%]{background-color:var(--active);width:100%}.menu-dropdown[_ngcontent-%COMP%]:hover{background-color:transparent!important}.dropdown-item[_ngcontent-%COMP%]{color:var(--primary-text-color)}.dropdown-item[_ngcontent-%COMP%]:hover{color:#000}.dropdown-item[_ngcontent-%COMP%]:active{background-color:var(--airbnb-red)}.dropdown-item.active[_ngcontent-%COMP%]{background-color:var(--airbnb-red)!important;color:#f7f7f7}.search-bar-container[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:9999px;box-shadow:0 1px 2px var(--shadow-color);transition:all 5s ease-in-out;cursor:pointer;background-color:var(--bg-color);max-width:fit-content;width:100%}.span-bg-n[_ngcontent-%COMP%]{background-color:var(--airbnb-red);color:#fff;font-size:.7rem}@media (max-width: 991.98px){.top-nav-categories[_ngcontent-%COMP%], .search-bar-container[_ngcontent-%COMP%]{display:none!important}.airbnb-header[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.airbnb-header[_ngcontent-%COMP%]   .user-menu-button[_ngcontent-%COMP%]{margin-left:auto}.airbnb-header[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]{display:block;width:100%;border:1px solid var(--border-color);border-radius:9999px;padding:.5rem 1rem;box-shadow:0 1px 2px var(--shadow-color);font-size:.9rem;color:var(--primary-text-color);outline:none}.airbnb-header[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]::placeholder{color:var(--secondary-text-color)}}.icon-small[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2;fill:none;stroke:currentColor}.icon-medium[_ngcontent-%COMP%]{width:24px;height:24px;stroke-width:1.5;fill:none;stroke:currentColor}.airbnb-header.search-bar-sticky[_ngcontent-%COMP%]   .search-bar-container[_ngcontent-%COMP%]{margin-top:-55px;transform:scale(.9);transition:all .5s ease-in-out;z-index:999;height:fit-content!important;max-width:fit-content!important;flex-grow:0!important;-webkit-transform:scale(.9);-moz-transform:scale(.9);-ms-transform:scale(.9);-o-transform:scale(.9)}.airbnb-header[_ngcontent-%COMP%]   .search-bar-container[_ngcontent-%COMP%]{transform:scale(1);transition:all .5s ease-in-out;z-index:auto}.top-nav-categories[_ngcontent-%COMP%], .top-nav-wrapper[_ngcontent-%COMP%]{transition:all .5s ease}.airbnb-header.search-bar-sticky[_ngcontent-%COMP%]   .top-nav-categories[_ngcontent-%COMP%], .airbnb-header.search-bar-sticky[_ngcontent-%COMP%]   .top-nav-wrapper[_ngcontent-%COMP%]{opacity:0;margin-top:-11rem;pointer-events:none}.relative-header[_ngcontent-%COMP%]{position:relative!important}"]})};var Nr=class n{handleImage(e){return`${Ke.base}${e}`}static \u0275fac=function(t){return new(t||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var sl=class n{constructor(){let e=localStorage.getItem("theme")||"light";this.setTheme(e)}setTheme(e){document.body.classList.remove("light","dark"),document.body.classList.add(e),localStorage.setItem("theme",e)}toggleTheme(){let t=(localStorage.getItem("theme")||"light")==="dark"?"light":"dark";this.setTheme(t)}get currentTheme(){return localStorage.getItem("theme")||"light"}static \u0275fac=function(t){return new(t||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var cr=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl=`${Ke.baseUrl}/User`;login(e){return console.log(e),this.http.post(`${this.baseUrl}/login`,e,{withCredentials:!0}).pipe(Pn(t=>{this.authService.setAccessToken(t.accessToken),this.authService.setUserId(t.userId,t.expireAt),this.authService.setRole(t.roles)}))}register(e){return this.http.post(`${this.baseUrl}/register`,e).pipe(Pn(t=>{console.log(t)}))}logout(){this.authService.clear()}refreshToken(){let e=this.authService.refreshToken;return this.http.post(`${this.baseUrl}/refresh-token`,{refreshToken:e}).pipe(Pn(t=>{this.authService.setAccessToken(t.accessToken),this.authService.setRefreshToken(t.refreshToken)}))}confirmOtp(e){return this.http.post(`${this.baseUrl}/verify-otp`,e).pipe(Pn(t=>{console.log(t)}))}resendOtp(e){return this.http.post(`${this.baseUrl}/send-reset-otp`,e).pipe(Pn(t=>{console.log(t)}))}resetPass(e){return this.http.post(`${this.baseUrl}/reset-password`,e).pipe(Pn(t=>{console.log(t)}))}getProfile(e){return this.http.get(`${this.baseUrl}/profile/${e}`).pipe(Pn(t=>{console.log(t)}))}updateProfile(e,t){return this.http.put(`${this.baseUrl}/profile/${e}`,t).pipe(Pn(i=>{console.log(i)}))}uploadProfileImage(e){let t=new FormData;return t.append("UserId",e.userId),t.append("File",e.file),this.http.post(`${this.baseUrl}/profile/image`,t).pipe(Pn(i=>{console.log(i)}))}Logout(){return this.http.post(`${this.baseUrl}/logout`,{}).pipe(Pn(e=>{console.log(e)}))}updateToHostRole(e){return this.http.post(`${this.baseUrl}/profile/${e}/role`,{}).pipe(Pn(t=>{t.roles&&this.authService.setRole(t.roles)}))}static \u0275fac=function(t){return new(t||n)(De(Ct),De(dt))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var y4={Afrikaans:"afr_Latn",Akan:"aka_Latn",Amharic:"amh_Ethi",Arabic:"arb_Arab",Assamese:"asm_Beng",Asturian:"ast_Latn",Awadhi:"awa_Deva",Aymara:"ayr_Latn",Azerbaijani:"azj_Latn",Bambara:"bam_Latn",Bashkir:"bak_Cyrl",Basque:"eus_Latn",Belarusian:"bel_Cyrl",Bemba:"bem_Latn",Bengali:"ben_Beng",Bhojpuri:"bho_Deva",Bosnian:"bos_Latn",Bulgarian:"bul_Cyrl",Catalan:"cat_Latn",Cebuano:"ceb_Latn","Central Kurdish":"ckb_Arab",Chokwe:"cjk_Latn",Czech:"ces_Latn","Chinese (Simplified)":"zho_Hans","Chinese (Traditional)":"zho_Hant",Chuvash:"chv_Cyrl",Cornish:"cor_Latn",Croatian:"hrv_Latn",Danish:"dan_Latn",Dutch:"nld_Latn",Dzongkha:"dzo_Tibt",English:"eng_Latn",Esperanto:"epo_Latn",Estonian:"est_Latn",Ewe:"ewe_Latn",Faroese:"fao_Latn",Fijian:"fij_Latn",Finnish:"fin_Latn",French:"fra_Latn",Friulian:"fur_Latn",Galician:"glg_Latn",Ganda:"lug_Latn",Georgian:"kat_Geor",German:"deu_Latn",Greek:"ell_Grek",Guarani:"grn_Latn",Gujarati:"guj_Gujr","Haitian Creole":"hat_Latn",Hausa:"hau_Latn",Hebrew:"heb_Hebr",Hindi:"hin_Deva",Hungarian:"hun_Latn",Icelandic:"isl_Latn",Igbo:"ibo_Latn",Ilocano:"ilo_Latn",Indonesian:"ind_Latn",Irish:"gle_Latn",Italian:"ita_Latn",Japanese:"jpn_Jpan",Javanese:"jav_Latn",Kabyle:"kab_Latn",Kannada:"kan_Knda",Kashmiri:"kas_Arab",Kazakh:"kaz_Cyrl",Khmer:"khm_Khmr",Kikuyu:"kik_Latn",Kinyarwanda:"kin_Latn",Komi:"kom_Cyrl",Kongo:"kon_Latn",Korean:"kor_Hang",Kurdish:"kur_Arab",Kyrgyz:"kir_Cyrl",Lao:"lao_Laoo",Latvian:"lvs_Latn",Lingala:"lin_Latn",Lithuanian:"lit_Latn","Luba-Katanga":"lub_Latn",Luxembourgish:"ltz_Latn",Macedonian:"mkd_Cyrl",Magahi:"mag_Deva",Maithili:"mai_Deva",Malagasy:"plt_Latn",Malay:"zsm_Latn",Malayalam:"mal_Mlym",Maltese:"mlt_Latn",Manipuri:"mni_Beng",Maori:"mri_Latn",Marathi:"mar_Deva",Meitei:"mni_Mtei",Mongolian:"khk_Cyrl",Montenegrin:"cnr_Latn",Nepali:"npi_Deva","Northern Sotho":"nso_Latn",Norwegian:"nob_Latn",Nyanja:"nya_Latn",Occitan:"oci_Latn",Odia:"ory_Orya",Oromo:"orm_Latn",Pashto:"pus_Arab",Persian:"pes_Arab",Polish:"pol_Latn",Portuguese:"por_Latn",Punjabi:"pan_Guru",Quechua:"quy_Latn",Romanian:"ron_Latn",Russian:"rus_Cyrl",Samoan:"smo_Latn",Sanskrit:"san_Deva",Sardinian:"srd_Latn","Scots Gaelic":"gla_Latn",Serbian:"srp_Cyrl",Shona:"sna_Latn",Sindhi:"snd_Arab",Sinhala:"sin_Sinh",Slovak:"slk_Latn",Slovenian:"slv_Latn",Somali:"som_Latn","Southern Sotho":"sot_Latn",Spanish:"spa_Latn",Sundanese:"sun_Latn",Swahili:"swh_Latn",Swedish:"swe_Latn",Tajik:"tgk_Cyrl",Tamil:"tam_Taml",Tatar:"tat_Cyrl",Telugu:"tel_Telu",Thai:"tha_Thai",Tigrinya:"tir_Ethi",Tongan:"ton_Latn",Turkish:"tur_Latn",Turkmen:"tuk_Latn",Twi:"twi_Latn",Ukrainian:"ukr_Cyrl",Urdu:"urd_Arab",Uyghur:"uig_Arab",Uzbek:"uzn_Latn",Vietnamese:"vie_Latn",Welsh:"cym_Latn","Western Frisian":"fry_Latn",Wolof:"wol_Latn",Xhosa:"xho_Latn",Yoruba:"yor_Latn",Zulu:"zul_Latn"};function p8(){if(k1==null||k1==""||k1=="null")return new Ei;let n=y4[k1]||y4.English;return new Ei().set("targetLang",n)}var k1=localStorage.getItem("chatLanguage")||"Arabic",oo=class n{constructor(e){this.http=e}baseUrl=Ke.baseUrl+"/chat";messageCache=new Map;CACHE_EXPIRY=10*60*1e3;_targetLang$=new Sn("");targetLang$=this._targetLang$.asObservable();unreadCountSubject=new Sn(0);unreadCount$=this.unreadCountSubject.asObservable();updateUnreadCount(e){this.unreadCountSubject.next(e)}getChatSessions(e=1,t=20){let i=new Ei().set("page",e.toString()).set("pageSize",t.toString());return this.http.get(`${this.baseUrl}/sessions`,{params:i})}createOrGetChatSession(e){return this.http.post(`${this.baseUrl}/sessions`,e)}getChatMessages(e,t=1,i=20){let r=`${e}-${t}-${i}-${k1}`,o=this.messageCache.get(r);if(o)return qe(o);let a=p8().set("page",t.toString()).set("pageSize",i.toString());return this.http.get(`${this.baseUrl}/sessions/${e}/messages`,{params:a}).pipe(Pn(c=>{this.messageCache.set(r,c),setTimeout(()=>this.messageCache.delete(r),this.CACHE_EXPIRY)}))}sendMessage(e,t,i=1,r=!0){let o={chatSessionId:e,messageText:t,messageType:i},a=new Ei().set("isUser",r.toString());return this.http.post(`${this.baseUrl}/sessions/${e}/messages`,o,{params:a})}markMessagesAsRead(e){return this.http.post(`${this.baseUrl}/sessions/${e}/mark-read`,{})}reserveProperty(e){let t=p8();return this.http.post(`${this.baseUrl}/reserve`,e,{params:t})}reserveIntPropertyId(e){let t=p8();return this.http.post(`${this.baseUrl}/reserve`,e,{params:t})}getSessionForHost(e,t){let i=p8();return this.http.get(`${this.baseUrl}/session/host/${e}`,{params:i})}accept(e){return this.http.post(`${this.baseUrl}/accept/${e}`,{})}decline(e){return this.http.post(`${this.baseUrl}/decline/${e}`,{})}updateTargetLanguage(e){console.log("lang",e);let t=e;t=="null"||t==null||t==null||e==null||e==""?(k1="",localStorage.setItem("chatLanguage",""),console.log("languageName",k1),this._targetLang$.next("")):y4[t]&&(k1=t,this._targetLang$.next(t),localStorage.setItem("chatLanguage",t),this.messageCache.clear())}translateMessage(e,t){return t=y4[t],console.log("translating to ",t),this.http.post("https://ahmedaladl-transliation.hf.space/translate",{texts:[e],tgt_lang:t})}static \u0275fac=function(t){return new(t||n)(De(Ct))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var cJ=n=>({show:n}),dJ=(n,e,t)=>({animate__fadeIn:n,animate__fadeOut:e,show:t}),uJ=()=>({padding:"4px"}),pJ=(n,e)=>({top:"-9px",right:n,left:e}),fJ=(n,e)=>({top:"-7px",left:n,right:e}),mJ=()=>({margin:"1.1rem 0rem"}),hJ=()=>({});function gJ(n,e){if(n&1){let t=X();l(0,"a",19),T("click",function(){z(t);let r=C();return A(r.switchMode())}),m(1),Q(2,"translate"),Q(3,"translate"),d()}if(n&2){let t=C();p(),U(" ",t.currentRoute.includes("/host")?de(2,1,"HEADER.SWITCH_TO_TRAVELLER"):de(3,3,"HEADER.SWITCH_TO_HOSTING")," ")}}function vJ(n,e){if(n&1&&(l(0,"span",23),m(1),d()),n&2){let t=C(2);_("ngStyle",Kt(2,uJ)),p(),$(t.user.charAt(0).toUpperCase()||"K")}}function bJ(n,e){if(n&1){let t=X();l(0,"img",24),T("click",function(r){return z(t),A(r.stopPropagation())}),d()}if(n&2){let t=C(2);_("src",t.img,et)}}function _J(n,e){if(n&1){let t=X();l(0,"div",20),T("click",function(r){return z(t),A(r.stopPropagation())}),l(1,"a",21),j(2,vJ,2,3,"span",11)(3,bJ,1,1,"img",22),d()()}if(n&2){let t=C();p(),_("routerLink",Ws("/profile/",t.userId)),p(),_("ngIf",t.ifImg===""),p(),_("ngIf",t.ifImg)}}function yJ(n,e){n&1&&(l(0,"li",25)(1,"a",26),k(2,"i",27),m(3),Q(4,"translate"),d()()),n&2&&(p(3),U(" ",de(4,1,"HEADER.NAV.CALENDAR")," "))}function xJ(n,e){n&1&&(l(0,"li",25)(1,"a",28),k(2,"i",29),m(3),Q(4,"translate"),d()()),n&2&&(p(3),U(" ",de(4,1,"HEADER.NAV.LISTINGS")," "))}function CJ(n,e){n&1&&(l(0,"li",25)(1,"a",30),k(2,"i",31),m(3),Q(4,"translate"),d()()),n&2&&(p(3),U(" ",de(4,1,"HEADER.NAV.WALLET")," "))}function MJ(n,e){if(n&1&&(l(0,"span",36),m(1),l(2,"span",37),m(3,"unread notifications "),d()()),n&2){let t=C(2);_("ngStyle",wi(2,pJ,t.lang.currentLang==="en"?"5px":null,t.lang.currentLang==="ar"?"5px":null)),p(),U(" ",t.unreadCountNotifications," ")}}function wJ(n,e){if(n&1&&(l(0,"li")(1,"a",32)(2,"div",33),k(3,"i",34),j(4,MJ,4,5,"span",35),d(),m(5),Q(6,"translate"),d()()),n&2){let t=C();p(4),_("ngIf",t.unreadCountNotifications>0),p(),U(" ",de(6,2,"HEADER.notifications")," ")}}function SJ(n,e){if(n&1&&(l(0,"li")(1,"a",38),k(2,"i",39),m(3),Q(4,"translate"),d()()),n&2){let t=C();p(),_("routerLink",Ws("/profile/",t.userId)),p(2),U(" ",de(4,3,"HEADER.PROFILE")," ")}}function PJ(n,e){n&1&&(l(0,"li")(1,"a",40)(2,"div"),$e(),l(3,"svg",41),k(4,"path",42),d()(),m(5),Q(6,"translate"),d()()),n&2&&(p(5),U(" ",de(6,1,"HEADER.WISHLISTS")," "))}function kJ(n,e){if(n&1&&(l(0,"span",36),m(1),l(2,"span",37),m(3,"unread messages"),d()()),n&2){let t=C(2);_("ngStyle",wi(2,fJ,t.lang.currentLang==="en"?"-7px":null,t.lang.currentLang==="ar"?"-7px":null)),p(),U(" ",t.unreadCount," ")}}function OJ(n,e){if(n&1&&(l(0,"li")(1,"a",43)(2,"div",33),k(3,"i",44),j(4,kJ,4,5,"span",35),d(),m(5),Q(6,"translate"),d()()),n&2){let t=C();p(4),_("ngIf",t.unreadCount>0),p(),U(" ",de(6,2,"HEADER.NAV.MESSAGES")," ")}}function DJ(n,e){if(n&1&&(l(0,"li",23),k(1,"hr",45),d()),n&2){let t=C();_("ngStyle",t.isLoggedIn?Kt(1,mJ):Kt(2,hJ))}}function EJ(n,e){if(n&1){let t=X();l(0,"li")(1,"a",46),T("click",function(){z(t);let r=C();return A(r.openRegisterDialog())}),k(2,"i",47),m(3),Q(4,"translate"),d()()}n&2&&(p(3),U(" ",de(4,1,"HEADER.SIGN_UP")," "))}function IJ(n,e){if(n&1){let t=X();l(0,"li")(1,"a",46),T("click",function(){z(t);let r=C();return A(r.openLoginDialog())}),k(2,"i",48),m(3),Q(4,"translate"),d()()}n&2&&(p(3),U(" ",de(4,1,"HEADER.LOGIN")," "))}function TJ(n,e){if(n&1){let t=X();l(0,"li")(1,"a",46),T("click",function(){z(t);let r=C();return A(r.logout())}),k(2,"i",49),m(3),Q(4,"translate"),d()()}n&2&&(p(3),U(" ",de(4,1,"HEADER.LOGOUT")," "))}var x4=class n{constructor(e,t,i,r,o,a){this.lang=e;this.theme=t;this.elementRef=i;this.router=r;this.userService=o;this.chatService=a;this.router.events.pipe(Nn(c=>c instanceof Cr),rt(this.destroy$)).subscribe(c=>{this.currentRoute=c.urlAfterRedirects,this.checkIfMessagesRoute()}),this.chatService.unreadCount$.pipe(rt(this.destroy$)).subscribe(c=>{this.unreadCount=c})}destroy$=new Re;isDarkMode=!1;isSearchBarSticky=!1;wasFilterClicked=!1;isMessagesRoute=!1;currentRoute="";unreadCount=0;dropdownOpen=!1;dropdownClosing=!1;dialogService=q(ai);authService=q(dt);handleImgService=q(Nr);ngOnInit(){this.isDarkMode=document.body.classList.contains("dark"),this.checkIfMessagesRoute(),this.isLoggedIn=!!this.userId,window.Logging=()=>{this.isLoggedIn=!!this.userId}}ngAfterViewInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get unreadCountNotifications(){return Number(localStorage.getItem("unReadCount"))||0}get userId(){return this.authService.userId}get user(){let e=localStorage.getItem("user");if(!e)return"";let t=JSON.parse(e);return t?.firstName||t?.userName||""}get ifImg(){let e=localStorage.getItem("user");return e?JSON.parse(e)?.profilePictureURL??"":""}get img(){return this.handleImgService.handleImage(this.ifImg)}isLoggedIn=!1;switchMode(){this.router.navigate([this.currentRoute.includes("/host")?"/":"/host"])}checkIfMessagesRoute(){let e=this.router.url;this.isMessagesRoute=["/Messages","/WishLists","/wishlist","/profile","/update-profile","/your-reviews","/notifications"].some(t=>e.startsWith(t))}toggleTheme(){this.isDarkMode=!this.isDarkMode,this.theme.toggleTheme()}openLoginDialog(){this.dialogService.openDialog("login")}openRegisterDialog(){this.dialogService.openDialog("register")}logout(){this.userService.Logout().subscribe({next:e=>{this.isLoggedIn=!1,localStorage.removeItem("unReadCount"),this.router.navigate(["/"])},error:e=>{}})}onWindowScroll(){this.dropdownOpen&&this.closeDropdown(),this.wasFilterClicked||(this.isSearchBarSticky=window.scrollY>80)}onDocumentClick(e){let t=e.target,i=this.elementRef.nativeElement.querySelector(".dropdown");this.dropdownOpen&&i&&!i.contains(t)&&this.closeDropdown()}onWindowResize(e){this.closeDropdown()}toggleDropdown(){this.dropdownOpen=!this.dropdownOpen,this.dropdownClosing=!this.dropdownOpen}openDropdown(){this.dropdownOpen=!0,this.dropdownClosing=!1}closeDropdown(){this.dropdownClosing=!0,this.dropdownOpen=!1}onAnimationEnd(){this.dropdownClosing&&(this.dropdownClosing=!1)}static \u0275fac=function(t){return new(t||n)(V(Yo),V(sl),V(Yt),V(nt),V(cr),V(oo))};static \u0275cmp=le({type:n,selectors:[["app-menu-header"]],hostBindings:function(t,i){t&1&&T("scroll",function(){return i.onWindowScroll()},Vo)("click",function(o){return i.onDocumentClick(o)},ru)("resize",function(o){return i.onWindowResize(o)},Vo)},decls:39,vars:44,consts:[["dropdownMenu",""],[1,"d-flex","align-items-center","position-relative"],["class","switch-to-hosting-btn",3,"click",4,"ngIf"],[1,"dropdown",3,"ngClass"],["type","button","id","userMenuButton","aria-expanded","false",1,"user-menu-button",3,"click"],["viewBox","0 0 24 24","stroke-width","1.5",1,"icon-medium","icon-menu"],["d","M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"],["class","icon-user",3,"click",4,"ngIf"],[1,"dropdown-menu","dropdown-menu-end","user-menu-dropdown","animate__animated",3,"animationend","ngClass"],["class","d-lg-none",4,"ngIf"],[4,"ngIf"],[3,"ngStyle",4,"ngIf"],[1,"dropdown-item","d-flex","align-items-center","gap-2",2,"cursor","pointer",3,"click"],[1,"bi",3,"ngClass"],[1,"dropdown-item","d-flex","align-items-center","gap-2","dropdown-center",2,"padding","0px !important"],["type","button","data-bs-toggle","dropdown",1,"dropdown-toggle","dropdown-item","d-flex","align-items-center","gap-2","menu-dropdown"],[1,"bi","bi-globe"],[1,"dropdown-menu",2,"left","10px","background-color","var(--active)"],[1,"dropdown-item",3,"click"],[1,"switch-to-hosting-btn",3,"click"],[1,"icon-user",3,"click"],["href","#",3,"routerLink"],["alt","user-img","class","user-img","loading","lazy",3,"src","click",4,"ngIf"],[3,"ngStyle"],["alt","user-img","loading","lazy",1,"user-img",3,"click","src"],[1,"d-lg-none"],["routerLink","/hostsettings/availability",1,"dropdown-item","d-flex","align-items-center","gap-2"],[1,"bi","bi-calendar3"],["routerLink","/host",1,"dropdown-item","d-flex","align-items-center","gap-2"],[1,"bi","bi-house-door"],["routerLink","/hostsettings/Wallet",1,"dropdown-item","d-flex","align-items-center","gap-2"],[1,"bi","bi-wallet2"],["href","#","routerLink","/notifications",1,"dropdown-item","d-flex","align-items-center","gap-2"],[1,"position-relative"],[1,"bi","bi-bell"],["class","position-absolute badge rounded-pill span-bg-n",3,"ngStyle",4,"ngIf"],[1,"position-absolute","badge","rounded-pill","span-bg-n",3,"ngStyle"],[1,"visually-hidden"],["href","#",1,"dropdown-item","d-flex","align-items-center","gap-2",3,"routerLink"],[1,"bi","bi-person-fill"],["routerLink","/WishLists",1,"dropdown-item","d-flex","align-items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 32 32","aria-hidden","true","role","presentation","focusable","false",2,"display","block","fill","black","height","20px","width","20px","stroke","black","stroke-width","1","overflow","visible"],["d","M16 28c7-4.73 14-10 14-17a6.98 6.98 0 0 0-7-7c-1.8 0-3.58.68-4.95 2.05L16 8.1l-2.05-2.05a6.98 6.98 0 0 0-9.9 0A6.98 6.98 0 0 0 2 11c0 7 7 12.27 14 17z"],["href","Messages",1,"dropdown-item","d-flex","align-items-center","gap-2"],[1,"bi","bi-chat"],[1,"dropdown-divider"],["href","#",1,"dropdown-item","d-flex","align-items-center","gap-2",3,"click"],[1,"bi","bi-person-plus"],[1,"bi","bi-box-arrow-in-right"],[1,"bi","bi-box-arrow-right"]],template:function(t,i){if(t&1){let r=X();l(0,"div",1),j(1,gJ,4,5,"a",2),l(2,"div",3)(3,"button",4),T("click",function(){return z(r),A(i.toggleDropdown())}),$e(),l(4,"svg",5),k(5,"path",6),d(),j(6,_J,4,4,"div",7),d(),lt(),l(7,"ul",8,0),T("animationend",function(){return z(r),A(i.onAnimationEnd())}),j(9,yJ,5,3,"li",9)(10,xJ,5,3,"li",9)(11,CJ,5,3,"li",9)(12,wJ,7,4,"li",10)(13,SJ,5,5,"li",10)(14,PJ,7,3,"li",10)(15,OJ,7,4,"li",10)(16,DJ,2,3,"li",11),l(17,"li",12),T("click",function(){return z(r),A(i.toggleTheme())}),k(18,"i",13),m(19),Q(20,"translate"),Q(21,"translate"),d(),l(22,"li",14)(23,"div",15),k(24,"i",16),m(25),Q(26,"translate"),d(),l(27,"ul",17)(28,"li")(29,"button",18),T("click",function(){return z(r),A(i.lang.switchLang("en"))}),m(30),Q(31,"translate"),d()(),l(32,"li")(33,"button",18),T("click",function(){return z(r),A(i.lang.switchLang("ar"))}),m(34),Q(35,"translate"),d()()()(),j(36,EJ,5,3,"li",10)(37,IJ,5,3,"li",10)(38,TJ,5,3,"li",10),d()()()}t&2&&(p(),_("ngIf",i.isLoggedIn),p(),_("ngClass",nn(38,cJ,i.dropdownOpen)),p(4),_("ngIf",i.isLoggedIn),p(),xt("right",i.lang.currentLang==="en"?"0":"auto")("left",i.lang.currentLang==="ar"?"0":"auto"),_("ngClass",fu(40,dJ,i.dropdownOpen,i.dropdownClosing,i.dropdownOpen||i.dropdownClosing)),p(2),_("ngIf",i.currentRoute.includes("/host")),p(),_("ngIf",i.currentRoute.includes("/host")),p(),_("ngIf",i.currentRoute.includes("/host")),p(),_("ngIf",i.isLoggedIn),p(),_("ngIf",i.isLoggedIn),p(),_("ngIf",i.isLoggedIn),p(),_("ngIf",i.isLoggedIn),p(),_("ngIf",i.isLoggedIn),p(2),_("ngClass",i.isDarkMode?"bi-sun":"bi-moon"),p(),U(" ",i.isDarkMode?de(20,28,"HEADER.LIGHT_MODE"):de(21,30,"HEADER.DARK_MODE")," "),p(6),U(" ",de(26,32,"HEADER.LANGUAGE")," "),p(4),Me("active",i.lang.currentLang==="en"),p(),U(" ",de(31,34,"HEADER.ENGLISH")," "),p(3),Me("active",i.lang.currentLang==="ar"),p(),U(" ",de(35,36,"HEADER.ARABIC")," "),p(2),_("ngIf",!i.isLoggedIn),p(),_("ngIf",!i.isLoggedIn),p(),_("ngIf",i.isLoggedIn))},dependencies:[he,Bt,Ce,_o,Ni,Hi,wt,Xt],styles:[".airbnb-header[_ngcontent-%COMP%]{background:linear-gradient(to bottom,var(--bg-color),var(--head));border-bottom:1px solid var(--border-color);box-shadow:inset 0 1px 3px var(--shadow-color);position:fixed;top:0;left:0;width:100%;z-index:1030;padding-top:1rem;padding-bottom:1rem;transition:all .5s ease-in-out;-webkit-transition:all .5s ease-in-out;-moz-transition:all .5s ease-in-out;-ms-transition:all .5s ease-in-out;-o-transition:all .5s ease-in-out}.airbnb-logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--airbnb-red);height:32px;width:102px}.switch-to-hosting-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:9999px;font-size:.9rem;font-weight:600;color:var(--primary-text-color);transition:background-color .2s ease-in-out;cursor:pointer;text-decoration:none}.switch-to-hosting-btn[_ngcontent-%COMP%]:hover{background-color:var(--light-grey-bg)}.user-menu-button[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:9999px;padding:6px 10px;transition:box-shadow .2s ease-in-out;background-color:var(--bg-color);display:flex;align-items:center;gap:8px}.user-menu-button[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px var(--shadow-color)}.user-menu-button[_ngcontent-%COMP%]   .icon-menu[_ngcontent-%COMP%]{color:var(--secondary-text-color)}.user-menu-button[_ngcontent-%COMP%]   .icon-user[_ngcontent-%COMP%]{background-color:var(--primary-text-color);color:var(--bg-color);border-radius:50%;height:32px;width:32px;display:flex;align-items:center;justify-content:center}.icon-user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain;border-radius:50%}.user-menu-dropdown[_ngcontent-%COMP%]{margin-top:.5rem;transform:translate(0)!important;min-width:200px;max-width:calc(100vw - 16px);background-color:var(--active);min-height:100px!important}.menu-dropdown[_ngcontent-%COMP%]{background-color:var(--active);width:100%}.menu-dropdown[_ngcontent-%COMP%]:hover{background-color:transparent!important}.dropdown-item[_ngcontent-%COMP%]{color:var(--primary-text-color)}.dropdown-item[_ngcontent-%COMP%]:hover{color:#000}.dropdown-item[_ngcontent-%COMP%]:active{background-color:var(--airbnb-red)}.dropdown-item.active[_ngcontent-%COMP%]{background-color:var(--airbnb-red)!important;color:#f7f7f7}.search-bar-container[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:9999px;box-shadow:0 1px 2px var(--shadow-color);transition:all 5s ease-in-out;cursor:pointer;background-color:var(--bg-color);max-width:fit-content;width:100%}.span-bg-n[_ngcontent-%COMP%]{background-color:var(--airbnb-red);color:#fff;font-size:.7rem}@media (max-width: 991.98px){.top-nav-categories[_ngcontent-%COMP%], .search-bar-container[_ngcontent-%COMP%]{display:none!important}.airbnb-header[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.airbnb-header[_ngcontent-%COMP%]   .user-menu-button[_ngcontent-%COMP%]{margin-left:auto}.airbnb-header[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]{display:block;width:100%;border:1px solid var(--border-color);border-radius:9999px;padding:.5rem 1rem;box-shadow:0 1px 2px var(--shadow-color);font-size:.9rem;color:var(--primary-text-color);outline:none}.airbnb-header[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]::placeholder{color:var(--secondary-text-color)}}.icon-small[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2;fill:none;stroke:currentColor}.icon-medium[_ngcontent-%COMP%]{width:24px;height:24px;stroke-width:1.5;fill:none;stroke:currentColor}.airbnb-header.search-bar-sticky[_ngcontent-%COMP%]   .search-bar-container[_ngcontent-%COMP%]{margin-top:-55px;transform:scale(.9);transition:all .5s ease-in-out;z-index:999;height:fit-content!important;max-width:fit-content!important;flex-grow:0!important;-webkit-transform:scale(.9);-moz-transform:scale(.9);-ms-transform:scale(.9);-o-transform:scale(.9)}.airbnb-header[_ngcontent-%COMP%]   .search-bar-container[_ngcontent-%COMP%]{transform:scale(1);transition:all .5s ease-in-out;z-index:auto}.top-nav-categories[_ngcontent-%COMP%], .top-nav-wrapper[_ngcontent-%COMP%]{transition:all .5s ease}.airbnb-header.search-bar-sticky[_ngcontent-%COMP%]   .top-nav-categories[_ngcontent-%COMP%], .airbnb-header.search-bar-sticky[_ngcontent-%COMP%]   .top-nav-wrapper[_ngcontent-%COMP%]{opacity:0;margin-top:-11rem;pointer-events:none}.relative-header[_ngcontent-%COMP%]{position:relative!important}"]})};var LJ=(n,e)=>({"search-bar-sticky":n,"relative-header":e});function zJ(n,e){if(n&1&&(l(0,"div",8),k(1,"app-top-nav",9),d()),n&2){let t=C();p(),_("navItems",t.navItems)}}function AJ(n,e){n&1&&(l(0,"div",10)(1,"div",11),k(2,"app-search-filter-group"),d()())}var f8=class n{constructor(e,t,i){this.lang=e;this.theme=t;this.router=i}isDarkMode=!1;isSearchBarSticky=!1;wasFilterClicked=!1;dialogService=q(ai);authService=q(dt);isMessagesRoute=!1;onWindowScroll(){this.wasFilterClicked||(this.isSearchBarSticky=window.scrollY>80)}navItems=[{label:"HEADER.HOMES",route:"/",active:!0,imgSrc:"https://a0.muscache.com/im/pictures/airbnb-platform-assets/AirbnbPlatformAssets-search-bar-icons/original/4aae4ed7-5939-4e76-b100-e69440ebeae4.png?im_w=240",videoSources:[{src:"https://a0.muscache.com/videos/search-bar-icons/hevc/house-twirl-selected.mov",type:'video/mp4; codecs="hvc1"'},{src:"https://a0.muscache.com/videos/search-bar-icons/webm/house-twirl-selected.webm",type:"video/webm"}],poster:"https://a0.muscache.com/im/pictures/airbnb-platform-assets/AirbnbPlatformAssets-search-bar-icons/original/4aae4ed7-5939-4e76-b100-e69440ebeae4.png?im_w=240",isNew:!1},{label:"HEADER.EXPERIENCES",route:"/experiences",active:!1,imgSrc:"https://a0.muscache.com/im/pictures/airbnb-platform-assets/AirbnbPlatformAssets-search-bar-icons/original/e47ab655-027b-4679-b2e6-df1c99a5c33d.png?im_w=240",videoSources:[{src:"https://a0.muscache.com/videos/search-bar-icons/hevc/balloon-twirl.mov",type:'video/mp4; codecs="hvc1"'},{src:"https://a0.muscache.com/videos/search-bar-icons/webm/balloon-twirl.webm",type:"video/webm"}],poster:"https://a0.muscache.com/im/pictures/airbnb-platform-assets/AirbnbPlatformAssets-search-bar-icons/original/e47ab655-027b-4679-b2e6-df1c99a5c33d.png?im_w=240",isNew:!0},{label:"HEADER.SERVICES",route:"/services",active:!1,imgSrc:"https://a0.muscache.com/im/pictures/airbnb-platform-assets/AirbnbPlatformAssets-search-bar-icons/original/3d67e9a9-520a-49ee-b439-7b3a75ea814d.png?im_w=240",videoSources:[{src:"https://a0.muscache.com/videos/search-bar-icons/hevc/consierge-twirl.mov",type:'video/mp4; codecs="hvc1"'},{src:"https://a0.muscache.com/videos/search-bar-icons/webm/consierge-twirl.webm",type:"video/webm"}],poster:"https://a0.muscache.com/im/pictures/airbnb-platform-assets/AirbnbPlatformAssets-search-bar-icons/original/3d67e9a9-520a-49ee-b439-7b3a75ea814d.png?im_w=240",isNew:!0}];ngOnInit(){this.checkIfMessagesRoute()}ngAfterViewInit(){this.router.events.subscribe(()=>{this.checkIfMessagesRoute()})}checkIfMessagesRoute(){this.isMessagesRoute=this.router.url.startsWith("/Messages")||this.router.url.startsWith("/WishLists")||this.router.url.startsWith("/wishlist")||this.router.url.startsWith("/profile")||this.router.url.startsWith("/update-profile")||this.router.url.startsWith("/your-reviews")||this.router.url.startsWith("/notifications")}static \u0275fac=function(t){return new(t||n)(V(Yo),V(sl),V(nt))};static \u0275cmp=le({type:n,selectors:[["app-header"]],hostBindings:function(t,i){t&1&&T("scroll",function(){return i.onWindowScroll()},Vo)},decls:9,vars:6,consts:[[1,"airbnb-header",3,"ngClass"],[1,"navbar","navbar-expand-lg"],[1,"container-fluid","d-flex","align-items-center","justify-content-between","px-4","position-relative"],["routerLink","/",1,"navbar-brand","airbnb-logo",2,"margin-right","3.5rem !important"],["width","102","height","32","viewBox","0 0 3490 1080",2,"display","block"],["d","M1494.71 456.953C1458.28 412.178 1408.46 389.892 1349.68 389.892C1233.51 389.892 1146.18 481.906 1146.18 605.892C1146.18 729.877 1233.51 821.892 1349.68 821.892C1408.46 821.892 1458.28 799.605 1494.71 754.83L1500.95 810.195H1589.84V401.588H1500.95L1494.71 456.953ZM1369.18 736.895C1295.33 736.895 1242.08 683.41 1242.08 605.892C1242.08 528.373 1295.33 474.888 1369.18 474.888C1443.02 474.888 1495.49 529.153 1495.49 605.892C1495.49 682.63 1443.8 736.895 1369.18 736.895ZM1656.11 810.195H1750.46V401.588H1656.11V810.195ZM948.912 666.715C875.618 506.859 795.308 344.664 713.438 184.809C698.623 155.177 670.554 98.2527 645.603 67.8412C609.736 24.1733 556.715 0.779785 502.915 0.779785C449.115 0.779785 396.094 24.1733 360.227 67.8412C335.277 98.2527 307.207 155.177 292.392 184.809C210.522 344.664 130.212 506.859 56.9187 666.715C47.5621 687.769 24.9504 737.675 16.3736 760.289C6.2373 787.581 0.779297 817.213 0.779297 846.845C0.779297 975.509 101.362 1079.22 235.473 1079.22C346.193 1079.22 434.3 1008.26 502.915 934.18C571.53 1008.26 659.638 1079.22 770.357 1079.22C904.468 1079.22 1005.83 975.509 1005.83 846.845C1005.83 817.213 999.593 787.581 989.457 760.289C980.88 737.675 958.268 687.769 948.912 666.715ZM502.915 810.195C447.555 738.455 396.094 649.56 396.094 577.819C396.094 506.079 446.776 470.209 502.915 470.209C559.055 470.209 610.516 508.419 610.516 577.819C610.516 647.22 558.275 738.455 502.915 810.195ZM770.357 998.902C688.362 998.902 618.032 941.557 555.741 872.656C619.966 792.541 690.826 679.121 690.826 577.819C690.826 458.513 598.04 389.892 502.915 389.892C407.79 389.892 315.784 458.513 315.784 577.819C315.784 679.098 386.145 792.478 450.144 872.593C387.845 941.526 317.491 998.902 235.473 998.902C146.586 998.902 81.0898 931.061 81.0898 846.845C81.0898 826.57 84.2087 807.856 91.2261 788.361C98.2436 770.426 120.855 720.52 130.212 701.025C203.505 541.17 282.256 380.534 364.126 220.679C378.941 191.047 403.891 141.921 422.605 119.307C442.877 94.3538 470.947 81.0975 502.915 81.0975C534.883 81.0975 562.953 94.3538 583.226 119.307C601.939 141.921 626.89 191.047 641.704 220.679C723.574 380.534 802.325 541.17 875.618 701.025C884.975 720.52 907.587 770.426 914.604 788.361C921.622 807.856 925.52 826.57 925.52 846.845C925.52 931.061 859.244 998.902 770.357 998.902ZM3285.71 389.892C3226.91 389.892 3175.97 413.098 3139.91 456.953V226.917H3045.56V810.195H3134.45L3140.69 754.83C3177.12 799.605 3226.94 821.892 3285.71 821.892C3401.89 821.892 3489.22 729.877 3489.22 605.892C3489.22 481.906 3401.89 389.892 3285.71 389.892ZM3266.22 736.895C3191.6 736.895 3139.91 682.63 3139.91 605.892C3139.91 529.153 3191.6 474.888 3266.22 474.888C3340.85 474.888 3393.32 528.373 3393.32 605.892C3393.32 683.41 3340.07 736.895 3266.22 736.895ZM2827.24 389.892C2766.15 389.892 2723.56 418.182 2699.37 456.953L2693.13 401.588H2604.24V810.195H2698.59V573.921C2698.59 516.217 2741.47 474.888 2800.73 474.888C2856.87 474.888 2888.84 513.097 2888.84 578.599V810.195H2983.19V566.903C2983.19 457.733 2923.15 389.892 2827.24 389.892ZM1911.86 460.072L1905.62 401.588H1816.73V810.195H1911.08V604.332C1911.08 532.592 1954.74 486.585 2027.26 486.585C2042.85 486.585 2058.44 488.144 2070.92 492.043V401.588C2059.22 396.91 2044.41 395.35 2028.04 395.35C1978.58 395.35 1936.66 421.177 1911.86 460.072ZM2353.96 389.892C2295.15 389.892 2244.21 413.098 2208.15 456.953V226.917H2113.8V810.195H2202.69L2208.93 754.83C2245.36 799.605 2295.18 821.892 2353.96 821.892C2470.13 821.892 2557.46 729.877 2557.46 605.892C2557.46 481.906 2470.13 389.892 2353.96 389.892ZM2334.46 736.895C2259.84 736.895 2208.15 682.63 2208.15 605.892C2208.15 529.153 2259.84 474.888 2334.46 474.888C2409.09 474.888 2461.56 528.373 2461.56 605.892C2461.56 683.41 2408.31 736.895 2334.46 736.895ZM1703.28 226.917C1669.48 226.917 1642.08 254.326 1642.08 288.13C1642.08 321.934 1669.48 349.343 1703.28 349.343C1737.09 349.343 1764.49 321.934 1764.49 288.13C1764.49 254.326 1737.09 226.917 1703.28 226.917Z","fill","currentcolor"],["class","d-flex align-items-center justify-content-center flex-column ms-5",4,"ngIf"],["class","container-fluid d-flex justify-content-center",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center","flex-column","ms-5"],[1,"top-nav-wrapper",3,"navItems"],[1,"container-fluid","d-flex","justify-content-center"],[1,"search-bar-container","d-flex","align-items-center","justify-content-center"]],template:function(t,i){t&1&&(l(0,"header",0)(1,"nav",1)(2,"div",2)(3,"a",3),$e(),l(4,"svg",4),k(5,"path",5),d()(),j(6,zJ,2,1,"div",6),lt(),k(7,"app-menu-header"),d()(),j(8,AJ,3,0,"div",7),d()),t&2&&(_("ngClass",wi(3,LJ,i.isSearchBarSticky,i.isMessagesRoute)),p(6),_("ngIf",!i.isMessagesRoute),p(2),_("ngIf",!i.isMessagesRoute))},dependencies:[he,Bt,Ce,Ni,Hi,qo,Mt,wt,o8,d8,x4],styles:[".airbnb-header[_ngcontent-%COMP%]{background:linear-gradient(to bottom,var(--bg-color),var(--head));border-bottom:1px solid var(--border-color);box-shadow:inset 0 1px 3px var(--shadow-color);position:fixed;top:0;left:0;width:100%;z-index:1030;padding-top:1rem;padding-bottom:1rem;transition:all .5s ease-in-out;-webkit-transition:all .5s ease-in-out;-moz-transition:all .5s ease-in-out;-ms-transition:all .5s ease-in-out;-o-transition:all .5s ease-in-out}.airbnb-logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--airbnb-red);height:32px;width:102px}.switch-to-hosting-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:9999px;font-size:.9rem;font-weight:600;color:var(--primary-text-color);transition:background-color .2s ease-in-out;cursor:pointer;text-decoration:none}.switch-to-hosting-btn[_ngcontent-%COMP%]:hover{background-color:var(--light-grey-bg)}.user-menu-button[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:9999px;padding:6px 10px;transition:box-shadow .2s ease-in-out;background-color:var(--bg-color);display:flex;align-items:center;gap:8px}.user-menu-button[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px var(--shadow-color)}.user-menu-button[_ngcontent-%COMP%]   .icon-menu[_ngcontent-%COMP%]{color:var(--secondary-text-color)}.user-menu-button[_ngcontent-%COMP%]   .icon-user[_ngcontent-%COMP%]{background-color:var(--primary-text-color);color:var(--bg-color);border-radius:50%;height:32px;width:32px;display:flex;align-items:center;justify-content:center}.icon-user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain;border-radius:50%}.user-menu-dropdown[_ngcontent-%COMP%]{margin-top:.5rem;transform:translate(0)!important;min-width:200px;max-width:calc(100vw - 16px);background-color:var(--active);min-height:100px!important}.menu-dropdown[_ngcontent-%COMP%]{background-color:var(--active);width:100%}.menu-dropdown[_ngcontent-%COMP%]:hover{background-color:transparent!important}.dropdown-item[_ngcontent-%COMP%]{color:var(--primary-text-color)}.dropdown-item[_ngcontent-%COMP%]:hover{color:#000}.dropdown-item[_ngcontent-%COMP%]:active{background-color:var(--airbnb-red)}.dropdown-item.active[_ngcontent-%COMP%]{background-color:var(--airbnb-red)!important;color:#f7f7f7}.search-bar-container[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:9999px;box-shadow:0 1px 2px var(--shadow-color);transition:all 5s ease-in-out;cursor:pointer;background-color:var(--bg-color);max-width:fit-content;width:100%}.span-bg-n[_ngcontent-%COMP%]{background-color:var(--airbnb-red);color:#fff;font-size:.7rem}@media (max-width: 991.98px){.top-nav-categories[_ngcontent-%COMP%], .search-bar-container[_ngcontent-%COMP%]{display:none!important}.airbnb-header[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.airbnb-header[_ngcontent-%COMP%]   .user-menu-button[_ngcontent-%COMP%]{margin-left:auto}.airbnb-header[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]{display:block;width:100%;border:1px solid var(--border-color);border-radius:9999px;padding:.5rem 1rem;box-shadow:0 1px 2px var(--shadow-color);font-size:.9rem;color:var(--primary-text-color);outline:none}.airbnb-header[_ngcontent-%COMP%]   .search-input-mobile[_ngcontent-%COMP%]::placeholder{color:var(--secondary-text-color)}}.icon-small[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2;fill:none;stroke:currentColor}.icon-medium[_ngcontent-%COMP%]{width:24px;height:24px;stroke-width:1.5;fill:none;stroke:currentColor}.airbnb-header.search-bar-sticky[_ngcontent-%COMP%]   .search-bar-container[_ngcontent-%COMP%]{margin-top:-55px;transform:scale(.9);transition:all .5s ease-in-out;z-index:999;height:fit-content!important;max-width:fit-content!important;flex-grow:0!important;-webkit-transform:scale(.9);-moz-transform:scale(.9);-ms-transform:scale(.9);-o-transform:scale(.9)}.airbnb-header[_ngcontent-%COMP%]   .search-bar-container[_ngcontent-%COMP%]{transform:scale(1);transition:all .5s ease-in-out;z-index:auto}.top-nav-categories[_ngcontent-%COMP%], .top-nav-wrapper[_ngcontent-%COMP%]{transition:all .5s ease}.airbnb-header.search-bar-sticky[_ngcontent-%COMP%]   .top-nav-categories[_ngcontent-%COMP%], .airbnb-header.search-bar-sticky[_ngcontent-%COMP%]   .top-nav-wrapper[_ngcontent-%COMP%]{opacity:0;margin-top:-11rem;pointer-events:none}.relative-header[_ngcontent-%COMP%]{position:relative!important}"]})};function NJ(n,e){if(n&1&&(l(0,"div",25)(1,"p",26),m(2),d(),l(3,"p",27),m(4),d()()),n&2){let t=e.$implicit;p(2),$(t.style),p(2),$(t.location)}}function RJ(n,e){if(n&1&&(l(0,"div",28)(1,"p",29),m(2),d()()),n&2){let t=e.$implicit;p(2),$(t)}}function FJ(n,e){if(n&1&&(l(0,"div",25)(1,"p",26),m(2),d(),l(3,"p",27),m(4),d()()),n&2){let t=e.$implicit;p(2),$(t.tip),p(2),$(t.note)}}function VJ(n,e){if(n&1&&(l(0,"div",28)(1,"p",29),m(2),d(),l(3,"p",27),m(4),d()()),n&2){let t=e.$implicit;p(2),$(t.city),p(2),$(t.state)}}function BJ(n,e){if(n&1&&(l(0,"li",30)(1,"a",31),m(2),d()()),n&2){let t=e.$implicit;p(2),$(t)}}function jJ(n,e){if(n&1&&(l(0,"li",30)(1,"a",32),m(2),d()()),n&2){let t=e.$implicit;p(2),$(t)}}function HJ(n,e){if(n&1&&(l(0,"li",30)(1,"a",32),m(2),d()()),n&2){let t=e.$implicit;p(2),$(t)}}var m8=class n{activeTab="categories";selectTab(e){this.activeTab=e}categories=["Amazing pools","Arctic","Camping","Campers","Castles","Containers","Countryside","Design","Earth homes","Farms","National parks","OMG!","Tiny homes","Towers","Windmills","Vineyards","Luxe"];unique=[{style:"Cabins",location:"United States"},{style:"Treehouses",location:"United States"},{style:"Tiny Houses",location:"United States"},{style:"Beach Houses",location:"United States"},{style:"Lakehouses",location:"United States"},{style:"Yurt Rentals",location:"United States"},{style:"Yurt Rentals",location:"United Kingdom"},{style:"Castle Rentals",location:"United States"},{style:"Houseboats",location:"United States"},{style:"Holiday Caravans",location:"United Kingdom"},{style:"Private Island Rentals",location:"United States"},{style:"Farm Houses",location:"United States"},{style:"Farm Cottages",location:"United Kingdom"},{style:"Cabin Rentals",location:"Australia"},{style:"Luxury Cabins",location:"United Kingdom"},{style:"Luxury Cabins",location:"United States"},{style:"Holiday Chalets",location:"United Kingdom"},{style:"Cottage Rentals",location:"United States"},{style:"Holiday Cottages",location:"United Kingdom"},{style:"Mansion Rentals",location:"United States"},{style:"Villa Rentals",location:"United Kingdom"},{style:"Holiday Bungalows",location:"United Kingdom"},{style:"Bungalow Rentals",location:"United States"},{style:"Condo Rentals",location:"United States"},{style:"Holiday Apartments",location:"Australia"},{style:"Holiday Houses",location:"United States"},{style:"Holiday Houses",location:"United Kingdom"},{style:"Private Holiday Rentals",location:"United Kingdom"},{style:"Big House Rentals",location:"United States"},{style:"Big Cottages",location:"Australia"},{style:"Large Villas",location:"United Kingdom"},{style:"House Rentals with a Pool",location:"United States"},{style:"Cabin Rentals with a Pool",location:"United States"},{style:"Villas with a Pool",location:"United Kingdom"},{style:"Apartments with a Hot Tub",location:"United States"},{style:"Holiday Cottages with a Hot Tub",location:"United Kingdom"},{style:"Beach Cabins",location:"United States"},{style:"Beach Condos",location:"United States"},{style:"Beachfront Rentals",location:"United States"},{style:"Beach Houses",location:"United Kingdom"},{style:"Beach Villas",location:"United Kingdom"},{style:"Coastal Cottages",location:"United Kingdom"},{style:"Pet-Friendly Vacation Rentals",location:"United States"},{style:"Pet-Friendly Beach Rentals",location:"United States"},{style:"Pet-Friendly Cabin Rentals",location:"United States"},{style:"Dog-Friendly Cottages",location:"United Kingdom"},{style:"Luxury Dog-Friendly Cottages",location:"United Kingdom"}];tips=[{tip:"Family travel hub",note:"Tips and inspiration"},{tip:"Family budget travel",note:"Get there for less"},{tip:"Vacation ideas for any budget",note:"Make it special without making it spendy"},{tip:"Travel Europe on a budget",note:"How to take the kids to Europe for less"},{tip:"Outdoor adventure",note:"Explore nature with the family"},{tip:"Bucket list national parks",note:"Must-see parks for family travel"},{tip:"Kid-friendly state parks",note:"Check out these family-friendly hikes"}];apartments=[{city:"Atlanta Metro",state:"Georgia"},{city:"Augusta",state:"Georgia"},{city:"Austin Metro",state:"Texas"},{city:"Baton Rouge",state:"Louisiana"},{city:"Birmingham",state:"Alabama"},{city:"Boise",state:"Idaho"},{city:"Boston Metro",state:"Massachusetts"},{city:"Boulder",state:"Colorado"},{city:"Charlotte",state:"North Carolina"},{city:"Chicago Metro",state:"Illinois"},{city:"Cincinnati",state:"Ohio"},{city:"Columbus",state:"Ohio"},{city:"Crestview",state:"Florida"},{city:"Dallas",state:"Texas"},{city:"Denver",state:"Colorado"},{city:"Fayetteville",state:"North Carolina"},{city:"Fort Myers",state:"Florida"},{city:"Fort Worth",state:"Texas"},{city:"Frankfort",state:"Kentucky"},{city:"Fresno",state:"California"},{city:"Greeley",state:"Colorado"},{city:"Greenville-Greer",state:"South Carolina"},{city:"Hartford",state:"Connecticut"},{city:"Hoboken",state:"New Jersey"},{city:"Houston Metro",state:"Texas"},{city:"Indianapolis",state:"Indiana"},{city:"Jacksonville",state:"Florida"},{city:"Lacey",state:"Washington"},{city:"Lexington Park",state:"Maryland"},{city:"Los Angeles",state:"California"},{city:"Loveland",state:"Colorado"},{city:"Madison",state:"Alabama"},{city:"Memphis",state:"Tennessee"},{city:"Miami",state:"Florida"},{city:"Minneapolis",state:"Minnesota"},{city:"Myrtle Beach",state:"South Carolina"},{city:"Narragansett",state:"Rhode Island"},{city:"Nashville Metro",state:"Tennessee"},{city:"Orange County",state:"California"},{city:"Marin County",state:"California"},{city:"Norfolk",state:"Virginia"},{city:"East Bay",state:"California"},{city:"Oklahoma City",state:"Oklahoma"},{city:"Orlando Metro",state:"Florida"},{city:"Panama City",state:"Florida"},{city:"Petaluma",state:"California"},{city:"Philadelphia Metro",state:"Pennsylvania"},{city:"Phoenix",state:"Arizona"},{city:"Pittsburgh",state:"Pennsylvania"},{city:"Port Arthur",state:"Texas"},{city:"Portland, ME",state:"Maine"},{city:"Portland",state:"Oregon"},{city:"Prescott Valley",state:"Arizona"},{city:"Raleigh",state:"North Carolina"},{city:"Riverside",state:"California"},{city:"Sacramento",state:"California"},{city:"Salt Lake City",state:"Utah"},{city:"San Antonio",state:"Texas"},{city:"San Diego",state:"California"},{city:"San Francisco",state:"California"},{city:"San Jose",state:"California"},{city:"Santa Rosa Beach",state:"Florida"},{city:"Sarasota",state:"Florida"},{city:"Savannah",state:"Georgia"},{city:"Seattle Metro",state:"Washington"},{city:"San Francisco Peninsula",state:"California"},{city:"Spokane",state:"Washington"},{city:"St. Augustine",state:"Florida"},{city:"Stamford",state:"Connecticut"},{city:"Tampa Bay",state:"Florida"},{city:"Ventura County",state:"California"},{city:"Baltimore County",state:"Maryland"},{city:"Tulsa",state:"Oklahoma"},{city:"Washington Metro",state:"District of Columbia"},{city:"West Palm Beach",state:"Florida"},{city:"Wildwood",state:"Florida"},{city:"Wilmington, NC",state:"North Carolina"}];supportLinks=["Help Center","AirCover","Anti-discrimination","Disability support","Cancellation options","Report neighborhood concern"];hostingLinks=["Airbnb your home","Airbnb your experience","Airbnb your service","AirCover for Hosts","Hosting resources","Community forum","Hosting responsibly","Airbnb-friendly apartments","Join a free Hosting class"];airbnbLinks=["2025 Summer Release","Newsroom","Careers","Investors","Gift cards","Airbnb.org emergency stays"];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=le({type:n,selectors:[["app-footer"]],decls:72,vars:19,consts:[[1,"footer-container","d-flex","flex-column","justify-content-center","col-12","mx-auto","p-5"],[1,"col-12","col-md-11","align-self-center"],["role","tablist",1,"nav","nav-tabs","mb-4"],["role","presentation",1,"nav-item"],[1,"nav-link",3,"click"],[1,"row","text-dark","mb-5",3,"hidden"],["class","col-6 col-md-3 d-flex flex-column",4,"ngFor","ngForOf"],["class","col-6 col-md-3",4,"ngFor","ngForOf"],[1,"row","col-12","col-md-11","align-self-center","border-top","pt-4"],[1,"col-md-4","mb-3"],[1,"list-unstyled"],["class","mb-2",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between"],[1,"mb-2","mb-md-0"],[1,"mx-1"],["href","#",1,"primary-text","text-decoration-none"],[1,"ms-1"],["src","../../../assets/images/leave a review.webp","loading","lazy","alt","Privacy Icon",2,"height","16px"],[1,"d-flex","align-items-center","gap-3"],["href","#",1,"secondary-text","text-decoration-none","d-flex","align-items-center","gap-1"],[1,"bi","bi-globe2"],["href","#",1,"secondary-text","text-decoration-none"],[1,"bi","bi-facebook"],[1,"bi","bi-twitter-x"],[1,"bi","bi-instagram"],[1,"col-6","col-md-3","d-flex","flex-column"],[1,"primary-text","bold","text-bold"],[1,"secondary-text"],[1,"col-6","col-md-3"],[1,"primary-text"],[1,"mb-2"],["href","#",1,"text-decoration-none","secondary-text","mb-2"],["href","#",1,"text-decoration-none","secondary-text"]],template:function(t,i){t&1&&(l(0,"footer",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"button",4),T("click",function(){return i.selectTab("unique")}),m(5," Unique stays "),d()(),l(6,"li",3)(7,"button",4),T("click",function(){return i.selectTab("categories")}),m(8," Categories "),d()(),l(9,"li",3)(10,"button",4),T("click",function(){return i.selectTab("tips")}),m(11," Travel tips & inspiration "),d()(),l(12,"li",3)(13,"button",4),T("click",function(){return i.selectTab("apartments")}),m(14," Airbnb-friendly apartments "),d()()(),l(15,"div",5),j(16,NJ,5,2,"div",6),d(),l(17,"div",5),j(18,RJ,3,1,"div",7),d(),l(19,"div",5),j(20,FJ,5,2,"div",6),d(),l(21,"div",5),j(22,VJ,5,2,"div",7),d()(),l(23,"div",8)(24,"div",9)(25,"strong"),m(26,"Support"),d(),l(27,"ul",10),j(28,BJ,3,1,"li",11),d()(),l(29,"div",9)(30,"strong"),m(31,"Hosting"),d(),l(32,"ul",10),j(33,jJ,3,1,"li",11),d()(),l(34,"div",9)(35,"strong"),m(36,"Airbnb"),d(),l(37,"ul",10),j(38,HJ,3,1,"li",11),d()()(),l(39,"div",12)(40,"div",13),m(41," \xA9 2025 Airbnb, Inc. "),l(42,"span",14),m(43,"\xB7"),d(),l(44,"a",15),m(45,"Terms"),d(),l(46,"span",14),m(47,"\xB7"),d(),l(48,"a",15),m(49,"Sitemap"),d(),l(50,"span",14),m(51,"\xB7"),d(),l(52,"a",15),m(53,"Privacy"),d(),l(54,"span",14),m(55,"\xB7"),d(),l(56,"a",15),m(57,"Your Privacy Choices"),d(),l(58,"span",16),k(59,"img",17),d()(),l(60,"div",18)(61,"a",19),k(62,"i",20),m(63," English (US) "),d(),l(64,"span"),m(65,"EGP"),d(),l(66,"a",21),k(67,"i",22),d(),l(68,"a",21),k(69,"i",23),d(),l(70,"a",21),k(71,"i",24),d()()()()),t&2&&(p(4),Me("active",i.activeTab==="unique"),p(3),Me("active",i.activeTab==="categories"),p(3),Me("active",i.activeTab==="tips"),p(3),Me("active",i.activeTab==="apartments"),p(2),_("hidden",i.activeTab!=="unique"),p(),_("ngForOf",i.unique),p(),_("hidden",i.activeTab!=="categories"),p(),_("ngForOf",i.categories),p(),_("hidden",i.activeTab!=="tips"),p(),_("ngForOf",i.tips),p(),_("hidden",i.activeTab!=="apartments"),p(),_("ngForOf",i.apartments),p(6),_("ngForOf",i.supportLinks),p(5),_("ngForOf",i.hostingLinks),p(5),_("ngForOf",i.airbnbLinks))},dependencies:[he,Xe],styles:["footer[_ngcontent-%COMP%], footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{transition:background-color var(--primary-bg-transition-time) ease-in-out}.footer-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{cursor:pointer}.nav-item[_ngcontent-%COMP%], .nav-link[_ngcontent-%COMP%]{background-color:var(--bg-color)!important;color:var(--primary-text-color)!important}footer[_ngcontent-%COMP%]{background-color:var(--bg-color)!important;color:var(--primary-text-color)!important}.primary-text[_ngcontent-%COMP%]{color:var(--primary-text-color)}.secondary-text[_ngcontent-%COMP%]{color:var(--secondary-text-color)}"]})};var UJ=n=>({noscroll:n}),$J=(n,e)=>({mt:n,nomt:e});function WJ(n,e){n&1&&(l(0,"div"),k(1,"app-footer"),d())}var h8=class n{constructor(e){this.router=e}isMessagesRoute=!1;isSecondRoute=!1;ngOnInit(){this.checkIfMessagesRoute(),this.checkIfSecondRoute()}checkIfMessagesRoute(){this.isMessagesRoute=this.router.url.startsWith("/Messages")}checkIfSecondRoute(){this.isSecondRoute=this.router.url.startsWith("/WishLists")||this.router.url.startsWith("/wishlist")||this.router.url.startsWith("/profile")||this.router.url.startsWith("/update-profile")||this.router.url.startsWith("/your-reviews")||this.router.url.startsWith("/notifications")}ngAfterViewInit(){this.router.events.subscribe(()=>{this.checkIfMessagesRoute(),this.checkIfSecondRoute()})}static \u0275fac=function(t){return new(t||n)(V(nt))};static \u0275cmp=le({type:n,selectors:[["app-main-layout"]],decls:5,vars:8,consts:[[3,"ngClass"],[1,"bg",3,"ngClass"],[4,"ngIf"]],template:function(t,i){t&1&&(l(0,"div",0),k(1,"app-header"),l(2,"main",1),k(3,"router-outlet"),d(),j(4,WJ,2,0,"div",2),d()),t&2&&(_("ngClass",nn(3,UJ,i.isMessagesRoute)),p(2),_("ngClass",wi(5,$J,!(i.isMessagesRoute||i.isSecondRoute),i.isSecondRoute)),p(2),_("ngIf",!i.isMessagesRoute))},dependencies:[f8,m8,ms,he,Bt,Ce],styles:[".mt[_ngcontent-%COMP%]{margin-top:12rem!important}.noscroll[_ngcontent-%COMP%]{overflow:hidden;inset:0}@media (min-width: 1023px){.noscroll[_ngcontent-%COMP%]{max-height:100vh!important;position:fixed!important}}.nomt[_ngcontent-%COMP%]{margin-top:0rem!important}"]})};var Mn=class n{formData={};property={};imageFiles=[];constructor(){this.loadFromLocalStorage()}saveFormData(e,t){console.log(`\u{1F4BE} Saving data for step: ${e}`,t),e==="step2-3"&&t.imageFiles&&this.setImageFiles(t.imageFiles);let i=ie({},t);delete i.imageFiles,this.formData[e]=i,this.updateProperty(e,t),this.saveToLocalStorage(),console.log("\u{1F4CA} Current form data after save:",this.formData)}getStepData(e){let t=ie({},this.formData[e]);return e==="step2-3"&&(t.imageFiles=this.getImageFiles()),console.log(`\u{1F4D6} Getting data for step: ${e}`,t),t}getFormData(){return console.log("\u{1F4CB} Getting all form data:",this.formData),this.formData}debugFormData(){console.log("=== FORM DATA DEBUG ==="),console.log("All steps:",Object.keys(this.formData)),Object.keys(this.formData).forEach(e=>{console.log(`Step ${e}:`,this.getStepData(e))})}updateProperty(e,t){switch(e){case"step1-4-1":this.property.location={latitude:t.latitude,longitude:t.longitude},this.property.address=t.address;break;case"step2-3":t.imageFiles&&console.log("\u{1F5BC}\uFE0F Updating property with images:",t.imageFiles.length);break}}saveToLocalStorage(){try{let e={};for(let t in this.formData)if(t==="step2-3"){let{images:i,coverIndex:r}=this.formData[t];e[t]={images:i,coverIndex:r}}else e[t]=this.formData[t];localStorage.setItem("property_form_data",JSON.stringify(e)),console.log("\u{1F4BE} Data saved to localStorage")}catch(e){console.error("\u274C Failed to save to localStorage:",e)}}loadFromLocalStorage(){try{let e=localStorage.getItem("property_form_data");e&&(this.formData=JSON.parse(e),this.formData["step2-3"]?.images&&console.warn("\u26A0\uFE0F imageFiles not restorable from localStorage. Must re-select."),console.log("\u{1F4C2} Data loaded from localStorage:",this.formData))}catch(e){console.error("\u274C Failed to load from localStorage:",e),this.formData={}}}getPropertyData(){return this.property}clearFormData(){console.log("\u{1F5D1}\uFE0F Clearing form data"),this.formData={},this.property={},this.imageFiles=[],localStorage.removeItem("property_form_data")}setImageFiles(e){this.imageFiles=e}getImageFiles(){return this.imageFiles}static \u0275fac=function(t){return new(t||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var Bn=class n{nextStepSubject=new Re;nextStep$=this.nextStepSubject.asObservable();stepValidationState=new Sn({});stepValidation$=this.stepValidationState.asObservable();triggerNextStep(){this.nextStepSubject.next()}updateStepValidation(e,t){let i=this.stepValidationState.value;this.stepValidationState.next(Ve(ie({},i),{[e]:t}))}getStepValidation(e){return this.stepValidationState.value[e]||!1}static \u0275fac=function(t){return new(t||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var o0=(i=>(i[i.pending=1]="pending",i[i.accepted=2]="accepted",i[i.rejected=3]="rejected",i))(o0||{});var C4=class n{constructor(e){this.http=e}baseUrl=`${Ke.base}/api/Amenity`;getAllAmenities(){return this.http.get(`${this.baseUrl}/all`).pipe(Ne(e=>{if(!e.isSuccess)throw new Error(e.message);return e.data}))}getAmenitiesByPropertyId(e){return this.http.get(`${this.baseUrl}/property/${e}/amenities`).pipe(Ne(t=>{if(!t.isSuccess)throw new Error(t.message);return t.data}))}togglePropertyAmenity(e,t){return this.http.post(`${this.baseUrl}/assign/${e}/porperty/${t}`,{}).pipe(Ne(i=>{if(!i.isSuccess)throw new Error(i.message);return i.data}))}assignAmenitiesToProperty(e,t){return new It(i=>{let r=t.map(c=>this.togglePropertyAmenity(c,e)),o=0,a=()=>{if(o>=r.length){i.complete();return}r[o].subscribe({next:()=>{o++,a()},error:c=>{i.error(c)}})};a()})}static \u0275fac=function(t){return new(t||n)(De(Ct))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var g8=class n{constructor(e,t,i,r,o,a){this.http=e;this.formStorage=t;this.authService=i;this.userService=r;this.amenityService=o;this.router=a}baseUrl=`${Ke.base}/api/Property`;createProperty(e){return this.ensureHostRole().pipe(ii(()=>{let t=this.authService.userId||"",i=Ve(ie({},e),{hostId:t});return this.http.post(this.baseUrl,i).pipe(ii(r=>{if(!r.isSuccess)throw new Error(r.message);let o=r.data,a=this.formStorage.getFormData();console.log("=== ALL FORM DATA ==="),console.log(a);let c=a["step2-3"];if(console.log("=== STEP 2-3 DATA ==="),console.log(c),!c)return console.warn("No step2-3 data found in form storage"),qe(o);let u=this.formStorage.getImageFiles(),h=c.coverIndex||0;return console.log("Image files found:",u.length),console.log("Cover index:",h),u.forEach((v,y)=>{console.log(`File ${y}:`,{name:v.name,size:v.size,type:v.type,lastModified:v.lastModified})}),u.length?(console.log(`Proceeding to upload ${u.length} images...`),this.uploadPropertyImages(o.id,t,u,"property_images",h).pipe(ii(v=>{console.log("Upload response:",v),v.success?console.log("Images uploaded successfully!"):console.error("Upload failed:",v.message);let y=a["step2-2"];console.log("Step2-2Data",y);let P=y?.selectedAmenityIds||[];return P.length>0?(console.log("Uploading Selected Amenities ",P.length),this.amenityService.assignAmenitiesToProperty(o.id,P).pipe(Ne(()=>(console.log("Amenities assigned successfully!"),this.formStorage.clearFormData(),this.router.navigateByUrl("/host"),o)),In(S=>(console.error("Failed to assign amenities:",S),this.formStorage.clearFormData(),this.router.navigateByUrl("/host"),qe(o)))).subscribe(),qe(o)):(console.log("no selected Amenities"),this.formStorage.clearFormData(),this.router.navigateByUrl("/host"),qe(o))}),In(v=>(console.error("Image upload failed:",v),gr(()=>new Error("Failed to upload images: "+v.message)))))):(console.warn("No image files found for upload"),qe(o))}),In(r=>(console.error("Property creation failed:",r),gr(()=>new Error("Failed to create property: "+r.message)))))}))}uploadPropertyImages(e,t,i,r="property_images",o=0){console.log("=== STARTING IMAGE UPLOAD ==="),console.log("Property ID:",e),console.log("Host ID:",t),console.log("Group Name:",r),console.log("Cover Index:",o),console.log("Files count:",i.length);let a=new FormData;a.append("PropertyId",e.toString()),a.append("HostId",t),a.append("GroupName",r),a.append("CoverIndex",o.toString()),i.forEach((u,h)=>{if(console.log(`Adding file ${h+1}/${i.length}:`,{name:u.name,size:`${(u.size/1024/1024).toFixed(2)} MB`,type:u.type}),!(u instanceof File)){console.error(`\u274C File at index ${h} is not a real File object:`,u);return}a.append("Files",u,u.name)});let c=`${this.baseUrl}/property-images/upload`;console.log("Upload URL:",c),console.log("=== FORM DATA CONTENTS ===");for(let u of a.entries())console.log(u[0]+":",u[1]);return this.http.post(c,a).pipe(Pn(u=>{console.log("=== UPLOAD RESPONSE ==="),console.log("Success:",u.success),console.log("Message:",u.message),console.log("Image URLs:",u.imageUrls)}),In(u=>{console.error("=== UPLOAD ERROR ==="),console.error("Status:",u.status),console.error("Status Text:",u.statusText),console.error("Error Body:",u.error),console.error("Full Error:",u);let h="Unknown error occurred";return u.error?.message?h=u.error.message:u.message?h=u.message:typeof u.error=="string"&&(h=u.error),gr(()=>new Error(`Image upload failed: ${h}`))}))}buildPropertyFromWizard(){let e=this.formStorage.getFormData();console.log("=== BUILDING PROPERTY FROM WIZARD ==="),console.log("All form data:",e);let t={title:e["step2-4"]?.title||"",description:e["step2-6"]?.description||"",city:e["step1-4-2"]?.city||"",country:e["step1-4-2"]?.country||"",state:e["step1-4-2"]?.state||"",latitude:parseFloat(e["step1-4-1"]?.coordinates?.lat)||0,longitude:parseFloat(e["step1-4-1"]?.coordinates?.lng)||0,pricePerNight:e["step3-4-1"]?.price??50,maxGuests:e["step1-5"]?.guests||0,bedrooms:e["step1-5"]?.bedrooms||0,beds:e["step1-5"]?.beds||0,bathrooms:e["step1-5"]?.bathrooms||0,propertyTypeId:e["step1-2"]?.propertyTypeId||1,images:[],averageRating:0,reviewCount:0,isActive:!0,isDeleted:!1,hostId:this.authService.userId||"",status:1};return console.log("Built property:",t),t}checkImagesInStorage(){let t=this.formStorage.getFormData()["step2-3"],i=this.formStorage.getImageFiles(),r=i.length>0,o=i.length;return{hasImages:r,imageCount:o,stepData:t}}ensureHostRole(){let e=this.authService.userId;if(!e)return gr(()=>new Error("User not logged in"));let t=this.authService.role;return t.includes("host")||t.includes("Host")?qe(void 0):this.userService.updateToHostRole(e).pipe(Ne(()=>{}),In(i=>(console.error("Failed to update to host role:",i),gr(()=>new Error("Failed to update user role")))))}validateImages(e,t=5){return e&&e.length>=t}static \u0275fac=function(t){return new(t||n)(De(Ct),De(Mn),De(dt),De(cr),De(C4),De(nt))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var Qn=class n{constructor(e){this.formStorage=e}canProceedSubject=new Sn(!0);canProceed$=this.canProceedSubject.asObservable();validateStep(e){let t=this.formStorage.getFormData(),i=!0;switch(e){case"step1-2-which-of":i=!!t["step1-2"]?.propertyTypeId;break;case"step1-3-what-type":i=!!t["step1-3"]?.selectedPlace;break;case"step1-4-1-where":let o=t["step1-4-1"]?.coordinates;i=!!(o?.lat&&o?.lng);break;case"step1-4-2-confirm-address":let a=t["step1-4-2"],c=typeof a?.zipcode=="string"||typeof a?.zipcode=="number",h=(c?String(a.zipcode).replace(/[^0-9]/g,""):"").length,v=c&&h>=3&&h<=10;i=!!(a?.city?.trim()&&a?.country?.trim()&&a?.state?.trim()&&a?.street?.trim()&&v);break;case"step3-2":i=!!t["step3-2"]?.selected;break;case"step1-5-basic-about":let P=t["step1-5"];i=!!(P?.guests&&P?.bedrooms&&P?.beds&&P?.bathrooms);break;case"step2-2-tell-guests":let S=t["step2-2"]?.selectedAmenityIds;i=!!(S&&S.length>0);break;case"step2-3-1-add-photos":i=!0;break;case"step2-3-3-photos-ta-da":let M=t["step2-3-3"];i=!!(M?.photos&&M.photos.length>=5);break;case"step2-4-title":let O=t["step2-4"]?.title?.trim();i=!!(O&&O.length>=5&&O.length<=20);break;case"step2-6-description":let R=t["step2-6"]?.description;i=!!(R&&R.length>=20);break;case"step3-2-pick-booking":i=!!t["step3-2"]?.selected;break;case"step3-3":i=!!t["step3-3"]?.selected,this.canProceedSubject.next(i);break;case"step3-4-1-pricing":i=!0,this.canProceedSubject.next(!0);break;case"step3-4-2":i=!0,this.canProceedSubject.next(!0);break;case"step3-4-2-pricing-tax":let N=t["step3-4-2"];i=N?.premiumPercent>=0&&N?.premiumPercent<=100;break;default:i=!0;break}return this.canProceedSubject.next(i),i}static \u0275fac=function(t){return new(t||n)(De(Mn))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var YJ=n=>({"btn-get-started":n});function qJ(n,e){if(n&1){let t=X();l(0,"button",19),T("click",function(){z(t);let r=C(2);return A(r.navigateToPrevStep())}),m(1," Back "),d()}}function ZJ(n,e){if(n&1){let t=X();l(0,"footer",12)(1,"div",13)(2,"div",14),k(3,"div",15),d()(),l(4,"div",16)(5,"div"),j(6,qJ,2,0,"button",17),d(),l(7,"button",18),T("click",function(){z(t);let r=C();return A(r.isLastStep?r.handleSubmit():r.navigateToNextStep())}),m(8),d()()()}if(n&2){let t=C();p(3),xt("width",t.progressPercentage,"%"),p(3),_("ngIf",t.showBackButton),p(),_("disabled",!t.canProceed)("ngClass",nn(6,YJ,t.isFirstStep)),p(),U(" ",t.isFirstStep?"Get Started":t.isLastStep?"Create listing":"Next"," ")}}var v8=class n{constructor(e,t,i,r,o,a,c,u,h){this.router=e;this.formStorage=t;this.wizardService=i;this.propertyCreationService=r;this.validationService=o;this.snackBar=a;this.userService=c;this.authService=u;this.themeService=h;this.currentTheme=this.themeService.currentTheme,this.router.events.pipe(Nn(v=>v instanceof Cr)).subscribe(()=>{this.updateProgress(),this.updateStepState(),this.validateCurrentStep()}),this.validationService.canProceed$.subscribe(v=>{this.canProceed=v})}showFooter=!0;isFirstStep=!1;isLastStep=!1;canProceed=!0;currentTheme;currentStep=1;totalSteps=3;progressPercentage=0;showBackButton=!0;onPrevStep=new ye;onNextStep=new ye;onSubmit=new ye;saveAndExit(){this.router.navigate(["/host"])}stepRoutes=["","step1-1-tell-us","step1-2-which-of","step1-3-what-type","step1-4-1-where","step1-4-2-confirm-address","step1-5-basic-about","step2-1-make-your","step2-2-tell-guests","step2-3-1-add-photos","step2-3-3-photos-ta-da","step2-4-title","step2-5-describe","step2-6-description","step3-1-finish","step3-2-pick-booking","step3-3-choose-welcome","step3-4-1-pricing"];showToast(e,t,i){this.snackBar.open(e,"Close",{duration:3e3,horizontalPosition:i,verticalPosition:t,panelClass:["custom-snackbar"]})}handleSubmit(){this.userService.updateToHostRole(this.authService.userId||"").subscribe(e=>{this.userService.refreshToken().subscribe(t=>{console.log("=== STARTING PROPERTY SUBMISSION ===");let i=localStorage.getItem("property_form_data");console.log("\u{1F4C2} localStorage data:",i?JSON.parse(i):"No data");let r=this.formStorage.getFormData();console.log("\u{1F4CB} All form data from service:",r);let o=r["step2-3"];console.log("\u{1F4F8} Step 2-3 data specifically:",o);let a=!!(o&&(o.imageFiles&&o.imageFiles.length>0||o.images&&o.images.length>0)),c=o?.imageFiles?.length??o?.images?.length??0;if(console.log("\u{1F50D} Image check results:"),console.log("  - hasImages:",a),console.log("  - imageCount:",c),!a){console.error("\u274C No images found!"),this.showToast("Please upload at least one image before submitting the property.","bottom","left");return}console.log(`\u2705 Found ${c} images, proceeding...`);let u=this.propertyCreationService.buildPropertyFromWizard(),h=Ve(ie({},u),{images:u.images||[]}),v=this.propertyCreationService.createProperty(h);console.log("returned observable",v),v.subscribe({next:y=>{console.log("\u2705 Property created successfully:",y),this.formStorage.clearFormData(),localStorage.removeItem("property_form_data"),this.router.navigate(["/host"]),this.showToast("property created","top","right")},error:y=>{console.error("\u274C Error creating property:",y),this.showToast("Failed to create property: "+y.message,"bottom","left")}})})})}getCurrentStepIndex(){let e=this.router.url,t="/listing-wizard";if(e===t||e===`${t}/`)return this.stepRoutes.indexOf("");let i=e.substring(t.length+1);return this.stepRoutes.indexOf(i)}updateProgress(){let e=this.getCurrentStepIndex();e!==-1&&(this.progressPercentage=e/(this.stepRoutes.length-1)*100)}updateStepState(){let e=this.getCurrentStepIndex();this.isFirstStep=e===0,this.isLastStep=e===this.stepRoutes.length-1,this.showBackButton=e>0}validateCurrentStep(){let e=this.stepRoutes[this.getCurrentStepIndex()];e&&this.validationService.validateStep(e)}navigateToNextStep(){let e=this.getCurrentStepIndex(),t=this.stepRoutes[e];if(!(t&&!this.validationService.validateStep(t))&&e>-1&&e<this.stepRoutes.length-1){this.wizardService.triggerNextStep(),this.onNextStep.emit();let i=this.stepRoutes[e+1];this.router.navigate(["listing-wizard",i])}}navigateToPrevStep(){let e=this.getCurrentStepIndex();if(e===1)this.router.navigate(["/listing-wizard"]);else if(e>1){let t=this.stepRoutes[e-1];this.router.navigate(["/listing-wizard",t])}this.onPrevStep.emit()}static \u0275fac=function(t){return new(t||n)(V(nt),V(Mn),V(Bn),V(g8),V(Qn),V(vn),V(cr),V(dt),V(sl))};static \u0275cmp=le({type:n,selectors:[["app-listing-wizard-layout"]],inputs:{showFooter:"showFooter",isFirstStep:"isFirstStep",isLastStep:"isLastStep",currentStep:"currentStep",totalSteps:"totalSteps",progressPercentage:"progressPercentage",showBackButton:"showBackButton"},outputs:{onPrevStep:"onPrevStep",onNextStep:"onNextStep",onSubmit:"onSubmit"},decls:15,vars:1,consts:[[1,"listing-wizard-container"],[1,"wizard-header"],[1,"header-content"],["routerLink","/",1,"logo"],["width","30","height","32","fill","currentColor",2,"display","inline-block","vertical-align","middle","margin-right","8px"],["d","m16 1c1.4875 0 2.9145.62595 3.9012 1.83134.5711667.694075 1.2066389 1.89078194 1.6351782 2.7357169l.2559218.5095731c1.9717714 3.84974571 3.8970367 7.7351461 5.7061469 11.6001357l1.0527212 2.2755537c.2442722.5357223.6021666 1.3323778.8348388 1.8877445l.1528931.3781361c.2774.7566.433 1.5511.433 2.3787 0 3.5246-2.7857 6.4031-6.4688 6.4031-3.1835 0-5.6326-2.0802-7.504-4.1423-1.8808 2.064-4.3581 4.1423-7.50223 4.1423-3.63403 0-6.46875-2.8732-6.46875-6.4031 0-.7093714.11431837-1.3944245.32166997-2.0521364l.11686003-.3412636.14732028-.3634926c.2618125-.6248792.68216562-1.5551583.92080875-2.0755906l.07235097-.1573168c1.76840571-3.8566286 3.66459673-7.7429388 5.61889889-11.60295324l1.37212111-2.70033801c.4205438-.81613875.986775-1.84801875 1.50075-2.47264875.9868-1.20527 2.4136-1.83116 3.9011-1.83116zm0 2c-.9183 0-1.766.37994-2.3542 1.09886-.4813417.58455833-1.0996486 1.77809958-1.5368827 2.64796863l-.1189173.23717137c-1.9648629 3.8362286-3.87987673 7.7011102-5.67697329 11.5404875l-1.04713472 2.2635986c-.30124838.6608472-.75686366 1.6784306-.92972199 2.1260139-.20209.5536-.30805 1.1129-.30805 1.6828 0 2.4201 1.93403 4.4031 4.46875 4.4031 2.34253 0 4.35533-1.6269 6.18943-3.6737-.8116-1.0042-1.6517-2.1847-2.3352-3.4276-.8316-1.5123-1.4855-3.2137-1.4855-4.8487 0-1.6499.6073-2.9633 1.6053-3.8548.9801-.8754 2.2634-1.2796 3.5291-1.2796 2.5883 0 5.1344 1.8531 5.1344 5.1344 0 1.635-.6539 3.3364-1.4855 4.8487-.6836 1.2432-1.524 2.4238-2.3357 3.4282 1.8297 2.0488 3.8093 3.6731 6.1899 3.6731 2.5732 0 4.4688-1.9778 4.4688-4.4031 0-.5699-.106-1.1292-.3081-1.6828l-.1341315-.3295324c-.2684352-.6384815-.7321018-1.6613843-.9532685-2.1404676-1.7568-3.8313429-3.642098-7.6955265-5.588449-11.53984198l-1.3495182-2.65470536c-.4047703-.78632203-.8899078-1.67180016-1.2822328-2.14822266-.5902-.72139-1.4379-1.10133-2.3562-1.10133zm0 10.9156c-.8562 0-1.64.274-2.1967.7712-.5387.4812-.9377 1.2349-.9377 2.3632 0 1.1431.4727 2.4933 1.238 3.8849.5489.9982 1.2207 1.9684 1.8964 2.8305.6757-.8621 1.3475-1.8323 1.8964-2.8305.7653-1.3916 1.238-2.7418 1.238-3.8849 0-2.0124-1.4789-3.1344-3.1344-3.1344z"],[1,"header-actions"],[1,"header-button"],[1,"header-button",3,"click"],[1,"wizard-main"],[1,"content-container"],["class","wizard-footer",4,"ngIf"],[1,"wizard-footer"],[1,"progress-border"],[1,"progress-track"],[1,"progress-fill"],[1,"footer-content"],["class","nav-button btn-back",3,"click",4,"ngIf"],[1,"nav-button","btn-primary",3,"click","disabled","ngClass"],[1,"nav-button","btn-back",3,"click"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"header",1)(2,"div",2)(3,"a",3),$e(),l(4,"svg",4),k(5,"path",5),d()(),lt(),l(6,"div",6)(7,"button",7),m(8,"Questions?"),d(),l(9,"button",8),T("click",function(){return i.saveAndExit()}),m(10," Save & exit "),d()()()(),l(11,"main",9)(12,"div",10),k(13,"router-outlet"),d()(),j(14,ZJ,9,8,"footer",11),d()),t&2&&(p(14),_("ngIf",i.showFooter))},dependencies:[he,Bt,Ce,Ni,ms,Hi],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}.listing-wizard-container[_ngcontent-%COMP%]{height:100%;background-color:var(--bg-color);display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;overflow:hidden;position:relative;color:var(--primary-text-color);transition:background-color .3s ease,color .3s ease}.wizard-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--border-color);background-color:var(--bg-color);position:fixed;top:0;left:0;right:0;z-index:50;transition:background-color .3s ease,border-color .3s ease}.header-content[_ngcontent-%COMP%]{padding:16px 40px;display:flex;align-items:center;justify-content:space-between}.logo[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:var(--primary-text-color);text-decoration:none;transition:color .3s ease}.logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:currentColor;transition:fill .3s ease}.header-button[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;font-size:14px;text-decoration:underline;cursor:pointer;padding:8px 16px;border-radius:8px;transition:all .2s ease}.header-button[_ngcontent-%COMP%]:hover{text-decoration:none;background-color:#f3f4f6}.wizard-main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow-y:auto;margin-top:100px;margin-bottom:100px;scrollbar-width:none;-ms-overflow-style:none}.wizard-main[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.content-container[_ngcontent-%COMP%]{padding:0 20px;width:100%;display:flex;flex-direction:column}.steps-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.step-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:32px;padding:0}.step-number[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#222;margin-right:16px;min-width:20px}.step-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#222;margin:0 0 8px}.step-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#717171;line-height:1.4;margin:0}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:40px 0}.form-title[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:#222;margin:0 0 12px;text-align:center}.form-subtitle[_ngcontent-%COMP%]{font-size:18px;color:#717171;margin:0 0 40px;text-align:center;line-height:1.4}.form-group[_ngcontent-%COMP%]{margin-bottom:24px}.form-label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:600;color:#222;margin-bottom:8px}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{width:100%;padding:16px;border:1px solid #b0b0b0;border-radius:8px;font-size:16px;color:#222;background-color:#fff;transition:border-color .2s ease}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#222;box-shadow:0 0 0 2px #2222221a}.form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:140px;font-family:inherit}.character-count[_ngcontent-%COMP%]{text-align:right;font-size:14px;color:#717171;margin-top:8px}.wizard-footer[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;background-color:var(--bg-color);border-top:1px solid var(--border-color);z-index:50;transition:background-color .3s ease,border-color .3s ease}.progress-border[_ngcontent-%COMP%]{height:8px;background-color:#e0e0e0;position:relative;width:100%}.progress-track[_ngcontent-%COMP%]{height:100%;width:100%;position:relative;background-color:#e0e0e0}.progress-fill[_ngcontent-%COMP%]{height:100%;background-color:#222;transition:width .3s ease-out,background-color .3s ease;position:relative}.progress-track[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:41%;width:3.5px;height:100%;background-color:#fff;z-index:1}.progress-track[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:82.3%;width:3.5px;height:100%;background-color:#fff;z-index:1}.footer-content[_ngcontent-%COMP%]{padding:20px 40px;display:flex;align-items:center;justify-content:space-between}.back-spacer[_ngcontent-%COMP%]{width:60px}.nav-button[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 24px;font-size:16px;font-weight:600;border-radius:8px;cursor:pointer;transition:all .2s ease;text-decoration:none;border:none;min-height:48px}.btn-back[_ngcontent-%COMP%]{background-color:transparent;color:--secondary-text-color;border:none;text-decoration:underline;font-weight:500;padding:12px 0}.btn-back[_ngcontent-%COMP%]:hover{text-decoration:none;color:#484848}.btn-primary[_ngcontent-%COMP%]{background-color:#222;color:#fff;border:none;min-width:88px;justify-content:center;font-weight:600}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#000}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#ddd;color:#fff;cursor:not-allowed}.btn-full-width[_ngcontent-%COMP%]{width:100%;justify-content:center;background-color:#222;padding:16px 24px;font-size:16px;font-weight:600;color:#fff}.btn-full-width[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#000}.btn-icon[_ngcontent-%COMP%]{width:16px;height:16px;margin-left:8px}.btn-icon-left[_ngcontent-%COMP%]{margin-left:0;margin-right:8px}.btn-get-started[_ngcontent-%COMP%]{background:linear-gradient(to right,#e61e4d,#e31c5f,#d70466);color:#fff}.btn-get-started[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(to right,#d70466,#e31c5f,#e61e4d)}@media (max-width: 1024px){.intro-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:40px;text-align:center}.intro-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 768px){.header-content[_ngcontent-%COMP%], .content-container[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}.footer-content[_ngcontent-%COMP%]{padding:16px 20px}.intro-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px}.form-title[_ngcontent-%COMP%]{font-size:28px}.back-spacer[_ngcontent-%COMP%]{width:40px}}@media (max-width: 480px){.footer-content[_ngcontent-%COMP%]{padding:16px}.nav-button[_ngcontent-%COMP%]{padding:10px 16px;font-size:14px}.btn-primary[_ngcontent-%COMP%]{min-width:70px}.back-spacer[_ngcontent-%COMP%]{width:20px}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{padding:14px}.wizard-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding:20px 40px}.nav-button.btn-primary[_ngcontent-%COMP%]{margin-left:auto}.btn-back[_ngcontent-%COMP%]{margin-right:16px}.footer-spacer[_ngcontent-%COMP%]{width:60px}.footer-content[_ngcontent-%COMP%]{justify-content:flex-end}}body.dark[_ngcontent-%COMP%]   .listing-wizard-container[_ngcontent-%COMP%]{background-color:var(--bg-color);color:var(--primary-text-color)}body.dark[_ngcontent-%COMP%]   .wizard-header[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .wizard-footer[_ngcontent-%COMP%]{background-color:var(--head);color:var(--primary-text-color)}body.dark[_ngcontent-%COMP%]   .wizard-header[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .wizard-footer[_ngcontent-%COMP%]{border-color:var(--border-color)}body.dark[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{color:var(--primary-text-color)}body.dark[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]{color:#fff!important}body.dark[_ngcontent-%COMP%]   .header-button[_ngcontent-%COMP%]{color:var(--secondary-text-color)}body.dark[_ngcontent-%COMP%]   .header-button[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg);color:var(--primary-text-color)}body.dark[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .form-subtitle[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{color:var(--secondary-text-color)}body.dark[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{background-color:var(--bg-color);border-color:var(--border-color)}body.dark[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, body.dark[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, body.dark[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]:focus{border-color:var(--primary-text-color);box-shadow:0 0 0 2px #f5f5f533}body.dark[_ngcontent-%COMP%]   .progress-border[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]{background-color:#222!important}body.dark[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{background-color:#fff!important}body.dark[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]:before, body.dark[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]:after{background-color:var(--bg-color)}body.dark[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]:hover{color:var(--secondary-text-color)}body.dark[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:var(--primary-text-color);color:var(--bg-color)}body.dark[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f7f7f7}body.dark[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{background-color:var(--disabled-bg);color:var(--disabled-color)}body.dark[_ngcontent-%COMP%]   .btn-full-width[_ngcontent-%COMP%]{background-color:var(--primary-text-color);color:var(--bg-color)}body.dark[_ngcontent-%COMP%]   .btn-full-width[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f7f7f7}body.dark[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--primary-text-color)}']})};var b8=class n{constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=le({type:n,selectors:[["app-steps-page"]],decls:35,vars:0,consts:[[1,"steps-container"],[1,"steps-header"],[1,"steps-main-title"],[1,"steps-list"],[1,"step"],[1,"step__number"],[1,"step__text-content"],[1,"step__title"],[1,"step__description"],[1,"step__image-container"],["loading","lazy","src","https://a0.muscache.com/4ea/air/v2/pictures/da2e1a40-a92b-449e-8575-d8208cc5d409.jpg","alt","Illustration of a house with a checklist.","decoding","async",1,"step__image"],["loading","lazy","src","https://a0.muscache.com/4ea/air/v2/pictures/bfc0bc89-58cb-4525-a26e-7b23b750ee00.jpg","alt","Illustration of a camera and photos.","decoding","async",1,"step__image"],["loading","lazy","src","https://a0.muscache.com/4ea/air/v2/pictures/c0634c73-9109-4710-8968-3e927df1191c.jpg","alt","Illustration of a person celebrating with a trophy.","decoding","async",1,"step__image"]],template:function(t,i){t&1&&(Pe(0,"div",0)(1,"header",1)(2,"h1",2),m(3,"It's easy to get started on Airbnb"),Le()(),Pe(4,"main",3)(5,"div",4)(6,"div",5),m(7,"1"),Le(),Pe(8,"div",6)(9,"h2",7),m(10,"Tell us about your place"),Le(),Pe(11,"p",8),m(12," Share some basic info, like where it is and how many guests can stay. "),Le()(),Pe(13,"div",9),pn(14,"img",10),Le()(),Pe(15,"div",4)(16,"div",5),m(17,"2"),Le(),Pe(18,"div",6)(19,"h2",7),m(20,"Make it stand out"),Le(),Pe(21,"p",8),m(22," Add 5 or more photos plus a title and description\u2014we'll help you out. "),Le()(),Pe(23,"div",9),pn(24,"img",11),Le()(),Pe(25,"div",4)(26,"div",5),m(27,"3"),Le(),Pe(28,"div",6)(29,"h2",7),m(30,"Finish up and publish"),Le(),Pe(31,"p",8),m(32," Choose a starting price, verify a few details, then publish your listing. "),Le()(),Pe(33,"div",9),pn(34,"img",12),Le()()()())},dependencies:[he],styles:[".steps-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:0 80px;box-sizing:border-box;color:var(--primary-text-color);font-family:Airbnb Cereal VF,Circular,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif;font-size:14px;line-height:1.4;background-color:var(--bg-color);width:100%;overflow:hidden;transition:background-color .3s ease,color .3s ease}.steps-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;max-width:700px;margin-right:48px;box-sizing:border-box}.get-started-button[_ngcontent-%COMP%]{margin-top:24px;padding:14px 24px;font-size:16px;font-weight:600;color:#fff;background-color:var(--airbnb-red);border:none;border-radius:8px;cursor:pointer;transition:all .3s ease}.get-started-button[_ngcontent-%COMP%]:hover{background-color:var(--airbnb-dark-red)}body.dark[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]{background-color:var(--bg-color);color:var(--primary-text-color)}body.dark[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{border-bottom-color:var(--border-color)}body.dark[_ngcontent-%COMP%]   .step__number[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .step__title[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .steps-main-title[_ngcontent-%COMP%]{color:var(--primary-text-color)}body.dark[_ngcontent-%COMP%]   .step__description[_ngcontent-%COMP%]{color:var(--secondary-text-color)}body.dark[_ngcontent-%COMP%]   .step__image[_ngcontent-%COMP%]{border:1px solid var(--border-color)}body.dark[_ngcontent-%COMP%]   .get-started-button[_ngcontent-%COMP%]{color:var(--bg-color)}body.dark[_ngcontent-%COMP%]   .get-started-button[_ngcontent-%COMP%]:hover{opacity:.9}.steps-main-title[_ngcontent-%COMP%]{max-width:514px;margin:0;font-weight:500;font-size:56px;line-height:64px;color:var(--primary-text-color);transition:color .3s ease}.steps-list[_ngcontent-%COMP%]{width:100%;max-width:600px;box-sizing:border-box}.step[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;padding-bottom:32px;border-bottom:1px solid var(--border-color);box-sizing:border-box;transition:border-color .3s ease}.step[_ngcontent-%COMP%] + .step[_ngcontent-%COMP%]{padding-top:32px}.step[_ngcontent-%COMP%]:last-child{border-bottom:none;padding-bottom:0}.step__number[_ngcontent-%COMP%]{color:var(--primary-text-color);font-size:22px;font-weight:500;line-height:26px;padding-right:16px;box-sizing:border-box;transition:color .3s ease}.step__text-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;margin-right:16px;box-sizing:border-box}.step__title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:22px;line-height:26px;font-weight:500;color:var(--primary-text-color);transition:color .3s ease}.step__description[_ngcontent-%COMP%]{margin:0;font-size:18px;line-height:24px;font-weight:400;color:var(--secondary-text-color);transition:color .3s ease}.step__image-container[_ngcontent-%COMP%]{width:120px;height:120px;flex-shrink:0}.step__image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:8px}"]})};var _8=class n{info="";onInfoChange(e){this.info=e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=le({type:n,selectors:[["app-step1-tell-us"]],decls:12,vars:0,consts:[[1,"page-container"],[1,"intro-section"],[1,"intro-section__content"],[1,"intro-section__step-label"],[1,"intro-section__title"],[1,"intro-section__description"],[1,"intro-section__video-container"],["crossorigin","anonymous","playsinline","","preload","auto","autoplay","","muted","","loop","",1,"intro-section__video"],["src","https://stream.media.muscache.com/zFaydEaihX6LP01x8TSCl76WHblb01Z01RrFELxyCXoNek.mp4?v_q=high","type","video/mp4"]],template:function(t,i){t&1&&(Pe(0,"div",0)(1,"main",1)(2,"div",2)(3,"div",3),m(4,"Step 1"),Le(),Pe(5,"h1",4),m(6,"Tell us about your place"),Le(),Pe(7,"p",5),m(8," In this step, we'll ask you which type of property you have and if guests will book the entire place or just a room. Then let us know the location and how many guests can stay. "),Le()(),Pe(9,"div",6)(10,"video",7),pn(11,"source",8),Le()()()())},styles:[".page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;box-sizing:border-box;color:var(--primary-text-color);font-family:Airbnb Cereal VF,Circular,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif;font-size:14px;line-height:1.4;background-color:var(--bg-color);transition:background-color .3s ease,color .3s ease}.intro-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;width:100%;max-width:1206px;gap:58px}.intro-section__content[_ngcontent-%COMP%]{max-width:575px;flex-grow:1}.intro-section__step-label[_ngcontent-%COMP%]{font-size:18px;line-height:24px;font-weight:500;margin-bottom:16px;color:var(--primary-text-color);transition:color .3s ease}.intro-section__title[_ngcontent-%COMP%]{font-size:48px;line-height:54px;font-weight:500;letter-spacing:-.64px;margin:0 0 24px;color:var(--primary-text-color);transition:color .3s ease}.intro-section__description[_ngcontent-%COMP%]{font-size:18px;line-height:28px;margin:0;color:var(--secondary-text-color);transition:color .3s ease}.intro-section__video-container[_ngcontent-%COMP%]{max-width:473px;max-height:414px;overflow:hidden;border-radius:12px;flex-shrink:0;border:1px solid var(--border-color);transition:border-color .3s ease}.intro-section__video[_ngcontent-%COMP%]{width:100%;height:100%;display:block;object-fit:cover}body.dark[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]{background-color:var(--bg-color)}body.dark[_ngcontent-%COMP%]   .intro-section__step-label[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .intro-section__title[_ngcontent-%COMP%]{color:var(--primary-text-color)}body.dark[_ngcontent-%COMP%]   .intro-section__description[_ngcontent-%COMP%]{color:var(--secondary-text-color)}body.dark[_ngcontent-%COMP%]   .intro-section__video-container[_ngcontent-%COMP%]{border-color:var(--border-color)}"]})};function XJ(n,e){n&1&&(l(0,"div",6),m(1,"Loading property types..."),d())}function KJ(n,e){if(n&1&&(l(0,"div",7),m(1),d()),n&2){let t=C();p(),U(" ",t.error," ")}}function QJ(n,e){if(n&1){let t=X();l(0,"div",10)(1,"button",11),T("click",function(){let r=z(t).$implicit,o=C(2);return A(o.selectType(r))}),l(2,"div",12),k(3,"img",13),d(),l(4,"div",14)(5,"div",15),m(6),d()()()()}if(n&2){let t=e.$implicit,i=e.index,r=C(2);xt("animation-delay",400+i*50+"ms"),p(),an("aria-checked",(r.selectedType==null?null:r.selectedType.id)===t.id),p(2),_("src",r.getPropertyTypeImg(t.iconURL),et)("alt",t.name),p(3),$(t.name)}}function JJ(n,e){if(n&1&&(l(0,"div",8),j(1,QJ,7,6,"div",9),d()),n&2){let t=C();p(),_("ngForOf",t.propertyTypes)}}var y8=class n{constructor(e,t,i,r){this.formStorage=e;this.wizardService=t;this.propertyService=i;this.validationService=r}subscription;isLoading=!0;error=null;propertyTypes=[];selectedType=null;handleImgService=q(Nr);ngOnInit(){this.isLoading=!0,this.propertyService.getAllPropertyTypes().subscribe({next:e=>{this.propertyTypes=e,this.isLoading=!1;let t=this.formStorage.getStepData("step1-2");t?.selectedType&&(this.selectedType=this.propertyTypes.find(i=>i.id===t.selectedType.id)||null),this.validationService.validateStep("step1-2-which-of")},error:e=>{console.error("Failed to load property types:",e),this.error="Failed to load property types. Please try again.",this.isLoading=!1,this.wizardService.updateStepValidation("step1-2",!1)}}),this.subscription=this.wizardService.nextStep$.subscribe(()=>{this.saveData()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}selectType(e){this.selectedType=e,this.saveData(),this.validationService.validateStep("step1-2-which-of")}saveData(){let e=this.selectedType?{selectedType:this.selectedType,propertyTypeId:this.selectedType.id}:null;this.formStorage.saveFormData("step1-2",e)}getPropertyTypeImg(e){return this.handleImgService.handleImage(e||"")}static \u0275fac=function(t){return new(t||n)(V(Mn),V(Bn),V(Cn),V(Qn))};static \u0275cmp=le({type:n,selectors:[["app-step1-2-which-of"]],decls:7,vars:3,consts:[[1,"step-container"],[1,"title-container"],["tabindex","-1"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["role","radiogroup","class","property-selector",4,"ngIf"],[1,"loading-state"],[1,"error-state"],["role","radiogroup",1,"property-selector"],["class","property-item",3,"animation-delay",4,"ngFor","ngForOf"],[1,"property-item"],["type","button","role","radio",1,"property-button",3,"click"],[1,"icon-wrapper"],["loading","lazy",1,"property-icon",3,"src","alt"],[1,"label-wrapper"],[1,"property-label"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"h1",2),m(3,"Which of these best describes your\xA0place?"),d()(),j(4,XJ,2,0,"div",3)(5,KJ,2,1,"div",4)(6,JJ,2,1,"div",5),d()),t&2&&(p(4),_("ngIf",i.isLoading),p(),_("ngIf",i.error),p(),_("ngIf",!i.isLoading&&!i.error))},dependencies:[he,Xe,Ce],styles:[".step-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;margin:0 auto;max-width:800px;padding:20px 0}.title-container[_ngcontent-%COMP%]{max-width:630px;width:100%;margin-bottom:32px;text-align:left}h1[_ngcontent-%COMP%]{letter-spacing:-.64px;line-height:36px;font-size:32px;font-weight:600;color:var(--primary-text-color);margin:0;overflow-wrap:break-word;transition:color .3s ease}.loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{text-align:center;padding:2rem;font-size:1rem;color:var(--secondary-text-color);background-color:var(--hover-bg);border-radius:12px;margin:1rem 0;width:100%;transition:background-color .3s ease,color .3s ease}.error-state[_ngcontent-%COMP%]{color:#ff4d4f;background-color:#ff4d4f1a;border:1px solid rgba(255,77,79,.3)}.property-selector[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:16px;width:100%;justify-content:flex-start}.property-item[_ngcontent-%COMP%]{flex:0 1 calc(33.333% - 11px);min-width:150px;animation:_ngcontent-%COMP%_fadeIn .6s cubic-bezier(.2,0,0,1) both}.property-button[_ngcontent-%COMP%]{background-color:var(--bg-color);height:110px;width:100%;display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start;padding:16px;border:1px solid var(--border-color);border-radius:12px;cursor:pointer;outline:none;transition:all .3s ease;text-align:left}.property-button[_ngcontent-%COMP%]:hover{border-color:var(--primary-text-color);background-color:var(--hover-bg)}.property-button[aria-checked=true][_ngcontent-%COMP%]{background-color:var(--hover-bg);border:2px solid var(--primary-text-color);padding:15px}.icon-wrapper[_ngcontent-%COMP%]{height:45px;width:45px}.property-icon[_ngcontent-%COMP%]{width:100%;height:100%;color:var(--primary-text-color);transition:color .3s ease;background-color:#fff}.label-wrapper[_ngcontent-%COMP%]{margin-top:8px}.property-label[_ngcontent-%COMP%]{font-size:16px;line-height:20px;font-weight:500;color:var(--primary-text-color);word-break:break-word;transition:color .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.property-item[_ngcontent-%COMP%]{flex-basis:calc(50% - 8px)}h1[_ngcontent-%COMP%]{font-size:28px;text-align:center}.title-container[_ngcontent-%COMP%]{text-align:center}}@media (max-width: 480px){.property-item[_ngcontent-%COMP%]{flex-basis:100%}}"]})};function eee(n,e){n&1&&($e(),l(0,"svg",14),k(1,"path",15),d())}function tee(n,e){n&1&&($e(),l(0,"svg",14),k(1,"path",16)(2,"path",17)(3,"path",18),d())}function nee(n,e){n&1&&k(0,"img",19)}function iee(n,e){if(n&1){let t=X();l(0,"div",5)(1,"button",6),T("click",function(){let r=z(t).$implicit,o=C();return A(o.selectPlace(r.key))}),l(2,"div",7)(3,"h2",8),m(4),d(),l(5,"p",9),m(6),d()(),l(7,"div",10),zt(8,11),j(9,eee,2,0,"svg",12)(10,tee,4,0,"svg",12)(11,nee,1,0,"img",13),At(),d()()()}if(n&2){let t=e.$implicit,i=C();p(),an("aria-checked",i.selectedPlace===t.key),p(3),$(t.title),p(2),U(" ",t.description," "),p(2),_("ngSwitch",t.key),p(),_("ngSwitchCase","entire"),p(),_("ngSwitchCase","room"),p(),_("ngSwitchCase","shared")}}var x8=class n{constructor(e,t,i){this.formStorage=e;this.wizardService=t;this.validationService=i}subscription;propertyTypes=["Apartment","House","Villa","Cottage","Studio","Loft","Other"];selectedType=null;placeOptions=[{key:"entire",title:"An entire place",description:"Guests have the whole place to themselves."},{key:"room",title:"A room",description:"Guests have their own room in a home, plus access to shared spaces."},{key:"shared",title:"A shared room",description:"Guests sleep in a room or common area that may be shared with others."}];selectedPlace=null;ngOnInit(){let e=this.formStorage.getStepData("step1-3");e?.selectedType&&(this.selectedType=e.selectedType),e?.selectedPlace&&(this.selectedPlace=e.selectedPlace),this.validationService.validateStep("step1-3-what-type"),this.subscription=this.wizardService.nextStep$.subscribe(()=>{this.saveFormData()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}selectType(e){this.selectedType=e,this.saveFormData()}selectPlace(e){this.selectedPlace=e,this.saveFormData(),this.validationService.validateStep("step1-3-what-type")}saveFormData(){let e={selectedType:this.selectedType,selectedPlace:this.selectedPlace};this.formStorage.saveFormData("step1-3",e),this.validationService.validateStep("step1-3-what-type")}static \u0275fac=function(t){return new(t||n)(V(Mn),V(Bn),V(Qn))};static \u0275cmp=le({type:n,selectors:[["app-step1-3-what-type"]],decls:6,vars:1,consts:[[1,"page-container"],[1,"selection-container"],[1,"selection-title"],["role","radiogroup",1,"selection-list"],["class","selection-item",4,"ngFor","ngForOf"],[1,"selection-item"],["type","button","role","radio",1,"selection-button",3,"click"],[1,"selection-content"],[1,"selection-item-title"],[1,"selection-item-description"],[1,"selection-icon"],[3,"ngSwitch"],["viewBox","0 0 32 32","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngSwitchCase"],["loading","lazy","src","https://img.icons8.com/?size=100&id=4024&format=png&color=000000","alt","Shared Icon",4,"ngSwitchCase"],["viewBox","0 0 32 32","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13 28V18.5C13 17.6716 13.6716 17 14.5 17H17.5C18.3284 17 19 17.6716 19 18.5V28H25C25.5523 28 26 27.5523 26 27V13.8131C26 13.2533 25.7724 12.7203 25.3688 12.354L17.3688 5.04789C16.6202 4.36319 15.3798 4.36319 14.6312 5.04789L6.6312 12.354C6.22761 12.7203 6 13.2533 6 13.8131V27C6 27.5523 6.44772 28 7 28H13Z","stroke","#222222","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M25 28V5C25 4.44772 24.5523 4 24 4H8C7.44772 4 7 4.44772 7 5V28H4V27C4 26.4477 4.44772 26 5 26H27C27.5523 26 28 26.4477 28 27V28H25Z","stroke","#222222","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M19 19C19 19.5523 18.5523 20 18 20C17.4477 20 17 19.5523 17 19C17 18.4477 17.4477 18 18 18C18.5523 18 19 18.4477 19 19Z","fill","#222222"],["d","M7 28H25","stroke","#222222","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["loading","lazy","src","https://img.icons8.com/?size=100&id=4024&format=png&color=000000","alt","Shared Icon"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"h1",2),m(3,"What type of place will guests have?"),d(),l(4,"div",3),j(5,iee,12,7,"div",4),d()()()),t&2&&(p(5),_("ngForOf",i.placeOptions))},dependencies:[he,Xe,aa,ps],styles:[".page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;box-sizing:border-box}.selection-container[_ngcontent-%COMP%]{width:100%;max-width:630px}.selection-title[_ngcontent-%COMP%]{font-size:32px;line-height:36px;font-weight:500;margin:0 0 48px}.selection-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.selection-item[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_slideInUp .6s cubic-bezier(.2,0,0,1) forwards}.selection-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;min-height:88px;padding:24px;background-color:var(--bg-color);border:1px solid var(--border-color);border-radius:12px;cursor:pointer;outline:none;text-align:left;transition:border-color .2s ease,background-color .2s ease,color .2s ease;color:var(--primary-text-color)}.selection-button[_ngcontent-%COMP%]:hover{border-color:var(--primary-text-color)}.selection-button[aria-checked=true][_ngcontent-%COMP%]{background-color:var(--bg-color);border:2px solid var(--primary-text-color);padding:23px}.selection-content[_ngcontent-%COMP%]{margin-right:16px}.selection-item-title[_ngcontent-%COMP%]{font-size:18px;line-height:24px;font-weight:500;margin:0 0 4px}.selection-item-description[_ngcontent-%COMP%]{font-size:14px;line-height:18px;color:var(--secondary-text-color);margin:0;max-width:400px}.selection-icon[_ngcontent-%COMP%]{width:32px;height:32px;flex-shrink:0;background-color:#fff}.selection-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;display:block;fill:var(--bg-color)}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.selection-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.selection-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.selection-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}"]})};var xs=mr(M4());var ree=["mapContainer"],oee=xs.icon({iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]});xs.Marker.prototype.options.icon=oee;var M8=class n{constructor(e,t,i,r,o,a){this.formStorage=e;this.wizardService=t;this.route=i;this.router=r;this.validationService=o;this.changeDetectorRef=a;this.mapChangeSubject.pipe(ni(1500)).subscribe(({lat:c,lng:u})=>{this.handleMapChange(c,u)})}mapContainer;subscription;address="";latitude=26.82055;longitude=30.8025;isGettingLocation=!1;isLoading=!0;isMapLoading=!1;map=null;marker=null;mapChangeSubject=new Re;isMapInitialized=!1;ngOnInit(){let e=this.formStorage.getStepData("step1-4-1");e?.coordinates?(this.address=e.address||"",this.latitude=e.coordinates.lat,this.longitude=e.coordinates.lng):this.getUserLocation(),this.subscription=this.wizardService.nextStep$.subscribe(()=>{this.saveFormData()})}ngAfterViewInit(){this.initLeafletMap()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}getUserLocation(){if(!navigator.geolocation){console.log("Geolocation is not supported by your browser");return}this.isGettingLocation=!0,navigator.geolocation.getCurrentPosition(async e=>{this.latitude=e.coords.latitude,this.longitude=e.coords.longitude,this.map&&(this.map.setView([this.latitude,this.longitude],12),this.updateMarker(this.latitude,this.longitude)),await this.reverseGeocode(this.latitude,this.longitude),this.isGettingLocation=!1,this.saveFormData(),this.validationService.validateStep("step1-4-1-where")},e=>{console.log("Error getting location:",e),this.isGettingLocation=!1})}saveFormData(){let e={address:this.address,coordinates:{lat:this.latitude,lng:this.longitude}};this.formStorage.saveFormData("step1-4-1",e)}initLeafletMap(){this.mapContainer&&this.mapContainer.nativeElement&&!this.map&&(this.map=xs.map(this.mapContainer.nativeElement,{center:[this.latitude,this.longitude],zoom:12,zoomControl:!0,attributionControl:!1}),xs.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}).addTo(this.map),this.addMarker(this.latitude,this.longitude),this.map.on("click",e=>{let{lat:t,lng:i}=e.latlng;this.updateLocation(t,i)}),this.map.whenReady(()=>{this.isLoading=!1,this.isMapInitialized=!0}))}addMarker(e,t){if(this.map){this.marker&&this.marker.remove();let i=xs.icon({iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]});this.marker=xs.marker([e,t],{draggable:!0,icon:i}).addTo(this.map),this.marker.on("dragend",r=>{let a=r.target.getLatLng();this.updateLocation(a.lat,a.lng)})}}updateMarker(e,t){this.marker&&this.map?(this.marker.setLatLng([e,t]),this.map.setView([e,t],this.map.getZoom())):this.addMarker(e,t)}updateLocation(e,t){this.latitude=e,this.longitude=t,this.addMarker(e,t),this.reverseGeocode(e,t),this.saveFormData(),this.validationService.validateStep("step1-4-1-where")}async reverseGeocode(e,t){try{let r=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e}&lon=${t}&addressdetails=1`)).json();if(r.display_name){this.address=r.display_name;let o=r.address,a={country:o.country_code?.toUpperCase()||"",countryName:o.country||"",street:[o.road,o.house_number].filter(Boolean).join(" ")||"",apt:"",city:o.city||o.town||o.village||"",state:o.state||"",zip:o.postcode||"",formatted_address:r.display_name};this.formStorage.saveFormData("step1-4-2",a),this.changeDetectorRef&&this.changeDetectorRef.detectChanges()}}catch(i){console.error("Error in reverse geocoding:",i),this.address=""}}handleMapChange(e,t){this.isMapInitialized&&this.updateLocation(e,t)}static \u0275fac=function(t){return new(t||n)(V(Mn),V(Bn),V(qn),V(nt),V(Qn),V(Ot))};static \u0275cmp=le({type:n,selectors:[["app-step1-4-where"]],viewQuery:function(t,i){if(t&1&&en(ree,5),t&2){let r;qt(r=Zt())&&(i.mapContainer=r.first)}},decls:21,vars:3,consts:[["mapContainer",""],[1,"location-page"],[1,"location-content"],[1,"location-header"],[1,"location-title"],[1,"location-subtitle"],[1,"map-container"],[1,"address-card"],["autocomplete","off",1,"address-form"],[1,"address-input-wrapper"],[1,"address-input-icon"],["viewBox","0 0 16 16","fill","currentColor"],["d","M8 .5C4.96.5 2.5 3 2.5 6s1.83 6.08 5.5 9.25C11.67 12.08 13.5 9 13.5 6A5.5 5.5 0 0 0 8 .5zM8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"],["type","text","placeholder","Enter your address","aria-label","Enter your address","role","combobox","aria-autocomplete","list","aria-expanded","false","autocomplete","off","name","address",1,"address-input",3,"ngModelChange","ngModel"],["type","button",1,"get-location-btn",3,"click"],["viewBox","0 0 24 24","width","24","height","24","fill","currentColor"],["d","M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3A8.994 8.994 0 0013 3.06V1h-2v2.06A8.994 8.994 0 003.06 11H1v2h2.06A8.994 8.994 0 0011 20.94V23h2v-2.06A8.994 8.994 0 0020.94 13H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"],[1,"map-panel"],["id","leaflet-map",1,"leaflet-map"]],template:function(t,i){if(t&1){let r=X();l(0,"div",1)(1,"main",2)(2,"header",3)(3,"h1",4),m(4,"Where's your place located?"),d(),l(5,"p",5),m(6," Your address is only shared with guests after they\u2019ve made a reservation. "),d()(),l(7,"div",6)(8,"div",7)(9,"form",8)(10,"div",9)(11,"div",10),$e(),l(12,"svg",11),k(13,"path",12),d()(),lt(),l(14,"input",13),mt("ngModelChange",function(a){return z(r),_t(i.address,a)||(i.address=a),A(a)}),d(),l(15,"button",14),T("click",function(){return z(r),A(i.getUserLocation())}),$e(),l(16,"svg",15),k(17,"path",16),d()()()()(),lt(),l(18,"div",17),k(19,"div",18,0),d()()()()}t&2&&(p(14),ft("ngModel",i.address),p(4),Me("loading",i.isMapLoading))},dependencies:[Mt,mn,Rt,Dt,fn,kn,wr,he],styles:[".location-page[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:70px;box-sizing:border-box}.location-content[_ngcontent-%COMP%]{width:100%;max-width:630px;text-align:center}.location-header[_ngcontent-%COMP%]{margin-bottom:32px}.location-title[_ngcontent-%COMP%]{font-size:32px;line-height:36px;font-weight:500;margin:0 0 8px}.location-subtitle[_ngcontent-%COMP%]{font-size:18px;line-height:24px;color:#6a6a6a;margin:0}.map-container[_ngcontent-%COMP%]{width:100%;height:500px;border-radius:16px;position:relative;display:flex;flex-direction:column;align-items:center;overflow:hidden}.google-map[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;z-index:1}.address-card[_ngcontent-%COMP%]{width:100%;max-width:566px;background-color:#fff;border-radius:78px;box-shadow:0 6px 16px #0000001f;padding:4px;box-sizing:border-box;position:relative;z-index:2;margin-top:20px}.address-form[_ngcontent-%COMP%]{width:100%}.address-input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:68px;padding:0 16px;box-sizing:border-box}.address-input-icon[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:16px;color:#222}.address-input-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.address-input[_ngcontent-%COMP%]{flex-grow:1;border:none;outline:none;background-color:transparent;font-size:16px;font-weight:500;line-height:20px;color:#222;font-family:inherit;padding:0}.address-input[_ngcontent-%COMP%]::placeholder{color:#6a6a6a;font-weight:400}.get-location-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px;cursor:pointer;color:#222;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .2s}.get-location-btn[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}.get-location-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.map-panel[_ngcontent-%COMP%]{width:100%;height:500px;position:relative;margin-top:20px}.leaflet-map[_ngcontent-%COMP%]{height:100%!important;width:100%!important;border-radius:12px;z-index:1}.leaflet-marker-icon[_ngcontent-%COMP%], .leaflet-marker-shadow[_ngcontent-%COMP%]{border-radius:0!important}.leaflet-default-icon-path[_ngcontent-%COMP%]{background-image:url(https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png)}.loading[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}"]})};var w8=class n{constructor(e,t,i){this.formStorage=e;this.wizardService=t;this.validationService=i}subscription;country="";street="";apt="";city="";state="";zipcode="";latitude=0;longitude=0;formattedAddress="";showSpecificLocation=!0;countryName="";ngOnInit(){let e=this.formStorage.getStepData("step1-4-2");e&&(this.country=e.country||this.country,this.countryName=e.countryName||this.countryName,this.street=e.street||this.street,this.apt=e.apt||this.apt,this.city=e.city||this.city,this.state=e.state||this.state,this.zipcode=e.zipcode||this.zipcode,this.latitude=e.latitude||this.latitude,this.longitude=e.longitude||this.longitude,this.formattedAddress=e.formattedAddress||this.formattedAddress,this.showSpecificLocation=e.showSpecificLocation??!0);let t=this.formStorage.getStepData("step1-4-1");t&&(!e||!e.formattedAddress)&&(this.latitude=t.latitude,this.longitude=t.longitude,this.formattedAddress=t.address,this.reverseGeocode(this.latitude,this.longitude)),this.subscription=this.wizardService.nextStep$.subscribe(()=>{this.saveFormData()}),this.validateForm()}async reverseGeocode(e,t){try{let r=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e}&lon=${t}&addressdetails=1`)).json();if(r.address){let o=r.address;this.countryName=o.country||"",this.country=r.address.country_code?.toUpperCase()||"",this.street=[o.road,o.house_number].filter(Boolean).join(" ")||"",this.city=o.city||o.town||o.village||"",this.state=o.state||"",this.zipcode=o.postcode||"",this.formattedAddress=r.display_name,this.saveFormData()}}catch(i){console.error("Error reverse geocoding:",i)}}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}saveFormData(){let e={country:this.country,countryName:this.countryName,street:this.street,apt:this.apt,city:this.city,state:this.state,zipcode:this.zipcode,latitude:this.latitude,longitude:this.longitude,formattedAddress:this.formattedAddress,showSpecificLocation:this.showSpecificLocation};this.formStorage.saveFormData("step1-4-2",e),this.validateForm()}validateForm(){let e=!!this.zipcode&&this.zipcode.length>0,t=e&&this.zipcode.length>=3&&this.zipcode.length<=10&&/^\d+$/.test(this.zipcode);if(e&&this.zipcode.length<3){this.formStorage.saveFormData("step1-4-2",Ve(ie({},this.formStorage.getStepData("step1-4-2")),{isValid:!1}));return}let i=!!this.country?.trim()&&!!this.street?.trim()&&!!this.city?.trim()&&!!this.state?.trim()&&t,r=this.formStorage.getStepData("step1-4-2");this.formStorage.saveFormData("step1-4-2",Ve(ie({},r),{isValid:i})),this.validationService.validateStep("step1-4-2-confirm-address")}onCountryChange(e){this.country=e,this.saveFormData(),this.validateForm()}onStreetChange(e){this.street=e,this.saveFormData(),this.validateForm()}onAptChange(e){this.apt=e,this.saveFormData()}onCityChange(e){this.city=e,this.saveFormData(),this.validateForm()}onStateChange(e){this.state=e,this.saveFormData(),this.validateForm()}validateZipcode(e){let t=e.target,i=t.value;if(i=i.replace(/[^0-9]/g,""),i.length>10&&(i=i.slice(0,10),t.blur()),t.value=i,this.zipcode=i,i.length>0&&i.length<3){this.formStorage.saveFormData("step1-4-2",Ve(ie({},this.formStorage.getStepData("step1-4-2")),{zipcode:i,isValid:!1})),this.validationService.validateStep("step1-4-2-confirm-address");return}this.validateForm(),this.validationService.validateStep("step1-4-2-confirm-address")}onZipcodeKeyPress(e){if(e.target.value.length>=10){e.preventDefault();return}if(!/[0-9]/.test(e.key)){e.preventDefault();return}}onZipcodeChange(e){this.zipcode=e,this.saveFormData(),this.validateForm()}onLocationPreferenceChange(e){this.showSpecificLocation=e,this.saveFormData()}static \u0275fac=function(t){return new(t||n)(V(Mn),V(Bn),V(Qn))};static \u0275cmp=le({type:n,selectors:[["app-step1-4-2-confirm-address"]],decls:33,vars:6,consts:[[1,"page-container"],[1,"content-container"],[1,"page-header"],[1,"page-title"],[1,"page-subtitle"],["autocomplete","off",1,"address-form"],[1,"form-grid"],[1,"form-field","full-width"],["type","text","id","country","readonly","","required","","name","country",1,"form-input",3,"value"],["for","country",1,"form-label"],["type","text","id","street","placeholder"," ","required","","name","street",1,"form-input",3,"ngModelChange","ngModel"],["for","street",1,"form-label"],["type","text","id","apt","placeholder"," ","required","","name","apt",1,"form-input",3,"ngModelChange","ngModel"],["for","apt",1,"form-label"],[1,"form-field"],["type","text","id","city","placeholder"," ","name","city",1,"form-input",3,"ngModelChange","ngModel"],["for","city",1,"form-label"],["type","text","id","state","placeholder"," ","required","","name","state",1,"form-input",3,"ngModelChange","ngModel"],["for","state",1,"form-label"],["type","number","id","zipcode","placeholder"," ","required","","minlength","3","maxlength","10","pattern","[0-9]*","name","zipcode",1,"form-input",3,"ngModelChange","input","keypress","ngModel"],["for","zipcode",1,"form-label"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"main",1)(2,"header",2)(3,"h1",3),m(4,"Confirm your address"),d(),l(5,"p",4),m(6," Your address is only shared with guests after they\u2019ve made a reservation. "),d()(),l(7,"form",5)(8,"div",6)(9,"div",7),k(10,"input",8),l(11,"label",9),m(12,"Country / region"),d()(),l(13,"div",7)(14,"input",10),mt("ngModelChange",function(o){return _t(i.street,o)||(i.street=o),o}),T("ngModelChange",function(o){return i.onStreetChange(o)}),d(),l(15,"label",11),m(16,"Street address"),d()(),l(17,"div",7)(18,"input",12),mt("ngModelChange",function(o){return _t(i.apt,o)||(i.apt=o),o}),T("ngModelChange",function(o){return i.onAptChange(o)}),d(),l(19,"label",13),m(20,"Apt, room, etc. (if applicable)"),d()(),l(21,"div",14)(22,"input",15),mt("ngModelChange",function(o){return _t(i.city,o)||(i.city=o),o}),T("ngModelChange",function(o){return i.onCityChange(o)}),d(),l(23,"label",16),m(24,"City / markaz"),d()(),l(25,"div",14)(26,"input",17),mt("ngModelChange",function(o){return _t(i.state,o)||(i.state=o),o}),T("ngModelChange",function(o){return i.onStateChange(o)}),d(),l(27,"label",18),m(28,"Governorate"),d()(),l(29,"div",7)(30,"input",19),mt("ngModelChange",function(o){return _t(i.zipcode,o)||(i.zipcode=o),o}),T("ngModelChange",function(o){return i.onZipcodeChange(o)})("input",function(o){return i.validateZipcode(o)})("keypress",function(o){return i.onZipcodeKeyPress(o)}),d(),l(31,"label",20),m(32,"Postal code"),d()()()()()()),t&2&&(p(10),_("value",i.countryName),p(4),ft("ngModel",i.street),p(4),ft("ngModel",i.apt),p(4),ft("ngModel",i.city),p(4),ft("ngModel",i.state),p(4),ft("ngModel",i.zipcode))},dependencies:[Mt,mn,Rt,nc,Dt,fn,gs,Nx,da,Rx,kn,wr,he],styles:['[_ngcontent-%COMP%]:root{--bg-color: #ffffff;--primary-text-color: #222222;--secondary-text-color: #6a6a6a;--border-color: #dddddd;--hover-bg: #f8f9fa;--input-bg: transparent;--input-readonly-bg: #f7f7f7;--toggle-bg: #cccccc;--toggle-checked-bg: #222222;--toggle-button: #ffffff;--shadow-color: rgba(0, 0, 0, .1)}@media (prefers-color-scheme: dark){[_ngcontent-%COMP%]:root{--bg-color: #1a1a1a;--primary-text-color: #ffffff;--secondary-text-color: #a0a0a0;--border-color: #404040;--hover-bg: #2d2d2d;--input-bg: transparent;--input-readonly-bg: #2d2d2d;--toggle-bg: #404040;--toggle-checked-bg: #ffffff;--toggle-button: #1a1a1a;--shadow-color: rgba(0, 0, 0, .3)}}.page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;box-sizing:border-box;background-color:var(--bg-color);color:var(--primary-text-color)}.content-container[_ngcontent-%COMP%]{width:100%;max-width:630px}.page-header[_ngcontent-%COMP%]{margin-bottom:32px}.page-title[_ngcontent-%COMP%]{font-size:32px;line-height:36px;font-weight:500;margin:0 0 8px;color:var(--primary-text-color)}.page-subtitle[_ngcontent-%COMP%]{font-size:18px;line-height:24px;color:var(--secondary-text-color);margin:0}.address-form[_ngcontent-%COMP%]{margin-bottom:32px}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;border:2px solid var(--border-color);border-radius:12px;overflow:hidden;box-shadow:0 1px 3px var(--shadow-color);background-color:var(--bg-color)}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield;appearance:textfield}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.form-field[_ngcontent-%COMP%]{position:relative;border-bottom:1px solid var(--border-color)}.form-field[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.form-grid[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]:last-child, .form-grid[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]:nth-last-child(2):nth-child(odd){border-bottom:none}.form-field[_ngcontent-%COMP%]:not(:nth-child(2n)){border-right:2px solid var(--border-color)}.form-field.full-width[_ngcontent-%COMP%]{grid-column:1 / -1;border-right:none}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{width:100%;padding:26px 12px 10px;border:none;outline:none;background-color:var(--input-bg);color:var(--primary-text-color);font-size:16px;font-family:inherit;box-sizing:border-box}.form-input[readonly][_ngcontent-%COMP%]{cursor:default;color:var(--secondary-text-color);background-color:var(--input-readonly-bg)}.form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-size:16px;padding:8px}.form-label[_ngcontent-%COMP%]{position:absolute;top:18px;left:12px;font-size:16px;color:var(--secondary-text-color);pointer-events:none;transition:all .15s ease-out}.form-input[_ngcontent-%COMP%]:focus + .form-label[_ngcontent-%COMP%], .form-input[_ngcontent-%COMP%]:not(:placeholder-shown) + .form-label[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]:valid + .form-label[_ngcontent-%COMP%]{transform:translateY(-8px) scale(.75);transform-origin:top left}.location-preference[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:28px 0;border-top:1px solid var(--border-color)}.preference-text[_ngcontent-%COMP%]{padding-right:12px}.preference-title[_ngcontent-%COMP%]{font-size:16px;font-weight:500;line-height:20px;margin:0 0 4px;color:var(--primary-text-color)}.preference-description[_ngcontent-%COMP%]{font-size:14px;line-height:18px;color:var(--secondary-text-color);margin:0}.learn-more-link[_ngcontent-%COMP%]{color:var(--secondary-text-color);text-decoration:underline}.toggle-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:48px;height:32px;flex-shrink:0}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:var(--toggle-bg);border-radius:32px;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:28px;width:28px;left:2px;bottom:2px;background-color:var(--toggle-button);border-radius:50%;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--toggle-checked-bg)}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(16px)}']})};var S8=class n{constructor(e,t,i){this.formStorage=e;this.wizardService=t;this.validationService=i}subscription;guests=4;bedrooms=1;beds=1;bathrooms=1;ngOnInit(){let e=this.formStorage.getStepData("step1-5");e&&(this.guests=e.guests??4,this.bedrooms=e.bedrooms??1,this.beds=e.beds??1,this.bathrooms=e.bathrooms??1),this.subscription=this.wizardService.nextStep$.subscribe(()=>{this.saveFormData()}),this.saveFormData(),this.validationService.validateStep("step1-5-basic-about")}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}saveFormData(){let e={guests:this.guests,bedrooms:this.bedrooms,beds:this.beds,bathrooms:this.bathrooms,isValid:!0};this.formStorage.saveFormData("step1-5",e)}minGuests=1;maxGuests=16;minBedrooms=0;maxBedrooms=10;minBeds=1;maxBeds=16;minBathrooms=1;maxBathrooms=6;increaseCounter(e){switch(e){case"guests":this.guests++;break;case"bedrooms":this.bedrooms++;break;case"beds":this.beds++;break;case"bathrooms":this.bathrooms++;break}this.saveFormData(),this.validationService.validateStep("step1-5-basic-about")}decreaseCounter(e){switch(e){case"guests":this.guests>this.minGuests&&this.guests--;break;case"bedrooms":this.bedrooms>this.minBedrooms&&this.bedrooms--;break;case"beds":this.beds>this.minBeds&&this.beds--;break;case"bathrooms":this.bathrooms>this.minBathrooms&&this.bathrooms--;break}this.saveFormData(),this.validationService.validateStep("step1-5-basic-about")}static \u0275fac=function(t){return new(t||n)(V(Mn),V(Bn),V(Qn))};static \u0275cmp=le({type:n,selectors:[["app-step1-5-basic-about"]],decls:56,vars:12,consts:[[1,"page-container"],[1,"content-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-subtitle"],[1,"counter-list"],[1,"counter-item"],[1,"counter-label"],[1,"counter-controls"],["type","button","aria-label","Decrease guests",1,"control-button",3,"click","disabled"],["viewBox","0 0 12 12"],["d","m.75 6.75h10.5v-1.5h-10.5z"],[1,"counter-value"],["type","button","aria-label","Increase guests",1,"control-button",3,"click","disabled"],["d","m6.75.75v4.5h4.5v1.5h-4.5v4.5h-1.5v-4.5h-4.5v-1.5h4.5v-4.5z"],["type","button","aria-label","Decrease bedrooms",1,"control-button",3,"click","disabled"],["type","button","aria-label","Increase bedrooms",1,"control-button",3,"click","disabled"],["type","button","aria-label","Decrease beds",1,"control-button",3,"click","disabled"],["type","button","aria-label","Increase beds",1,"control-button",3,"click","disabled"],["type","button","aria-label","Decrease bathrooms",1,"control-button",3,"click","disabled"],["type","button","aria-label","Increase bathrooms",1,"control-button",3,"click","disabled"]],template:function(t,i){t&1&&(Pe(0,"div",0)(1,"main",1)(2,"header",2)(3,"h1",3),m(4,"Share some basics about your place"),Le(),Pe(5,"p",4),m(6," You'll add more details later, like bed types. "),Le()(),Pe(7,"div",5)(8,"div",6)(9,"span",7),m(10,"Guests"),Le(),Pe(11,"div",8)(12,"button",9),fi("click",function(){return i.decreaseCounter("guests")}),$e(),Pe(13,"svg",10),pn(14,"path",11),Le()(),lt(),Pe(15,"span",12),m(16),Le(),Pe(17,"button",13),fi("click",function(){return i.increaseCounter("guests")}),$e(),Pe(18,"svg",10),pn(19,"path",14),Le()()()(),lt(),Pe(20,"div",6)(21,"span",7),m(22,"Bedrooms"),Le(),Pe(23,"div",8)(24,"button",15),fi("click",function(){return i.decreaseCounter("bedrooms")}),$e(),Pe(25,"svg",10),pn(26,"path",11),Le()(),lt(),Pe(27,"span",12),m(28),Le(),Pe(29,"button",16),fi("click",function(){return i.increaseCounter("bedrooms")}),$e(),Pe(30,"svg",10),pn(31,"path",14),Le()()()(),lt(),Pe(32,"div",6)(33,"span",7),m(34,"Beds"),Le(),Pe(35,"div",8)(36,"button",17),fi("click",function(){return i.decreaseCounter("beds")}),$e(),Pe(37,"svg",10),pn(38,"path",11),Le()(),lt(),Pe(39,"span",12),m(40),Le(),Pe(41,"button",18),fi("click",function(){return i.increaseCounter("beds")}),$e(),Pe(42,"svg",10),pn(43,"path",14),Le()()()(),lt(),Pe(44,"div",6)(45,"span",7),m(46,"Bathrooms"),Le(),Pe(47,"div",8)(48,"button",19),fi("click",function(){return i.decreaseCounter("bathrooms")}),$e(),Pe(49,"svg",10),pn(50,"path",11),Le()(),lt(),Pe(51,"span",12),m(52),Le(),Pe(53,"button",20),fi("click",function(){return i.increaseCounter("bathrooms")}),$e(),Pe(54,"svg",10),pn(55,"path",14),Le()()()()()()()),t&2&&(p(12),or("disabled",i.guests<=i.minGuests),p(4),$(i.guests),p(),or("disabled",i.guests>=i.maxGuests),p(7),or("disabled",i.bedrooms<=i.minBedrooms),p(4),$(i.bedrooms),p(),or("disabled",i.bedrooms>=i.maxBedrooms),p(7),or("disabled",i.beds<=i.minBeds),p(4),$(i.beds),p(),or("disabled",i.beds>=i.maxBeds),p(7),or("disabled",i.bathrooms<=i.minBathrooms),p(4),$(i.bathrooms),p(),or("disabled",i.bathrooms>=i.maxBathrooms))},styles:[".page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;box-sizing:border-box}.content-wrapper[_ngcontent-%COMP%]{width:100%;max-width:630px}.page-header[_ngcontent-%COMP%]{margin-bottom:32px}.page-title[_ngcontent-%COMP%]{font-size:32px;line-height:36px;font-weight:500;margin:0 0 8px}.page-subtitle[_ngcontent-%COMP%]{font-size:18px;line-height:24px;color:#6a6a6a;margin:0}.counter-list[_ngcontent-%COMP%]{display:flex;flex-direction:column}.counter-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px 0;border-bottom:1px solid #ebebeb;opacity:0;animation:_ngcontent-%COMP%_slideInUp .6s cubic-bezier(.2,0,0,1) forwards}.counter-item[_ngcontent-%COMP%]:first-child{border-top:1px solid #ebebeb}.counter-label[_ngcontent-%COMP%]{font-size:18px}.counter-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.control-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:32px;height:32px;border:1px solid #b0b0b0;border-radius:50%;background-color:#fff;cursor:pointer;transition:transform .1s ease-in-out}.control-button[_ngcontent-%COMP%]:active{transform:scale(.9)}.control-button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;border-color:#ebebeb}.control-button[_ngcontent-%COMP%]:disabled   svg[_ngcontent-%COMP%]{fill:#ebebeb}.control-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px;fill:#717171}.counter-value[_ngcontent-%COMP%]{font-size:16px;min-width:20px;text-align:center}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.counter-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.counter-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.counter-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.counter-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}"]})};var P8=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=le({type:n,selectors:[["app-step2-1-make-your"]],decls:12,vars:0,consts:[[1,"page-container"],[1,"intro-section"],[1,"intro-content"],[1,"step-indicator"],[1,"intro-title"],[1,"intro-description"],[1,"intro-media"],["autoplay","","loop","","muted","","playsinline","","preload","auto",1,"intro-video"],["src","https://stream.media.muscache.com/H0101WTUG2qWbyFhy02jlOggSkpsM9H02VOWN52g02oxhDVM.mp4?v_q=high","type","video/mp4"]],template:function(t,i){t&1&&(Pe(0,"div",0)(1,"main",1)(2,"div",2)(3,"div",3),m(4,"Step 2"),Le(),Pe(5,"h1",4),m(6,"Make your place stand out"),Le(),Pe(7,"p",5),m(8," In this step, you\u2019ll add some of the amenities your place offers, plus 5 or more photos. Then, you\u2019ll create a title and description. "),Le()(),Pe(9,"div",6)(10,"video",7),pn(11,"source",8),Le()()()())},styles:[".page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;box-sizing:border-box}.intro-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:60px;width:100%;max-width:1206px}.intro-content[_ngcontent-%COMP%]{max-width:500px;animation:_ngcontent-%COMP%_slideInLeft .8s cubic-bezier(.25,.46,.45,.94) forwards}.step-indicator[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin-bottom:16px}.intro-title[_ngcontent-%COMP%]{font-size:48px;line-height:54px;font-weight:500;margin:0 0 24px}.intro-description[_ngcontent-%COMP%]{font-size:18px;line-height:28px;color:#6a6a6a;margin:0}.intro-media[_ngcontent-%COMP%]{width:473px;height:414px;border-radius:12px;overflow:hidden;animation:_ngcontent-%COMP%_fadeIn .8s ease-out forwards}.intro-video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]})};function aee(n,e){n&1&&(l(0,"div",8),k(1,"div",9),l(2,"p"),m(3,"Loading amenities..."),d()())}function see(n,e){if(n&1){let t=X();l(0,"div",10)(1,"p",11),m(2),d(),l(3,"button",12),T("click",function(){z(t);let r=C();return A(r.ngOnInit())}),m(4,"Try Again"),d()()}if(n&2){let t=C();p(2),$(t.error)}}function lee(n,e){if(n&1&&k(0,"img",23),n&2){let t=C().$implicit,i=C(2);_("src",i.getAmenitiesImg(t.iconUrl),et)("alt",t.name+" icon")}}function cee(n,e){n&1&&k(0,"i",24)}function dee(n,e){if(n&1&&(l(0,"span",25),m(1),d()),n&2){let t=C().$implicit;p(),$(t.description)}}function uee(n,e){if(n&1){let t=X();l(0,"button",17),T("click",function(){let r=z(t).$implicit,o=C(2);return A(o.toggleAmenity(r))}),l(1,"div",18),j(2,lee,1,2,"img",19)(3,cee,1,0,"i",20),d(),l(4,"span",21),m(5),d(),j(6,dee,2,1,"span",22),d()}if(n&2){let t=e.$implicit,i=e.index,r=C(2);xt("animation-delay",i*50+"ms"),Me("selected",r.isAmenitySelected(t)),an("aria-checked",r.isAmenitySelected(t)),p(2),_("ngIf",t.iconUrl),p(),_("ngIf",!t.iconUrl),p(2),$(t.name),p(),_("ngIf",t.description)}}function pee(n,e){if(n&1&&(l(0,"div")(1,"section",13)(2,"h2",14),m(3,"Select the amenities your place offers"),d(),l(4,"div",15),j(5,uee,7,9,"button",16),d()()()),n&2){let t=C();p(5),_("ngForOf",t.amenities)}}var k8=class n{constructor(e,t,i,r){this.formStorage=e;this.wizardService=t;this.amenityService=i;this.validationService=r}subscription;loadingSubscription;handleImgService=q(Nr);amenities=[];isLoading=!0;error=null;selectedAmenityIds=new Set;ngOnInit(){let e=this.formStorage.getStepData("step2-2");e?.selectedAmenityIds&&(this.selectedAmenityIds=new Set(e.selectedAmenityIds)),this.loadingSubscription=this.amenityService.getAllAmenities().subscribe({next:t=>{this.amenities=t,this.isLoading=!1,console.log("Amenities loaded:",this.amenities)},error:t=>{console.error("Failed to load amenities:",t),this.error="Failed to load amenities. Please try again.",this.isLoading=!1}}),this.subscription=this.wizardService.nextStep$.subscribe(()=>{this.saveFormData()}),this.selectedAmenityIds.size>0&&this.validationService.validateStep("step2-2-tell-guests")}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.loadingSubscription&&this.loadingSubscription.unsubscribe()}toggleAmenity(e){this.selectedAmenityIds.has(e.id)?this.selectedAmenityIds.delete(e.id):this.selectedAmenityIds.add(e.id),this.saveFormData(),this.validationService.validateStep("step2-2-tell-guests")}saveFormData(){let e={selectedAmenityIds:Array.from(this.selectedAmenityIds),selectedAmenities:this.amenities.filter(t=>this.selectedAmenityIds.has(t.id))};this.formStorage.saveFormData("step2-2",e)}isAmenitySelected(e){return this.selectedAmenityIds.has(e.id)}getSelectedAmenities(){return this.amenities.filter(e=>this.selectedAmenityIds.has(e.id))}getAmenitiesImg(e){return this.handleImgService.handleImage(e||"")}static \u0275fac=function(t){return new(t||n)(V(Mn),V(Bn),V(C4),V(Qn))};static \u0275cmp=le({type:n,selectors:[["app-step2-2-tell-guests"]],decls:10,vars:3,consts:[[1,"page-container"],[1,"content-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-subtitle"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],[4,"ngIf"],[1,"loading-state"],[1,"spinner"],[1,"error-state"],[1,"error-message"],[1,"retry-button",3,"click"],[1,"amenity-section"],[1,"section-title"],[1,"amenities-grid"],["type","button","role","checkbox","class","amenity-card",3,"selected","animation-delay","click",4,"ngFor","ngForOf"],["type","button","role","checkbox",1,"amenity-card",3,"click"],[1,"amenity-icon"],["loading","lazy",3,"src","alt",4,"ngIf"],["class","default-icon",4,"ngIf"],[1,"amenity-label"],["class","amenity-description",4,"ngIf"],["loading","lazy",3,"src","alt"],[1,"default-icon"],[1,"amenity-description"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"main",1)(2,"header",2)(3,"h1",3),m(4,"Tell guests what your place has to offer"),d(),l(5,"p",4),m(6," You can add more amenities after you publish your listing. "),d()(),j(7,aee,4,0,"div",5)(8,see,5,1,"div",6)(9,pee,6,1,"div",7),d()()),t&2&&(p(7),_("ngIf",i.isLoading),p(),_("ngIf",i.error),p(),_("ngIf",!i.isLoading&&!i.error))},dependencies:[he,Xe,Ce],styles:[".page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;box-sizing:border-box}.content-wrapper[_ngcontent-%COMP%]{width:100%;max-width:630px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:200px;padding:32px}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid var(--border-color);border-top:4px solid var(--primary-text-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:16px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-state[_ngcontent-%COMP%]{text-align:center;padding:32px;background-color:var(--light-grey-bg);border-radius:12px;margin:32px 0}.error-message[_ngcontent-%COMP%]{color:var(--airbnb-red);margin-bottom:16px}.retry-button[_ngcontent-%COMP%]{background-color:#222;color:#fff;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-weight:500;transition:background-color .2s ease}.retry-button[_ngcontent-%COMP%]:hover{background-color:#000}.default-icon[_ngcontent-%COMP%]{width:32px;height:32px;background-color:var(--light-grey-bg);border-radius:50%;display:flex;align-items:center;justify-content:center}.amenity-description[_ngcontent-%COMP%]{font-size:14px;color:var(--secondary-text-color);margin-top:4px;display:block}.page-header[_ngcontent-%COMP%]{margin-bottom:32px}.page-title[_ngcontent-%COMP%]{font-size:32px;line-height:36px;font-weight:500;margin:0 0 8px}.page-subtitle[_ngcontent-%COMP%]{font-size:18px;line-height:24px;color:var(--secondary-text-color);margin:0}.amenity-section[_ngcontent-%COMP%]{margin-bottom:40px}.section-title[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin:0 0 24px}.amenities-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:16px}.amenity-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start;height:120px;padding:16px;background-color:var(--bg-color);border:1px solid var(--border-color);border-radius:12px;cursor:pointer;text-align:left;transition:border-color .2s ease,background-color .2s ease;font-family:inherit;font-size:16px;opacity:0;animation:_ngcontent-%COMP%_fadeIn .6s cubic-bezier(.2,0,0,1) forwards}.amenity-card[_ngcontent-%COMP%]:hover{border-color:var(--primary-text-color)}.amenity-card.selected[_ngcontent-%COMP%]{background-color:var(--hover-bg);border:2px solid var(--primary-text-color);padding:15px}.amenity-icon[_ngcontent-%COMP%]{width:32px;height:32px;margin-bottom:8px;background-color:#fff}.amenity-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;display:block;object-fit:contain}.amenity-label[_ngcontent-%COMP%]{font-weight:500;word-break:break-word}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})};var O8=class n{constructor(e,t){this.router=e;this.formStorage=t}isModalOpen=!1;hasUploadedPhotos=!1;imageFiles=[];imagePreviews=[];onFilesSelected(e){console.log("\u{1F5BC}\uFE0F Files selected event triggered");let t=e.target;if(!t?.files){console.log("\u274C No files in input");return}let i=Array.from(t.files);console.log(`\u{1F4C1} Selected ${i.length} files:`,i.map(a=>({name:a.name,size:a.size,type:a.type}))),this.imageFiles=[],this.imagePreviews=[],i.forEach((a,c)=>{if(console.log(`Processing file ${c}:`,a.name,a.type),a.type.startsWith("image/")){let u=URL.createObjectURL(a);this.imageFiles.push(a),this.imagePreviews.push({url:u,isCover:c===0}),console.log(`\u2705 Added image ${c}: ${a.name}`)}else console.log(`\u274C Skipped non-image file: ${a.name}`)}),console.log("\u{1F4F7} Final arrays:"),console.log(`  - imageFiles count: ${this.imageFiles.length}`),console.log(`  - imagePreviews count: ${this.imagePreviews.length}`);let r={imageFiles:this.imageFiles,images:this.imagePreviews,coverIndex:0};console.log("\u{1F4BE} Saving data to storage:",r),this.formStorage.saveFormData("step2-3",r);let o=this.formStorage.getStepData("step2-3");console.log("\u2705 Data verification after save:",o),o&&o.imageFiles&&o.imageFiles.length>0?console.log(`\u2705 Successfully saved ${o.imageFiles.length} images`):console.error("\u274C Failed to save images properly!"),this.hasUploadedPhotos=this.imageFiles.length>0,console.log("\u{1F9ED} Navigating to photos-ta-da..."),this.router.navigate(["/listing-wizard/step2-3-3-photos-ta-da"])}checkStoredData(){console.log("\u{1F50D} Checking stored data...");let e=this.formStorage.getStepData("step2-3");console.log("Step 2-3 data:",e),e?.imageFiles?console.log(`Found ${e.imageFiles.length} stored images`):console.log("No images found in storage")}openModal(){this.isModalOpen=!0,this.checkStoredData()}closeModal(){this.isModalOpen=!1}removePhoto(e){if(console.log(`\u{1F5D1}\uFE0F Removing photo at index ${e}`),e>=0&&e<this.imageFiles.length){let t=this.imageFiles[e],i=this.imagePreviews[e];i?.url&&URL.revokeObjectURL(i.url),this.imageFiles.splice(e,1),this.imagePreviews.splice(e,1),console.log(`\u2705 Removed ${t.name}, remaining: ${this.imageFiles.length}`);let r={imageFiles:this.imageFiles,images:this.imagePreviews,coverIndex:0};this.formStorage.saveFormData("step2-3",r),this.hasUploadedPhotos=this.imageFiles.length>0}}continueToTaDa(){console.log("\u27A1\uFE0F Continue to Ta-Da clicked"),this.checkStoredData(),this.closeModal(),this.router.navigate(["/listing-wizard/step2-3-3-photos-ta-da"])}static \u0275fac=function(t){return new(t||n)(V(nt),V(Mn))};static \u0275cmp=le({type:n,selectors:[["app-step2-3-2-photos-modal"]],decls:24,vars:2,consts:[["fileInput",""],["role","dialog","aria-modal","true","aria-labelledby","modal-title",1,"modal-overlay",3,"click","hidden"],[1,"modal-content",3,"click"],[1,"modal-header"],["aria-label","Close",1,"close-button",3,"click"],["viewBox","0 0 32 32"],["d","m6 6 20 20M26 6 6 26"],["id","modal-title",1,"modal-title"],[1,"modal-body"],[1,"upload-area"],[1,"upload-icon"],["viewBox","0 0 64 64"],["d","M41.636 8.404l1.017 7.237 17.579 4.71a5 5 0 0 1 3.587 5.914l-.051.21-6.73 25.114A5.002 5.002 0 0 1 53 55.233V56a5 5 0 0 1-4.783 4.995L48 61H16a5 5 0 0 1-4.995-4.783L11 56V44.013l-1.69.239a5 5 0 0 1-5.612-4.042l-.034-.214L.045 14.25a5 5 0 0 1 4.041-5.612l.215-.035 31.688-4.454a5 5 0 0 1 5.647 4.256zm-20.49 39.373l-.14.131L13 55.914V56a3 3 0 0 0 2.824 2.995L16 59h21.42L25.149 47.812a3 3 0 0 0-4.004-.035zm16.501-9.903l-.139.136-9.417 9.778L40.387 59H48a3 3 0 0 0 2.995-2.824L51 56v-9.561l-9.3-8.556a3 3 0 0 0-4.053-.009zM53 34.614V53.19a3.003 3.003 0 0 0 2.054-1.944l.052-.174 2.475-9.235L53 34.614zM48 27H31.991c-.283.031-.571.032-.862 0H16a3 3 0 0 0-2.995 2.824L13 30v23.084l6.592-6.59a5 5 0 0 1 6.722-.318l.182.159.117.105 9.455-9.817a5 5 0 0 1 6.802-.374l.184.162L51 43.721V30a3 3 0 0 0-2.824-2.995L48 27zm-37 5.548l-5.363 7.118.007.052a3 3 0 0 0 3.388 2.553L11 41.994v-9.446zM25.18 15.954l-.05.169-2.38 8.876h5.336a4 4 0 1 1 6.955 0L48 25.001a5 5 0 0 1 4.995 4.783L53 30v.88l5.284 8.331 3.552-13.253a3 3 0 0 0-1.953-3.624l-.169-.05L28.804 14a3 3 0 0 0-3.623 1.953zM21 31a4 4 0 1 1 0 8 4 4 0 0 1 0-8zm0 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM36.443 6.11l-.175.019-31.69 4.453a3 3 0 0 0-2.572 3.214l.02.175 3.217 22.894 5.833-7.74a5.002 5.002 0 0 1 4.707-4.12L16 25h4.68l2.519-9.395a5 5 0 0 1 5.913-3.587l.21.051 11.232 3.01-.898-6.397a3 3 0 0 0-3.213-2.573zm-6.811 16.395a2 2 0 0 0 1.64 2.496h.593a2 2 0 1 0-2.233-2.496zM10 13a4 4 0 1 1 0 8 4 4 0 0 1 0-8zm0 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"],[1,"upload-prompt"],["type","file","multiple","","accept","image/jpeg,image/png,image/heic",2,"display","none",3,"change"],["type","button",1,"button-secondary",3,"click"],[1,"modal-footer"],["type","button",1,"button-tertiary",3,"click"],["type","button",1,"button-primary",3,"click","disabled"]],template:function(t,i){if(t&1){let r=X();Pe(0,"div",1),fi("click",function(){return z(r),A(i.closeModal())}),Pe(1,"div",2),fi("click",function(a){return z(r),A(a.stopPropagation())}),Pe(2,"header",3)(3,"button",4),fi("click",function(){return z(r),A(i.closeModal())}),$e(),Pe(4,"svg",5),pn(5,"path",6),Le()(),lt(),Pe(6,"h1",7),m(7,"Upload photos"),Le()(),Pe(8,"main",8)(9,"div",9)(10,"div",10),$e(),Pe(11,"svg",11),pn(12,"path",12),Le()(),lt(),Pe(13,"p",13),m(14,"Drag and drop or browse for photos"),Le(),Pe(15,"input",14,0),fi("change",function(a){return z(r),A(i.onFilesSelected(a))}),Le(),Pe(17,"button",15),fi("click",function(){z(r);let a=qi(16);return A(a.click())}),m(18,"Browse"),Le()()(),Pe(19,"footer",16)(20,"button",17),fi("click",function(){return z(r),A(i.closeModal())}),m(21,"Cancel"),Le(),Pe(22,"button",18),fi("click",function(){return z(r),A(i.continueToTaDa())}),m(23,"Continue"),Le()()()()}t&2&&(or("hidden",!i.isModalOpen),p(22),or("disabled",!i.hasUploadedPhotos))},dependencies:[he],styles:[".button-primary[_ngcontent-%COMP%]{background-color:var(--primary-text-color);color:var(--bg-color);border:none;border-radius:8px;padding:14px 24px;font-size:16px;font-weight:500;cursor:pointer;transition:background-color .2s ease}.button-primary[_ngcontent-%COMP%]:hover{background-color:var(--selected-bg)}.button-primary[_ngcontent-%COMP%]:disabled{background-color:var(--disabled-color);cursor:not-allowed}.button-secondary[_ngcontent-%COMP%]{background-color:var(--bg-color);color:var(--primary-text-color);border:1px solid var(--primary-text-color);border-radius:8px;padding:10px 18px;font-size:14px;font-weight:500;cursor:pointer}.button-tertiary[_ngcontent-%COMP%]{background:none;border:none;color:var(--primary-text-color);text-decoration:underline;font-size:16px;font-weight:500;cursor:pointer}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:var(--bg-color);border-radius:12px;width:100%;max-width:568px;display:flex;flex-direction:column;max-height:90vh;box-shadow:0 8px 28px var(--shadow-color)}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:0 24px;min-height:64px;border-bottom:1px solid var(--border-color);position:relative}.close-button[_ngcontent-%COMP%]{position:absolute;left:24px;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;padding:0}.close-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;stroke:var(--primary-text-color);stroke-width:3px}.modal-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin:0}.modal-body[_ngcontent-%COMP%]{padding:24px;overflow-y:auto}.upload-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;border:2px dashed var(--border-color);border-radius:12px;background-color:var(--light-grey-bg);text-align:center}.upload-icon[_ngcontent-%COMP%]{width:64px;height:64px;margin-bottom:16px;fill:var(--secondary-text-color)}.upload-prompt[_ngcontent-%COMP%]{font-size:22px;font-weight:500;margin:0 0 16px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-top:1px solid var(--border-color)}"]})};var fee=["photosModal"];function mee(n,e){if(n&1&&(l(0,"div",16),k(1,"img",17),l(2,"button",18),m(3,"\xD7"),d()()),n&2){let t=e.$implicit;p(),_("src",t,et)}}function hee(n,e){if(n&1&&(l(0,"div",14),j(1,mee,4,1,"div",15),d()),n&2){let t=C();p(),_("ngForOf",t.photos)}}var D8=class n{constructor(e,t,i,r){this.router=e;this.formStorage=t;this.wizardService=i;this.validationService=r}subscription;dropzoneHighlight=!1;photos=[];photosModal;ngOnInit(){this.loadFromStorage(),this.subscription=this.wizardService.nextStep$.subscribe(()=>{this.saveFormData()}),this.saveFormData()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadFromStorage(){let e=this.formStorage.getStepData("step2-3-1");e?.photos&&(this.photos=e.photos)}saveFormData(){let e={photos:this.photos,isValid:!0};this.formStorage.saveFormData("step2-3-1",e),this.validationService.validateStep("step2-3-1-add-photos")}openPhotosModal(){this.photosModal.openModal()}handleDrop(e){e.preventDefault(),this.dropzoneHighlight=!1,e.dataTransfer?.files&&this.openPhotosModal()}static \u0275fac=function(t){return new(t||n)(V(nt),V(Mn),V(Bn),V(Qn))};static \u0275cmp=le({type:n,selectors:[["app-step2-3-add-photos"]],viewQuery:function(t,i){if(t&1&&en(fee,5),t&2){let r;qt(r=Zt())&&(i.photosModal=r.first)}},decls:20,vars:3,consts:[["photosModal",""],[1,"page-container"],[1,"content-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-subtitle"],[1,"photo-uploader"],[1,"uploader-dropzone",3,"click","dragover","dragleave","drop"],[1,"uploader-icon"],["loading","lazy","src","https://a0.muscache.com/im/pictures/mediaverse/mys-amenities-n8/original/c83b2a87-3be4-43c9-ad47-12dd2aee24c4.jpeg","alt","Upload Icon"],[1,"uploader-title"],[1,"uploader-text"],["type","button",1,"uploader-button",3,"click"],["class","photo-previews-grid","style","display: grid",4,"ngIf"],[1,"photo-previews-grid",2,"display","grid"],["class","photo-preview-item",4,"ngFor","ngForOf"],[1,"photo-preview-item"],["alt","Photo preview","loading","lazy",3,"src"],[1,"remove-photo-btn"]],template:function(t,i){if(t&1){let r=X();l(0,"div",1)(1,"main",2)(2,"header",3)(3,"h1",4),m(4,"Add some photos of your house"),d(),l(5,"p",5),m(6," You'll need 5 photos to get started. You can add more or make changes later. "),d()(),l(7,"section",6)(8,"div",7),T("click",function(){return z(r),A(i.openPhotosModal())})("dragover",function(a){return z(r),a.preventDefault(),A(i.dropzoneHighlight=!0)})("dragleave",function(){return z(r),A(i.dropzoneHighlight=!1)})("drop",function(a){return z(r),A(i.handleDrop(a))}),l(9,"div",8),k(10,"img",9),d(),l(11,"h2",10),m(12,"Drag your photos here"),d(),l(13,"p",11),m(14,"Choose at least 5 photos"),d(),l(15,"button",12),T("click",function(){return z(r),A(i.openPhotosModal())}),m(16," Upload from your device "),d()(),j(17,hee,2,1,"div",13),k(18,"app-step2-3-2-photos-modal",null,0),d()()()}t&2&&(p(8),Me("highlight",i.dropzoneHighlight),p(9),_("ngIf",i.photos.length>0))},dependencies:[he,Xe,Ce,O8],styles:[".page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;box-sizing:border-box}.content-wrapper[_ngcontent-%COMP%]{width:100%;max-width:640px;text-align:center}.page-header[_ngcontent-%COMP%]{margin-bottom:32px}.page-title[_ngcontent-%COMP%]{font-size:32px;line-height:36px;font-weight:500;margin:0 0 8px}.page-subtitle[_ngcontent-%COMP%]{font-size:18px;line-height:24px;color:var(--secondary-text-color);margin:0}.photo-uploader[_ngcontent-%COMP%]{width:100%}.uploader-dropzone[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;aspect-ratio:4 / 3;border:2px dashed var(--border-color);border-radius:12px;background-color:var(--light-grey-bg);cursor:pointer;transition:background-color .2s ease,border-color .2s ease}.uploader-dropzone.highlight[_ngcontent-%COMP%]{background-color:var(--hover-bg);border-color:var(--primary-text-color)}.uploader-icon[_ngcontent-%COMP%]{width:180px;height:180px;margin-bottom:24px;color:var(--secondary-text-color)}.uploader-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}.uploader-title[_ngcontent-%COMP%]{font-size:22px;font-weight:500;margin:0 0 8px}.uploader-text[_ngcontent-%COMP%]{font-size:16px;color:var(--secondary-text-color);margin:0 0 24px}.uploader-button[_ngcontent-%COMP%]{font-family:inherit;font-size:16px;font-weight:500;color:var(--primary-text-color);background-color:var(--bg-color);border:1px solid var(--primary-text-color);border-radius:8px;padding:14px 24px;cursor:pointer;transition:transform .1s ease-in-out,background-color .2s ease}.uploader-button[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.uploader-button[_ngcontent-%COMP%]:active{transform:scale(.96)}.photo-previews-grid[_ngcontent-%COMP%]{display:none;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:16px;width:100%}.photo-preview-item[_ngcontent-%COMP%]{position:relative;aspect-ratio:1 / 1;border-radius:8px;overflow:hidden;animation:_ngcontent-%COMP%_popIn .3s ease-out}.photo-preview-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.remove-photo-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;width:24px;height:24px;border-radius:50%;border:none;background-color:#00000080;color:#fff;font-size:16px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;line-height:1;transition:background-color .2s ease}.remove-photo-btn[_ngcontent-%COMP%]:hover{background-color:#000c}@keyframes _ngcontent-%COMP%_popIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}"]})};function gee(n,e){n&1&&(l(0,"div",15),m(1,"Cover Photo"),d())}function vee(n,e){if(n&1){let t=X();l(0,"button",16),T("click",function(){z(t);let r=C().index,o=C();return A(o.removePhoto(r))}),$e(),l(1,"svg",17),k(2,"path",18),d()()}}function bee(n,e){if(n&1){let t=X();zt(0),l(1,"div",11),T("dragstart",function(){let r=z(t).index,o=C();return A(o.onDragStart(r))})("dragover",function(r){return z(t),A(r.preventDefault())})("drop",function(){let r=z(t).index,o=C();return A(o.onDrop(r))}),k(2,"img",12),j(3,gee,2,0,"div",13)(4,vee,3,0,"button",14),d(),At()}if(n&2){let t=e.$implicit,i=e.index,r=C();p(),Me("cover-photo",i===0),_("draggable",!0),p(),_("src",t,et),p(),_("ngIf",i===0),p(),_("ngIf",r.photos.length>5)}}var E8=class n{constructor(e,t,i,r){this.formStorage=e;this.wizardService=t;this.validationService=i;this.snackBar=r}subscription;photos=[];dragStartIndex=null;ngOnInit(){let e=this.formStorage.getStepData("step2-3-3");e?.photos&&(this.photos=[...e.photos]),this.formStorage.getImageFiles().forEach(i=>{let r=URL.createObjectURL(i);this.photos.push(r)}),this.subscription=this.wizardService.nextStep$.subscribe(()=>{this.saveFormData()}),this.saveFormData()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.photos.forEach(e=>{e.startsWith("blob:")&&URL.revokeObjectURL(e)})}saveFormData(){let e={photos:this.photos,isValid:this.photos.length>=5};this.formStorage.saveFormData("step2-3-3",e),this.validationService.validateStep("step2-3-3-photos-ta-da")}addPhotos(e){let t=e.target;if(!t?.files)return;Array.from(t.files).forEach(r=>{if(r.type.startsWith("image/")){let o=URL.createObjectURL(r);this.photos.push(o);let a=this.formStorage.getImageFiles();this.formStorage.setImageFiles([...a,r])}}),this.saveFormData()}showToast(e,t,i){this.snackBar.open(e,"Close",{duration:1500,horizontalPosition:i,verticalPosition:t,panelClass:["custom-snackbar"]})}removePhoto(e){if(this.photos.length>5){this.photos[e].startsWith("blob:")&&URL.revokeObjectURL(this.photos[e]),this.photos.splice(e,1);let i=[...this.formStorage.getImageFiles()];i.splice(e,1),this.formStorage.setImageFiles(i),this.saveFormData(),this.showToast("Photo Deleted","top","right")}}onDragStart(e){this.dragStartIndex=e}onDrop(e){if(this.dragStartIndex!==null&&this.dragStartIndex!==e){let t=this.photos.splice(this.dragStartIndex,1)[0];this.photos.splice(e,0,t);let i=this.formStorage.getImageFiles(),r=i.splice(this.dragStartIndex,1)[0];i.splice(e,0,r),this.formStorage.setImageFiles(i),this.saveFormData()}this.dragStartIndex=null}static \u0275fac=function(t){return new(t||n)(V(Mn),V(Bn),V(Qn),V(vn))};static \u0275cmp=le({type:n,selectors:[["app-step2-3-3-photos-ta-da"]],decls:15,vars:1,consts:[[1,"page-container"],[1,"content-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-subtitle"],["type","file","id","add-photos-input","multiple","","accept","image/jpeg,image/png,image/heic","hidden","",3,"change"],[1,"photo-grid"],[4,"ngFor","ngForOf"],["for","add-photos-input",1,"add-photo-button"],["viewBox","0 0 32 32"],["d","M2 16h28M16 2v28"],[1,"photo-item",3,"dragstart","dragover","drop","draggable"],["alt","Property photo","loading","lazy",3,"src"],["class","photo-caption",4,"ngIf"],["class","delete-button",3,"click",4,"ngIf"],[1,"photo-caption"],[1,"delete-button",3,"click"],["viewBox","0 0 32 32","fill","none","stroke","currentColor","stroke-width","2"],["d","M7 7L25 25M25 7L7 25"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"main",1)(2,"header",2)(3,"h1",3),m(4,"Ta-da! How does this look?"),d(),l(5,"p",4),m(6,"Drag to reorder"),d()(),l(7,"input",5),T("change",function(o){return i.addPhotos(o)}),d(),l(8,"div",6),j(9,bee,5,6,"ng-container",7),l(10,"label",8),$e(),l(11,"svg",9),k(12,"path",10),d(),lt(),l(13,"span"),m(14,"Add more"),d()()()()()),t&2&&(p(9),_("ngForOf",i.photos))},dependencies:[he,Xe,Ce,zT],styles:[".page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;box-sizing:border-box}.content-wrapper[_ngcontent-%COMP%]{width:100%;max-width:700px}.page-header[_ngcontent-%COMP%]{margin-bottom:24px}.page-title[_ngcontent-%COMP%]{font-size:22px;font-weight:500;line-height:26px;margin:0}.page-subtitle[_ngcontent-%COMP%]{font-size:16px;color:#6a6a6a;margin:4px 0 0}.photo-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;width:100%}.photo-item[_ngcontent-%COMP%]{position:relative;border-radius:12px;overflow:hidden;cursor:grab;transition:transform .2s ease-in-out}.photo-item.cover-photo[_ngcontent-%COMP%]{grid-column:1 / -1;grid-row:1 / 3;aspect-ratio:3 / 2}.photo-item[_ngcontent-%COMP%]:not(.cover-photo){aspect-ratio:1 / 1}.photo-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.photo-item.drag-over[_ngcontent-%COMP%]{border:2px dashed #222}.photo-caption[_ngcontent-%COMP%]{position:absolute;bottom:16px;left:16px;background-color:#ffffffe6;padding:6px 12px;border-radius:4px;font-size:14px;font-weight:700}.delete-button[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;background-color:#ffffffe6;border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:0;box-shadow:0 2px 4px #0000002e;transition:transform .2s ease,background-color .2s ease;opacity:0;visibility:hidden}.photo-item[_ngcontent-%COMP%]:hover   .delete-button[_ngcontent-%COMP%]{opacity:1;visibility:visible}.delete-button[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;background-color:#ffffffe6;border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:0;box-shadow:0 2px 4px #0000002e;transition:transform .2s ease,background-color .2s ease}.delete-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#fff}.delete-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;stroke:#484848}.delete-button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{stroke:#222}.photo-item[_ngcontent-%COMP%]:hover   .delete-button[_ngcontent-%COMP%]{opacity:1;visibility:visible;padding:0}.photo-options-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;fill:#222}.add-photo-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;aspect-ratio:1 / 1;border:2px dashed #ddd;border-radius:12px;cursor:pointer;color:#717171;transition:border-color .2s ease,background-color .2s ease}.add-photo-button[_ngcontent-%COMP%]:hover{border-color:#b0b0b0;background-color:#f7f7f7}.add-photo-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:32px;height:32px;stroke:#717171;stroke-width:2px;margin-bottom:8px}.add-photo-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}"]})};var _ee=["titleInput"],I8=class n{constructor(e,t,i){this.formStorage=e;this.wizardService=t;this.validationService=i}subscription;title="";maxLength=20;minLength=5;titleInput;ngOnInit(){this.loadFromStorage(),this.subscription=this.wizardService.nextStep$.subscribe(()=>{this.saveFormData()}),this.saveFormData()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadFromStorage(){let e=this.formStorage.getStepData("step2-4");e?.title&&(this.title=e.title)}saveFormData(){let e=this.title.trim(),t={title:e,isValid:e.length>=this.minLength&&e.length<=this.maxLength};this.formStorage.saveFormData("step2-4",t),this.validationService.validateStep("step2-4-title")}get charCount(){return this.title.length}get limitReached(){return this.charCount>=this.maxLength}onTitleChange(){this.saveFormData()}ngAfterViewInit(){this.autoResize()}onInput(){this.autoResize(),this.saveFormData()}onKeyPress(e){this.title.length>=this.maxLength&&e.key!=="Backspace"&&e.key!=="Delete"&&e.preventDefault()}autoResize(){if(this.titleInput){let e=this.titleInput.nativeElement;e.style.height="auto",e.style.height=e.scrollHeight+"px"}}static \u0275fac=function(t){return new(t||n)(V(Mn),V(Bn),V(Qn))};static \u0275cmp=le({type:n,selectors:[["app-step2-4-title"]],viewQuery:function(t,i){if(t&1&&en(_ee,5),t&2){let r;qt(r=Zt())&&(i.titleInput=r.first)}},decls:14,vars:6,consts:[["titleInput",""],[1,"page-container"],[1,"content-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-subtitle"],[1,"title-editor"],["rows","3","placeholder"," ",1,"title-textarea",3,"ngModelChange","input","keypress","maxlength","ngModel"],[1,"character-counter"]],template:function(t,i){if(t&1){let r=X();l(0,"div",1)(1,"main",2)(2,"header",3)(3,"h1",4),m(4,"Now, let's give your house a title"),d(),l(5,"p",5),m(6," Short titles work best. Have fun with it\u2014you can always change it later. "),d()(),l(7,"div",6)(8,"textarea",7,0),mt("ngModelChange",function(a){return z(r),_t(i.title,a)||(i.title=a),A(a)}),T("input",function(){return z(r),A(i.onInput())})("keypress",function(a){return z(r),A(i.onKeyPress(a))}),d(),l(10,"div",8)(11,"span"),m(12),d(),m(13),d()()()()}t&2&&(p(8),_("maxlength",i.maxLength),ft("ngModel",i.title),p(2),Me("limit-reached",i.limitReached),p(2),$(i.charCount),p(),U("/",i.maxLength," "))},dependencies:[Mt,Rt,Dt,da,kn],styles:[".page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;box-sizing:border-box}.content-wrapper[_ngcontent-%COMP%]{width:100%;max-width:630px}.page-header[_ngcontent-%COMP%]{margin-bottom:32px}.page-title[_ngcontent-%COMP%]{font-size:32px;line-height:36px;font-weight:500;margin:0 0 8px}.page-subtitle[_ngcontent-%COMP%]{font-size:18px;line-height:24px;color:var(--secondary-text-color);margin:0}.title-editor[_ngcontent-%COMP%]{width:100%}.title-textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:24px;border:1px solid var(--border-color);border-radius:12px;font-family:inherit;font-size:22px;line-height:26px;resize:none;overflow:hidden;transition:border-color .2s ease;background-color:var(--bg-color);color:var(--primary-text-color)}.title-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-text-color);box-shadow:0 0 0 1px var(--primary-text-color)}.character-counter[_ngcontent-%COMP%]{margin-top:12px;font-size:14px;font-weight:500;color:var(--secondary-text-color);text-align:left}.character-counter.limit-reached[_ngcontent-%COMP%]{color:var(--airbnb-red)}"]})};function yee(n,e){n&1&&($e(),l(0,"svg",11),k(1,"path",12),d())}function xee(n,e){n&1&&($e(),l(0,"svg",11),k(1,"path",13),d())}function Cee(n,e){n&1&&($e(),l(0,"svg",11),k(1,"path",14),d())}function Mee(n,e){n&1&&($e(),l(0,"svg",11),k(1,"path",15),d())}function wee(n,e){n&1&&($e(),l(0,"svg",11),k(1,"path",16),d())}function See(n,e){n&1&&($e(),l(0,"svg",11),k(1,"path",17),d())}function Pee(n,e){if(n&1){let t=X();l(0,"button",7),T("click",function(){let r=z(t).$implicit,o=C();return A(o.selectHighlight(r.key))}),l(1,"div",8),zt(2,9),j(3,yee,2,0,"svg",10)(4,xee,2,0,"svg",10)(5,Cee,2,0,"svg",10)(6,Mee,2,0,"svg",10)(7,wee,2,0,"svg",10)(8,See,2,0,"svg",10),At(),l(9,"span"),m(10),d()()()}if(n&2){let t=e.$implicit,i=C();Me("selected",i.isSelected(t.key))("shake",!i.isSelected(t.key)&&i.selected.length>=i.maxSelections),an("aria-checked",i.isSelected(t.key)),p(2),_("ngSwitch",t.key),p(),_("ngSwitchCase","peaceful"),p(),_("ngSwitchCase","unique"),p(),_("ngSwitchCase","family"),p(),_("ngSwitchCase","stylish"),p(),_("ngSwitchCase","central"),p(),_("ngSwitchCase","spacious"),p(2),$(t.label)}}var T8=class n{constructor(e,t){this.formStorage=e;this.wizardService=t}subscription;highlights=[{key:"peaceful",label:"Peaceful",icon:"peaceful"},{key:"unique",label:"Unique",icon:"unique"},{key:"family",label:"Family-friendly",icon:"family"},{key:"stylish",label:"Stylish",icon:"stylish"},{key:"central",label:"Central",icon:"central"},{key:"spacious",label:"Spacious",icon:"spacious"}];selected=[];maxSelections=2;highlightCombinations=[{keys:["peaceful","unique"],description:"A serene escape with one-of-a-kind character\u2014where quiet moments meet unforgettable charm."},{keys:["peaceful","family"],description:"Tranquil haven designed for family memories\u2014where laughter blends with the sound of silence."},{keys:["peaceful","stylish"],description:"Calm meets curated elegance\u2014a sanctuary of style and stillness."},{keys:["peaceful","central"],description:"Oasis in the heart of it all\u2014where the city hums, but peace reigns."},{keys:["peaceful","spacious"],description:"Breathe deeply in a quiet expanse\u2014room to unwind, space to dream."},{keys:["unique","family"],description:"Whimsical wonderland for all ages\u2014a home as special as your crew."},{keys:["unique","stylish"],description:"A masterpiece of bold design\u2014where every corner tells a story."},{keys:["unique","central"],description:'Standout gem in the city"s pulse\u2014unconventional, unbeatable location.'},{keys:["unique","spacious"],description:"More than just roomy\u2014a canvas of quirks and endless possibilities."},{keys:["family","stylish"],description:"Kid-friendly meets designer chic\u2014playful luxury for the whole tribe."},{keys:["family","central"],description:"Adventures start at your doorstep\u2014nestled where memories are made."},{keys:["family","spacious"],description:"Where chaos turns to joy\u2014generous space for growing laughter."},{keys:["stylish","central"],description:"Design-forward digs in the trendiest zip code\u2014live where the magic happens."},{keys:["stylish","spacious"],description:"Sleek, airy, and utterly Instagram-worthy\u2014room to revel in refinement."},{keys:["central","spacious"],description:'Urban rarity: a sprawling retreat where everything"s just steps away.'}];ngOnInit(){let e=this.formStorage.getStepData("step2-5");e?.selected&&(this.selected=e.selected),this.subscription=this.wizardService.nextStep$.subscribe(()=>{this.saveFormData()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}isSelected(e){return this.selected.includes(e)}selectHighlight(e){this.selected.indexOf(e)>-1?this.selected=this.selected.filter(i=>i!==e):this.selected.length<this.maxSelections?this.selected=[...this.selected,e]:this.selected.length===this.maxSelections&&(this.selected=[...this.selected.slice(1),e]),console.log("Current selection:",this.selected),this.saveFormData()}getDescriptionForCombination(e){if(e.length!==2)return"";let t=[...e].sort(),i=this.highlightCombinations.find(r=>{let o=[...r.keys].sort();return o[0]===t[0]&&o[1]===t[1]});return console.log("Selected highlights:",t),console.log("Found combination:",i),i?.description||""}saveFormData(){let e=this.getDescriptionForCombination(this.selected),t={selected:this.selected,generatedDescription:e};this.formStorage.saveFormData("step2-5",t),this.formStorage.saveFormData("step2-6",{description:e})}static \u0275fac=function(t){return new(t||n)(V(Mn),V(Bn))};static \u0275cmp=le({type:n,selectors:[["app-step2-5-describe"]],decls:9,vars:1,consts:[[1,"page-container"],[1,"content-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-subtitle"],[1,"highlights-grid"],["type","button","role","checkbox","class","highlight-card",3,"selected","shake","click",4,"ngFor","ngForOf"],["type","button","role","checkbox",1,"highlight-card",3,"click"],[1,"card-content"],[3,"ngSwitch"],["viewBox","0 0 32 32",4,"ngSwitchCase"],["viewBox","0 0 32 32"],["d","M22 2a7 7 0 0 1 6.98 6.52l.02.24V16a2 2 0 0 1-1.34 1.89l-.16.05-.5.13V25a5 5 0 0 1-10 .22V18h-2v7a5 5 0 0 1-10 .22v-7.16l-.5-.12A2 2 0 0 1 3 16.15V8.74a7 7 0 0 1 13-3.35A7 7 0 0 1 22 2zM10 16a6.98 6.98 0 0 0-3 .67V25a3 3 0 0 0 6 .18v-8.51a6.98 6.98 0 0 0-3-.67zm12 0a6.98 6.98 0 0 0-3 .67V25a3 3 0 0 0 6 .18v-8.51a6.97 6.97 0 0 0-3-.67zm0-4c-1.76 0-3.47.42-5 1.2v2.32l.08-.06a8.96 8.96 0 0 1 4.23-1.43l.36-.02L22 14a8.96 8.96 0 0 1 4.54 1.23l.29.17.17.12V13.2a10.95 10.95 0 0 0-5-1.2zm-12 0c-1.76 0-3.47.42-5 1.2v2.32l.17-.12a8.95 8.95 0 0 1 4.14-1.37l.34-.02L10 14c1.66 0 3.25.45 4.63 1.28l.29.18.08.06V13.2a10.95 10.95 0 0 0-5-1.2zm12-8a5 5 0 0 0-4.98 4.57L17 8.8V11a12.97 12.97 0 0 1 5-1c1.74 0 3.43.34 5 1V8.82A5 5 0 0 0 22 4zM10 4a5 5 0 0 0-4.98 4.57L5 8.8V11a12.97 12.97 0 0 1 5-1c1.74 0 3.43.34 5 1V8.8a5 5 0 0 0-4.78-4.8z"],["d","m16.6 1.2.1.08.08.1L20.48 6H22v2h-2v4h2v2h-1.76l1.65 14H26v2H6v-2h4.11l1.65-14H10v-2h2V8h-2V6h1.52l3.7-4.63a1 1 0 0 1 1.38-.17zM18.23 14h-4.46l-1.65 14h7.76zM16 23a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-5a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-9.54-4.88 1.42 1.42-2.83 2.82-1.41-1.41zm19.08 0 2.82 2.83-1.41 1.41-2.83-2.82zM18 8h-4v4h4zM5 9v2H1V9zm26 0v2h-4V9zM5.05 2.64l2.83 2.82-1.42 1.42-2.82-2.83zm21.9 0 1.41 1.41-2.82 2.83-1.42-1.42zM16 3.6 14.08 6h3.84z"],["d","M29 2v10a2 2 0 0 1-1.66 1.97L27 14h-1.03l2.73 10.18a42.58 42.58 0 0 0 1.68-1.23l1.25 1.56A24.9 24.9 0 0 1 16 30 24.9 24.9 0 0 1 .78 24.83l-.4-.31 1.25-1.56c.61.5 1.25.95 1.91 1.38L7.45 10c-1.2 0-2.31.88-2.7 2.04L3.7 16H1.62l1.15-4.3A5 5 0 0 1 7.37 8H18.07l.04-.22a7 7 0 0 1 6.15-5.74l.25-.02.25-.02H25zM17 20v2h-2v-2h-4.1l-1.86 6.93A23.01 23.01 0 0 0 16 28a23 23 0 0 0 7.2-1.15L21.37 20zm-5-10H9.44L5.32 25.37c.6.32 1.2.6 1.83.87L9.36 18H15v-2.13a4 4 0 0 1-3-3.67zm15-6h-2.18a5 5 0 0 0-4.8 4.58L20 8.8V12a4 4 0 0 1-3 3.87V18h5.9l2.18 8.14a22.85 22.85 0 0 0 1.84-.89L23.36 12 22.3 8h2.07l1.07 4H27zm-9 6h-4v2a2 2 0 0 0 2 2c1.05 0 2-.9 2-2z"],["d","m7.40613847 1.08618845 16.59386153 7.37468521v-6.46087366h2v24.9998737l4 .0001263v2l-4-.0001263v2.0001263h-2v-2.0001263h-16v2.0001263h-2v-2.0001263l-4 .0001263v-2l4-.0001263v-24.9998737c0-.72365839.74485107-1.20771706 1.40613847-.91381155zm.59386153 2.45181155v23.462h3v-11c0-1.1045695.8954305-2 2-2h6c1.1045695 0 2 .8954305 2 2v11h3v-16.351zm11 21.4618737h-6v2h6zm0-8.9998737h-6v6.9998737h6zm-8-8c.5522847 0 1 .44771525 1 1s-.4477153 1-1 1-1-.44771525-1-1 .4477153-1 1-1z"],["d","M16 0a12 12 0 0 1 12 12c0 6.34-3.81 12.75-11.35 19.26l-.65.56-1.08-.93C7.67 24.5 4 18.22 4 12 4 5.42 9.4 0 16 0zm0 2C10.5 2 6 6.53 6 12c0 5.44 3.25 11.12 9.83 17.02l.17.15.58-.52C22.75 23 25.87 17.55 26 12.33V12A10 10 0 0 0 16 2zm0 5a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"],["d","M22 7a5 5 0 0 1 3.4 8.67 9 9 0 0 1 5.6 8.06V24h-2a7 7 0 0 0-6-6.93v-2.24a3 3 0 1 0-4-3V12l.08.06a5 5 0 0 1 .32 7.6 9 9 0 0 1 5.6 8.07V28h-2a7 7 0 0 0-6-6.93v-2.24a3 3 0 1 0-2 0v2.24a7 7 0 0 0-6 6.69V28H7a9 9 0 0 1 5.6-8.34 4.98 4.98 0 0 1 .32-7.6L13 12a3 3 0 1 0-4 2.83v2.24a7 7 0 0 0-6 6.69V24H1a9 9 0 0 1 5.6-8.34A4.98 4.98 0 0 1 10 7a5 5 0 0 1 4.92 4.12 4.98 4.98 0 0 1 2.16 0A5 5 0 0 1 22 7z"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"main",1)(2,"header",2)(3,"h1",3),m(4,"Next, let's describe your house"),d(),l(5,"p",4),m(6," Choose up to 2 highlights. We'll use these to get your description started. "),d()(),l(7,"div",5),j(8,Pee,11,13,"button",6),d()()()),t&2&&(p(8),_("ngForOf",i.highlights))},dependencies:[he,Xe,aa,ps],styles:[".page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;box-sizing:border-box}.content-wrapper[_ngcontent-%COMP%]{width:100%;max-width:630px}.page-header[_ngcontent-%COMP%]{margin-bottom:32px}.page-title[_ngcontent-%COMP%]{font-size:32px;line-height:36px;font-weight:500;margin:0 0 8px}.page-subtitle[_ngcontent-%COMP%]{font-size:18px;line-height:24px;color:var(--secondary-text-color);margin:0}.highlights-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px}.highlight-card[_ngcontent-%COMP%]{flex:1 1 auto;padding:0 16px;height:56px;background-color:var(--bg-color);border:1px solid var(--border-color);border-radius:32px;cursor:pointer;font-family:inherit;transition:border-color .2s ease,background-color .2s ease}.highlight-card[_ngcontent-%COMP%]:hover{border-color:var(--primary-text-color)}.highlight-card.selected[_ngcontent-%COMP%]{background-color:var(--hover-bg);border-color:var(--primary-text-color);border-width:2px}.card-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:500}.card-content[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:12px;fill:var(--primary-text-color)}.shake[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .3s ease-in-out}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}"]})};var kee=["descriptionInput"],L8=class n{constructor(e,t,i){this.formStorage=e;this.wizardService=t;this.validationService=i}description="";maxLength=500;subscription;descriptionInput;ngOnInit(){let e=this.formStorage.getStepData("step2-6");e?.description&&(this.description=e.description),this.validateForm(),this.subscription=this.wizardService.nextStep$.subscribe(()=>{this.saveFormData()})}ngAfterViewInit(){this.autoResize()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}get charCount(){return this.description.length}get limitReached(){return this.charCount>=this.maxLength}onInput(){this.autoResize(),this.onDescriptionChange(this.description)}onDescriptionChange(e){this.description=e,this.saveFormData(),this.validateForm()}validateForm(){let e=this.description.trim().length>=20;this.wizardService.updateStepValidation("step2-6",e),this.validationService.validateStep("step2-6-description")}autoResize(){if(this.descriptionInput){let e=this.descriptionInput.nativeElement;e.style.height="auto",e.style.height=e.scrollHeight+"px"}}saveFormData(){this.formStorage.saveFormData("step2-6",{description:this.description})}static \u0275fac=function(t){return new(t||n)(V(Mn),V(Bn),V(Qn))};static \u0275cmp=le({type:n,selectors:[["app-step2-6-description"]],viewQuery:function(t,i){if(t&1&&en(kee,5),t&2){let r;qt(r=Zt())&&(i.descriptionInput=r.first)}},decls:14,vars:5,consts:[["descriptionInput",""],[1,"page-container"],[1,"content-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-subtitle"],[1,"description-editor"],["rows","7","maxlength","500","placeholder"," ",1,"description-textarea",3,"ngModelChange","input","ngModel"],[1,"character-counter"]],template:function(t,i){if(t&1){let r=X();l(0,"div",1)(1,"main",2)(2,"header",3)(3,"h1",4),m(4,"Create your description"),d(),l(5,"p",5),m(6,"Share what makes your place special."),d()(),l(7,"div",6)(8,"textarea",7,0),mt("ngModelChange",function(a){return z(r),_t(i.description,a)||(i.description=a),A(a)}),T("input",function(){return z(r),A(i.onInput())}),d(),l(10,"div",8)(11,"span"),m(12),d(),m(13),d()()()()}t&2&&(p(8),ft("ngModel",i.description),p(2),Me("limit-reached",i.limitReached),p(2),$(i.charCount),p(),U("/",i.maxLength," "))},dependencies:[Mt,Rt,Dt,da,kn],styles:[".page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;box-sizing:border-box}.content-wrapper[_ngcontent-%COMP%]{width:100%;max-width:630px}.page-header[_ngcontent-%COMP%]{margin-bottom:32px}.page-title[_ngcontent-%COMP%]{font-size:32px;line-height:36px;font-weight:500;margin:0 0 8px}.page-subtitle[_ngcontent-%COMP%]{font-size:18px;line-height:24px;color:var(--secondary-text-color);margin:0}.description-editor[_ngcontent-%COMP%]{width:100%}.description-textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:24px;border:1px solid var(--border-color);border-radius:12px;font-family:inherit;font-size:18px;line-height:28px;resize:none;overflow:hidden;transition:border-color .2s ease;min-height:144px;background-color:var(--bg-color);color:var(--primary-text-color)}.description-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-text-color);box-shadow:0 0 0 1px var(--primary-text-color)}.character-counter[_ngcontent-%COMP%]{margin-top:12px;font-size:14px;font-weight:500;color:var(--secondary-text-color);text-align:left}.character-counter.limit-reached[_ngcontent-%COMP%]{color:var(--airbnb-red)}"]})};var z8=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=le({type:n,selectors:[["app-step3-1-finish"]],decls:12,vars:0,consts:[[1,"page-container"],[1,"intro-section"],[1,"intro-content"],[1,"step-indicator"],[1,"intro-title"],[1,"intro-description"],[1,"intro-media"],["autoplay","","loop","","muted","","playsinline","","preload","auto","poster","https://a0.muscache.com/4ea/air/v2/pictures/d7cb2e2b-f9b5-44e1-b510-44eaaf67889b.jpg",1,"intro-video"],["src","https://stream.media.muscache.com/KeNKUpa01dRaT5g00SSBV95FqXYkqf01DJdzn01F1aT00vCI.mp4?v_q=high","type","video/mp4"]],template:function(t,i){t&1&&(Pe(0,"div",0)(1,"main",1)(2,"div",2)(3,"div",3),m(4,"Step 3"),Le(),Pe(5,"h1",4),m(6,"Finish up and publish"),Le(),Pe(7,"p",5),m(8," Finally, you'll choose booking settings, set up pricing, and publish your listing. "),Le()(),Pe(9,"div",6)(10,"video",7),pn(11,"source",8),Le()()()())},styles:[".page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;box-sizing:border-box}.intro-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:60px;width:100%;max-width:1206px}.intro-content[_ngcontent-%COMP%]{max-width:575px;animation:_ngcontent-%COMP%_slideInLeft .8s cubic-bezier(.25,.46,.45,.94) forwards}.step-indicator[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin-bottom:16px}.intro-title[_ngcontent-%COMP%]{font-size:48px;line-height:54px;font-weight:500;margin:0 0 24px}.intro-description[_ngcontent-%COMP%]{font-size:18px;line-height:28px;color:#6a6a6a;margin:0}.intro-media[_ngcontent-%COMP%]{width:473px;height:414px;border-radius:12px;overflow:hidden;animation:_ngcontent-%COMP%_fadeIn .8s ease-out forwards;flex-shrink:0}.intro-video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]})};function Oee(n,e){n&1&&(l(0,"p",16),m(1,"Recommended"),d())}function Dee(n,e){n&1&&($e(),l(0,"svg",17),k(1,"path",18),d())}function Eee(n,e){n&1&&($e(),l(0,"svg",17),k(1,"path",19),d())}function Iee(n,e){if(n&1){let t=X();l(0,"button",8),T("click",function(){let r=z(t).$implicit,o=C();return A(o.selectOption(r.key))}),l(1,"div",9)(2,"h2",10),m(3),d(),j(4,Oee,2,0,"p",11),l(5,"p",12),m(6),d()(),l(7,"div",13),zt(8,14),j(9,Dee,2,0,"svg",15)(10,Eee,2,0,"svg",15),At(),d()()}if(n&2){let t=e.$implicit,i=C();Me("selected",i.isSelected(t.key)),an("aria-checked",i.isSelected(t.key)),p(3),$(t.title),p(),_("ngIf",t.recommended),p(2),$(t.description),p(2),_("ngSwitch",t.key),p(),_("ngSwitchCase","approve"),p(),_("ngSwitchCase","instant")}}var A8=class n{constructor(e,t,i){this.formStorage=e;this.wizardService=t;this.validationService=i}subscription;options=[{key:"approve",title:"Approve your first 5 bookings",description:"Start by reviewing reservation requests, then switch to Instant Book, so guests can book automatically.",recommended:!0,icon:"approve"},{key:"instant",title:"Use Instant Book",description:"Let guests book automatically.",recommended:!1,icon:"instant"}];selected=null;ngOnInit(){let e=this.formStorage.getStepData("step3-2");e?.selected&&(this.selected=e.selected),this.subscription=this.wizardService.nextStep$.subscribe(()=>{this.saveFormData()}),this.saveFormData()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}isSelected(e){return this.selected===e}selectOption(e){this.selected=e,this.saveFormData()}saveFormData(){let e={selected:this.selected};this.formStorage.saveFormData("step3-2",e),this.validationService.validateStep("step3-2")}static \u0275fac=function(t){return new(t||n)(V(Mn),V(Bn),V(Qn))};static \u0275cmp=le({type:n,selectors:[["app-step3-2-pick-booking"]],decls:11,vars:1,consts:[[1,"page-container"],[1,"content-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-subtitle"],["href","#",1,"learn-more-link"],["role","radiogroup",1,"booking-options"],["type","button","role","radio","class","option-card",3,"selected","click",4,"ngFor","ngForOf"],["type","button","role","radio",1,"option-card",3,"click"],[1,"option-card__content"],[1,"option-card__title"],["class","option-card__description recommended",4,"ngIf"],[1,"option-card__description"],[1,"option-card__icon"],[3,"ngSwitch"],["viewBox","0 0 32 32","xmlns","http://www.w3.org/2000/svg",4,"ngSwitchCase"],[1,"option-card__description","recommended"],["viewBox","0 0 32 32","xmlns","http://www.w3.org/2000/svg"],["d","m12 0v2h8v-2h2v2h6c1.1 0 2 .9 2 2v21c0 2.8-2.2 5-5 5H8c-2.8 0-5-2.2-5-5V6c0-1.1.9-2 2-2h6V2zm16 11.5H4v13.5c0 1.7 1.3 3 3 3h18c1.7 0 3-1.3 3-3zm-5.5 2.6 1.4 1.4-9.3 9.3-5-5 1.4-1.4 3.6 3.6zM22 4h-6v2h-2V4H6v5.5h20V4h-4z"],["d","M17.2 1.5 6.2 17.4l-.1.2c-.1.1-.1.2-.1.4l.1.1c.2.7.2.7 1 .9H13v11l.1.2c.1.3.1.3.4.6l.3.1c.5.2.6.1 1.1-.3L26.2 16l.1-.2c.1-.1.1-.2.1-.4l-.1-.1c-.2-.7-.2-.7-1-.9H19V2l-.1-.2c-.1-.3-.1-.3-.4-.6l-.3-.1c-.5-.2-.6-.1-1.1.3zM17 5.2V15h6.1L15 26.8V17H8.9L17 5.2z"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"main",1)(2,"header",2)(3,"h1",3),m(4,"Pick your booking settings"),d(),l(5,"p",4),m(6," You can change this at any time. "),l(7,"a",5),m(8,"Learn more"),d()()(),l(9,"div",6),j(10,Iee,11,9,"button",7),d()()()),t&2&&(p(10),_("ngForOf",i.options))},dependencies:[he,Xe,Ce,aa,ps],styles:[".page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;box-sizing:border-box}.content-wrapper[_ngcontent-%COMP%]{width:100%;max-width:630px}.page-header[_ngcontent-%COMP%]{margin-bottom:48px}.page-title[_ngcontent-%COMP%]{font-size:32px;line-height:36px;font-weight:500;margin:0 0 8px}.page-subtitle[_ngcontent-%COMP%]{font-size:18px;line-height:24px;color:var(--secondary-text-color);margin:0}.learn-more-link[_ngcontent-%COMP%]{color:var(--secondary-text-color);text-decoration:underline;font-weight:500}.booking-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.option-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;width:100%;padding:24px;background-color:var(--bg-color);border:1px solid var(--border-color);border-radius:12px;cursor:pointer;text-align:left;transition:border-color .2s ease,background-color .2s ease;font-family:inherit}.option-card[_ngcontent-%COMP%]:hover{border-color:var(--primary-text-color)}.option-card.selected[_ngcontent-%COMP%]{background-color:var(--bg-color);border:2px solid var(--primary-text-color);padding:23px}.option-card__content[_ngcontent-%COMP%]{margin-right:16px}.option-card__title[_ngcontent-%COMP%]{font-size:18px;font-weight:500;line-height:24px;margin:0 0 4px}.option-card__description[_ngcontent-%COMP%]{font-size:14px;line-height:18px;color:var(--secondary-text-color);margin:0;max-width:400px}.option-card__description.recommended[_ngcontent-%COMP%]{color:#00b307;font-weight:500;margin-bottom:4px}.option-card__icon[_ngcontent-%COMP%]{width:32px;height:32px;flex-shrink:0;fill:var(--primary-text-color)}.option-card__icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}"]})};function Tee(n,e){if(n&1){let t=X();l(0,"div",8),T("click",function(){let r=z(t).$implicit,o=C();return A(o.selectOption(r.key))}),l(1,"div",9)(2,"h2",10),m(3),d(),l(4,"p",11),m(5),d()(),l(6,"div",12),k(7,"input",13)(8,"span",14),d()()}if(n&2){let t=e.$implicit,i=C();Me("selected",i.isSelected(t.key)),p(3),$(t.title),p(2),$(t.description),p(2),_("value",t.key)("checked",i.isSelected(t.key))}}var N8=class n{constructor(e,t,i){this.formStorage=e;this.wizardService=t;this.validationService=i}subscription;options=[{key:"any",title:"Any Airbnb guest",description:"Get reservations faster when you welcome anyone from the Airbnb community."},{key:"experienced",title:"An experienced guest",description:"For your first guest, welcome someone with a good track record on Airbnb who can offer tips for how to be a great Host."}];selected=null;isSelected(e){return this.selected===e}ngOnInit(){let e=this.formStorage.getStepData("step3-3");e?.selected&&(this.selected=e.selected),this.subscription=this.wizardService.nextStep$.subscribe(()=>{this.saveFormData()}),this.saveFormData()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}selectOption(e){this.selected=e,this.saveFormData()}saveFormData(){let e={selected:this.selected};this.formStorage.saveFormData("step3-3",e),this.validationService.validateStep("step3-3")}static \u0275fac=function(t){return new(t||n)(V(Mn),V(Bn),V(Qn))};static \u0275cmp=le({type:n,selectors:[["app-step3-3-choose-welcome"]],decls:11,vars:1,consts:[[1,"page-container"],[1,"content-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-subtitle"],["href","#",1,"learn-more-link"],["role","radiogroup",1,"welcome-options"],["class","option-card",3,"selected","click",4,"ngFor","ngForOf"],[1,"option-card",3,"click"],[1,"option-content"],[1,"option-title"],[1,"option-description"],[1,"radio-custom-input"],["type","radio","name","guest-type","readonly","",3,"value","checked"],[1,"radio-dot"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"main",1)(2,"header",2)(3,"h1",3),m(4," Choose who to welcome for your first reservation "),d(),l(5,"p",4),m(6," After your first guest, anyone can book your place. "),l(7,"a",5),m(8,"Learn more"),d()()(),l(9,"div",6),j(10,Tee,9,6,"div",7),d()()()),t&2&&(p(10),_("ngForOf",i.options))},dependencies:[he,Xe],styles:[".page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;box-sizing:border-box}.content-wrapper[_ngcontent-%COMP%]{width:100%;max-width:630px}.page-header[_ngcontent-%COMP%]{margin-bottom:32px}.page-title[_ngcontent-%COMP%]{font-size:32px;line-height:36px;font-weight:500;margin:0 0 8px}.page-subtitle[_ngcontent-%COMP%]{font-size:18px;line-height:24px;color:#6a6a6a;margin:0}.learn-more-link[_ngcontent-%COMP%]{color:#6a6a6a;text-decoration:underline;font-weight:500}body.dark[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .learn-more-link[_ngcontent-%COMP%]{color:var(--secondary-text-color)}.welcome-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.option-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding:24px;background-color:var(--bg-color);border:1px solid var(--border-color);border-radius:12px;cursor:pointer;text-align:left;transition:border-color .2s ease,background-color .2s ease,box-shadow .2s ease,color .2s ease;box-sizing:border-box}.option-card[_ngcontent-%COMP%]:hover{border-color:var(--primary-text-color)}.option-card.selected[_ngcontent-%COMP%]{background-color:var(--bg-color);border:2px solid var(--primary-text-color);padding:23px}body.dark[_ngcontent-%COMP%]   .option-card[_ngcontent-%COMP%]{background-color:var(--bg-color);border-color:var(--border-color);color:var(--primary-text-color)}body.dark[_ngcontent-%COMP%]   .option-card[_ngcontent-%COMP%]:hover{border-color:var(--primary-text-color)}body.dark[_ngcontent-%COMP%]   .option-card.selected[_ngcontent-%COMP%]{background-color:var(--selected-bg);border-color:var(--primary-text-color)}.option-content[_ngcontent-%COMP%]{margin-right:16px}.option-title[_ngcontent-%COMP%]{font-size:18px;font-weight:500;line-height:22px;margin:0 0 4px}.option-description[_ngcontent-%COMP%]{font-size:14px;line-height:18px;color:#6a6a6a;margin:0}body.dark[_ngcontent-%COMP%]   .option-description[_ngcontent-%COMP%]{color:var(--secondary-text-color)}.radio-custom-input[_ngcontent-%COMP%]{position:relative;width:24px;height:24px;border:2px solid var(--border-color);border-radius:50%;flex-shrink:0;display:flex;align-items:center;justify-content:center;transition:border-color .2s ease}.option-card.selected[_ngcontent-%COMP%]   .radio-custom-input[_ngcontent-%COMP%]{border-color:var(--primary-text-color)}.radio-custom-input[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{opacity:0;width:100%;height:100%;position:absolute;cursor:pointer}.radio-dot[_ngcontent-%COMP%]{width:12px;height:12px;background-color:var(--primary-text-color);border-radius:50%;transform:scale(0);transition:transform .2s ease-in-out}.option-card.selected[_ngcontent-%COMP%]   .radio-dot[_ngcontent-%COMP%]{transform:scale(1)}"]})};var R8=class n{constructor(e,t,i){this.formStorage=e;this.wizardService=t;this.validationService=i}subscription;price=50;minPrice=50;maxPrice=1e4;guestFeePercent=.14;hostFeePercent=.1;view="guest";isBreakdownVisible=!1;ngOnInit(){let e=this.formStorage.getStepData("step3-4-1");e?.price&&(this.price=e.price),this.subscription=this.wizardService.nextStep$.subscribe(()=>{this.saveFormData()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}saveFormData(){let e={price:this.price};this.formStorage.saveFormData("step3-4-1",e),this.validationService.validateStep("step3-4-1")}get guestServiceFee(){return Math.round(this.price*this.guestFeePercent)}get guestTotal(){return this.price+this.guestServiceFee}get hostServiceFee(){return Math.round(this.price*this.hostFeePercent)}get hostTotal(){return this.price-this.hostServiceFee}onPriceInput(e){let t=e.target.value.replace(/[^0-9]/g,""),i=parseInt(t,10);isNaN(i)&&(i=0),i>this.maxPrice&&(i=this.maxPrice,e.target.value=i.toString()),this.price=i,this.saveFormData()}onPriceBlur(e){this.price<this.minPrice&&(this.price=this.minPrice,e.target.value=this.minPrice.toString(),this.saveFormData())}toggleView(){this.isBreakdownVisible?(this.isBreakdownVisible=!1,this.view="guest"):(this.isBreakdownVisible=!0,this.view="host")}static \u0275fac=function(t){return new(t||n)(V(Mn),V(Bn),V(Qn))};static \u0275cmp=le({type:n,selectors:[["app-step3-4-1-pricing"]],decls:52,vars:16,consts:[[1,"page-container"],[1,"content-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-subtitle"],[1,"pricing-editor"],[1,"price-input-container"],[1,"currency-symbol"],["type","text","maxlength","5",1,"price-input",3,"input","blur","value"],[1,"price-breakdown"],[1,"breakdown-card"],[1,"breakdown-details"],[1,"detail-row"],[1,"breakdown-total"],["type","button",1,"toggle-view-button",3,"click"],[1,"arrow"]],template:function(t,i){t&1&&(Pe(0,"div",0)(1,"main",1)(2,"header",2)(3,"h1",3),m(4,"Now, set a weekday base price"),Le(),Pe(5,"p",4),m(6," Tip: $50. You\u2019ll set a weekend price next. "),Le()(),Pe(7,"div",5)(8,"div",6)(9,"span",7),m(10,"$"),Le(),Pe(11,"input",8),fi("input",function(o){return i.onPriceInput(o)})("blur",function(o){return i.onPriceBlur(o)}),Le()(),Pe(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"span"),m(17,"Base price"),Le(),Pe(18,"span"),m(19),Le()(),Pe(20,"div",12)(21,"span"),m(22,"Guest service fee"),Le(),Pe(23,"span"),m(24),Le()()(),Pe(25,"div",13)(26,"strong"),m(27,"Guest price before taxes"),Le(),Pe(28,"strong"),m(29),Le()()(),Pe(30,"div",10)(31,"div",11)(32,"div",12)(33,"span"),m(34,"Base price"),Le(),Pe(35,"span"),m(36),Le()(),Pe(37,"div",12)(38,"span"),m(39,"Host service fee"),Le(),Pe(40,"span"),m(41),Le()()(),Pe(42,"div",13)(43,"strong"),m(44,"You earn"),Le(),Pe(45,"strong"),m(46),Le()()()(),Pe(47,"button",14),fi("click",function(){return i.toggleView()}),Pe(48,"span"),m(49),Le(),Pe(50,"span",15),m(51,"\u2BC6"),Le()()()()()),t&2&&(p(11),or("value",i.price),p(),Me("visible",i.isBreakdownVisible),p(),Me("active",i.view==="guest"),p(6),U(" $",i.price," "),p(5),U(" $",i.guestServiceFee," "),p(5),U(" $",i.guestTotal," "),p(),Me("active",i.view==="host"),p(6),U(" $",i.price," "),p(5),U(" -$",i.hostServiceFee," "),p(5),U(" $",i.hostTotal," "),p(3),$(i.isBreakdownVisible?"Hide price details":"Show what you'll earn"),p(),Me("up",i.isBreakdownVisible))},dependencies:[he],styles:[".page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;box-sizing:border-box}.content-wrapper[_ngcontent-%COMP%]{width:100%;max-width:630px;text-align:center}.page-header[_ngcontent-%COMP%]{margin-bottom:32px}.page-title[_ngcontent-%COMP%]{font-size:32px;line-height:36px;font-weight:500;margin:0 0 8px}.page-subtitle[_ngcontent-%COMP%]{font-size:18px;line-height:24px;color:var(--secondary-text-color);margin:0}.pricing-editor[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.price-input-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-weight:700;margin-right:50px;color:var(--primary-text-color)}.currency-symbol[_ngcontent-%COMP%]{font-size:80px;line-height:1;margin-right:4px}.price-input[_ngcontent-%COMP%]{font-family:inherit;font-size:120px;font-weight:700;border:none;background:transparent;outline:none;width:350px;text-align:center;line-height:1;padding:0;letter-spacing:-3px;color:var(--primary-text-color)}.price-breakdown[_ngcontent-%COMP%]{width:100%;max-width:320px;margin-top:32px;border:1px solid var(--border-color);border-radius:12px;overflow:hidden;display:none;background-color:var(--bg-color)}.price-breakdown.visible[_ngcontent-%COMP%]{display:block}.breakdown-card[_ngcontent-%COMP%]{display:none;padding:16px;text-align:left}.breakdown-card.active[_ngcontent-%COMP%]{display:block}.breakdown-details[_ngcontent-%COMP%]{padding-bottom:8px;margin-bottom:8px;border-bottom:1px solid var(--border-color)}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:16px;line-height:24px;color:var(--primary-text-color)}.breakdown-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:16px;line-height:24px}.toggle-view-button[_ngcontent-%COMP%]{margin-top:24px;background:none;border:none;color:var(--primary-text-color);font-family:inherit;font-size:14px;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:8px;margin-left:auto;margin-right:auto}.arrow[_ngcontent-%COMP%]{display:inline-block;font-size:12px;transition:transform .2s ease}.arrow.up[_ngcontent-%COMP%]{transform:rotate(180deg)}"]})};var w4=class n{constructor(e){this.http=e}baseurl=Ke.baseUrl;property_Images_URL=`${this.baseurl}/Property`;getAllImagesByPropertyId(e){return this.http.get(`${this.property_Images_URL}/${e}/images`)}static \u0275fac=function(t){return new(t||n)(De(Ct))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};function Lee(n,e){if(n&1&&k(0,"img",17),n&2){let t=C(2);_("src",t.images[0],et)}}function zee(n,e){if(n&1&&(l(0,"div",18),k(1,"img",19),d()),n&2){let t=e.$implicit,i=e.index;p(),_("alt",Ws("Image ",i+2))("src",t,et)}}function Aee(n,e){if(n&1&&(l(0,"div",12)(1,"div",13),j(2,Lee,1,1,"img",14),d(),l(3,"div",15),j(4,zee,2,3,"div",16),d()()),n&2){let t=C();p(2),_("ngIf",t.images.length>0),p(2),_("ngForOf",t.images.slice(1,5))}}var F8=class n{constructor(e,t,i,r,o,a,c){this.propertyImageService=e;this.cdr=t;this.PropertyService=i;this.authService=r;this.dialogService=o;this.snackBar=a;this.translate=c}propertyId;wishlistToggle=new ye;isFavourite=!1;images=[];isLoading=!0;error=null;activeImageIndex=0;img;Property;showToast(e,t,i){this.snackBar.open(e,"Close",{duration:3e3,horizontalPosition:i,verticalPosition:t,panelClass:["custom-snackbar"]})}ngOnInit(){if(!this.propertyId){this.error="Property ID is required",this.isLoading=!1;return}this.PropertyService.getPropertyById(this.propertyId).subscribe({next:e=>{this.Property=e}}),this.loadPropertyImages()}loadPropertyImages(){this.isLoading=!0,this.error=null,this.propertyImageService.getAllImagesByPropertyId(this.propertyId).subscribe({next:e=>{console.log("API response:",e),this.images=e.data.map(t=>this.getFullImageUrl(t.imageUrl)),this.isLoading=!1,this.cdr.detectChanges()},error:e=>{this.error="Failed to load images. Please try again later.",this.isLoading=!1,console.error(e),this.cdr.detectChanges()}})}getFullImageUrl(e){return e?e.startsWith("http")?e:`${Ke.base}${e}`:""}onShare(){let e=`${Ke.domainBaseUrl}/property/${this.propertyId}`;navigator.clipboard.writeText(e).then(()=>{let t=this.translate.instant("PROPERTY.LINK_COPIED");this.showToast(t,"bottom","left")}).catch(()=>{let t=this.translate.instant("PROPERTY.COPY_FAILED");this.showToast(t,"bottom","left")})}onSave(){this.authService.userId?this.wishlistToggle.emit(this.propertyId):this.dialogService.openDialog("login")}static \u0275fac=function(t){return new(t||n)(V(w4),V(Ot),V(Cn),V(dt),V(ai),V(vn),V(Qi))};static \u0275cmp=le({type:n,selectors:[["app-propertImage-galary"]],inputs:{propertyId:"propertyId",isFavourite:"isFavourite"},outputs:{wishlistToggle:"wishlistToggle"},decls:29,vars:12,consts:[[1,"section"],[1,"property-header"],[1,"property-title"],[1,"property-actions"],[1,"action-btn",3,"click"],[1,"bi","bi-share-fill"],["class","property-gallery",4,"ngIf"],[1,"property-details-container","mt-4"],[1,"row","align-items-center"],[1,"col-md-12"],[1,"property-type-location","mb-2"],[1,"property-specs"],[1,"property-gallery"],[1,"main-image"],["alt","Main Image","loading","lazy",3,"src",4,"ngIf"],[1,"grid-images"],["class","grid-image",4,"ngFor","ngForOf"],["alt","Main Image","loading","lazy",3,"src"],[1,"grid-image"],["loading","lazy",3,"src","alt"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"h1",2),m(3),d(),l(4,"div",3)(5,"button",4),T("click",function(){return i.onShare()}),k(6,"i",5),m(7," Share "),d()()(),j(8,Aee,5,2,"div",6),l(9,"div",7)(10,"div",8)(11,"div",9)(12,"h2",10),m(13),d(),l(14,"div",11)(15,"span"),m(16),d(),l(17,"span"),m(18,"\xB7"),d(),l(19,"span"),m(20),d(),l(21,"span"),m(22,"\xB7"),d(),l(23,"span"),m(24),d(),l(25,"span"),m(26,"\xB7"),d(),l(27,"span"),m(28),d()()()()()()),t&2&&(p(3),$(i.Property==null?null:i.Property.title),p(5),_("ngIf",i.images==null?null:i.images.length),p(5),jo(" ",i.Property==null?null:i.Property.description," ",i.Property==null?null:i.Property.city,",",i.Property==null?null:i.Property.country," "),p(3),U("",i.Property==null?null:i.Property.maxGuests," guests"),p(4),Nt("",i.Property==null?null:i.Property.bedrooms," bedroom",(i.Property==null?null:i.Property.bedrooms)!==1?"s":""),p(4),Nt("",i.Property==null?null:i.Property.beds," bed",(i.Property==null?null:i.Property.beds)!==1?"s":""),p(4),Nt("",i.Property==null?null:i.Property.bathrooms," bath",(i.Property==null?null:i.Property.bathrooms)!==1?"s":""))},dependencies:[he,Xe,Ce,wt],styles:['*[_ngcontent-%COMP%]{font-family:Airbnb Cereal VF,Circular,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif;overflow-x:hidden}.property-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:30px auto 16px}.property-title[_ngcontent-%COMP%]{font-size:30px;font-weight:700;color:#222;font-family:Airbnb Cereal VF,Circular,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif}.property-actions[_ngcontent-%COMP%]{display:flex;box-sizing:border-box;gap:12px;height:auto}.action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;background:#fff;border:24px;font-weight:700;text-decoration:underline;color:#222;font-weight:600;font-size:14px;cursor:pointer;transition:color .2s ease;padding:10px;border-radius:12px}.action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.action-btn[_ngcontent-%COMP%]:hover, .action-btn[_ngcontent-%COMP%]:active{background-color:#0000000d;border-color:#0000001a;color:#000}.property-gallery[_ngcontent-%COMP%]{display:grid;grid-template-columns:4fr 4fr;gap:8px;height:450px;border-radius:12px;overflow:hidden;max-width:1200px;margin:30px auto;position:relative}.main-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:12px 0 0 12px}.grid-images[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr;gap:8px;height:100%}.grid-image[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:0 12px 0 0}.grid-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.show-all-btn[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;background:#ffffffe6;border:none;padding:8px 12px;border-radius:8px;font-weight:700;font-size:14px;box-shadow:0 2px 6px #0003;display:flex;align-items:center;gap:5px;cursor:pointer;transition:background .3s ease}.show-all-btn[_ngcontent-%COMP%]:hover{background:#f2f2f2}@media (max-width: 768px){.property-gallery[_ngcontent-%COMP%]{display:block;height:auto}.main-image[_ngcontent-%COMP%], .grid-images[_ngcontent-%COMP%]{height:300px}.grid-images[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;grid-template-rows:auto;margin-top:8px}}.main-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:12px 0 0 12px;transition:transform .3s ease}.main-image[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.05)}.grid-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.grid-image[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.05);z-index:1}.grid-image[_ngcontent-%COMP%]:hover, .main-image[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0003;z-index:1}.grid-image[_ngcontent-%COMP%], .main-image[_ngcontent-%COMP%]{position:relative;overflow:hidden}.grid-image[_ngcontent-%COMP%]:after, .main-image[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0000;transition:background-color .3s ease;z-index:1}.grid-image[_ngcontent-%COMP%]:hover:after, .main-image[_ngcontent-%COMP%]:hover:after{background-color:#0003}.grid-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .main-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;z-index:0;transition:transform .3s ease}.grid-image[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .main-image[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.03)}.property-details-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:33px auto 16px}.property-main-details[_ngcontent-%COMP%]{display:flex;gap:2px;margin-left:300px;padding:50px}.property-info[_ngcontent-%COMP%]   h2.property-type-location[_ngcontent-%COMP%]{font-size:22px;font-weight:600;color:#222}.property-specs[_ngcontent-%COMP%]{display:flex;gap:0px;font-size:16px;color:#717171}.rare-find-badge[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:12px;padding:10px;text-align:center}.rare-find-icon[_ngcontent-%COMP%]{font-size:20px;color:#ff385c}.rare-find-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.rare-find-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px;color:#222}.rare-find-description[_ngcontent-%COMP%]{font-size:14px;color:#171616}@media (max-width: 1024px){.gallery-details-wrapper[_ngcontent-%COMP%]{grid-template-columns:1fr}.property-details-section[_ngcontent-%COMP%]{border-left:none;border-top:1px solid #ebebeb;padding-top:30px}}.property-type-location[_ngcontent-%COMP%]{font-size:22px;font-weight:600;color:#222}.property-specs[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:6px;font-size:15px;color:#2e2c2c}@media (max-width: 768px){.rare-find-badge[_ngcontent-%COMP%]{margin-top:12px}}.guest-favorite-section[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:24px;padding-bottom:24px;border-bottom:1px solid #ebebeb}.favorite-badge[_ngcontent-%COMP%]{background-color:#ff385c;color:#fff;padding:6px 10px;border-radius:4px;font-size:14px;font-weight:600;height:fit-content}.favorite-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;font-size:16px}.rating-reviews[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.stars[_ngcontent-%COMP%]{color:#ff385c;font-size:14px}.score[_ngcontent-%COMP%]{font-weight:600}.reviews[_ngcontent-%COMP%]{color:#717171;font-size:14px}']})};var pa=mr(Dp());var Cs=mr(Ep());var S4=class n{constructor(e){this.http=e}baseUrl=`${Ke.base}/api/Violation`;getAllViolations(){return this.http.get(`${this.baseUrl}`).pipe(Ne(e=>e.data||[]))}getViolationById(e){return this.http.get(`${this.baseUrl}/violation/${e}`).pipe(Ne(t=>t.data))}updateViolation(e,t){return this.http.put(`${this.baseUrl}/${e}`,t).pipe(Ne(i=>i.message||"Updated successfully"))}getStatusOptions(){return[{value:"Pending",label:"Pending",color:"#fbbf24"},{value:"Solved",label:"Solved",color:"#10b981"},{value:"Dismissed",label:"Dismissed",color:"#ef4444"}]}getStatusColor(e){return this.getStatusOptions().find(i=>i.value===e)?.color||"#64748b"}getStatusLabel(e){return this.getStatusOptions().find(i=>i.value===e)?.label||e}sendViolation(e){return this.http.post(this.baseUrl,e)}canSubmit(e){return this.http.get(`${this.baseUrl}/can-submit/${e}`)}static \u0275fac=function(t){return new(t||n)(De(Ct))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};function Nee(n,e){n&1&&(l(0,"div",18)(1,"span",19),m(2,"can't be empty"),d()())}function Ree(n,e){if(n&1){let t=X();l(0,"div",2),T("click",function(){z(t);let r=C();return A(r.closeModal())}),l(1,"div",3),T("click",function(r){return z(t),A(r.stopPropagation())}),l(2,"div",4)(3,"h3",5),k(4,"i",6),m(5," Submit Violation "),d(),l(6,"button",7),T("click",function(){z(t);let r=C();return A(r.closeModal())}),k(7,"i",8),d()(),l(8,"div",9)(9,"form",10),T("ngSubmit",function(){z(t);let r=C();return A(r.saveViolation())}),l(10,"div",11)(11,"label",12),m(12,"Violation"),d(),l(13,"textarea",13),m(14,"            "),d(),j(15,Nee,3,0,"div",14),d()()(),l(16,"div",15)(17,"button",16),T("click",function(){z(t);let r=C();return A(r.saveViolation())}),k(18,"i",17),m(19," Submit violation "),d()()()()}if(n&2){let t=C();p(13),_("formControl",t.vaiolationText),p(2),_("ngIf",t.vaiolationText.errors),p(2),_("disabled",t.isLoading),p(),Me("fa-spin",t.isLoading)}}function Fee(n,e){n&1&&(l(0,"div",20)(1,"div",21),k(2,"i",22),l(3,"p"),m(4,"Loading violations..."),d()()())}var V8=class n{constructor(e,t,i){this.auth=e;this.confirm=t;this.violationService=i}isLoading=!1;canSubmit;responseMessage;vaiolationText=new Ri("",[ht.required]);show;propertyId;close=new ye;ngOnInit(){console.log("from violationModal onInit",this.show),this.show&&(console.log("------------------- violationModal onInit after return",this.show),this.isLoading=!0,this.canSubmitFn())}ngOnChanges(e){if(console.log("VaiolationModal ngOnchanes enter"),!!this.show){if(this.canSubmit==null){this.isLoading=!0,this.canSubmitFn();return}if(console.log("VaiolationModal ngOnchanes !canSubmit"),!this.canSubmit){this.confirm.fail(this.responseMessage,""),this.close.emit();return}e.show?(console.log("VaiolationModal ngOnchanes changes['show']"),this.show=e.show.currentValue,this.show||this.close.emit()):this.confirm.fail("I don't know why","")}}canSubmitFn(){if(!this.propertyId){this.isLoading=!1,this.confirm.fail("Something went wrong!","");return}this.isLoading=!0,this.violationService.canSubmit(this.propertyId).subscribe({next:e=>{if(this.isLoading=!1,e.data){this.canSubmit=!0,this.show=!0,console.log("from canSubmit true");return}this.canSubmit=!1,this.show=!1,this.confirm.fail(e.message,""),this.responseMessage=e.message,console.log("from canSubmit false"),this.close.emit()},error:e=>{console.log(e),this.confirm.fail("error",""),this.isLoading=!1,this.show=!1,this.close.emit(),console.log("from canSubmit error")}})}closeModal(){this.show=!1,this.close.emit()}saveViolation(){if(this.vaiolationText.errors){this.confirm.fail("Violation Can't be sent empty","");return}this.vaiolationText.value&&(this.isLoading=!0,console.log(this.vaiolationText.value),console.log(this.auth.userId),this.violationService.sendViolation({propertyId:this.propertyId,userId:this.auth.userId??"",reason:this.vaiolationText.value}).subscribe({next:e=>{if(this.isLoading=!1,e.isSuccess){this.canSubmit=void 0,this.confirm.success("Your Violation has been submitted!",""),this.close.emit();return}this.confirm.fail(e.data,""),this.close.emit()},error:e=>{this.isLoading=!1,this.confirm.fail("Somothing went wrong, tyr again alter!"),this.close.emit(),console.log(e)}}),this.vaiolationText.reset())}static \u0275fac=function(t){return new(t||n)(V(dt),V(Ui),V(S4))};static \u0275cmp=le({type:n,selectors:[["app-violation-modal"]],inputs:{show:"show",propertyId:"propertyId"},outputs:{close:"close"},features:[Gt],decls:3,vars:2,consts:[["class","modal-overlay",3,"click",4,"ngIf"],["class","loading-overlay",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"fas","fa-edit"],["aria-label","Close modal",1,"modal-close",3,"click"],[1,"fas","fa-times"],[1,"modal-content"],[1,"edit-form",3,"ngSubmit"],[1,"form-group"],[1,"form-label"],["name","vaiolationText","placeholder","Add vailation about this property or the host...","rows","5",1,"form-control","textarea",3,"formControl"],["class","d-flex justify-content-end small",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-primary",3,"click","disabled"],[1,"fas","fa-save"],[1,"d-flex","justify-content-end","small"],[1,"small","text-danger"],[1,"loading-overlay"],[1,"loading-spinner"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){t&1&&(l(0,"div"),j(1,Ree,20,5,"div",0)(2,Fee,5,0,"div",1),d()),t&2&&(p(),_("ngIf",!i.isLoading&&i.show),p(),_("ngIf",i.isLoading&&i.canSubmit==null&&i.show))},dependencies:[he,Ce,Ii,mn,Rt,Dt,fn,zx],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:10001;padding:1rem;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 20px 60px #0000004d;max-width:700px;width:100%;max-height:90vh;overflow:hidden;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 2rem;border-bottom:1px solid #e2e8f0;background:#f8fafc}.modal-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.5rem;font-weight:700;color:#1a202c;margin:0}.modal-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.75rem;color:#f59e0b}.modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.25rem;color:#64748b;cursor:pointer;padding:.5rem;border-radius:6px;transition:all .2s ease}.modal-close[_ngcontent-%COMP%]:hover{background:#e2e8f0;color:#1a202c}.modal-content[_ngcontent-%COMP%]{padding:2rem;max-height:60vh;overflow-y:auto}.violation-info[_ngcontent-%COMP%]{margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:1px solid #e2e8f0}.info-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.violation-id[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1a202c;margin:0 0 .5rem}.violation-date[_ngcontent-%COMP%]{color:#64748b;font-size:.9rem;font-weight:500}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;border-radius:20px;color:#fff;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.detail-item.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.detail-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px;margin-bottom:.5rem}.detail-value[_ngcontent-%COMP%]{font-size:1rem;color:#1a202c;padding:.75rem;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0}.detail-value.violation-reason[_ngcontent-%COMP%], .detail-value.admin-notes[_ngcontent-%COMP%]{line-height:1.6;min-height:80px;white-space:pre-wrap}.edit-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.5rem;text-transform:uppercase;letter-spacing:.5px}.form-control[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #d1d5db;border-radius:8px;font-size:1rem;transition:border-color .2s ease,box-shadow .2s ease;background:#fff}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-control.textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px;font-family:inherit}.form-control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:pointer}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding:1.5rem 2rem;border-top:1px solid #e2e8f0;background:#f8fafc}.btn-secondary[_ngcontent-%COMP%]{background:#e2e8f0;color:#64748b}.btn-secondary[_ngcontent-%COMP%]:hover{background:#cbd5e1;color:#475569}.loading-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#f8fafce6;display:flex;align-items:center;justify-content:center;z-index:1000!important;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.loading-spinner[_ngcontent-%COMP%]{text-align:center;color:#f59e0b}.loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin:0;color:#64748b}.modal-loading[_ngcontent-%COMP%]{padding:3rem 2rem;text-align:center;min-height:200px;display:flex;align-items:center;justify-content:center}.modal-loading[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{color:#f59e0b}.modal-loading[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.modal-loading[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin:0;color:#64748b}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.btn[_ngcontent-%COMP%]:disabled:hover{transform:none!important;background:inherit}.fa-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fa-spin 1s infinite linear}@keyframes _ngcontent-%COMP%_fa-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.stat-card[_ngcontent-%COMP%]:hover   .stat-icon[_ngcontent-%COMP%]{transform:scale(1.1);transition:transform .2s ease}.btn[_ngcontent-%COMP%]:not(:disabled):hover{box-shadow:0 4px 12px #f59e0b4d}.btn[_ngcontent-%COMP%]:focus, .modal-close[_ngcontent-%COMP%]:focus, .form-control[_ngcontent-%COMP%]:focus{outline:2px solid #f59e0b;outline-offset:2px}.status-pending[_ngcontent-%COMP%]{background-color:#fbbf24}.status-solved[_ngcontent-%COMP%]{background-color:#10b981}.status-dismissed[_ngcontent-%COMP%]{background-color:#ef4444}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInOut{0%{opacity:0;transform:translateY(-30px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}@media (max-width: 768px){.violations-container[_ngcontent-%COMP%]{padding:1rem}.violations-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-container[_ngcontent-%COMP%]{margin:1rem;max-width:calc(100vw - 2rem)}.modal-content[_ngcontent-%COMP%]{padding:1.5rem}.info-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.details-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-footer[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}.violation-reason[_ngcontent-%COMP%]{background:#fef3c7;border-left:4px solid #f59e0b}.admin-notes[_ngcontent-%COMP%]{background:#dbeafe;border-left:4px solid #3b82f6}.table-cell-status[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.form-control.error[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}.form-control.success[_ngcontent-%COMP%]{border-color:#10b981;box-shadow:0 0 0 3px #10b9811a}.modal-overlay.closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalFadeOut .2s ease-in forwards}.modal-container.closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideOut .2s ease-in forwards}@keyframes _ngcontent-%COMP%_modalFadeOut{0%{opacity:1}to{opacity:0}}@keyframes _ngcontent-%COMP%_modalSlideOut{0%{opacity:1;transform:translateY(0) scale(1)}to{opacity:0;transform:translateY(-20px) scale(.95)}}"]})};var B8=class n{totalPrice;pricePerNight;checkIn;checkOut;guestsCount;nightsCount;confirm=new ye;close=new ye;ngOnInit(){console.log("confirmation modal"),console.log(this.checkIn,this.checkOut)}onConfirm(){this.confirm.emit()}closeModal(){this.close.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=le({type:n,selectors:[["app-reserve-confirm-modal"]],inputs:{totalPrice:"totalPrice",pricePerNight:"pricePerNight",checkIn:"checkIn",checkOut:"checkOut",guestsCount:"guestsCount",nightsCount:"nightsCount"},outputs:{confirm:"confirm",close:"close"},decls:43,vars:5,consts:[[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"modal-title"],["aria-label","Close modal",1,"modal-close",3,"click"],[1,"fas","fa-times"],[1,"modal-content"],[1,"card","booking-card"],[1,"card-body"],[1,"price-section","mb-4"],[1,"price-amount"],[1,"currency","me-2","fw-bolder"],[1,"duration","fw-bolder"],[1,"booking-details"],[1,"row","g-0","border-bottom-custom"],[1,"col-6","border-end-custom"],[1,"detail-section"],[1,"detail-label"],[1,"detail-value"],[1,"col-6"],[1,"modal-footer"],[1,"btn","btn-primary",3,"click","disabled"]],template:function(t,i){t&1&&(Pe(0,"div",0),fi("click",function(){return i.closeModal()}),Pe(1,"div",1),fi("click",function(o){return o.stopPropagation()}),Pe(2,"div",2)(3,"h4",3),m(4," Confirm Reservation "),Le(),Pe(5,"button",4),fi("click",function(){return i.closeModal()}),pn(6,"i",5),Le()(),Pe(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"span",10),m(12,"Total Price "),Le(),Pe(13,"span",11),m(14),Le(),Pe(15,"span"),m(16,"for "),Le(),Pe(17,"span",12),m(18),Le(),Pe(19,"span"),m(20," nights"),Le()(),Pe(21,"div",13)(22,"div",14)(23,"div",15)(24,"div",16)(25,"div",17),m(26,"CHECK-IN"),Le(),Pe(27,"div",18),m(28),Le()()(),Pe(29,"div",19)(30,"div",16)(31,"div",17),m(32,"CHECKOUT"),Le(),Pe(33,"div",18),m(34),Le()()()(),Pe(35,"div",16)(36,"div",17),m(37,"GUESTS"),Le(),Pe(38,"div",18),m(39),Le()()()()()(),Pe(40,"div",20)(41,"button",21),fi("click",function(){return i.onConfirm()}),m(42," Confirm "),Le()()()()),t&2&&(p(14),U("$",i.totalPrice),p(4),$(i.nightsCount),p(10),$(i.checkIn==null?null:i.checkIn.format("MMM D-YY")),p(6),$(i.checkOut==null?null:i.checkOut.format("MMM D-YY")),p(5),$(i.guestsCount))},dependencies:[he,Mt],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:100001!important;padding:1rem;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 20px 60px #0000004d;max-width:700px;width:100%;max-height:90vh;overflow:hidden;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0rem 2rem;border-bottom:1px solid #e2e8f0;background:#f8fafc}.modal-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.2rem;font-weight:700;color:#2c1a25;color:#ff385c;margin:0;padding:0}.currency[_ngcontent-%COMP%], .duration[_ngcontent-%COMP%]{color:#ff385c!important}.modal-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.75rem;color:#f59e0b}.modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.25rem;color:#64748b;cursor:pointer;padding:.5rem;border-radius:6px;transition:all .2s ease}.modal-close[_ngcontent-%COMP%]:hover{background:#e2e8f0;color:#1a202c}.modal-content[_ngcontent-%COMP%]{padding:2rem;max-height:60vh;overflow-y:auto}.violation-info[_ngcontent-%COMP%]{margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:1px solid #e2e8f0}.info-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.violation-id[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1a202c;margin:0 0 .5rem}.violation-date[_ngcontent-%COMP%]{color:#64748b;font-size:.9rem;font-weight:500}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;border-radius:20px;color:#fff;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.detail-item.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.detail-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px;margin-bottom:.5rem}.detail-value[_ngcontent-%COMP%]{font-size:1rem;color:#1a202c;padding:.75rem;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0}.detail-value.violation-reason[_ngcontent-%COMP%], .detail-value.admin-notes[_ngcontent-%COMP%]{line-height:1.6;min-height:80px;white-space:pre-wrap}.edit-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.5rem;text-transform:uppercase;letter-spacing:.5px}.form-control[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #d1d5db;border-radius:8px;font-size:1rem;transition:border-color .2s ease,box-shadow .2s ease;background:#fff}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-control.textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px;font-family:inherit}.form-control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:pointer}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding:1.5rem 2rem;border-top:1px solid #e2e8f0;background:#f8fafc}.btn-secondary[_ngcontent-%COMP%]{background:#e2e8f0;color:#64748b}.btn-secondary[_ngcontent-%COMP%]:hover{background:#cbd5e1;color:#475569}.loading-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#f8fafce6;display:flex;align-items:center;justify-content:center;z-index:1000!important;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.loading-spinner[_ngcontent-%COMP%]{text-align:center;color:#f59e0b}.loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin:0;color:#64748b}.modal-loading[_ngcontent-%COMP%]{padding:3rem 2rem;text-align:center;min-height:200px;display:flex;align-items:center;justify-content:center}.modal-loading[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{color:#f59e0b}.modal-loading[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.modal-loading[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin:0;color:#64748b}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.btn[_ngcontent-%COMP%]:disabled:hover{transform:none!important;background:inherit}.fa-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fa-spin 1s infinite linear}@keyframes _ngcontent-%COMP%_fa-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.stat-card[_ngcontent-%COMP%]:hover   .stat-icon[_ngcontent-%COMP%]{transform:scale(1.1);transition:transform .2s ease}.btn[_ngcontent-%COMP%]:not(:disabled):hover{box-shadow:0 4px 12px #f59e0b4d}.btn[_ngcontent-%COMP%]:focus, .modal-close[_ngcontent-%COMP%]:focus, .form-control[_ngcontent-%COMP%]:focus{outline:2px solid #f59e0b;outline-offset:2px}.status-pending[_ngcontent-%COMP%]{background-color:#fbbf24}.status-solved[_ngcontent-%COMP%]{background-color:#10b981}.status-dismissed[_ngcontent-%COMP%]{background-color:#ef4444}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInOut{0%{opacity:0;transform:translateY(-30px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}@media (max-width: 768px){.violations-container[_ngcontent-%COMP%]{padding:1rem}.violations-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-container[_ngcontent-%COMP%]{margin:1rem;max-width:calc(100vw - 2rem)}.modal-content[_ngcontent-%COMP%]{padding:1.5rem}.info-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.details-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-footer[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}.violation-reason[_ngcontent-%COMP%]{background:#fef3c7;border-left:4px solid #f59e0b}.admin-notes[_ngcontent-%COMP%]{background:#dbeafe;border-left:4px solid #3b82f6}.table-cell-status[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.form-control.error[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}.form-control.success[_ngcontent-%COMP%]{border-color:#10b981;box-shadow:0 0 0 3px #10b9811a}.modal-overlay.closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalFadeOut .2s ease-in forwards}.modal-container.closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideOut .2s ease-in forwards}@keyframes _ngcontent-%COMP%_modalFadeOut{0%{opacity:1}to{opacity:0}}@keyframes _ngcontent-%COMP%_modalSlideOut{0%{opacity:1;transform:translateY(0) scale(1)}to{opacity:0;transform:translateY(-20px) scale(.95)}}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff385c,#e31c5f)!important}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(-135deg,#e31c5f 100%,#ff385c 0%)!important}.btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6b7280,#4b5563)!important;background:linear-gradient(135deg,#475569,#334155)!important;background:linear-gradient(135deg,#94a3b8,#64748b)!important}.btn-secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(-135deg,#64748b 100%,#94a3b8 0%)!important}"]})};var Oz=mr(wz()),Dz=mr(Sz());var j8=class n{constructor(e){this.http=e}apiUrl=`${Ke.baseUrl}/Booking`;createBooking(e){return this.http.post(`${this.apiUrl}`,e)}static \u0275fac=function(t){return new(t||n)(De(Ct))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var ll=class n{constructor(e){this.http=e}baseUrl=Ke.baseUrl;calendarUrl=`${this.baseUrl}/Calendar`;getAvailability(e,t,i){let r=new Ei().set("startDate",t).set("endDate",i),o=`${this.calendarUrl}/property/${e}`;return this.http.get(o,{params:r}).pipe(Ne(a=>a.data))}static \u0275fac=function(t){return new(t||n)(De(Ct))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var O1=class n{_clear$=new Re;clear$=this._clear$.asObservable();clear(){this._clear$.next()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var P4=class n{constructor(e){this.http=e}apiUrl=`${Ke.baseUrl}/payments`;createCheckout(e){return this.http.post(`${this.apiUrl}/checkout`,e)}createStripeAccount(e,t){let i=new Ei().set("email",e).set("userId",t);return this.http.post(`${this.apiUrl}/finalize-account`,null,{params:i})}transferToHost(e){return this.http.post(`${this.apiUrl}/transfer/${e}`,{})}getHostPendingPayments(e){return this.http.get(`${this.apiUrl}/host/${e}/pending`)}getHostPaymentSummary(e){return this.http.get(`${this.apiUrl}/host/${e}/summary`)}getHostPayments(e,t){let i=new Ei;return t&&(i=i.set("status",t)),this.http.get(`${this.apiUrl}/host/${e}`,{params:i})}processPendingTransfers(){return this.http.post(`${this.apiUrl}/process-pending-transfers`,{})}getPlatformRevenue(e,t){let i=new Ei;return e&&(i=i.set("startDate",e)),t&&(i=i.set("endDate",t)),this.http.get(`${this.apiUrl}/admin/revenue`,{params:i})}getPaymentByBookingId(e){return this.http.get(`${this.apiUrl}/booking/${e}`)}checkStripeAccountStatus(e){let t=new Ei().set("userId",e);return this.http.get(`${this.apiUrl}/stripe-account-completed`,{params:t})}getAllPayments(e=1,t=10){let i=new Ei().set("page",e.toString()).set("pageSize",t.toString());return this.http.get(`${this.apiUrl}/payments`,{params:i})}static \u0275fac=function(t){return new(t||n)(De(Ct))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var Bee=["picker"],jee=["element"];function Hee(n,e){if(n&1&&(l(0,"div",26),m(1," Total "),k(2,"img",27),m(3),Q(4,"currency"),d()),n&2){let t=C();p(3),U(" : ",de(4,1,t.totalPrice)," ")}}function Uee(n,e){if(n&1&&(l(0,"div",37),m(1," This place has a maximum of "),l(2,"span",38),m(3),d(),m(4," guests If you're bringing more than 2 pets, please let your host know. "),d()),n&2){let t=C(2);p(3),U(" ",t.maxGuests)}}function $ee(n,e){if(n&1&&(l(0,"div",39),m(1),d()),n&2){let t=C(2);p(),U(" ",t.errorMessage," ")}}function Wee(n,e){if(n&1){let t=X();l(0,"div",28)(1,"div",29)(2,"div",30)(3,"div",31),m(4,"Adults"),d(),l(5,"div",32),m(6,"Age 13+"),d()(),l(7,"div",33)(8,"button",34),T("click",function(){z(t);let r=C();return A(r.updateGuests("adults",-1))}),m(9," \u2212 "),d(),l(10,"span"),m(11),d(),l(12,"button",34),T("click",function(){z(t);let r=C();return A(r.updateGuests("adults",1))}),m(13," + "),d()()(),l(14,"div",29)(15,"div",30)(16,"div",31),m(17,"Children"),d(),l(18,"div",32),m(19,"Ages 2-12"),d()(),l(20,"div",33)(21,"button",34),T("click",function(){z(t);let r=C();return A(r.updateGuests("children",-1))}),m(22," \u2212 "),d(),l(23,"span"),m(24),d(),l(25,"button",34),T("click",function(){z(t);let r=C();return A(r.updateGuests("children",1))}),m(26," + "),d()()(),j(27,Uee,5,1,"div",35)(28,$ee,2,1,"div",36),d()}if(n&2){let t=C();p(8),_("disabled",t.guests.adults<=1),p(3),$(t.guests.adults),p(),_("disabled",t.guests.adults+t.guests.children>=t.maxGuests),p(9),_("disabled",t.guests.children<=0),p(3),$(t.guests.children),p(),_("disabled",t.guests.adults+t.guests.children>=t.maxGuests),p(2),_("ngIf",t.maxGuests),p(),_("ngIf",t.errorMessage)}}function Gee(n,e){if(n&1&&(l(0,"div",40),m(1),d()),n&2){let t=C();p(),U(" \u274C Unavailable Dates: ",t.unavailableDates.join(", ")," ")}}function Yee(n,e){if(n&1){let t=X();l(0,"app-reserve-confirm-modal",41),T("close",function(){z(t);let r=C();return A(r.onCloseConfirmModal())})("confirm",function(){z(t);let r=C();return A(r.onReserveConfirmClick())}),d()}if(n&2){let t=C();_("checkIn",t.selected.startDate)("checkOut",t.selected.endDate)("guestsCount",t.guestCount)("pricePerNight",t.property.pricePerNight)("totalPrice",t.totalPrice)("nightsCount",t.nightsCount)}}Cs.default.extend(Oz.default);Cs.default.extend(Dz.default);var k4=class n{constructor(e,t,i,r,o,a,c,u,h,v,y,P,S){this.propertyService=e;this.bookingService=t;this.calendarService=i;this.cdr=r;this.commonService=o;this.chatService=a;this.route=c;this.router=u;this.paymentService=h;this.auth=v;this.dialogService=y;this.confirmService=P;this.snackBar=S}showViolationModal=!1;showConfirmModal=!1;nightsCount=1;showToast(e,t,i){this.snackBar.open(e,"Close",{duration:3e3,horizontalPosition:i,verticalPosition:t,panelClass:["custom-snackbar"]})}checkIn;checkOut;propertyId;isPreview=!1;hostID;guestChange=new ye;dateMap;dateChange=new ye;guests={adults:1,children:0};picker;elemnt;clickedDate;firstUnavailableDate;Message="";displayMonths=2;reserveClicked=new ye;showReservationMessage=!1;specialPriceFromAvailable;ngOnInit(){this.commonService.clear$.subscribe(()=>{this.clear()}),console.log("from ReserveOnInit",this.checkIn,this.checkOut),console.log("property id ",this.propertyId),console.log("host id ",this.hostID),this.selected={startDate:void 0,endDate:void 0},console.log("selected dates from on init reserve component  ",this.selected.startDate,"and ",this.selected.endDate),this.propertyId||console.error("Property ID is required for ReverseSectionComponent"),this.propertyService.getPropertyById(this.propertyId).subscribe({next:e=>{this.property=e,this.maxGuests=e.maxGuests,console.log("fetched property",e),this.pricePerNight=e.pricePerNight,this.totalPrice=this.pricePerNight,console.log("price per neight ",this.pricePerNight)},error:e=>{console.error("Failed to load property data",e)}}),console.log("form reserve-section onInit"),console.log("selected dates from on init reserve component  ",this.selected.startDate,"and ",this.selected.endDate)}ngOnChanges(e){e.checkIn&&e.checkOut&&(this.selected={startDate:e.checkIn.currentValue,endDate:e.checkOut.currentValue}),console.log(this.selected.startDate," from on changes in reserve section",this.selected.endDate),this.picker.hide(),this.checkAvailabilityForSelectedRange(),(e.dateMap||e.checkIn||e.checkOut)&&this.calculateTotalPrice()}onResize(){this.updateDisplayMonths()}isInvalidDate=e=>{if(e.isBefore((0,Cs.default)(),"day"))return!0;if(this.dateMap){let t=e.format("YYYY-MM-DD"),i=this.dateMap.get(t);if(i&&i.isAvailable===!1)return!0}return!1};onStartDateChange(e){}onClear(){this.clear(),this.commonService.clear()}clear(){console.log("clear"),this.selected={endDate:void 0,startDate:void 0},this.picker.picker.clear(),this.dateChange.emit({startDate:this.selected.startDate,endDate:this.selected.startDate})}updateDisplayMonths(){this.displayMonths=window.innerWidth<768?1:2}selected={startDate:void 0,endDate:void 0};ranges={Today:[(0,pa.default)().add(1,"month"),(0,pa.default)().add(1,"month")],Yesterday:[(0,pa.default)().subtract(1,"days"),(0,pa.default)().subtract(1,"days")],"Last 7 Days":[(0,pa.default)().subtract(6,"days"),(0,pa.default)()],"Last 30 Days":[(0,pa.default)().subtract(29,"days"),(0,pa.default)()],"This Month":[(0,pa.default)().startOf("month"),(0,pa.default)().endOf("month")],"Last Month":[(0,pa.default)().subtract(1,"month").startOf("month"),(0,pa.default)().subtract(1,"month").endOf("month")]};locale={format:"YYYY-MM-D",applyLabel:"Apply",cancelLabel:"Cancel",customRangeLabel:"Custom"};selectedDateRange={startDate:null,endDate:null};property;maxGuests;totalPrice;guestCount=1;pricePerNight=120;errorMessage=null;checkInDate=null;checkOutDate=null;showGuestDropdown=!1;isDateRangeAvailable=null;unavailableDates=[];onDatesChanged(e){this.firstUnavailableDate=void 0,this.clickedDate=void 0,this.dateChange.emit(e),console.log("on dates changes ",e),console.log("on date changed ",this.clickedDate),this.calculateTotalPrice()}currentMonth=new Date;weekDays=["S","M","T","W","T","F","S"];currentMonthDays=[];nextMonthDays=[];showNextMonth=!0;generateCalendarDays(){let e=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth(),1),t=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth()+1,1),i=new Date(e.getFullYear(),e.getMonth()+1,0),r=new Date(t.getFullYear(),t.getMonth()+1,0),o=a=>a.toISOString().split("T")[0];this.calendarService.getAvailability(this.propertyId,o(e),o(r)).subscribe(a=>{let c=new Map;a.forEach(u=>{c.set(u.date,u)}),this.currentMonthDays=this.getDaysInMonth(e,c),this.nextMonthDays=this.getDaysInMonth(t,c)})}getDaysInMonth(e,t){let i=new Date;i.setHours(0,0,0,0);let r=e.getFullYear(),o=e.getMonth(),a=new Date(r,o,1),c=new Date(r,o+1,0),u=[],h=a.getDay();for(let v=0;v<h;v++)u.push({empty:!0});for(let v=1;v<=c.getDate();v++){let y=new Date(r,o,v),P=y.toISOString().split("T")[0],S=t.get(P);u.push({date:y,available:S?S.isAvailable:!1,price:S?.price??null,disabled:!S?.isAvailable||y<i})}return u}selectDate(e){let t=new Date;if(t.setHours(0,0,0,0),e<t){this.showToast("You cannot select a past date.","bottom","left");return}let i=e.toISOString().split("T")[0],r=[...this.currentMonthDays,...this.nextMonthDays],o=r.find(a=>a.date&&this.isSameDay(a.date,e));if(!o||o.disabled){this.showToast("Selected date is unavailable.","bottom","left");return}if(!this.checkInDate||this.checkOutDate)this.checkInDate=e,this.checkOutDate=null,this.totalPrice=null;else if(e>this.checkInDate)if(this.validateDateRange(this.checkInDate,e))this.checkOutDate=e;else{let a=this.findClosestAvailableRange(this.checkInDate,r);this.showToast(`Selected range is unavailable. Try from ${a.start.toDateString()} to ${a.end.toDateString()}`,"bottom","left")}else this.checkInDate=e,this.checkOutDate=null,this.totalPrice=null}findClosestAvailableRange(e,t){let i=t.filter(r=>r.date&&r.available).sort((r,o)=>+r.date-+o.date);for(let r=0;r<i.length-1;r++){let o=i[r].date,a=i[r+1].date;if((a.getTime()-o.getTime())/(1e3*60*60*24)===1)return{start:o,end:a}}return{start:e,end:e}}isSameDay(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}validateDateRange(e,t){let i=[...this.currentMonthDays,...this.nextMonthDays];for(let r of i)if(r.date&&r.date>e&&r.date<t&&r.disabled)return!1;return!0}isCheckIn(e){return this.checkInDate?this.isSameDay(this.checkInDate,e):!1}isCheckOut(e){return console.log(" date that is parameter to ischeck out",e),this.checkOutDate?this.isSameDay(this.checkOutDate,e):!1;console.log("checkin date ",this.checkOutDate)}toggleGuestDropdown(){this.showGuestDropdown=!this.showGuestDropdown}updateGuests(e,t){let i=this.guests[e],r=i+t;if(console.log(i),e==="adults"&&r<1||e==="children"&&r<0)return;let o=Ve(ie({},this.guests),{[e]:r});this.calculateTotalPrice();let a=o.adults+o.children;if(a>this.maxGuests){this.errorMessage=`Maximum ${this.maxGuests} guests allowed (excluding infants).`;return}console.log(a),this.guests=o,this.guestCount=a,this.errorMessage=null,this.guestChange.emit(this.guests),this.calculateTotalPrice(),console.log("\u{1F4B0} Total price recalculated: ",this.totalPrice)}calculateTotalPrice(){if(console.log("start calculatePrice",!this.selected?.startDate,!this.selected?.endDate,!this.dateMap),!this.selected?.startDate||!this.selected?.endDate||!this.dateMap)return;let e=(0,Cs.default)(this.selected.startDate),t=(0,Cs.default)(this.selected.endDate),i=t.diff(e,"day");if(this.nightsCount=i,console.log(`\u{1F4C5} Check-in: ${e.format("YYYY-MM-DD")}`),console.log(`\u{1F4C5} Check-out: ${t.format("YYYY-MM-DD")}`),console.log(`\u{1F319} Number of nights: ${i}`),i<=0){this.totalPrice=0;return}let r=0,o=e.clone();for(let a=0;a<i;a++){let c=o.format("YYYY-MM-DD"),h=this.dateMap.get(c)?.price??this.pricePerNight;r+=h,console.log(`\u{1F5D3}\uFE0F Adding price for day: ${c} = ${h} EGP`),o=o.add(1,"day")}this.totalPrice=r,console.log(`\u{1F4B0} Total price: ${this.totalPrice} EGP for ${i} day(s)`)}get totalGuests(){let e=this.guests.adults+this.guests.children;return`${e} guest${e!==1?"s":""}`}checkAvailabilityForSelectedRange(){console.log("reserve button clicked "),console.log(" elected range ",this.selected);let e=(0,Cs.default)(this.selected.startDate),t=(0,Cs.default)(this.selected.endDate);console.log("before format ",e),console.log("before format ",t);let i=e.format("YYYY-MM-DD"),r=t.format("YYYY-MM-DD");console.log("format start",i),console.log("format end",r);let o=(this.guests?.adults||0)+(this.guests?.children||0);console.log(o);let a=(0,Cs.default)(this.clickedDate).format("YYYY-MM-DD");this.guestCount=o,this.calculateTotalPrice()}onReserveConfirmClick(){let e=this.auth.userId;if(!e){console.log("User not logged in. Opening login dialog..."),this.dialogService.openDialog("login");return}let t=(0,Cs.default)(this.selected.startDate),i=(0,Cs.default)(this.selected.endDate),r=(this.guests?.adults||0)+(this.guests?.children||0);this.guestCount=r,console.log("UTC string",t.utc().format());let o={propertyId:this.propertyId,userId:e,checkInDate:t.utc().format(),checkOutDate:i.utc().format(),numberOfGuests:r};this.bookingService.createBooking(o).subscribe({next:a=>{console.log("Booking result",a);let u={bookingId:a.data,amount:this.totalPrice};this.paymentService.createCheckout(u).subscribe({next:h=>{console.log("Payment service",h),this.confirmService.success("Reservation completed","",()=>{window.location.href=h.url})},error:h=>{this.confirmService.fail("Failed",""),console.error("Checkout session creation failed",h)}})},error:a=>{console.error("Booking creation failed",a),this.confirmService.fail("Booking Failed","")}})}showViolationModalFn(){if(!this.auth.userId){this.dialogService.openDialog("login");return}console.log(this.showViolationModal),this.showViolationModal=!0}closeViolationModal(){this.showViolationModal=!1}onShowConfirmModal(){this.showConfirmModal=!0}onCloseConfirmModal(){this.showConfirmModal=!1}static \u0275fac=function(t){return new(t||n)(V(Cn),V(j8),V(ll),V(Ot),V(O1),V(oo),V(qn),V(nt),V(P4),V(dt),V(ai),V(Ui),V(vn))};static \u0275cmp=le({type:n,selectors:[["app-reverse-section"]],viewQuery:function(t,i){if(t&1&&(en(Bee,5,r8),en(jee,5)),t&2){let r;qt(r=Zt())&&(i.picker=r.first),qt(r=Zt())&&(i.elemnt=r.first)}},hostBindings:function(t,i){t&1&&T("resize",function(){return i.onResize()},Vo)},inputs:{checkIn:"checkIn",checkOut:"checkOut",propertyId:"propertyId",isPreview:"isPreview",hostID:"hostID",dateMap:"dateMap",guests:"guests"},outputs:{guestChange:"guestChange",dateChange:"dateChange",reserveClicked:"reserveClicked"},features:[Gt],decls:40,vars:24,consts:[["picker",""],[1,"leftsection","booking-sticky-box"],[1,"rare-find-badge","mt-2","mb-4"],[1,"rare-find-content","d-flex","align-items-center"],[1,"bi","bi-gem","rare-find-icon","me-2"],[1,"rare-find-title"],[1,"reserve-box"],[1,"price-info"],[1,"price"],["class","mt-2 text-success fs-5 fw-medium d-flex m-auto align-items-center",4,"ngIf"],[1,"date-picker","mt-4","d-flex","flex-column"],[1,"flex","justify-content-end","mb-2",3,"click"],["ngxDaterangepickerMd","",1,"custom-date-input","text-center","fs-6","mx-auto",3,"ngModelChange","datesUpdated","startDateChanged","ngModel","isInvalidDate","useMap","linkedCalendars","showClearButton","alwaysShowCalendars","ranges","locale","autoApply","showCancel","showDropdowns"],[1,"guest-selector-container"],[1,"guest-selector-trigger",3,"click"],[1,"guest-summary"],[1,"bi","bi-chevron-down","dropdown-icon"],["class","guest-dropdown",4,"ngIf"],["type","button",1,"check-btn",3,"click","disabled"],["class","mt-2 text-danger",4,"ngIf"],[1,"button-subtext","mt-3"],[1,"report-listing",3,"click"],[1,"fa-regular","fa-flag"],[1,"report-link"],[3,"close","show","propertyId"],[3,"checkIn","checkOut","guestsCount","pricePerNight","totalPrice","nightsCount","close","confirm",4,"ngIf"],[1,"mt-2","text-success","fs-5","fw-medium","d-flex","m-auto","align-items-center"],["src","assets/images/dollars.png","alt","dolar image","loading","lazy",2,"width","20px","height","25px"],[1,"guest-dropdown"],[1,"guest-option"],[1,"guest-type"],[1,"guest-label"],[1,"guest-description"],[1,"guest-counter"],[3,"click","disabled"],["class","guest-limit-note",4,"ngIf"],["class","text-red-500 mt-2",4,"ngIf"],[1,"guest-limit-note"],[2,"color","rgb(24, 162, 242)","font-size","large"],[1,"text-red-500","mt-2"],[1,"mt-2","text-danger"],[3,"close","confirm","checkIn","checkOut","guestsCount","pricePerNight","totalPrice","nightsCount"]],template:function(t,i){if(t&1){let r=X();l(0,"div",1)(1,"div",2)(2,"div",3),k(3,"i",4),l(4,"span",5),m(5,"Rare find! This place is usually booked"),d()()(),l(6,"div",6)(7,"div",7),m(8," price:- "),l(9,"span",8),m(10),Q(11,"currency"),d(),l(12,"span"),m(13),d()(),j(14,Hee,5,3,"div",9),l(15,"div",10)(16,"div",11),T("click",function(){return z(r),A(i.onClear())}),l(17,"button"),m(18,"clear"),d()(),l(19,"input",12,0),mt("ngModelChange",function(a){return z(r),_t(i.selected,a)||(i.selected=a),A(a)}),T("datesUpdated",function(a){return z(r),A(i.onDatesChanged(a))})("startDateChanged",function(a){return z(r),A(i.onStartDateChange(a))}),d()(),l(21,"div",13)(22,"div",14),T("click",function(){return z(r),A(i.toggleGuestDropdown())}),l(23,"span"),m(24,"Guests"),d(),l(25,"span",15),m(26),d(),k(27,"i",16),d(),j(28,Wee,29,8,"div",17),d(),l(29,"button",18),T("click",function(){return z(r),A(i.onShowConfirmModal())}),m(30," Reserve "),d(),j(31,Gee,2,1,"div",19),l(32,"div",20),m(33,"You won't be charged yet"),d()()(),l(34,"div",21),T("click",function(){return z(r),A(i.showViolationModalFn())}),k(35,"i",22),l(36,"a",23),m(37,"Report this listing"),d()(),l(38,"app-violation-modal",24),T("close",function(){return z(r),A(i.closeViolationModal())}),d(),j(39,Yee,1,6,"app-reserve-confirm-modal",25)}t&2&&(p(10),$(de(11,22,i.pricePerNight)),p(3),U(" for ",i.nightsCount," night"),p(),_("ngIf",i.totalPrice),p(5),ft("ngModel",i.selected),_("isInvalidDate",i.isInvalidDate)("useMap",!1)("linkedCalendars",!0)("showClearButton",!1)("alwaysShowCalendars",!0)("ranges",i.ranges)("locale",i.locale)("autoApply",!0)("showCancel",!1)("showDropdowns",!1)("locale",i.locale),p(7),$(i.totalGuests),p(2),_("ngIf",i.showGuestDropdown),p(),_("disabled",!i.selected.startDate||!i.selected.endDate),p(2),_("ngIf",i.isDateRangeAvailable===!1),p(7),_("show",i.showViolationModal)("propertyId",i.propertyId),p(),_("ngIf",i.showConfirmModal))},dependencies:[he,Ce,Mt,Rt,Dt,kn,qo,r8,V8,B8,Cy],styles:[".reserve-box[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;border-radius:16px;padding:24px;width:100%;max-width:360px;position:relative;transition:top .3s ease;position:sticky;box-shadow:0 6px 16px #0000001f}.guest-limit-note[_ngcontent-%COMP%]{color:green}.price-info[_ngcontent-%COMP%]{font-size:22px;font-weight:600;margin-bottom:16px;color:#181818}.price-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#717171;font-size:14px}.price-info[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:#161616}.price[_ngcontent-%COMP%]{color:#161616;font-weight:25}.date-picker[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:5px}.date-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;font-size:12px;font-weight:600;color:#222}.date-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;border-radius:8px;font-size:14px}.check-btn[_ngcontent-%COMP%]{margin-top:20px;width:100%;color:#fff;border:none;padding:13px;font-size:1.1rem;font-weight:700;border-radius:20px;cursor:pointer;transition:background .3s ease;background:linear-gradient(90deg,#d94659,#e8047a);transition:background .3s ease,opacity .3s ease}.check-btn[_ngcontent-%COMP%]:hover{background-color:#dd5e3b}.check-btn[_ngcontent-%COMP%]:disabled{background:var(--secondary-text-color);cursor:not-allowed;opacity:.6}.rare-find-badge[_ngcontent-%COMP%]{background:#fff;box-shadow:0 6px 16px #0000001f;width:360px;border-radius:12px;padding:12px;text-align:center;margin-right:17px}.rare-find-icon[_ngcontent-%COMP%]{font-size:20px;color:#ff385c}.rare-find-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.rare-find-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px;color:#222}.rare-find-description[_ngcontent-%COMP%]{font-size:14px;color:#171616}.button-subtext[_ngcontent-%COMP%]{color:#3b3b3b;font-size:.9rem;text-align:center;margin-top:8px}.report-listing[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;margin-top:15px;font-size:.9rem;color:#202020}.report-listing[_ngcontent-%COMP%]   .fa-flag[_ngcontent-%COMP%]{color:#292828}.report-listing[_ngcontent-%COMP%]   .report-link[_ngcontent-%COMP%]{color:#201f1f;text-decoration:underline;font-weight:600;transition:color .2s ease}.report-listing[_ngcontent-%COMP%]   .report-link[_ngcontent-%COMP%]:hover{color:#484646}.reverse-box[_ngcontent-%COMP%], .guest-selector[_ngcontent-%COMP%]{margin-bottom:16px}.guest-selector-container[_ngcontent-%COMP%]{position:relative;margin:16px 0;z-index:100}.guest-selector-trigger[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px;border:1px solid #ebebeb;border-radius:8px;cursor:pointer;background-color:#fff}.guest-selector-trigger[_ngcontent-%COMP%]:hover{border-color:#b0b0b0}.guest-summary[_ngcontent-%COMP%]{flex-grow:1;text-align:right;margin:0 12px;color:#717171}.dropdown-icon[_ngcontent-%COMP%]{transition:transform .1s ease}.guest-selector-trigger.active[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.guest-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 8px);top:100%;left:0;right:0;background:#fff;border:1px solid #ebebeb;border-radius:8px;padding:16px;box-shadow:0 2px 16px #0000001f;z-index:101}.guest-option[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #ebebeb}.guest-option[_ngcontent-%COMP%]:last-child{border-bottom:none}.guest-type[_ngcontent-%COMP%]{flex-grow:1}.guest-label[_ngcontent-%COMP%]{font-weight:500}.guest-description[_ngcontent-%COMP%]{font-size:14px;color:#717171}.guest-counter[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.guest-counter[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;border:1px solid #b0b0b0;background:#fff;font-size:18px;display:flex;align-items:center;justify-content:center;cursor:pointer}.guest-counter[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:#ccc;border-color:#ebebeb;cursor:not-allowed}.guest-counter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:20px;text-align:center}.guest-limit-note[_ngcontent-%COMP%]{margin-top:16px;padding-top:16px;border-top:1px solid #ebebeb;font-size:14px;color:#717171;line-height:1.4}.guest-dropdown[_ngcontent-%COMP%]{position:absolute;inset:auto 0;border-radius:12px 12px 0 0;max-height:70vh;overflow-y:auto;overflow-x:hidden}.leftsection[_ngcontent-%COMP%]     .md-drppicker{min-width:fit-content!important;display:flex!important;justify-content:start;background-color:#fefafa!important;background-color:transparent!important;font-size:large;font-weight:bolder;z-index:1000!important}.left[_ngcontent-%COMP%]     .md-drppicker .calendar{min-width:45%!important}.airbnb-calendar-container[_ngcontent-%COMP%]{margin:0 auto;padding:.8rem;overflow-x:hidden}.titlecalender[_ngcontent-%COMP%]{font-weight:700;font-size:19px;margin:0}.airbnb-calendar-wrapper[_ngcontent-%COMP%]{display:flex;gap:1.6rem;justify-content:center;align-items:flex-start}.date-quick-options[_ngcontent-%COMP%]{flex-shrink:0;padding-top:50px}.leftsection[_ngcontent-%COMP%]     .md-drppicker{width:100%!important;box-shadow:none!important}.leftsection[_ngcontent-%COMP%]     .drp-calendar{width:50%!important;max-width:5000px!important;padding:0 20px!important}.leftsection[_ngcontent-%COMP%]     .calendar-table{width:100%!important;border:none!important;background:transparent!important}.leftsection[_ngcontent-%COMP%]     .calendar-table .month{font-size:1.3rem;font-weight:700;color:#222;margin-bottom:20px}.leftsection[_ngcontent-%COMP%]     .calendar-table th{font-size:12px;font-weight:600;color:#717171;text-transform:uppercase;letter-spacing:1px;padding:10px 0!important;width:40px!important;height:auto!important}.leftsection[_ngcontent-%COMP%]     .calendar-table td.in-range{background-color:#e0dbdb!important}.leftsection[_ngcontent-%COMP%]     .calendar-table td.start-date,   .calendar-table td.end-date{background-color:#000!important;color:#fff!important;font-weight:600!important}.leftsection[_ngcontent-%COMP%]     .drp-buttons, .leftsection[_ngcontent-%COMP%]     .ranges{display:none!important}.leftsection[_ngcontent-%COMP%]     .calendar-table td.available{color:#222;cursor:pointer}.leftsection[_ngcontent-%COMP%]     .calendar-table td.available:hover{background-color:#dcd9d9!important}.leftsection[_ngcontent-%COMP%]     .calendar-table{gap:100px}.leftsection[_ngcontent-%COMP%]     .calendar-table td{width:40px!important;height:40px!important;line-height:45px!important;font-size:.8rem;font-weight:bolder;padding:0rem .6rem;transition:all .2s ease!important;color:#000}.custom-date-input[_ngcontent-%COMP%]{padding:10px 15px;border:2px solid #007bff;border-radius:6px;font-size:14px;width:250px;cursor:pointer}.leftsection[_ngcontent-%COMP%]     .md-drppicker{background-color:#fff!important;border-width:1px;left:-80%!important;bottom:-10%!important;position:absolute;z-index:10000000!important}.leftsection[_ngcontent-%COMP%]{z-index:100000}"]})};var U8=class n{constructor(e){this.http=e}baseurl=Ke.baseUrl;propertyURL=`${this.baseurl}/Amenity`;getAllAmenitiesByPropertyId(e){return this.http.get(`${this.propertyURL}/property/${e}/amenities`)}getAllAmenities(){return this.http.get(`${this.propertyURL}/all`)}static \u0275fac=function(t){return new(t||n)(De(Ct))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};function Zee(n,e){if(n&1){let t=X();l(0,"div",21)(1,"img",22),T("error",function(r){z(t);let o=C();return A(o.onImageError(r))}),d(),l(2,"span",23),m(3),d()()}if(n&2){let t=e.$implicit;p(),_("src",t.iconUrl,et)("alt",t.name),p(2),$(t.name)}}function Xee(n,e){if(n&1){let t=X();l(0,"div",21)(1,"img",22),T("error",function(r){z(t);let o=C();return A(o.onImageError(r))}),d(),l(2,"span",23),m(3),d()()}if(n&2){let t=e.$implicit;p(),_("src",t.iconUrl,et)("alt",t.name),p(2),$(t.name)}}function Kee(n,e){if(n&1){let t=X();l(0,"button",24),T("click",function(){z(t);let r=C();return A(r.toggleShowAll())}),m(1),d()}if(n&2){let t=C();an("aria-expanded",t.showAllAmenities)("aria-label",t.showAllAmenities?"Show fewer amenities":"Show all "+t.amenities.length+" amenities"),p(),U(" ",t.showAllAmenities?"Show less":"Show all "+t.amenities.length+" amenities"," ")}}function Qee(n,e){n&1&&(l(0,"div",25)(1,"div",26),m(2,"\u{1F3E0}"),d(),l(3,"h3"),m(4,"No amenities listed"),d(),l(5,"p"),m(6,"This property doesn't have any amenities listed at the moment."),d()())}var $8=class n{constructor(e){this.propertyAmenityService=e}propertyId;property;amenities=[];isLoading=!0;showAllAmenities=!1;INITIAL_DISPLAY_COUNT=7;ngOnInit(){if(console.log("property form amenties section",this.property),!this.propertyId){console.error("Property ID is required for AmenitiesSectionComponent"),this.isLoading=!1;return}this.loadAmenities()}ngOnChanges(){console.log("property form amentites section",this.property)}loadAmenities(){this.propertyAmenityService.getAllAmenitiesByPropertyId(this.propertyId).subscribe({next:e=>{console.log("API response:",e),Array.isArray(e.data)&&(this.amenities=e.data.map(t=>({id:t.id,name:t.amenity?.name||t.name||"Unknown Amenity",iconUrl:this.getFullIconUrl(t.amenity?.iconUrl||t.iconUrl)}))),console.log("Processed amenities:",this.amenities),this.isLoading=!1},error:e=>{console.error("Failed to load amenities:",e),this.isLoading=!1}})}getFullIconUrl(e){return e?e.startsWith("http")?e:`https://localhost:7025${e}`:""}get displayedAmenities(){return this.showAllAmenities?this.amenities:this.amenities.slice(0,this.INITIAL_DISPLAY_COUNT)}get firstColumnAmenities(){let e=this.displayedAmenities;return e.slice(0,Math.ceil(e.length/2))}get secondColumnAmenities(){let e=this.displayedAmenities;return e.slice(Math.ceil(e.length/2))}get shouldShowToggle(){return this.amenities.length>this.INITIAL_DISPLAY_COUNT}toggleShowAll(){this.showAllAmenities=!this.showAllAmenities,this.showAllAmenities||setTimeout(()=>{let e=document.querySelector(".amenities-section h2");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},100)}onImageError(e){e.target.src="assets/images/default-amenity.svg"}trackByAmenityId(e,t){return t.id}static \u0275fac=function(t){return new(t||n)(V(U8))};static \u0275cmp=le({type:n,selectors:[["app-amenities-section"]],inputs:{propertyId:"propertyId",property:"property"},features:[Gt],decls:32,vars:8,consts:[[1,"section"],[1,"guest-favorite-box","d-flex","align-items-center","gap-1","my-2"],[1,"guest-favorite-content","d-flex","align-items-center","gap-1"],["src","assets/images/gold.png","alt","Guest Favorite icon","loading","lazy",1,"reviewImage"],[1,"Guestfavorite"],["src","assets/images/goldright.png","alt","Guest Favorite icon","loading","lazy",1,"reviewImage"],[1,"subtitle","text-black"],[1,"guest-reviews-summary","d-flex","align-items-center","col-3"],[1,"rating","d-flex","align-items-center","gap-1"],["aria-label","Rating out of 5 stars",1,"stars"],[1,"bi","bi-star-fill"],[1,"score"],[1,"reviews-count"],[1,"count"],[1,"mt-5","mb-2"],[1,"amenities-container","mb-4"],[1,"amenities-column","mt-3"],["class","amenity-item",4,"ngFor","ngForOf","ngForTrackBy"],["class","show-all-btn mb-3",3,"click",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"mt-5"],[1,"amenity-item"],["loading","lazy",1,"amenity-icon",3,"error","src","alt"],[1,"amenity-name"],[1,"show-all-btn","mb-3",3,"click"],[1,"empty-state"],[1,"empty-state-icon"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2),k(3,"img",3),l(4,"span",4),m(5,"Guest favorite"),d(),k(6,"img",5),l(7,"div",6),m(8," One of the most loved homes on "),k(9,"br"),m(10," Airbnb,according to guests "),d()(),l(11,"div",7)(12,"div",8)(13,"div",9),k(14,"i",10),d(),l(15,"p",11),m(16),d()(),l(17,"div",12),m(18," Reviews "),l(19,"span",13),m(20),d()()()(),k(21,"hr"),l(22,"h2",14),m(23,"What this place offers"),d(),l(24,"div",15)(25,"div",16),j(26,Zee,4,3,"div",17),d(),l(27,"div",16),j(28,Xee,4,3,"div",17),d()(),j(29,Kee,2,3,"button",18)(30,Qee,7,0,"div",19),k(31,"hr",20),d()),t&2&&(p(16),$((i.property==null?null:i.property.averageRating)??0),p(4),$((i.property==null?null:i.property.reviewCount)??0),p(6),_("ngForOf",i.firstColumnAmenities)("ngForTrackBy",i.trackByAmenityId),p(2),_("ngForOf",i.secondColumnAmenities)("ngForTrackBy",i.trackByAmenityId),p(),_("ngIf",i.shouldShowToggle&&i.amenities.length>5),p(),_("ngIf",i.amenities.length===0))},dependencies:[he,Xe,Ce,Mt],styles:["hr[_ngcontent-%COMP%]{width:80%;border:none;border-top:1px solid #1b1a1a;margin:24px 0;color:#171717}body[_ngcontent-%COMP%]{overflow-x:hidden}.section[_ngcontent-%COMP%]{overflow-x:hidden;box-sizing:border-box;margin:0!important}[_nghost-%COMP%]{display:block;overflow-x:hidden}.guest-favorite-box[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;padding:16px 20px;background-color:#fff;border:1px solid #e0e0e0;border-radius:12px;box-shadow:0 1px 4px #0000000d;max-width:600px;min-height:80px;justify-content:space-between;margin-left:0}.guest-favorite-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.gem-icon-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.reviewImage[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain}.Guestfavorite[_ngcontent-%COMP%]{color:#000;font-weight:700;font-size:18px}.guest-favorite-text[_ngcontent-%COMP%]   .Guestfavorite[_ngcontent-%COMP%]{white-space:nowrap;color:#000;padding:2px;font-size:large}.guest-favorite-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.9rem;color:#0f0f0f}.guest-reviews-summary[_ngcontent-%COMP%]{align-items:center;gap:5px;padding-left:5px;border-left:1px solid #ebebeb;height:100%;flex-direction:column;align-items:start;gap:.25rem;margin-top:2px}.rating[_ngcontent-%COMP%]{align-items:center;gap:4px}.score[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#171717;white-space:nowrap}.stars[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#000;font-size:.8rem}.reviews-count[_ngcontent-%COMP%]{font-size:.9rem;color:#717171;white-space:nowrap}.reviews-count[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-weight:600;color:#222}h2[_ngcontent-%COMP%]{font-size:25px;font-weight:700;margin-top:40px;margin-bottom:24px;color:#222}.amenities-container[_ngcontent-%COMP%]{display:flex;gap:20px}.amenities-column[_ngcontent-%COMP%]{flex:1 1 48%;min-width:0}.amenity-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 0;gap:12px}.amenity-icon[_ngcontent-%COMP%]{width:26px;height:26px;object-fit:contain;flex-shrink:0}.amenity-icon[_ngcontent-%COMP%]:hover{opacity:1}.amenity-name[_ngcontent-%COMP%]{font-size:18px;color:#222;line-height:1.4;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.show-all-btn[_ngcontent-%COMP%]{background:#f2f2f2;border:1px solid #ccc;font-weight:600;font-size:16px;cursor:pointer;transition:all .2s ease;font-family:Airbnb Cereal App,Segoe UI,Roboto,sans-serif;padding:12px;color:#222;border-radius:20px}.show-all-btn[_ngcontent-%COMP%]:hover{background-color:#e0e0e0;border-color:#222;transform:none;box-shadow:none}.show-all-btn[_ngcontent-%COMP%]:active{background-color:#d0d0d0;transform:none;box-shadow:none}.empty-state[_ngcontent-%COMP%]{text-align:center;color:#717171;padding:40px 0}.empty-state-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#222}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:1.4}@media (max-width: 768px){.section[_ngcontent-%COMP%]{padding:0 16px}.guest-favorite-box[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px;padding:16px}.guest-favorite-content[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.guest-reviews-summary[_ngcontent-%COMP%]{width:100%;border-left:none;border-top:1px solid #ebebeb;padding-left:0;padding-top:12px;margin-top:12px;justify-content:space-around}.amenities-container[_ngcontent-%COMP%]{flex-direction:column;gap:0}.amenities-column[_ngcontent-%COMP%]{flex:1 1 100%}.amenity-item[_ngcontent-%COMP%]{padding:6px 0}.amenity-name[_ngcontent-%COMP%]{font-size:15px}.show-all-btn[_ngcontent-%COMP%]{width:100%;margin-top:20px;border-radius:12px}}@media (max-width: 480px){.guest-favorite-box[_ngcontent-%COMP%]{padding:12px}.guest-favorite-text[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1rem}.guest-favorite-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.85rem}.score[_ngcontent-%COMP%]{font-size:1rem}.reviews-count[_ngcontent-%COMP%]{font-size:.85rem}h2[_ngcontent-%COMP%]{font-size:22px}}@media (prefers-contrast: high){.amenity-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;border-radius:4px}.show-all-btn[_ngcontent-%COMP%]{border-width:2px}}@media (prefers-reduced-motion: reduce){.amenity-item[_ngcontent-%COMP%], .amenities-container[_ngcontent-%COMP%], .show-all-btn[_ngcontent-%COMP%]{animation:none;transition:none}.amenity-item[_ngcontent-%COMP%]:hover, .show-all-btn[_ngcontent-%COMP%]:hover{transform:none}}"]})};var fa=mr(Ep()),zz=mr(Ez()),lAe=mr(Iz()),Az=mr(Tz()),Nz=mr(Lz()),D1=mr(Dp());var Jee=["picker"];fa.default.extend(zz.default);fa.default.extend(Az.default);fa.default.extend(Nz.default);var W8=class n{constructor(e,t,i,r,o,a,c){this.calendarService=e;this.property=t;this.http=i;this.cdr=r;this.commonService=o;this.snackBar=a;this.elementRef=c}showToast(e,t,i){this.snackBar.open(e,"Close",{duration:3e3,horizontalPosition:i,verticalPosition:t,panelClass:["custom-snackbar"]})}propertyId;checkIn;checkOut;dateSelected=new ye;datedChange=new ye;dateMap;defaultPricePerNight;picker;minDate=(0,D1.default)().startOf("year").format("YYYY-MM-DD");maxDate=(0,D1.default)().add(1,"year").endOf("month").format("YYYY-MM-DD");showPicker=!0;clickedDate;firstUnavailableDate;selected={startDate:void 0,endDate:void 0};locale={format:"YYYY-MM-DD",applyLabel:"Apply",cancelLabel:"Cancel",customRangeLabel:"Custom"};selectedDateRange={startDate:(0,fa.default)(),endDate:(0,fa.default)()};totalPrice;munavailableDates=[];calendarObserver;ngOnInit(){this.commonService.clear$.subscribe(()=>this.clear()),this.selectedDateRange={startDate:(0,fa.default)(),endDate:(0,fa.default)()}}ngAfterViewInit(){setTimeout(()=>{this.addPricesToCalendar(),this.setupCalendarObserver(),this.debugCalendarData()},1e3)}ngOnChanges(e){let t={startDate:void 0,endDate:void 0};e.checkIn&&this.selected&&(t.startDate=e.checkIn.currentValue),e.checkOut&&this.selected&&(t.endDate=e.checkOut.currentValue),this.selected=t,this.picker&&(this.selected.startDate&&(this.picker.startDate=this.selected?.startDate),this.selected.endDate&&(this.picker.endDate=this.selected?.endDate),this.picker.updateView(),this.picker.updateCalendars(),this.picker.hide()),e.dateMap&&this.dateMap&&(console.log("DateMap changed, updating prices"),setTimeout(()=>{this.addPricesToCalendar()},200))}addPricesToCalendar(){this.dateMap&&setTimeout(()=>{let e=this.elementRef.nativeElement.querySelector(".md-drppicker");if(!e){console.warn("Calendar element not found");return}let t=e.querySelectorAll("td.available");console.log(`Found ${t.length} available date cells`),t.forEach(i=>{try{let r=i.querySelector(".date-price");r&&r.remove();let o=i.textContent?.trim();if(!o||isNaN(parseInt(o)))return;let a=i.closest("table.table-condensed");if(!a)return;let c=a.querySelector("th.month");if(!c)return;let u=c.textContent?.trim();if(!u)return;let h;try{if(h=(0,D1.default)(u,["MMMM YYYY","MMM YYYY"]),!h.isValid()){console.warn(`Invalid month format: ${u}`);return}}catch(O){console.error(`Error parsing month: ${u}`,O);return}let y=h.clone().date(parseInt(o)).format("YYYY-MM-DD");console.log(`Processing date: ${y}`);let P=this.dateMap.get(y),S,M=!1;if(P?.price?(S=P.price,M=P.price!==this.defaultPricePerNight):S=this.defaultPricePerNight||0,S>0){let O=document.createElement("div");O.className="date-price",O.textContent=`$${S}`,M&&O.classList.add("special-price"),i.appendChild(O),console.log(`Added price ${S} for date ${y} (special: ${M})`)}}catch(r){console.error("Error processing calendar cell:",r)}})},100)}reapplyPrices(){setTimeout(()=>{this.addPricesToCalendar()},50)}debugCalendarData(){if(console.log("=== Calendar Debug Info ==="),console.log("DateMap size:",this.dateMap?.size),console.log("Default price per night:",this.defaultPricePerNight),this.dateMap){let t=0;for(let[i,r]of this.dateMap.entries())t<10&&(console.log(`Date: ${i}, Price: ${r.price}, Available: ${r.isAvailable}`),t++)}let e=this.elementRef.nativeElement.querySelector(".md-drppicker");if(e){let t=e.querySelectorAll("td.available");console.log("Available date cells found:",t.length);let i=e.querySelectorAll(".date-price");console.log("Price elements found:",i.length)}}clearAllPrices(){let e=this.elementRef.nativeElement.querySelector(".md-drppicker");e&&e.querySelectorAll(".date-price").forEach(i=>i.remove())}setupCalendarObserver(){let e=this.elementRef.nativeElement.querySelector(".md-drppicker");if(!e)return;this.calendarObserver=new MutationObserver(r=>{let o=!1;r.forEach(a=>{a.type==="childList"&&Array.from(a.addedNodes).some(u=>u instanceof Element&&u.classList.contains("calendar-table"))&&(o=!0)}),o&&setTimeout(()=>{this.addPricesToCalendar()},100)}),this.calendarObserver.observe(e,{childList:!0,subtree:!0});let t=e.querySelector(".prev"),i=e.querySelector(".next");t&&t.addEventListener("click",()=>{this.reapplyPrices()}),i&&i.addEventListener("click",()=>{this.reapplyPrices()})}forceUpdatePrices(){this.clearAllPrices(),setTimeout(()=>{this.addPricesToCalendar()},100)}onClear(){this.clear(),this.commonService.clear()}clear(){console.log("clear"),this.selected={endDate:void 0,startDate:void 0},this.picker.clear(),this.cdr.detectChanges(),this.datedChange.emit({startDate:this.selected.startDate,endDate:this.selected.startDate})}isInvalidDate=e=>{if(e.isBefore((0,fa.default)(),"day"))return!0;if(this.dateMap){let t=e.format("YYYY-MM-DD"),i=this.dateMap.get(t);if(i&&i.isAvailable===!1)return!0}return!1};onStartDateChange(e){if(this.clickedDate=e?.startDate??void 0,this.clickedDate){let t;for(let i=1;this.dateMap&&i<this.dateMap.size;i++){let r=(0,fa.default)(this.clickedDate).add(i,"day").format("YYYY-MM-DD");if(t=this.dateMap?.get(r),t&&!t.isAvailable){this.firstUnavailableDate=(0,fa.default)(t.date),console.log("firstUnavailableDate",this.firstUnavailableDate);break}}}else this.firstUnavailableDate=void 0;this.reapplyPrices()}onDateRangeSelected(e){this.selected={endDate:e?.endDate,startDate:e?.startDate}}onDatesChanged(e){this.datedChange.emit(e),this.reapplyPrices()}datesUpdated(e){let t=(0,D1.default)(e.startDate).format("YYYY-MM-DD"),i=(0,D1.default)(e.endDate).format("YYYY-MM-DD");if(this.munavailableDates.some(o=>(0,D1.default)(o).isSameOrAfter(t)&&(0,D1.default)(o).isSameOrBefore(i))){console.warn("Selected range includes unavailable dates!"),this.clearDates(),this.showToast("Some of the selected dates are unavailable. Please select different dates.","bottom","left");return}this.dateSelected.emit({start:t,end:i})}clearDates(){this.selectedDateRange={startDate:(0,fa.default)(),endDate:(0,fa.default)()}}ngOnDestroy(){this.calendarObserver&&this.calendarObserver.disconnect()}static \u0275fac=function(t){return new(t||n)(V(ll),V(Cn),V(Ct),V(Ot),V(O1),V(vn),V(Yt))};static \u0275cmp=le({type:n,selectors:[["app-BookingCalendar"]],viewQuery:function(t,i){if(t&1&&en(Jee,5),t&2){let r;qt(r=Zt())&&(i.picker=r.first)}},inputs:{propertyId:"propertyId",checkIn:"checkIn",checkOut:"checkOut",dateMap:"dateMap",defaultPricePerNight:"defaultPricePerNight"},outputs:{dateSelected:"dateSelected",datedChange:"datedChange"},features:[Gt],decls:6,vars:8,consts:[["picker",""],[1,"airbnb-calendar-container","mt-1","px-0"],[1,"mb-4"],[1,"titlecalender","mb-4"],["ngxDaterangepickerMd","",3,"choosedDate","startDateChanged","minDate","maxDate","isInvalidDate","showClearButton","linkedCalendars","alwaysShowCalendars","autoApply","locale"]],template:function(t,i){if(t&1){let r=X();l(0,"div",1)(1,"div",2)(2,"h2",3),m(3,"2 nights in L'Hospitalet de Llobregat"),d()(),l(4,"ngx-daterangepicker-material",4,0),T("choosedDate",function(a){return z(r),A(i.onDatesChanged(a))})("startDateChanged",function(a){return z(r),A(i.onStartDateChange(a))}),d()()}t&2&&(p(4),_("minDate",i.minDate)("maxDate",i.maxDate)("isInvalidDate",i.isInvalidDate)("showClearButton",!0)("linkedCalendars",!0)("alwaysShowCalendars",!0)("autoApply",!0)("locale",i.locale))},dependencies:[qo,Op,Mt,he],styles:['.airbnb-calendar-container[_ngcontent-%COMP%]{margin:0 auto;padding:.8rem;overflow-x:hidden}.titlecalender[_ngcontent-%COMP%]{font-weight:700;font-size:19px;margin:0}.airbnb-calendar-wrapper[_ngcontent-%COMP%]{display:flex;gap:1.6rem;justify-content:center;align-items:flex-start}.date-quick-options[_ngcontent-%COMP%]{flex-shrink:0;padding-top:50px}.airbnb-calendar-container[_ngcontent-%COMP%]     .md-drppicker{width:100%!important;background:transparent!important;box-shadow:none!important}.airbnb-calendar-container[_ngcontent-%COMP%]     .md-drppicker{max-width:5000px!important;padding:0!important;z-index:0!important}.airbnb-calendar-container[_ngcontent-%COMP%]     .calendar-table{width:100%!important;border:none!important;background:transparent!important}.airbnb-calendar-container[_ngcontent-%COMP%]     .calendar-table .month{font-size:1.3rem;font-weight:700;color:#222;margin-bottom:20px}.airbnb-calendar-container[_ngcontent-%COMP%]     .calendar-table th{font-size:12px;font-weight:600;color:#717171;text-transform:uppercase;letter-spacing:1px;padding:10px 4px!important;width:40px!important;height:40px!important}.airbnb-calendar-container[_ngcontent-%COMP%]     .calendar-table td.in-range{background-color:#e0dbdb!important}.airbnb-calendar-container[_ngcontent-%COMP%]     .calendar-table td.start-date, .airbnb-calendar-container[_ngcontent-%COMP%]     .calendar-table td.end-date{background-color:#000!important;color:#fff!important;font-weight:600!important}.airbnb-calendar-container[_ngcontent-%COMP%]     .drp-buttons, .airbnb-calendar-container[_ngcontent-%COMP%]     .ranges{display:none!important}.airbnb-calendar-container[_ngcontent-%COMP%]     .calendar-table td.available{color:#222;cursor:pointer;position:relative!important;padding:10px 4px!important;margin:4px!important;vertical-align:top!important}.airbnb-calendar-container[_ngcontent-%COMP%]     .calendar-table td.available:hover{background-color:#f7f7f7!important}.airbnb-calendar-container[_ngcontent-%COMP%]     .calendar-table td{line-height:1.2!important;font-size:.8rem;font-weight:bolder;transition:all .2s ease!important;color:#000;text-align:center!important}.airbnb-calendar-container[_ngcontent-%COMP%]     .date-price{display:block!important;font-size:10px!important;font-weight:500!important;color:#666!important;margin-top:2px!important;line-height:1.1!important;white-space:nowrap!important}.airbnb-calendar-container[_ngcontent-%COMP%]     .calendar-table td.start-date .date-price, .airbnb-calendar-container[_ngcontent-%COMP%]     .calendar-table td.end-date .date-price{color:#fffc!important}.airbnb-calendar-container[_ngcontent-%COMP%]     .calendar-table td.in-range .date-price{color:#444!important}.custom-date-input[_ngcontent-%COMP%]{padding:10px 15px;border:2px solid #007bff;border-radius:6px;font-size:14px;width:100%!important;cursor:pointer}  .invalid :after{content:"";position:absolute;top:50%;left:8px;right:8px;border-top:2px solid red;transform:translateY(-50%);pointer-events:none;opacity:.6}  .invalid{opacity:.4!important}@media (max-width: 768px){.airbnb-calendar-container[_ngcontent-%COMP%]     .calendar-table td{height:50px!important;font-size:.7rem!important}.airbnb-calendar-container[_ngcontent-%COMP%]     .date-price{font-size:9px!important;margin-top:1px!important}}.airbnb-calendar-container[_ngcontent-%COMP%]     .calendar-table td.available:hover .date-price{color:#333!important;font-weight:600!important}  .daterangepicker td.active,   .daterangepicker td.active:hover,   .daterangepicker td.start-date,   .daterangepicker td.end-date{background-color:#222!important;color:#fff!important;border-radius:50%!important;font-weight:600!important}  .daterangepicker td.in-range{background-color:#f0f0f0!important;border-radius:0!important}.airbnb-calendar-container[_ngcontent-%COMP%]     .date-price.special-price{color:#ff5a5f!important;font-weight:600!important;text-decoration:underline!important}  .airbnb-calendar-container .daterangepicker td.active,   .airbnb-calendar-container .daterangepicker td.active:hover,   .airbnb-calendar-container .daterangepicker td.start-date,   .airbnb-calendar-container .daterangepicker td.end-date{background-color:#222!important;color:#fff!important;border-radius:50%!important;font-weight:600!important}  .airbnb-calendar-container .daterangepicker td.in-range{background-color:#f0f0f0!important;color:#000!important;border-radius:0!important}  .airbnb-calendar-container .daterangepicker td.today{border:1px solid #222!important;border-radius:50%!important}  .airbnb-calendar-container .daterangepicker td.available:hover{background-color:#e0e0e0!important;color:#000!important;border-radius:50%!important;cursor:pointer}  .md-drppicker td, .md-drppicker[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:50px!important;width:50px!important;align-content:center!important}  .airbnb-calendar-container .calendar-table td.start-date:hover, .airbnb-calendar-container.calendar-table[_ngcontent-%COMP%]   td.end-date[_ngcontent-%COMP%]:hover{color:#000!important}  .airbnb-calendar-container .calendar-table td.available:hover{color:#000!important}.airbnb-calendar-container[_ngcontent-%COMP%]     .md-drppicker{max-width:5000px!important}  .airbnb-calendar-container,   .airbnb-calendar-container *{max-width:none!important;overflow:visible!important}']})};var E1=mr(M4());var O4=mr(M4(),1),Gr=class{static mapToArray(e){let t=[];for(let i in e)e.hasOwnProperty(i)&&t.push(e[i]);return t}static handleEvent(e,t,i){0<t.observers.length&&e.run(()=>{t.emit(i)})}},hM=(()=>{let e=class e{constructor(i,r){this.element=i,this.zone=r,this.DEFAULT_ZOOM=1,this.DEFAULT_CENTER=(0,O4.latLng)(38.907192,-77.036871),this.DEFAULT_FPZ_OPTIONS={},this.fitBoundsOptions=this.DEFAULT_FPZ_OPTIONS,this.panOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomPanOptions=this.DEFAULT_FPZ_OPTIONS,this.options={},this.mapReady=new ye,this.zoomChange=new ye,this.centerChange=new ye,this.onClick=new ye,this.onDoubleClick=new ye,this.onMouseDown=new ye,this.onMouseUp=new ye,this.onMouseMove=new ye,this.onMouseOver=new ye,this.onMouseOut=new ye,this.onMapMove=new ye,this.onMapMoveStart=new ye,this.onMapMoveEnd=new ye,this.onMapZoom=new ye,this.onMapZoomStart=new ye,this.onMapZoomEnd=new ye}ngOnInit(){this.zone.runOutsideAngular(()=>{this.map=(0,O4.map)(this.element.nativeElement,this.options),this.addMapEventListeners()}),this.center!=null&&this.zoom!=null&&this.setView(this.center,this.zoom),this.fitBounds!=null&&this.setFitBounds(this.fitBounds),this.maxBounds!=null&&this.setMaxBounds(this.maxBounds),this.minZoom!=null&&this.setMinZoom(this.minZoom),this.maxZoom!=null&&this.setMaxZoom(this.maxZoom),this.doResize(),this.mapReady.emit(this.map)}ngOnChanges(i){i.zoom&&i.center&&this.zoom!=null&&this.center!=null?this.setView(i.center.currentValue,i.zoom.currentValue):i.zoom?this.setZoom(i.zoom.currentValue):i.center&&this.setCenter(i.center.currentValue),i.fitBounds&&this.setFitBounds(i.fitBounds.currentValue),i.maxBounds&&this.setMaxBounds(i.maxBounds.currentValue),i.minZoom&&this.setMinZoom(i.minZoom.currentValue),i.maxZoom&&this.setMaxZoom(i.maxZoom.currentValue)}ngOnDestroy(){this.map!=null&&this.map.remove()}getMap(){return this.map}onResize(){this.delayResize()}addMapEventListeners(){let i=(o,a)=>{this.map.on(o,a)};i("click",o=>Gr.handleEvent(this.zone,this.onClick,o)),i("dblclick",o=>Gr.handleEvent(this.zone,this.onDoubleClick,o)),i("mousedown",o=>Gr.handleEvent(this.zone,this.onMouseDown,o)),i("mouseup",o=>Gr.handleEvent(this.zone,this.onMouseUp,o)),i("mouseover",o=>Gr.handleEvent(this.zone,this.onMouseOver,o)),i("mouseout",o=>Gr.handleEvent(this.zone,this.onMouseOut,o)),i("mousemove",o=>Gr.handleEvent(this.zone,this.onMouseMove,o)),i("zoomstart",o=>Gr.handleEvent(this.zone,this.onMapZoomStart,o)),i("zoom",o=>Gr.handleEvent(this.zone,this.onMapZoom,o)),i("zoomend",o=>Gr.handleEvent(this.zone,this.onMapZoomEnd,o)),i("movestart",o=>Gr.handleEvent(this.zone,this.onMapMoveStart,o)),i("move",o=>Gr.handleEvent(this.zone,this.onMapMove,o)),i("moveend",o=>Gr.handleEvent(this.zone,this.onMapMoveEnd,o));let r=()=>{let o=this.map.getZoom();o!==this.zoom&&(this.zoom=o,Gr.handleEvent(this.zone,this.zoomChange,o));let a=this.map.getCenter();(a!=null||this.center!=null)&&((a==null||this.center==null)&&a!==this.center||a.lat!==this.center.lat||a.lng!==this.center.lng)&&(this.center=a,Gr.handleEvent(this.zone,this.centerChange,a))};i("moveend",r),i("zoomend",r)}doResize(){this.zone.runOutsideAngular(()=>{this.map!=null&&this.map.invalidateSize({})})}delayResize(){this.resizeTimer!=null&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.doResize.bind(this),200)}setView(i,r){this.map!=null&&i!=null&&r!=null&&this.map.setView(i,r,this.zoomPanOptions)}setZoom(i){this.map!=null&&i!=null&&this.map.setZoom(i,this.zoomOptions)}setCenter(i){this.map!=null&&i!=null&&this.map.panTo(i,this.panOptions)}setFitBounds(i){this.map!=null&&i!=null&&this.map.fitBounds(i,this.fitBoundsOptions)}setMaxBounds(i){this.map!=null&&i!=null&&this.map.setMaxBounds(i)}setMinZoom(i){this.map!=null&&i!=null&&this.map.setMinZoom(i)}setMaxZoom(i){this.map!=null&&i!=null&&this.map.setMaxZoom(i)}};e.\u0275fac=function(r){return new(r||e)(V(Yt),V(St))},e.\u0275dir=ct({type:e,selectors:[["","leaflet",""]],hostBindings:function(r,o){r&1&&T("resize",function(){return o.onResize()},Vo)},inputs:{fitBoundsOptions:[0,"leafletFitBoundsOptions","fitBoundsOptions"],panOptions:[0,"leafletPanOptions","panOptions"],zoomOptions:[0,"leafletZoomOptions","zoomOptions"],zoomPanOptions:[0,"leafletZoomPanOptions","zoomPanOptions"],options:[0,"leafletOptions","options"],zoom:[0,"leafletZoom","zoom"],center:[0,"leafletCenter","center"],fitBounds:[0,"leafletFitBounds","fitBounds"],maxBounds:[0,"leafletMaxBounds","maxBounds"],minZoom:[0,"leafletMinZoom","minZoom"],maxZoom:[0,"leafletMaxZoom","maxZoom"]},outputs:{mapReady:"leafletMapReady",zoomChange:"leafletZoomChange",centerChange:"leafletCenterChange",onClick:"leafletClick",onDoubleClick:"leafletDoubleClick",onMouseDown:"leafletMouseDown",onMouseUp:"leafletMouseUp",onMouseMove:"leafletMouseMove",onMouseOver:"leafletMouseOver",onMouseOut:"leafletMouseOut",onMapMove:"leafletMapMove",onMapMoveStart:"leafletMapMoveStart",onMapMoveEnd:"leafletMapMoveEnd",onMapZoom:"leafletMapZoom",onMapZoomStart:"leafletMapZoomStart",onMapZoomEnd:"leafletMapZoomEnd"},standalone:!1,features:[Gt]});let n=e;return n})(),mM=class{constructor(e){this.leafletDirective=e}init(){}getMap(){return this.leafletDirective.getMap()}};var Rz=(()=>{let e=class e{set layers(i){this.layersValue=i,this.updateLayers()}get layers(){return this.layersValue}constructor(i,r,o){this.differs=r,this.zone=o,this.leafletDirective=new mM(i),this.layersDiffer=this.differs.find([]).create()}ngDoCheck(){this.updateLayers()}ngOnInit(){this.leafletDirective.init(),this.updateLayers()}ngOnDestroy(){this.layers=[]}updateLayers(){let i=this.leafletDirective.getMap();if(i!=null&&this.layersDiffer!=null){let r=this.layersDiffer.diff(this.layersValue);r!=null&&this.zone.runOutsideAngular(()=>{r.forEachRemovedItem(o=>{i.removeLayer(o.item)}),r.forEachAddedItem(o=>{i.addLayer(o.item)})})}}};e.\u0275fac=function(r){return new(r||e)(V(hM),V(F2),V(St))},e.\u0275dir=ct({type:e,selectors:[["","leafletLayers",""]],inputs:{layers:[0,"leafletLayers","layers"]},standalone:!1});let n=e;return n})();var Fz=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=xn({type:e}),e.\u0275inj=gn({});let n=e;return n})();function tte(n,e){if(n&1&&k(0,"div",3),n&2){let t=C();_("leafletOptions",t.options)("leafletZoom",t.zoom)("leafletCenter",t.center)("leafletLayers",t.layers)}}var G8=class n{constructor(e){this.propertyService=e}propertyId;options;layers=[];zoom=13;center;title="";city="";country="";loading=!0;ngOnInit(){this.propertyService.getPropertyById(this.propertyId).subscribe(e=>{this.center=E1.latLng(e.latitude,e.longitude),this.title=e.title,this.city=e.city,this.country=e.country,this.options={layers:[E1.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"\xA9 OpenStreetMap contributors"})],zoom:this.zoom,center:this.center},this.layers=[E1.marker(this.center,{icon:E1.icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]})}).bindPopup(`<b>${e.title}</b><br>${e.city}, ${e.country}`)],this.loading=!1})}static \u0275fac=function(t){return new(t||n)(V(Cn))};static \u0275cmp=le({type:n,selectors:[["app-mapLocation"]],inputs:{propertyId:"propertyId"},decls:6,vars:4,consts:[[1,"title","mt-10","mb-2"],[1,"info","mb-3"],["leaflet","","style","height: 300px;",3,"leafletOptions","leafletZoom","leafletCenter","leafletLayers",4,"ngIf"],["leaflet","",2,"height","300px",3,"leafletOptions","leafletZoom","leafletCenter","leafletLayers"]],template:function(t,i){t&1&&(k(0,"hr"),l(1,"p",0),m(2,"Where you\u2019ll be"),d(),l(3,"p",1),m(4),d(),j(5,tte,1,4,"div",2)),t&2&&(p(4),jo(" ",i.title,", ",i.country,", ",i.city),p(),_("ngIf",!i.loading))},dependencies:[he,Ce,Fz,hM,Rz,qo,Mt],styles:["hr[_ngcontent-%COMP%]{width:80%;border:none;border-top:1px solid #1b1a1a;color:#171717;align-items:center;margin:24px 0 24px 50px}.title[_ngcontent-%COMP%]{font-weight:700;font-size:25px!important}.info[_ngcontent-%COMP%]{font-size:18px}[_nghost-%COMP%]     .leaflet-container{min-height:500px!important;border-radius:15px!important;margin:10px!important}"]})};function nte(n,e,t){return(e=rte(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Vz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ge(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Vz(Object(t),!0).forEach(function(i){nte(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Vz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ite(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function rte(n){var e=ite(n,"string");return typeof e=="symbol"?e:e+""}var Bz=()=>{},FM={},pA={},fA=null,mA={mark:Bz,measure:Bz};try{typeof window<"u"&&(FM=window),typeof document<"u"&&(pA=document),typeof MutationObserver<"u"&&(fA=MutationObserver),typeof performance<"u"&&(mA=performance)}catch{}var{userAgent:jz=""}=FM.navigator||{},T1=FM,Pi=pA,Hz=fA,Y8=mA,CAe=!!T1.document,dc=!!Pi.documentElement&&!!Pi.head&&typeof Pi.addEventListener=="function"&&typeof Pi.createElement=="function",hA=~jz.indexOf("MSIE")||~jz.indexOf("Trident/"),ote=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,ate=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,gA={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},ste={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},vA=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],ao="classic",J8="duotone",lte="sharp",cte="sharp-duotone",bA=[ao,J8,lte,cte],dte={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},ute={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},pte=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),fte={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},mte=["fak","fa-kit","fakd","fa-kit-duotone"],Uz={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},hte=["kit"],gte={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},vte=["fak","fakd"],bte={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},$z={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},q8={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},_te=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],yte=["fak","fa-kit","fakd","fa-kit-duotone"],xte={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Cte={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},Mte={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},xM={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},wte=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],CM=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",..._te,...wte],Ste=["solid","regular","light","thin","duotone","brands"],_A=[1,2,3,4,5,6,7,8,9,10],Pte=_A.concat([11,12,13,14,15,16,17,18,19,20]),kte=[...Object.keys(Mte),...Ste,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",q8.GROUP,q8.SWAP_OPACITY,q8.PRIMARY,q8.SECONDARY].concat(_A.map(n=>"".concat(n,"x"))).concat(Pte.map(n=>"w-".concat(n))),Ote={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},lc="___FONT_AWESOME___",MM=16,yA="fa",xA="svg-inline--fa",s0="data-fa-i2svg",wM="data-fa-pseudo-element",Dte="data-fa-pseudo-element-pending",VM="data-prefix",BM="data-icon",Wz="fontawesome-i2svg",Ete="async",Ite=["HTML","HEAD","STYLE","SCRIPT"],CA=(()=>{try{return!0}catch{return!1}})();function Np(n){return new Proxy(n,{get(e,t){return t in e?e[t]:e[ao]}})}var MA=Ge({},gA);MA[ao]=Ge(Ge(Ge(Ge({},{"fa-duotone":"duotone"}),gA[ao]),Uz.kit),Uz["kit-duotone"]);var Tte=Np(MA),SM=Ge({},fte);SM[ao]=Ge(Ge(Ge(Ge({},{duotone:"fad"}),SM[ao]),$z.kit),$z["kit-duotone"]);var Gz=Np(SM),PM=Ge({},xM);PM[ao]=Ge(Ge({},PM[ao]),bte.kit);var jM=Np(PM),kM=Ge({},Cte);kM[ao]=Ge(Ge({},kM[ao]),gte.kit);var MAe=Np(kM),Lte=ote,wA="fa-layers-text",zte=ate,Ate=Ge({},dte),wAe=Np(Ate),Nte=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],gM=ste,Rte=[...hte,...kte],Tp=T1.FontAwesomeConfig||{};function Fte(n){var e=Pi.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}function Vte(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}Pi&&typeof Pi.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,i]=e,r=Vte(Fte(t));r!=null&&(Tp[i]=r)});var SA={styleDefault:"solid",familyDefault:ao,cssPrefix:yA,replacementClass:xA,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Tp.familyPrefix&&(Tp.cssPrefix=Tp.familyPrefix);var I4=Ge(Ge({},SA),Tp);I4.autoReplaceSvg||(I4.observeMutations=!1);var yt={};Object.keys(SA).forEach(n=>{Object.defineProperty(yt,n,{enumerable:!0,set:function(e){I4[n]=e,Lp.forEach(t=>t(yt))},get:function(){return I4[n]}})});Object.defineProperty(yt,"familyPrefix",{enumerable:!0,set:function(n){I4.cssPrefix=n,Lp.forEach(e=>e(yt))},get:function(){return I4.cssPrefix}});T1.FontAwesomeConfig=yt;var Lp=[];function Bte(n){return Lp.push(n),()=>{Lp.splice(Lp.indexOf(n),1)}}var I1=MM,cl={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function jte(n){if(!n||!dc)return;let e=Pi.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;let t=Pi.head.childNodes,i=null;for(let r=t.length-1;r>-1;r--){let o=t[r],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(i=o)}return Pi.head.insertBefore(e,i),n}var Hte="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function zp(){let n=12,e="";for(;n-- >0;)e+=Hte[Math.random()*62|0];return e}function T4(n){let e=[];for(let t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function HM(n){return n.classList?T4(n.classList):(n.getAttribute("class")||"").split(" ").filter(e=>e)}function PA(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ute(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,'="').concat(PA(n[t]),'" '),"").trim()}function e5(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,": ").concat(n[t].trim(),";"),"")}function UM(n){return n.size!==cl.size||n.x!==cl.x||n.y!==cl.y||n.rotate!==cl.rotate||n.flipX||n.flipY}function $te(n){let{transform:e,containerWidth:t,iconWidth:i}=n,r={transform:"translate(".concat(t/2," 256)")},o="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),c="rotate(".concat(e.rotate," 0 0)"),u={transform:"".concat(o," ").concat(a," ").concat(c)},h={transform:"translate(".concat(i/2*-1," -256)")};return{outer:r,inner:u,path:h}}function Wte(n){let{transform:e,width:t=MM,height:i=MM,startCentered:r=!1}=n,o="";return r&&hA?o+="translate(".concat(e.x/I1-t/2,"em, ").concat(e.y/I1-i/2,"em) "):r?o+="translate(calc(-50% + ".concat(e.x/I1,"em), calc(-50% + ").concat(e.y/I1,"em)) "):o+="translate(".concat(e.x/I1,"em, ").concat(e.y/I1,"em) "),o+="scale(".concat(e.size/I1*(e.flipX?-1:1),", ").concat(e.size/I1*(e.flipY?-1:1),") "),o+="rotate(".concat(e.rotate,"deg) "),o}var Gte=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function kA(){let n=yA,e=xA,t=yt.cssPrefix,i=yt.replacementClass,r=Gte;if(t!==n||i!==e){let o=new RegExp("\\.".concat(n,"\\-"),"g"),a=new RegExp("\\--".concat(n,"\\-"),"g"),c=new RegExp("\\.".concat(e),"g");r=r.replace(o,".".concat(t,"-")).replace(a,"--".concat(t,"-")).replace(c,".".concat(i))}return r}var Yz=!1;function vM(){yt.autoAddCss&&!Yz&&(jte(kA()),Yz=!0)}var Yte={mixout(){return{dom:{css:kA,insertCss:vM}}},hooks(){return{beforeDOMElementCreation(){vM()},beforeI2svg(){vM()}}}},cc=T1||{};cc[lc]||(cc[lc]={});cc[lc].styles||(cc[lc].styles={});cc[lc].hooks||(cc[lc].hooks={});cc[lc].shims||(cc[lc].shims=[]);var dl=cc[lc],OA=[],DA=function(){Pi.removeEventListener("DOMContentLoaded",DA),K8=1,OA.map(n=>n())},K8=!1;dc&&(K8=(Pi.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Pi.readyState),K8||Pi.addEventListener("DOMContentLoaded",DA));function qte(n){dc&&(K8?setTimeout(n,0):OA.push(n))}function Rp(n){let{tag:e,attributes:t={},children:i=[]}=n;return typeof n=="string"?PA(n):"<".concat(e," ").concat(Ute(t),">").concat(i.map(Rp).join(""),"</").concat(e,">")}function qz(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}var Zte=function(e,t){return function(i,r,o,a){return e.call(t,i,r,o,a)}},bM=function(e,t,i,r){var o=Object.keys(e),a=o.length,c=r!==void 0?Zte(t,r):t,u,h,v;for(i===void 0?(u=1,v=e[o[0]]):(u=0,v=i);u<a;u++)h=o[u],v=c(v,e[h],h,e);return v};function Xte(n){let e=[],t=0,i=n.length;for(;t<i;){let r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){let o=n.charCodeAt(t++);(o&64512)==56320?e.push(((r&1023)<<10)+(o&1023)+65536):(e.push(r),t--)}else e.push(r)}return e}function OM(n){let e=Xte(n);return e.length===1?e[0].toString(16):null}function Kte(n,e){let t=n.length,i=n.charCodeAt(e),r;return i>=55296&&i<=56319&&t>e+1&&(r=n.charCodeAt(e+1),r>=56320&&r<=57343)?(i-55296)*1024+r-56320+65536:i}function Zz(n){return Object.keys(n).reduce((e,t)=>{let i=n[t];return!!i.icon?e[i.iconName]=i.icon:e[t]=i,e},{})}function DM(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:i=!1}=t,r=Zz(e);typeof dl.hooks.addPack=="function"&&!i?dl.hooks.addPack(n,Zz(e)):dl.styles[n]=Ge(Ge({},dl.styles[n]||{}),r),n==="fas"&&DM("fa",e)}var{styles:Ap,shims:Qte}=dl,EA=Object.keys(jM),Jte=EA.reduce((n,e)=>(n[e]=Object.keys(jM[e]),n),{}),$M=null,IA={},TA={},LA={},zA={},AA={};function ene(n){return~Rte.indexOf(n)}function tne(n,e){let t=e.split("-"),i=t[0],r=t.slice(1).join("-");return i===n&&r!==""&&!ene(r)?r:null}var NA=()=>{let n=i=>bM(Ap,(r,o,a)=>(r[a]=bM(o,i,{}),r),{});IA=n((i,r,o)=>(r[3]&&(i[r[3]]=o),r[2]&&r[2].filter(c=>typeof c=="number").forEach(c=>{i[c.toString(16)]=o}),i)),TA=n((i,r,o)=>(i[o]=o,r[2]&&r[2].filter(c=>typeof c=="string").forEach(c=>{i[c]=o}),i)),AA=n((i,r,o)=>{let a=r[2];return i[o]=o,a.forEach(c=>{i[c]=o}),i});let e="far"in Ap||yt.autoFetchSvg,t=bM(Qte,(i,r)=>{let o=r[0],a=r[1],c=r[2];return a==="far"&&!e&&(a="fas"),typeof o=="string"&&(i.names[o]={prefix:a,iconName:c}),typeof o=="number"&&(i.unicodes[o.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});LA=t.names,zA=t.unicodes,$M=t5(yt.styleDefault,{family:yt.familyDefault})};Bte(n=>{$M=t5(n.styleDefault,{family:yt.familyDefault})});NA();function WM(n,e){return(IA[n]||{})[e]}function nne(n,e){return(TA[n]||{})[e]}function a0(n,e){return(AA[n]||{})[e]}function RA(n){return LA[n]||{prefix:null,iconName:null}}function ine(n){let e=zA[n],t=WM("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function L1(){return $M}var FA=()=>({prefix:null,iconName:null,rest:[]});function rne(n){let e=ao,t=EA.reduce((i,r)=>(i[r]="".concat(yt.cssPrefix,"-").concat(r),i),{});return bA.forEach(i=>{(n.includes(t[i])||n.some(r=>Jte[i].includes(r)))&&(e=i)}),e}function t5(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:t=ao}=e,i=Tte[t][n];if(t===J8&&!n)return"fad";let r=Gz[t][n]||Gz[t][i],o=n in dl.styles?n:null;return r||o||null}function one(n){let e=[],t=null;return n.forEach(i=>{let r=tne(yt.cssPrefix,i);r?t=r:i&&e.push(i)}),{iconName:t,rest:e}}function Xz(n){return n.sort().filter((e,t,i)=>i.indexOf(e)===t)}function n5(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:t=!1}=e,i=null,r=CM.concat(yte),o=Xz(n.filter(y=>r.includes(y))),a=Xz(n.filter(y=>!CM.includes(y))),c=o.filter(y=>(i=y,!vA.includes(y))),[u=null]=c,h=rne(o),v=Ge(Ge({},one(a)),{},{prefix:t5(u,{family:h})});return Ge(Ge(Ge({},v),cne({values:n,family:h,styles:Ap,config:yt,canonical:v,givenPrefix:i})),ane(t,i,v))}function ane(n,e,t){let{prefix:i,iconName:r}=t;if(n||!i||!r)return{prefix:i,iconName:r};let o=e==="fa"?RA(r):{},a=a0(i,r);return r=o.iconName||a||r,i=o.prefix||i,i==="far"&&!Ap.far&&Ap.fas&&!yt.autoFetchSvg&&(i="fas"),{prefix:i,iconName:r}}var sne=bA.filter(n=>n!==ao||n!==J8),lne=Object.keys(xM).filter(n=>n!==ao).map(n=>Object.keys(xM[n])).flat();function cne(n){let{values:e,family:t,canonical:i,givenPrefix:r="",styles:o={},config:a={}}=n,c=t===J8,u=e.includes("fa-duotone")||e.includes("fad"),h=a.familyDefault==="duotone",v=i.prefix==="fad"||i.prefix==="fa-duotone";if(!c&&(u||h||v)&&(i.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(i.prefix="fab"),!i.prefix&&sne.includes(t)&&(Object.keys(o).find(P=>lne.includes(P))||a.autoFetchSvg)){let P=pte.get(t).defaultShortPrefixId;i.prefix=P,i.iconName=a0(i.prefix,i.iconName)||i.iconName}return(i.prefix==="fa"||r==="fa")&&(i.prefix=L1()||"fas"),i}var EM=class{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];let r=t.reduce(this._pullDefinitions,{});Object.keys(r).forEach(o=>{this.definitions[o]=Ge(Ge({},this.definitions[o]||{}),r[o]),DM(o,r[o]);let a=jM[ao][o];a&&DM(a,r[o]),NA()})}reset(){this.definitions={}}_pullDefinitions(e,t){let i=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(i).map(r=>{let{prefix:o,iconName:a,icon:c}=i[r],u=c[2];e[o]||(e[o]={}),u.length>0&&u.forEach(h=>{typeof h=="string"&&(e[o][h]=c)}),e[o][a]=c}),e}},Kz=[],D4={},E4={},dne=Object.keys(E4);function une(n,e){let{mixoutsTo:t}=e;return Kz=n,D4={},Object.keys(E4).forEach(i=>{dne.indexOf(i)===-1&&delete E4[i]}),Kz.forEach(i=>{let r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(o=>{typeof r[o]=="function"&&(t[o]=r[o]),typeof r[o]=="object"&&Object.keys(r[o]).forEach(a=>{t[o]||(t[o]={}),t[o][a]=r[o][a]})}),i.hooks){let o=i.hooks();Object.keys(o).forEach(a=>{D4[a]||(D4[a]=[]),D4[a].push(o[a])})}i.provides&&i.provides(E4)}),t}function IM(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),r=2;r<t;r++)i[r-2]=arguments[r];return(D4[n]||[]).forEach(a=>{e=a.apply(null,[e,...i])}),e}function l0(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];(D4[n]||[]).forEach(o=>{o.apply(null,t)})}function z1(){let n=arguments[0],e=Array.prototype.slice.call(arguments,1);return E4[n]?E4[n].apply(null,e):void 0}function TM(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:e}=n,t=n.prefix||L1();if(e)return e=a0(t,e)||e,qz(VA.definitions,t,e)||qz(dl.styles,t,e)}var VA=new EM,pne=()=>{yt.autoReplaceSvg=!1,yt.observeMutations=!1,l0("noAuto")},fne={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return dc?(l0("beforeI2svg",n),z1("pseudoElements2svg",n),z1("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e}=n;yt.autoReplaceSvg===!1&&(yt.autoReplaceSvg=!0),yt.observeMutations=!0,qte(()=>{hne({autoReplaceSvgRoot:e}),l0("watch",n)})}},mne={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:a0(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){let e=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],t=t5(n[0]);return{prefix:t,iconName:a0(t,e)||e}}if(typeof n=="string"&&(n.indexOf("".concat(yt.cssPrefix,"-"))>-1||n.match(Lte))){let e=n5(n.split(" "),{skipLookups:!0});return{prefix:e.prefix||L1(),iconName:a0(e.prefix,e.iconName)||e.iconName}}if(typeof n=="string"){let e=L1();return{prefix:e,iconName:a0(e,n)||n}}}},ma={noAuto:pne,config:yt,dom:fne,parse:mne,library:VA,findIconDefinition:TM,toHtml:Rp},hne=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e=Pi}=n;(Object.keys(dl.styles).length>0||yt.autoFetchSvg)&&dc&&yt.autoReplaceSvg&&ma.dom.i2svg({node:e})};function i5(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(t=>Rp(t))}}),Object.defineProperty(n,"node",{get:function(){if(!dc)return;let t=Pi.createElement("div");return t.innerHTML=n.html,t.children}}),n}function gne(n){let{children:e,main:t,mask:i,attributes:r,styles:o,transform:a}=n;if(UM(a)&&t.found&&!i.found){let{width:c,height:u}=t,h={x:c/u/2,y:.5};r.style=e5(Ge(Ge({},o),{},{"transform-origin":"".concat(h.x+a.x/16,"em ").concat(h.y+a.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}function vne(n){let{prefix:e,iconName:t,children:i,attributes:r,symbol:o}=n,a=o===!0?"".concat(e,"-").concat(yt.cssPrefix,"-").concat(t):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ge(Ge({},r),{},{id:a}),children:i}]}]}function GM(n){let{icons:{main:e,mask:t},prefix:i,iconName:r,transform:o,symbol:a,title:c,maskId:u,titleId:h,extra:v,watchable:y=!1}=n,{width:P,height:S}=t.found?t:e,M=vte.includes(i),O=[yt.replacementClass,r?"".concat(yt.cssPrefix,"-").concat(r):""].filter(ne=>v.classes.indexOf(ne)===-1).filter(ne=>ne!==""||!!ne).concat(v.classes).join(" "),R={children:[],attributes:Ge(Ge({},v.attributes),{},{"data-prefix":i,"data-icon":r,class:O,role:v.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(P," ").concat(S)})},B=M&&!~v.classes.indexOf("fa-fw")?{width:"".concat(P/S*16*.0625,"em")}:{};y&&(R.attributes[s0]=""),c&&(R.children.push({tag:"title",attributes:{id:R.attributes["aria-labelledby"]||"title-".concat(h||zp())},children:[c]}),delete R.attributes.title);let F=Ge(Ge({},R),{},{prefix:i,iconName:r,main:e,mask:t,maskId:u,transform:o,symbol:a,styles:Ge(Ge({},B),v.styles)}),{children:N,attributes:Y}=t.found&&e.found?z1("generateAbstractMask",F)||{children:[],attributes:{}}:z1("generateAbstractIcon",F)||{children:[],attributes:{}};return F.children=N,F.attributes=Y,a?vne(F):gne(F)}function Qz(n){let{content:e,width:t,height:i,transform:r,title:o,extra:a,watchable:c=!1}=n,u=Ge(Ge(Ge({},a.attributes),o?{title:o}:{}),{},{class:a.classes.join(" ")});c&&(u[s0]="");let h=Ge({},a.styles);UM(r)&&(h.transform=Wte({transform:r,startCentered:!0,width:t,height:i}),h["-webkit-transform"]=h.transform);let v=e5(h);v.length>0&&(u.style=v);let y=[];return y.push({tag:"span",attributes:u,children:[e]}),o&&y.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),y}function bne(n){let{content:e,title:t,extra:i}=n,r=Ge(Ge(Ge({},i.attributes),t?{title:t}:{}),{},{class:i.classes.join(" ")}),o=e5(i.styles);o.length>0&&(r.style=o);let a=[];return a.push({tag:"span",attributes:r,children:[e]}),t&&a.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),a}var{styles:_M}=dl;function LM(n){let e=n[0],t=n[1],[i]=n.slice(4),r=null;return Array.isArray(i)?r={tag:"g",attributes:{class:"".concat(yt.cssPrefix,"-").concat(gM.GROUP)},children:[{tag:"path",attributes:{class:"".concat(yt.cssPrefix,"-").concat(gM.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(yt.cssPrefix,"-").concat(gM.PRIMARY),fill:"currentColor",d:i[1]}}]}:r={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:t,icon:r}}var _ne={found:!1,width:512,height:512};function yne(n,e){!CA&&!yt.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))}function zM(n,e){let t=e;return e==="fa"&&yt.styleDefault!==null&&(e=L1()),new Promise((i,r)=>{if(t==="fa"){let o=RA(n)||{};n=o.iconName||n,e=o.prefix||e}if(n&&e&&_M[e]&&_M[e][n]){let o=_M[e][n];return i(LM(o))}yne(n,e),i(Ge(Ge({},_ne),{},{icon:yt.showMissingIcons&&n?z1("missingIconAbstract")||{}:{}}))})}var Jz=()=>{},AM=yt.measurePerformance&&Y8&&Y8.mark&&Y8.measure?Y8:{mark:Jz,measure:Jz},Ip='FA "6.7.2"',xne=n=>(AM.mark("".concat(Ip," ").concat(n," begins")),()=>BA(n)),BA=n=>{AM.mark("".concat(Ip," ").concat(n," ends")),AM.measure("".concat(Ip," ").concat(n),"".concat(Ip," ").concat(n," begins"),"".concat(Ip," ").concat(n," ends"))},YM={begin:xne,end:BA},Z8=()=>{};function eA(n){return typeof(n.getAttribute?n.getAttribute(s0):null)=="string"}function Cne(n){let e=n.getAttribute?n.getAttribute(VM):null,t=n.getAttribute?n.getAttribute(BM):null;return e&&t}function Mne(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(yt.replacementClass)}function wne(){return yt.autoReplaceSvg===!0?X8.replace:X8[yt.autoReplaceSvg]||X8.replace}function Sne(n){return Pi.createElementNS("http://www.w3.org/2000/svg",n)}function Pne(n){return Pi.createElement(n)}function jA(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:t=n.tag==="svg"?Sne:Pne}=e;if(typeof n=="string")return Pi.createTextNode(n);let i=t(n.tag);return Object.keys(n.attributes||[]).forEach(function(o){i.setAttribute(o,n.attributes[o])}),(n.children||[]).forEach(function(o){i.appendChild(jA(o,{ceFn:t}))}),i}function kne(n){let e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var X8={replace:function(n){let e=n[0];if(e.parentNode)if(n[1].forEach(t=>{e.parentNode.insertBefore(jA(t),e)}),e.getAttribute(s0)===null&&yt.keepOriginalSource){let t=Pi.createComment(kne(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(n){let e=n[0],t=n[1];if(~HM(e).indexOf(yt.replacementClass))return X8.replace(n);let i=new RegExp("".concat(yt.cssPrefix,"-.*"));if(delete t[0].attributes.id,t[0].attributes.class){let o=t[0].attributes.class.split(" ").reduce((a,c)=>(c===yt.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a),{toNode:[],toSvg:[]});t[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",o.toNode.join(" "))}let r=t.map(o=>Rp(o)).join(`
`);e.setAttribute(s0,""),e.innerHTML=r}};function tA(n){n()}function HA(n,e){let t=typeof e=="function"?e:Z8;if(n.length===0)t();else{let i=tA;yt.mutateApproach===Ete&&(i=T1.requestAnimationFrame||tA),i(()=>{let r=wne(),o=YM.begin("mutate");n.map(r),o(),t()})}}var qM=!1;function UA(){qM=!0}function NM(){qM=!1}var Q8=null;function nA(n){if(!Hz||!yt.observeMutations)return;let{treeCallback:e=Z8,nodeCallback:t=Z8,pseudoElementsCallback:i=Z8,observeMutationsRoot:r=Pi}=n;Q8=new Hz(o=>{if(qM)return;let a=L1();T4(o).forEach(c=>{if(c.type==="childList"&&c.addedNodes.length>0&&!eA(c.addedNodes[0])&&(yt.searchPseudoElements&&i(c.target),e(c.target)),c.type==="attributes"&&c.target.parentNode&&yt.searchPseudoElements&&i(c.target.parentNode),c.type==="attributes"&&eA(c.target)&&~Nte.indexOf(c.attributeName))if(c.attributeName==="class"&&Cne(c.target)){let{prefix:u,iconName:h}=n5(HM(c.target));c.target.setAttribute(VM,u||a),h&&c.target.setAttribute(BM,h)}else Mne(c.target)&&t(c.target)})}),dc&&Q8.observe(r,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function One(){Q8&&Q8.disconnect()}function Dne(n){let e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce((i,r)=>{let o=r.split(":"),a=o[0],c=o.slice(1);return a&&c.length>0&&(i[a]=c.join(":").trim()),i},{})),t}function Ene(n){let e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),i=n.innerText!==void 0?n.innerText.trim():"",r=n5(HM(n));return r.prefix||(r.prefix=L1()),e&&t&&(r.prefix=e,r.iconName=t),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=nne(r.prefix,n.innerText)||WM(r.prefix,OM(n.innerText))),!r.iconName&&yt.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=n.firstChild.data)),r}function Ine(n){let e=T4(n.attributes).reduce((r,o)=>(r.name!=="class"&&r.name!=="style"&&(r[o.name]=o.value),r),{}),t=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return yt.autoA11y&&(t?e["aria-labelledby"]="".concat(yt.replacementClass,"-title-").concat(i||zp()):(e["aria-hidden"]="true",e.focusable="false")),e}function Tne(){return{iconName:null,title:null,titleId:null,prefix:null,transform:cl,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function iA(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:t,prefix:i,rest:r}=Ene(n),o=Ine(n),a=IM("parseNodeAttributes",{},n),c=e.styleParser?Dne(n):[];return Ge({iconName:t,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:cl,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:r,styles:c,attributes:o}},a)}var{styles:Lne}=dl;function $A(n){let e=yt.autoReplaceSvg==="nest"?iA(n,{styleParser:!1}):iA(n);return~e.extra.classes.indexOf(wA)?z1("generateLayersText",n,e):z1("generateSvgReplacementMutation",n,e)}function zne(){return[...mte,...CM]}function rA(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!dc)return Promise.resolve();let t=Pi.documentElement.classList,i=v=>t.add("".concat(Wz,"-").concat(v)),r=v=>t.remove("".concat(Wz,"-").concat(v)),o=yt.autoFetchSvg?zne():vA.concat(Object.keys(Lne));o.includes("fa")||o.push("fa");let a=[".".concat(wA,":not([").concat(s0,"])")].concat(o.map(v=>".".concat(v,":not([").concat(s0,"])"))).join(", ");if(a.length===0)return Promise.resolve();let c=[];try{c=T4(n.querySelectorAll(a))}catch{}if(c.length>0)i("pending"),r("complete");else return Promise.resolve();let u=YM.begin("onTree"),h=c.reduce((v,y)=>{try{let P=$A(y);P&&v.push(P)}catch(P){CA||P.name==="MissingIcon"&&console.error(P)}return v},[]);return new Promise((v,y)=>{Promise.all(h).then(P=>{HA(P,()=>{i("active"),i("complete"),r("pending"),typeof e=="function"&&e(),u(),v()})}).catch(P=>{u(),y(P)})})}function Ane(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;$A(n).then(t=>{t&&HA([t],e)})}function Nne(n){return function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(e||{}).icon?e:TM(e||{}),{mask:r}=t;return r&&(r=(r||{}).icon?r:TM(r||{})),n(i,Ge(Ge({},t),{},{mask:r}))}}var Rne=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:t=cl,symbol:i=!1,mask:r=null,maskId:o=null,title:a=null,titleId:c=null,classes:u=[],attributes:h={},styles:v={}}=e;if(!n)return;let{prefix:y,iconName:P,icon:S}=n;return i5(Ge({type:"icon"},n),()=>(l0("beforeDOMElementCreation",{iconDefinition:n,params:e}),yt.autoA11y&&(a?h["aria-labelledby"]="".concat(yt.replacementClass,"-title-").concat(c||zp()):(h["aria-hidden"]="true",h.focusable="false")),GM({icons:{main:LM(S),mask:r?LM(r.icon):{found:!1,width:null,height:null,icon:{}}},prefix:y,iconName:P,transform:Ge(Ge({},cl),t),symbol:i,title:a,maskId:o,titleId:c,extra:{attributes:h,styles:v,classes:u}})))},Fne={mixout(){return{icon:Nne(Rne)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=rA,n.nodeCallback=Ane,n}}},provides(n){n.i2svg=function(e){let{node:t=Pi,callback:i=()=>{}}=e;return rA(t,i)},n.generateSvgReplacementMutation=function(e,t){let{iconName:i,title:r,titleId:o,prefix:a,transform:c,symbol:u,mask:h,maskId:v,extra:y}=t;return new Promise((P,S)=>{Promise.all([zM(i,a),h.iconName?zM(h.iconName,h.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(M=>{let[O,R]=M;P([e,GM({icons:{main:O,mask:R},prefix:a,iconName:i,transform:c,symbol:u,maskId:v,title:r,titleId:o,extra:y,watchable:!0})])}).catch(S)})},n.generateAbstractIcon=function(e){let{children:t,attributes:i,main:r,transform:o,styles:a}=e,c=e5(a);c.length>0&&(i.style=c);let u;return UM(o)&&(u=z1("generateAbstractTransformGrouping",{main:r,transform:o,containerWidth:r.width,iconWidth:r.width})),t.push(u||r.icon),{children:t,attributes:i}}}},Vne={mixout(){return{layer(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:t=[]}=e;return i5({type:"layer"},()=>{l0("beforeDOMElementCreation",{assembler:n,params:e});let i=[];return n(r=>{Array.isArray(r)?r.map(o=>{i=i.concat(o.abstract)}):i=i.concat(r.abstract)}),[{tag:"span",attributes:{class:["".concat(yt.cssPrefix,"-layers"),...t].join(" ")},children:i}]})}}}},Bne={mixout(){return{counter(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:t=null,classes:i=[],attributes:r={},styles:o={}}=e;return i5({type:"counter",content:n},()=>(l0("beforeDOMElementCreation",{content:n,params:e}),bne({content:n.toString(),title:t,extra:{attributes:r,styles:o,classes:["".concat(yt.cssPrefix,"-layers-counter"),...i]}})))}}}},jne={mixout(){return{text(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:t=cl,title:i=null,classes:r=[],attributes:o={},styles:a={}}=e;return i5({type:"text",content:n},()=>(l0("beforeDOMElementCreation",{content:n,params:e}),Qz({content:n,transform:Ge(Ge({},cl),t),title:i,extra:{attributes:o,styles:a,classes:["".concat(yt.cssPrefix,"-layers-text"),...r]}})))}}},provides(n){n.generateLayersText=function(e,t){let{title:i,transform:r,extra:o}=t,a=null,c=null;if(hA){let u=parseInt(getComputedStyle(e).fontSize,10),h=e.getBoundingClientRect();a=h.width/u,c=h.height/u}return yt.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([e,Qz({content:e.innerHTML,width:a,height:c,transform:r,title:i,extra:o,watchable:!0})])}}},Hne=new RegExp('"',"ug"),oA=[1105920,1112319],aA=Ge(Ge(Ge(Ge({},{FontAwesome:{normal:"fas",400:"fas"}}),ute),Ote),xte),RM=Object.keys(aA).reduce((n,e)=>(n[e.toLowerCase()]=aA[e],n),{}),Une=Object.keys(RM).reduce((n,e)=>{let t=RM[e];return n[e]=t[900]||[...Object.entries(t)][0][1],n},{});function $ne(n){let e=n.replace(Hne,""),t=Kte(e,0),i=t>=oA[0]&&t<=oA[1],r=e.length===2?e[0]===e[1]:!1;return{value:OM(r?e[0]:e),isSecondary:i||r}}function Wne(n,e){let t=n.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(e),r=isNaN(i)?"normal":i;return(RM[t]||{})[r]||Une[t]}function sA(n,e){let t="".concat(Dte).concat(e.replace(":","-"));return new Promise((i,r)=>{if(n.getAttribute(t)!==null)return i();let a=T4(n.children).filter(P=>P.getAttribute(wM)===e)[0],c=T1.getComputedStyle(n,e),u=c.getPropertyValue("font-family"),h=u.match(zte),v=c.getPropertyValue("font-weight"),y=c.getPropertyValue("content");if(a&&!h)return n.removeChild(a),i();if(h&&y!=="none"&&y!==""){let P=c.getPropertyValue("content"),S=Wne(u,v),{value:M,isSecondary:O}=$ne(P),R=h[0].startsWith("FontAwesome"),B=WM(S,M),F=B;if(R){let N=ine(M);N.iconName&&N.prefix&&(B=N.iconName,S=N.prefix)}if(B&&!O&&(!a||a.getAttribute(VM)!==S||a.getAttribute(BM)!==F)){n.setAttribute(t,F),a&&n.removeChild(a);let N=Tne(),{extra:Y}=N;Y.attributes[wM]=e,zM(B,S).then(ne=>{let ue=GM(Ge(Ge({},N),{},{icons:{main:ne,mask:FA()},prefix:S,iconName:F,extra:Y,watchable:!0})),fe=Pi.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?n.insertBefore(fe,n.firstChild):n.appendChild(fe),fe.outerHTML=ue.map(oe=>Rp(oe)).join(`
`),n.removeAttribute(t),i()}).catch(r)}else i()}else i()})}function Gne(n){return Promise.all([sA(n,"::before"),sA(n,"::after")])}function Yne(n){return n.parentNode!==document.head&&!~Ite.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(wM)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function lA(n){if(dc)return new Promise((e,t)=>{let i=T4(n.querySelectorAll("*")).filter(Yne).map(Gne),r=YM.begin("searchPseudoElements");UA(),Promise.all(i).then(()=>{r(),NM(),e()}).catch(()=>{r(),NM(),t()})})}var qne={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=lA,n}}},provides(n){n.pseudoElements2svg=function(e){let{node:t=Pi}=e;yt.searchPseudoElements&&lA(t)}}},cA=!1,Zne={mixout(){return{dom:{unwatch(){UA(),cA=!0}}}},hooks(){return{bootstrap(){nA(IM("mutationObserverCallbacks",{}))},noAuto(){One()},watch(n){let{observeMutationsRoot:e}=n;cA?NM():nA(IM("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}},dA=n=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((t,i)=>{let r=i.toLowerCase().split("-"),o=r[0],a=r.slice(1).join("-");if(o&&a==="h")return t.flipX=!0,t;if(o&&a==="v")return t.flipY=!0,t;if(a=parseFloat(a),isNaN(a))return t;switch(o){case"grow":t.size=t.size+a;break;case"shrink":t.size=t.size-a;break;case"left":t.x=t.x-a;break;case"right":t.x=t.x+a;break;case"up":t.y=t.y-a;break;case"down":t.y=t.y+a;break;case"rotate":t.rotate=t.rotate+a;break}return t},e)},Xne={mixout(){return{parse:{transform:n=>dA(n)}}},hooks(){return{parseNodeAttributes(n,e){let t=e.getAttribute("data-fa-transform");return t&&(n.transform=dA(t)),n}}},provides(n){n.generateAbstractTransformGrouping=function(e){let{main:t,transform:i,containerWidth:r,iconWidth:o}=e,a={transform:"translate(".concat(r/2," 256)")},c="translate(".concat(i.x*32,", ").concat(i.y*32,") "),u="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),h="rotate(".concat(i.rotate," 0 0)"),v={transform:"".concat(c," ").concat(u," ").concat(h)},y={transform:"translate(".concat(o/2*-1," -256)")},P={outer:a,inner:v,path:y};return{tag:"g",attributes:Ge({},P.outer),children:[{tag:"g",attributes:Ge({},P.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:Ge(Ge({},t.icon.attributes),P.path)}]}]}}}},yM={x:0,y:0,width:"100%",height:"100%"};function uA(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function Kne(n){return n.tag==="g"?n.children:[n]}var Qne={hooks(){return{parseNodeAttributes(n,e){let t=e.getAttribute("data-fa-mask"),i=t?n5(t.split(" ").map(r=>r.trim())):FA();return i.prefix||(i.prefix=L1()),n.mask=i,n.maskId=e.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(e){let{children:t,attributes:i,main:r,mask:o,maskId:a,transform:c}=e,{width:u,icon:h}=r,{width:v,icon:y}=o,P=$te({transform:c,containerWidth:v,iconWidth:u}),S={tag:"rect",attributes:Ge(Ge({},yM),{},{fill:"white"})},M=h.children?{children:h.children.map(uA)}:{},O={tag:"g",attributes:Ge({},P.inner),children:[uA(Ge({tag:h.tag,attributes:Ge(Ge({},h.attributes),P.path)},M))]},R={tag:"g",attributes:Ge({},P.outer),children:[O]},B="mask-".concat(a||zp()),F="clip-".concat(a||zp()),N={tag:"mask",attributes:Ge(Ge({},yM),{},{id:B,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[S,R]},Y={tag:"defs",children:[{tag:"clipPath",attributes:{id:F},children:Kne(y)},N]};return t.push(Y,{tag:"rect",attributes:Ge({fill:"currentColor","clip-path":"url(#".concat(F,")"),mask:"url(#".concat(B,")")},yM)}),{children:t,attributes:i}}}},Jne={provides(n){let e=!1;T1.matchMedia&&(e=T1.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){let t=[],i={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:Ge(Ge({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let o=Ge(Ge({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Ge(Ge({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||a.children.push({tag:"animate",attributes:Ge(Ge({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Ge(Ge({},o),{},{values:"1;0;1;1;0;1;"})}),t.push(a),t.push({tag:"path",attributes:Ge(Ge({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:Ge(Ge({},o),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:Ge(Ge({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Ge(Ge({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},eie={hooks(){return{parseNodeAttributes(n,e){let t=e.getAttribute("data-fa-symbol"),i=t===null?!1:t===""?!0:t;return n.symbol=i,n}}}},tie=[Yte,Fne,Vne,Bne,jne,qne,Zne,Xne,Qne,Jne,eie];une(tie,{mixoutsTo:ma});var SAe=ma.noAuto,WA=ma.config,PAe=ma.library,GA=ma.dom,YA=ma.parse,kAe=ma.findIconDefinition,OAe=ma.toHtml,qA=ma.icon,DAe=ma.layer,nie=ma.text,iie=ma.counter;var rie=["*"],oie=(()=>{class n{defaultPrefix="fas";fallbackIcon=null;fixedWidth;set autoAddCss(t){WA.autoAddCss=t,this._autoAddCss=t}get autoAddCss(){return this._autoAddCss}_autoAddCss=!0;static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aie=(()=>{class n{definitions={};addIcons(...t){for(let i of t){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(let r of i.icon[2])typeof r=="string"&&(this.definitions[i.prefix][r]=i)}}addIconPacks(...t){for(let i of t){let r=Object.keys(i).map(o=>i[o]);this.addIcons(...r)}}getIconDefinition(t,i){return t in this.definitions&&i in this.definitions[t]?this.definitions[t][i]:null}static \u0275fac=function(i){return new(i||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sie=n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)},lie=()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")},XA=n=>n!=null&&(n===90||n===180||n===270||n==="90"||n==="180"||n==="270"),cie=n=>{let e=XA(n.rotate),t={[`fa-${n.animation}`]:n.animation!=null&&!n.animation.startsWith("spin"),"fa-spin":n.animation==="spin"||n.animation==="spin-reverse","fa-spin-pulse":n.animation==="spin-pulse"||n.animation==="spin-pulse-reverse","fa-spin-reverse":n.animation==="spin-reverse"||n.animation==="spin-pulse-reverse","fa-pulse":n.animation==="spin-pulse"||n.animation==="spin-pulse-reverse","fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":n.flip==="horizontal"||n.flip==="both","fa-flip-vertical":n.flip==="vertical"||n.flip==="both",[`fa-${n.size}`]:n.size!==null,[`fa-rotate-${n.rotate}`]:e,"fa-rotate-by":n.rotate!=null&&!e,[`fa-pull-${n.pull}`]:n.pull!==null,[`fa-stack-${n.stackItemSize}`]:n.stackItemSize!=null};return Object.keys(t).map(i=>t[i]?i:null).filter(i=>i!=null)},ZM=new WeakSet,ZA="fa-auto-css";function die(n,e){if(!e.autoAddCss||ZM.has(n))return;if(n.getElementById(ZA)!=null){e.autoAddCss=!1,ZM.add(n);return}let t=n.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("id",ZA),t.innerHTML=GA.css();let i=n.head.childNodes,r=null;for(let o=i.length-1;o>-1;o--){let a=i[o],c=a.nodeName.toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(r=a)}n.head.insertBefore(t,r),e.autoAddCss=!1,ZM.add(n)}var uie=n=>n.prefix!==void 0&&n.iconName!==void 0,pie=(n,e)=>uie(n)?n:Array.isArray(n)&&n.length===2?{prefix:n[0],iconName:n[1]}:{prefix:e,iconName:n},fie=(()=>{class n{stackItemSize=wd("1x");size=wd();_effect=mu(()=>{if(this.size())throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')});static \u0275fac=function(i){return new(i||n)};static \u0275dir=ct({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:[1,"stackItemSize"],size:[1,"size"]}})}return n})(),mie=(()=>{class n{size=wd();classes=Gs(()=>{let t=this.size(),i=t?{[`fa-${t}`]:!0}:{};return Ve(ie({},i),{"fa-stack":!0})});static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["fa-stack"]],hostVars:2,hostBindings:function(i,r){i&2&&cn(r.classes())},inputs:{size:[1,"size"]},ngContentSelectors:rie,decls:1,vars:0,template:function(i,r){i&1&&(Ia(),go(0))},encapsulation:2,changeDetection:0})}return n})(),KA=(()=>{class n{icon=bo.required();title=bo();animation=bo();mask=bo();flip=bo();size=bo();pull=bo();border=bo();inverse=bo();symbol=bo();rotate=bo();fixedWidth=bo();transform=bo();a11yRole=bo();renderedIconHTML=Gs(()=>{let t=this.icon();if(t==null&&this.config.fallbackIcon==null)return lie(),"";let i=this.findIconDefinition(t??this.config.fallbackIcon);if(!i)return"";let r=this.buildParams();die(this.document,this.config);let o=qA(i,r);return this.sanitizer.bypassSecurityTrustHtml(o.html.join(`
`))});document=q(Tt);sanitizer=q($y);config=q(oie);iconLibrary=q(aie);stackItem=q(fie,{optional:!0});stack=q(mie,{optional:!0});constructor(){this.stack!=null&&this.stackItem==null&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}findIconDefinition(t){let i=pie(t,this.config.defaultPrefix);if("icon"in i)return i;let r=this.iconLibrary.getIconDefinition(i.prefix,i.iconName);return r??(sie(i),null)}buildParams(){let t=this.fixedWidth(),i={flip:this.flip(),animation:this.animation(),border:this.border(),inverse:this.inverse(),size:this.size(),pull:this.pull(),rotate:this.rotate(),fixedWidth:typeof t=="boolean"?t:this.config.fixedWidth,stackItemSize:this.stackItem!=null?this.stackItem.stackItemSize():void 0},r=this.transform(),o=typeof r=="string"?YA.transform(r):r,a=this.mask(),c=a!=null?this.findIconDefinition(a):null,u={},h=this.a11yRole();h!=null&&(u.role=h);let v={};return i.rotate!=null&&!XA(i.rotate)&&(v["--fa-rotate-angle"]=`${i.rotate}`),{title:this.title(),transform:o,classes:cie(i),mask:c??void 0,symbol:this.symbol(),attributes:u,styles:v}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(i,r){i&2&&(or("innerHTML",r.renderedIconHTML(),Xl),an("title",r.title()))},inputs:{icon:[1,"icon"],title:[1,"title"],animation:[1,"animation"],mask:[1,"mask"],flip:[1,"flip"],size:[1,"size"],pull:[1,"pull"],border:[1,"border"],inverse:[1,"inverse"],symbol:[1,"symbol"],rotate:[1,"rotate"],fixedWidth:[1,"fixedWidth"],transform:[1,"transform"],a11yRole:[1,"a11yRole"]},outputs:{icon:"iconChange",title:"titleChange",animation:"animationChange",mask:"maskChange",flip:"flipChange",size:"sizeChange",pull:"pullChange",border:"borderChange",inverse:"inverseChange",symbol:"symbolChange",rotate:"rotateChange",fixedWidth:"fixedWidthChange",transform:"transformChange",a11yRole:"a11yRoleChange"},decls:0,vars:0,template:function(i,r){},encapsulation:2,changeDetection:0})}return n})();var QA=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xn({type:n});static \u0275inj=gn({})}return n})();var JA={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M309.5-18.9c-4.1-8-12.4-13.1-21.4-13.1s-17.3 5.1-21.4 13.1L193.1 125.3 33.2 150.7c-8.9 1.4-16.3 7.7-19.1 16.3s-.5 18 5.8 24.4l114.4 114.5-25.2 159.9c-1.4 8.9 2.3 17.9 9.6 23.2s16.9 6.1 25 2L288.1 417.6 432.4 491c8 4.1 17.7 3.3 25-2s11-14.2 9.6-23.2L441.7 305.9 556.1 191.4c6.4-6.4 8.6-15.8 5.8-24.4s-10.1-14.9-19.1-16.3L383 125.3 309.5-18.9z"]};var eN={prefix:"far",iconName:"star",icon:[576,512,[11088,61446],"f005","M288.1-32c9 0 17.3 5.1 21.4 13.1L383 125.3 542.9 150.7c8.9 1.4 16.3 7.7 19.1 16.3s.5 18-5.8 24.4L441.7 305.9 467 465.8c1.4 8.9-2.3 17.9-9.6 23.2s-17 6.1-25 2L288.1 417.6 143.8 491c-8 4.1-17.7 3.3-25-2s-11-14.2-9.6-23.2L134.4 305.9 20 191.4c-6.4-6.4-8.6-15.8-5.8-24.4s10.1-14.9 19.1-16.3l159.9-25.4 73.6-144.2c4.1-8 12.4-13.1 21.4-13.1zm0 76.8L230.3 158c-3.5 6.8-10 11.6-17.6 12.8l-125.5 20 89.8 89.9c5.4 5.4 7.9 13.1 6.7 20.7l-19.8 125.5 113.3-57.6c6.8-3.5 14.9-3.5 21.8 0l113.3 57.6-19.8-125.5c-1.2-7.6 1.3-15.3 6.7-20.7l89.8-89.9-125.5-20c-7.6-1.2-14.1-6-17.6-12.8L288.1 44.8z"]};var gie=(n,e)=>({color:n,fontSize:e,cursor:"pointer",transition:"color 0.4s ease-in-out"});function vie(n,e){if(n&1){let t=X();l(0,"fa-icon",2),T("mouseenter",function(){let r=z(t).$implicit,o=C();return A(o.onMouseEnter(r))})("mouseleave",function(){z(t);let r=C();return A(r.onMouseLeave())})("click",function(){let r=z(t).$implicit,o=C();return A(o.selectRating(r))}),d()}if(n&2){let t=e.$implicit,i=C();_("icon",i.getStarIcon(t))("ngStyle",wi(2,gie,i.isStarActive(t)?i.starColor:i.inactiveColor,i.fontSize))}}var A1=class n{maxStars=5;starColor="rgb(232, 65, 89)";inactiveColor="#ccc";fontSize="2rem";disabled=!1;readonly=!1;solidStar=JA;regularStar=eN;value=0;hoveredRating=null;get stars(){return Array.from({length:this.maxStars},(e,t)=>t+1)}onChange=e=>{};onTouched=()=>{};writeValue(e){this.value=e||0}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}isStarActive(e){let t=this.hoveredRating!==null?this.hoveredRating:this.value;return e<=t}getStarIcon(e){return this.isStarActive(e)?this.solidStar:this.regularStar}onMouseEnter(e){!this.disabled&&!this.readonly&&(this.hoveredRating=e)}onMouseLeave(){!this.disabled&&!this.readonly&&(this.hoveredRating=null)}selectRating(e){!this.disabled&&!this.readonly&&(this.value=e,this.onChange(e),this.onTouched())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=le({type:n,selectors:[["app-star-component"]],inputs:{maxStars:"maxStars",starColor:"starColor",inactiveColor:"inactiveColor",fontSize:"fontSize",disabled:"disabled",readonly:"readonly",value:"value"},features:[Vn([{provide:Fa,useExisting:pi(()=>n),multi:!0}])],decls:3,vars:0,consts:[[1,"d-flex","gap-1","align-items-center"],[3,"icon","ngStyle"],[3,"mouseenter","mouseleave","click","icon","ngStyle"]],template:function(t,i){t&1&&(l(0,"div",0),du(1,vie,1,5,"fa-icon",1,U_),d()),t&2&&(p(),uu(i.stars))},dependencies:[he,_o,QA,KA],encapsulation:2})};var bie=()=>[5,4,3,2,1];function _ie(n,e){n&1&&(l(0,"div",31)(1,"h3",32),m(2,"Guest favorite"),d(),l(3,"p",33),m(4," This home is in the "),l(5,"strong"),m(6,"top 5%"),d(),m(7," of eligible listings"),k(8,"br"),m(9," based on ratings, reviews, and reliability. "),d()())}function yie(n,e){if(n&1&&(l(0,"div",34)(1,"span",35),m(2),d(),l(3,"div",36),k(4,"div",37),d(),l(5,"span",38),m(6),d()()),n&2){let t=e.$implicit,i=C();p(2),$(t),p(2),xt("width",i.getRatingPercentage(t),"%"),p(2),$(i.ratingCounts[t])}}function xie(n,e){if(n&1&&(l(0,"div",39)(1,"div",40)(2,"div",41),k(3,"i",42),l(4,"span",43),m(5,"Cleanliness"),d()(),l(6,"span",44),m(7),d()(),l(8,"div",40)(9,"div",41),k(10,"i",45),l(11,"span",43),m(12,"Accuracy"),d()(),l(13,"span",44),m(14),d()(),l(15,"div",40)(16,"div",41),k(17,"i",46),l(18,"span",43),m(19,"Check-in"),d()(),l(20,"span",44),m(21),d()(),l(22,"div",40)(23,"div",41),k(24,"i",47),l(25,"span",43),m(26,"Communication"),d()(),l(27,"span",44),m(28),d()(),l(29,"div",40)(30,"div",41),k(31,"i",48),l(32,"span",43),m(33,"Location"),d()(),l(34,"span",44),m(35),d()(),l(36,"div",40)(37,"div",41),k(38,"i",49),l(39,"span",43),m(40,"Value"),d()(),l(41,"span",44),m(42),d()()()),n&2){let t=C();p(7),$(t.categoryAverages.cleanliness),p(7),$(t.categoryAverages.accuracy),p(7),$(t.categoryAverages.checkIn),p(7),$(t.categoryAverages.communication),p(7),$(t.categoryAverages.location),p(7),$(t.categoryAverages.value)}}function Cie(n,e){if(n&1){let t=X();l(0,"button",50),T("click",function(){z(t);let r=C();return A(r.openAddReviewModal())}),m(1," Add Review "),d()}}function Mie(n,e){if(n&1&&(l(0,"div",51)(1,"div",52)(2,"div",53)(3,"span"),m(4),d()(),l(5,"div",54)(6,"div",55),m(7),d(),l(8,"div",56),m(9),d()()(),l(10,"div",57),k(11,"app-star-component",58),l(12,"span",59),m(13),d(),l(14,"span",60),m(15,"\u2022"),d(),l(16,"span",61),m(17,"Stayed with kids"),d()(),l(18,"div",62)(19,"p",63),m(20),d()()()),n&2){let t=e.$implicit,i=C();p(4),$(i.getInitials(t.user?t.user.firstName+" "+t.user.lastName:"Guest User")),p(3),U(" ",t.user?t.user.firstName+" "+t.user.lastName:"Guest User"," "),p(2),U(" ",i.getUserJoinYear(t)," years on Airbnb "),p(2),_("value",t.rating)("readonly",!0)("fontSize","14px")("starColor","black"),p(2),$(i.formatDate(t.createdAt||"2025-06-01")),p(7),$(t.comment)}}function wie(n,e){n&1&&(l(0,"div",64),k(1,"i",65),l(2,"h5",66),m(3,"No reviews found"),d(),l(4,"p",67),m(5,"Try adjusting your search or filters"),d()())}var r5=class n{constructor(e){this.authService=e}reviews=[];propertyName="This Property";propertyId;closeModal=new ye;filteredReviews=[];searchQuery="";sortOption="most-relevant";canUserAddReview=!1;errorMessage="";showReviewForm=!1;openAddReviewModal(){this.showReviewForm=!0}overallRating=0;totalReviews=0;ratingCounts={5:0,4:0,3:0,2:0,1:0};categoryAverages={cleanliness:0,accuracy:0,communication:0,checkIn:0,location:0,value:0};ngOnInit(){this.calculateStatistics(),this.filterReviews(),this.checkUserCanReview()}ngOnChanges(){this.calculateStatistics(),this.filterReviews()}checkUserCanReview(){if(!this.authService.userId||!this.propertyId){this.canUserAddReview=!1;return}}addReview(e){}calculateStatistics(){if(this.reviews.length===0){this.resetStatistics();return}this.totalReviews=this.reviews.length;let e=this.reviews.filter(i=>i.rating!=null&&!isNaN(i.rating));if(e.length>0){let i=e.reduce((r,o)=>r+o.rating,0);this.overallRating=Math.round(i/e.length*10)/10}this.ratingCounts={5:0,4:0,3:0,2:0,1:0},this.reviews.forEach(i=>{if(i.rating!=null&&!isNaN(i.rating)){let r=Math.round(i.rating);r>=1&&r<=5&&this.ratingCounts[r]++}}),["cleanliness","accuracy","communication","checkIn","location","value"].forEach(i=>{let r=this.reviews.filter(o=>o[i]!=null&&!isNaN(o[i])&&o[i]>=0);if(r.length>0){let o=r.reduce((a,c)=>a+c[i],0);this.categoryAverages[i]=Math.round(o/r.length*10)/10}else this.categoryAverages[i]=0})}resetStatistics(){this.totalReviews=0,this.overallRating=0,this.ratingCounts={5:0,4:0,3:0,2:0,1:0},this.categoryAverages={cleanliness:0,accuracy:0,communication:0,checkIn:0,location:0,value:0}}filterReviews(){let e=[...this.reviews];if(this.searchQuery.trim()){let t=this.searchQuery.toLowerCase();e=e.filter(i=>{let r=i.comment?.toLowerCase().includes(t)||!1,o=i.user&&`${i.user.firstName} ${i.user.lastName}`?.toLowerCase().includes(t)||!1;return r||o})}switch(this.sortOption){case"newest":e.sort((t,i)=>{let r=t.createdAt?new Date(t.createdAt).getTime():0;return(i.createdAt?new Date(i.createdAt).getTime():0)-r});break;case"oldest":e.sort((t,i)=>{let r=t.createdAt?new Date(t.createdAt).getTime():0,o=i.createdAt?new Date(i.createdAt).getTime():0;return r-o});break;case"highest-rated":e.sort((t,i)=>(i.rating||0)-(t.rating||0));break;case"lowest-rated":e.sort((t,i)=>(t.rating||0)-(i.rating||0));break;default:e.sort((t,i)=>{let r=t.createdAt?new Date(t.createdAt).getTime():0;return(i.createdAt?new Date(i.createdAt).getTime():0)-r})}this.filteredReviews=e}onSearchChange(){this.filterReviews()}onSortChange(){this.filterReviews()}getRatingPercentage(e){return this.totalReviews===0?0:Math.round(this.ratingCounts[e]/this.totalReviews*100)}getInitials(e="Guest"){return!e||e.trim()===""?"GU":e.trim().split(" ").filter(t=>t.length>0).map(t=>t[0]).join("").toUpperCase().slice(0,2)}formatDate(e){if(!e)return"Date not available";try{let t=new Date(e);return isNaN(t.getTime())?"Invalid date":t.toLocaleDateString("en-US",{year:"numeric",month:"long"})}catch{return"Invalid date"}}getUserJoinYear(e){return 2}trackByReviewId(e,t){return t.id}onClose(){this.closeModal.emit()}onBackdropClick(e){e.target===e.currentTarget&&this.onClose()}static \u0275fac=function(t){return new(t||n)(V(dt))};static \u0275cmp=le({type:n,selectors:[["app-reviews-modal"]],inputs:{reviews:"reviews",propertyName:"propertyName",propertyId:"propertyId"},outputs:{closeModal:"closeModal"},features:[Gt],decls:39,vars:11,consts:[[1,"modal-overlay","show",3,"click"],[1,"modal-container"],[1,"left-panel"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"bi","bi-x-lg"],["class","guest-favorite-section",4,"ngIf"],[1,"divider"],[1,"overall-rating-section"],[1,"overall-rating-title"],[1,"rating-breakdown"],["class","rating-bar-item",4,"ngFor","ngForOf"],["class","category-ratings",4,"ngIf"],[1,"right-panel"],[1,"right-panel-header"],[1,"header-controls"],[1,"reviews-title"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"dropdown-container"],[1,"form-select",3,"ngModelChange","change","ngModel"],["value","most-relevant"],["value","newest"],["value","oldest"],["value","highest-rated"],["value","lowest-rated"],[1,"search-section"],[1,"search-box"],[1,"bi","bi-search","search-icon"],["type","text","placeholder","Search reviews",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"reviews-list"],["class","review-item",4,"ngFor","ngForOf","ngForTrackBy"],["class","no-results",4,"ngIf"],[1,"guest-favorite-section"],[1,"guest-favorite-title"],[1,"guest-favorite-subtext"],[1,"rating-bar-item"],[1,"rating-label"],[1,"progress"],[1,"progress-bar"],[1,"rating-count"],[1,"category-ratings"],[1,"category-item"],[1,"category-left"],[1,"bi","bi-house-door","category-icon"],[1,"category-label"],[1,"category-rating"],[1,"bi","bi-check-circle","category-icon"],[1,"bi","bi-key","category-icon"],[1,"bi","bi-chat-dots","category-icon"],[1,"bi","bi-geo-alt","category-icon"],[1,"bi","bi-tag","category-icon"],[1,"btn","btn-primary",3,"click"],[1,"review-item"],[1,"review-header"],[1,"user-avatar"],[1,"user-info"],[1,"user-name"],[1,"user-details"],[1,"review-meta"],[1,"stars",3,"value","readonly","fontSize","starColor"],[1,"review-date"],[1,"review-meta-separator"],[1,"review-type"],[1,"review-content"],[1,"review-text"],[1,"no-results"],[1,"bi","bi-search","no-results-icon"],[1,"no-results-title"],[1,"no-results-text"]],template:function(t,i){t&1&&(l(0,"div",0),T("click",function(o){return i.onBackdropClick(o)}),l(1,"div",1)(2,"div",2)(3,"button",3),T("click",function(){return i.onClose()}),k(4,"i",4),d(),j(5,_ie,10,0,"div",5),k(6,"div",6),l(7,"div",7)(8,"h4",8),m(9,"Overall rating"),d(),l(10,"div",9),j(11,yie,7,4,"div",10),d()(),j(12,xie,43,6,"div",11),d(),l(13,"div",12)(14,"div",13)(15,"div",14)(16,"div")(17,"h2",15),m(18),d(),j(19,Cie,2,0,"button",16),d(),l(20,"div",17)(21,"select",18),mt("ngModelChange",function(o){return _t(i.sortOption,o)||(i.sortOption=o),o}),T("change",function(){return i.onSortChange()}),l(22,"option",19),m(23,"Most relevant"),d(),l(24,"option",20),m(25,"Newest"),d(),l(26,"option",21),m(27,"Oldest"),d(),l(28,"option",22),m(29,"Highest rated"),d(),l(30,"option",23),m(31,"Lowest rated"),d()()()(),l(32,"div",24)(33,"div",25),k(34,"i",26),l(35,"input",27),mt("ngModelChange",function(o){return _t(i.searchQuery,o)||(i.searchQuery=o),o}),T("input",function(){return i.onSearchChange()}),d()()(),l(36,"div",28),j(37,Mie,21,9,"div",29)(38,wie,6,0,"div",30),d()()()()()),t&2&&(p(5),_("ngIf",i.overallRating>=4.7),p(6),_("ngForOf",Kt(10,bie)),p(),_("ngIf",i.categoryAverages.cleanliness>0),p(6),U("",i.totalReviews," reviews"),p(),_("ngIf",i.canUserAddReview),p(2),ft("ngModel",i.sortOption),p(14),ft("ngModel",i.searchQuery),p(2),_("ngForOf",i.filteredReviews)("ngForTrackBy",i.trackByReviewId),p(),_("ngIf",i.filteredReviews.length===0&&i.searchQuery))},dependencies:[he,Xe,Ce,Mt,c1,d1,Rt,Js,Dt,kn,A1],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0009;z-index:1050;display:flex;align-items:center;justify-content:center;opacity:1;visibility:visible}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:95%;max-width:1000px;max-height:90vh;overflow:hidden;box-shadow:0 8px 32px #0000001f;display:flex}.left-panel[_ngcontent-%COMP%]{width:350px;padding:24px;background-color:#fafafa;border-right:1px solid #e5e5e5;overflow-y:auto;max-height:90vh}.btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;color:#717171;padding:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;transition:color .2s ease;margin-bottom:24px}.btn-close[_ngcontent-%COMP%]:hover{color:#222}.guest-favorite-section[_ngcontent-%COMP%]{margin-bottom:24px}.guest-favorite-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#222;margin-bottom:8px}.guest-favorite-subtext[_ngcontent-%COMP%]{font-size:14px;color:#717171;line-height:1.4;margin-bottom:0}.divider[_ngcontent-%COMP%]{height:1px;background-color:#e5e5e5;margin:24px 0}.overall-rating-section[_ngcontent-%COMP%]{margin-bottom:32px}.overall-rating-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#222;margin-bottom:16px}.rating-breakdown[_ngcontent-%COMP%]{margin-bottom:32px}.rating-bar-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px}.rating-label[_ngcontent-%COMP%]{font-size:14px;color:#222;min-width:20px;margin-right:12px;font-weight:500}.progress[_ngcontent-%COMP%]{height:4px!important;background-color:#e5e5e5!important;border-radius:2px;overflow:hidden;flex:1}.progress-bar[_ngcontent-%COMP%]{background-color:#222!important;border-radius:2px;height:100%;background-color:#222;transition:width .3s ease}.rating-count[_ngcontent-%COMP%]{display:none}.category-ratings[_ngcontent-%COMP%]{margin-top:24px}.category-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0}.category-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.category-left[_ngcontent-%COMP%]{display:flex;align-items:center}.category-icon[_ngcontent-%COMP%]{color:#717171;font-size:16px;margin-right:12px;width:16px}.category-label[_ngcontent-%COMP%]{font-size:14px;color:#222}.category-rating[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#222}.right-panel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;max-height:90vh}.right-panel-header[_ngcontent-%COMP%]{padding:24px 24px 16px;border-bottom:1px solid #e5e5e5}.reviews-title[_ngcontent-%COMP%]{font-size:22px;font-weight:600;color:#222;margin-bottom:4px}.learn-link[_ngcontent-%COMP%]{font-size:14px;color:#717171;text-decoration:underline;margin-bottom:16px;display:inline-block}.learn-link[_ngcontent-%COMP%]:hover{color:#222}.header-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:16px}.dropdown-container[_ngcontent-%COMP%]{min-width:150px}.form-select[_ngcontent-%COMP%]{border:1px solid #b0b0b0!important;border-radius:8px!important;padding:8px 12px;font-size:14px;background-color:#fff}.form-select[_ngcontent-%COMP%]:focus{border-color:#222!important;box-shadow:0 0 0 2px #2222221a!important}.search-section[_ngcontent-%COMP%]{padding:16px 24px;border-bottom:1px solid #e5e5e5}.search-box[_ngcontent-%COMP%]{position:relative}.search-icon[_ngcontent-%COMP%]{position:absolute;left:16px;top:50%;transform:translateY(-50%);color:#717171;font-size:14px}.search-input[_ngcontent-%COMP%]{width:100%;border:1px solid #b0b0b0;border-radius:25px;padding:12px 16px 12px 45px;font-size:14px;background-color:#fff}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#222;box-shadow:0 0 0 2px #2222221a}.search-input[_ngcontent-%COMP%]::placeholder{color:#717171}.reviews-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:24px}.review-item[_ngcontent-%COMP%]{margin-bottom:32px;padding-bottom:24px;border-bottom:1px solid #f0f0f0}.review-item[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0;padding-bottom:0}.review-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:12px}.user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background-color:#222;color:#fff;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:600;margin-right:12px;flex-shrink:0}.user-info[_ngcontent-%COMP%]{flex:1}.user-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#222;margin-bottom:4px}.user-details[_ngcontent-%COMP%]{font-size:14px;color:#717171}.review-meta[_ngcontent-%COMP%]{margin-bottom:12px;display:flex;align-items:center;flex-wrap:wrap;gap:8px}.stars[_ngcontent-%COMP%]{color:gold;font-size:14px}.review-date[_ngcontent-%COMP%], .review-type[_ngcontent-%COMP%]{font-size:14px;color:#717171}.review-meta-separator[_ngcontent-%COMP%]{color:#717171}.review-text[_ngcontent-%COMP%]{font-size:16px;line-height:1.5;color:#222;margin:0}.no-results[_ngcontent-%COMP%]{text-align:center;padding:40px 0}.no-results-icon[_ngcontent-%COMP%]{font-size:48px;color:#717171;margin-bottom:16px}.no-results-title[_ngcontent-%COMP%]{font-size:18px;color:#717171;margin-bottom:8px}.no-results-text[_ngcontent-%COMP%]{font-size:14px;color:#717171;margin:0}.left-panel[_ngcontent-%COMP%]::-webkit-scrollbar, .reviews-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.left-panel[_ngcontent-%COMP%]::-webkit-scrollbar-track, .reviews-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.left-panel[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .reviews-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0003;border-radius:4px}.left-panel[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, .reviews-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#0000004d}@media (max-width: 768px){.modal-container[_ngcontent-%COMP%]{flex-direction:column;width:98%;max-height:95vh}.left-panel[_ngcontent-%COMP%]{width:100%;max-height:40vh}.right-panel[_ngcontent-%COMP%]{max-height:55vh}}.add-review-mode[_ngcontent-%COMP%]{max-width:600px}.add-review-container[_ngcontent-%COMP%]{width:100%;max-height:90vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-bottom:1px solid #e9ecef}.modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:#222}.close-button[_ngcontent-%COMP%]{background:transparent;border:none;font-size:1.25rem;cursor:pointer;color:#666;padding:0;display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:50%;transition:background-color .2s}.close-button[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;color:#222}.modal-body[_ngcontent-%COMP%]{padding:24px}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#222}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:8px;font-size:1rem;transition:border-color .2s}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#ff385c;outline:none;box-shadow:0 0 0 2px #ff385c33}.form-control.is-invalid[_ngcontent-%COMP%], .form-select.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.invalid-feedback[_ngcontent-%COMP%], .text-danger[_ngcontent-%COMP%]{display:block;width:100%;margin-top:.25rem;font-size:.875rem;color:#dc3545}.rating-container[_ngcontent-%COMP%]{margin-top:.5rem}.add-review-container[_ngcontent-%COMP%]   .category-ratings[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;color:#222}.add-review-container[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0}.add-review-container[_ngcontent-%COMP%]   .category-label[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:500;color:#484848}.add-review-container[_ngcontent-%COMP%]   .category-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ff385c;margin-right:8px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:2rem}.btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:8px;font-weight:500;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background-color:#ff385c;border:1px solid #FF385C;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e31c5f;border-color:#e31c5f}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#ffb3c0;border-color:#ffb3c0;cursor:not-allowed}.btn-outline-secondary[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #ddd;color:#484848}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;border-color:#ccc}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:8px;margin-bottom:1rem}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;border:1px solid #f5c6cb;color:#721c24}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;border:1px solid #c3e6cb;color:#155724}@media (max-width: 768px){.add-review-container[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.add-review-container[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   app-star-component[_ngcontent-%COMP%]{margin-top:8px}}"]})};function Sie(n,e){if(n&1){let t=X();l(0,"img",10),T("error",function(r){z(t);let o=C();return A(o.onImageError(r))}),d()}if(n&2){let t=C();_("src",t.getImageUrl(t.profileImageUrl),et)("alt",t.firstName+" "+t.lastName)}}function Pie(n,e){if(n&1&&(l(0,"div",11),m(1),d()),n&2){let t=C();p(),U(" ",t.getInitials(t.firstName||"",t.lastName||"")," ")}}function kie(n,e){n&1&&(l(0,"div",12),k(1,"i",13),d())}function Oie(n,e){if(n&1&&k(0,"i",21),n&2){let t=C().$implicit;_("ngClass",t.icon)}}function Die(n,e){if(n&1&&(l(0,"div",17)(1,"span",18),m(2),d(),l(3,"span",19),m(4),j(5,Oie,1,1,"i",20),d()()),n&2){let t=e.$implicit;p(2),$(t.label),p(2),U(" ",t.value," "),p(),_("ngIf",t.icon)}}function Eie(n,e){if(n&1&&(l(0,"div",14)(1,"div",15),j(2,Die,6,3,"div",16),d()()),n&2){let t=C();p(2),_("ngForOf",t.statsArray)}}var L4=class n{constructor(e){this.router=e}firstName;lastName;country;profileImageUrl;userId;userType="Host";stats;showHeartBadge=!1;imageBaseUrl="";imageErrors=new Set;onImageErrorCallback;clickable=!0;navigateToProfile(){this.clickable&&this.userId&&this.router.navigate(["/user",this.userId])}onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),this.navigateToProfile())}get statsArray(){return this.stats?this.userType==="Host"?[{label:"Reviews",value:this.stats.totalReviews},{label:"Rating",value:this.stats.averageRating?.toFixed(1)},{label:"Months hosting",value:this.stats.monthsHosting}]:[{label:"Trips",value:this.stats.totalTrips},{label:"Reviews",value:this.stats.totalReviews},{label:"Years on Platform",value:this.stats.yearsOnPlatform}]:[]}getHostStatus(){return this.userType==="Guest"?this.country||"Location not specified":this.stats?.averageRating>=4.8?"Super Host":"Host"}getImageUrl(e){return e?this.imageBaseUrl+e:""}onImageError(e){this.onImageErrorCallback&&this.onImageErrorCallback(e,{id:this.userId}),this.imageErrors.add(this.userId)}shouldShowImage(e,t){return!!(e&&e.trim()!==""&&!this.imageErrors.has(t))}shouldShowFallback(e,t){return!e||e.trim()===""||this.imageErrors.has(t)}getInitials(e,t){let i=e?e.charAt(0).toUpperCase():"",r=t?t.charAt(0).toUpperCase():"";return i+r}static \u0275fac=function(t){return new(t||n)(V(nt))};static \u0275cmp=le({type:n,selectors:[["app-profile-card"]],inputs:{firstName:"firstName",lastName:"lastName",country:"country",profileImageUrl:"profileImageUrl",userId:"userId",userType:"userType",stats:"stats",showHeartBadge:"showHeartBadge",imageBaseUrl:"imageBaseUrl",imageErrors:"imageErrors",onImageErrorCallback:"onImageErrorCallback",clickable:"clickable"},decls:12,vars:9,consts:[[1,"bg-white","rounded-4","p-4","shadow-sm","border","flex-shrink-0",2,"min-width","380px","cursor","pointer",3,"click","keydown"],[1,"d-flex","flex-column","flex-md-row","align-items-center","gap-4"],[1,"flex-shrink-0","text-center"],[1,"position-relative","d-inline-block","mb-3"],["class","rounded-circle","style","width: 80px; height: 80px; object-fit: cover","loading","lazy",3,"src","alt","error",4,"ngIf"],["class","bg-dark rounded-circle d-flex align-items-center justify-content-center text-white fw-bold","style","width: 80px; height: 80px; font-size: 2rem",4,"ngIf"],["class","position-absolute top-0 start-100 translate-middle bg-danger rounded-circle d-flex align-items-center justify-content-center text-white","style","width: 20px; height: 20px; font-size: 0.7rem",4,"ngIf"],[1,"fs-1","fw-semibold","mb-1","text-dark"],[1,"text-muted","fs-5","fw-medium","mb-0"],["class","flex-fill border-start ps-4",4,"ngIf"],["loading","lazy",1,"rounded-circle",2,"width","80px","height","80px","object-fit","cover",3,"error","src","alt"],[1,"bg-dark","rounded-circle","d-flex","align-items-center","justify-content-center","text-white","fw-bold",2,"width","80px","height","80px","font-size","2rem"],[1,"position-absolute","top-0","start-100","translate-middle","bg-danger","rounded-circle","d-flex","align-items-center","justify-content-center","text-white",2,"width","20px","height","20px","font-size","0.7rem"],[1,"fas","fa-heart"],[1,"flex-fill","border-start","ps-4"],[1,"d-flex","flex-column","gap-3"],["class","d-flex justify-content-between align-items-center py-2",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","py-2"],[1,"fs-5","text-dark","fw-medium"],[1,"fs-5","fw-semibold","text-dark","d-flex","align-items-center","gap-1"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(t,i){t&1&&(l(0,"div",0),T("click",function(){return i.navigateToProfile()})("keydown",function(o){return i.onKeyDown(o)}),l(1,"div",1)(2,"div",2)(3,"div",3),j(4,Sie,1,2,"img",4)(5,Pie,2,1,"div",5)(6,kie,2,0,"div",6),d(),l(7,"h2",7),m(8),d(),l(9,"p",8),m(10),d()(),j(11,Eie,3,1,"div",9),d()()),t&2&&(Me("clickable",i.clickable&&i.userId),an("tabindex",i.clickable&&i.userId?"0":null),p(4),_("ngIf",i.shouldShowImage(i.profileImageUrl,i.userId)),p(),_("ngIf",i.shouldShowFallback(i.profileImageUrl,i.userId)),p(),_("ngIf",i.showHeartBadge),p(2),U(" ",i.firstName||i.userType," "),p(2),U(" ",i.getHostStatus()," "),p(),_("ngIf",i.stats))},dependencies:[he,Bt,Xe,Ce],styles:[".profile-card.clickable[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #00000026!important;transition:all .2s ease-in-out}"]})};var ul=class n{constructor(e){this.http=e}baseUrl=`${Ke.baseUrl}/Review`;reviewURL=`${Ke.baseUrl}/Review`;bookingURL=`${Ke.baseUrl}/Booking`;getAllReviews(){return this.http.get(`${this.baseUrl}/all`).pipe(Ne(e=>!e.isSuccess||!e.data?[]:e.data))}getReviewById(e){return this.http.get(`${this.baseUrl}/${e}`).pipe(Ne(t=>{if(!t.isSuccess||!t.data)throw new Error(t.message||"Failed to get review");return t.data}))}getReviewsByUserId(e){return this.http.get(`${this.baseUrl}/user/${e}`).pipe(Ne(t=>!t.isSuccess||!t.data?[]:t.data))}getMyReviews(){return this.http.get(`${this.baseUrl}/user`).pipe(Ne(e=>!e.isSuccess||!e.data?[]:e.data))}getPublicReviewsByUserId(e){return this.http.get(`${this.baseUrl}/user/show/${e}`).pipe(Ne(t=>!t.isSuccess||!t.data?[]:t.data))}getReviewsByPropertyId(e){return this.http.get(`${this.baseUrl}/property/${e}`).pipe(Ne(t=>!t.isSuccess||!t.data?[]:t.data))}addReview(e){return this.http.post(`${this.baseUrl}`,e).pipe(Ne(t=>{if(console.log("Raw API Response:",t),console.log("Response isSuccess:",t.isSuccess),console.log("Response data:",t.data),!t.isSuccess||!t.data)throw new Error(t.message||"Failed to add review");return t.data}))}updateReview(e,t){return this.http.put(`${this.baseUrl}/${e}`,t).pipe(Ne(i=>{if(!i.isSuccess||!i.data)throw new Error(i.message||"Failed to update review");return i.data}))}deleteReview(e){return this.http.delete(`${this.baseUrl}/${e}`).pipe(Ne(t=>{if(!t.isSuccess)throw new Error(t.message||"Failed to delete review")}))}getUserCompletedBookingsForProperty(e,t){return this.http.get(`${this.bookingURL}/PropertyBooking/${t}/user/${e}`).pipe(Ne(i=>!i.isSuccess||!i.data?[]:i.data.filter(r=>r.bookingStatus==="Completed")))}isUserHost(e){return this.http.get(`${this.baseUrl}/is-host/${e}`).pipe(Ne(t=>t.isSuccess?t.data:!1))}getMyHostReviewsWithProperties(){return this.http.get(`${this.baseUrl}/host/reviews-with-properties`).pipe(Ne(e=>!e.isSuccess||!e.data?[]:e.data))}getHostReviewsWithProperties(e){return this.http.get(`${this.baseUrl}/host/${e}/reviews-with-properties/public`).pipe(Ne(t=>!t.isSuccess||!t.data?[]:t.data))}static \u0275fac=function(t){return new(t||n)(De(Ct))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var z4=class n{constructor(e){this.http=e}apiUrl=`${Ke.baseUrl}/Booking`;getBookingsByUserId(e){return this.http.get(`${this.apiUrl}/UserBooking/${e}`).pipe(Ne(t=>!t.isSuccess||!t.data?[]:t.data),In(t=>(console.error("API Error:",t),t.status===404?qe([]):gr(()=>new Error(t.error?.message||t.message||"Failed to load bookings. Please try again later.")))))}static \u0275fac=function(t){return new(t||n)(De(Ct))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var Iie=()=>[5,4,3,2,1],Tie=()=>["cleanliness","accuracy","checkIn","communication","location","value"],Lie=n=>["/contact-host",n];function zie(n,e){if(n&1){let t=X();l(0,"app-reviews-modal",18),T("closeModal",function(){z(t);let r=C();return A(r.closeReviewsModal())}),d()}if(n&2){let t=C();_("reviews",t.reviews)("propertyId",t.propertyId)}}function Aie(n,e){if(n&1&&(l(0,"div",26)(1,"span",27),m(2),d(),l(3,"div",28),k(4,"div",29),d(),l(5,"span",30),m(6),d()()),n&2){let t=e.$implicit,i=C(2);p(2),$(t),p(2),xt("width",i.getRatingPercentage(t),"%"),p(2),U("(",i.ratingDistribution[t]||0,")")}}function Nie(n,e){if(n&1&&(l(0,"div",31)(1,"div",32),k(2,"i",33),d(),l(3,"div",34)(4,"span",35),m(5),Q(6,"titlecase"),d(),l(7,"span",36),m(8),d()()()),n&2){let t=e.$implicit,i=C(2);p(2),cn(i.getCategoryIcon(t)),p(3),$(t==="checkIn"?"Check-in":de(6,4,t)),p(3),U(" ",i.categoryAverages[t]||"N/A"," ")}}function Rie(n,e){n&1&&(l(0,"div",19)(1,"div",20)(2,"h6",21),m(3,"Overall rating"),d(),l(4,"div",22),j(5,Aie,7,4,"div",23),d()(),l(6,"div",24),j(7,Nie,9,6,"div",25),d()()),n&2&&(p(5),_("ngForOf",Kt(2,Iie)),p(2),_("ngForOf",Kt(3,Tie)))}function Fie(n,e){n&1&&(l(0,"div",37)(1,"div",38),k(2,"i",39),l(3,"h4",40),m(4,"No reviews yet"),d(),l(5,"p",40),m(6,"Be the first to share your experience!"),d()()())}function Vie(n,e){if(n&1){let t=X();l(0,"img",61),T("error",function(r){z(t);let o=C().$implicit,a=C(2);return A(a.onImageError(r,o))}),d()}if(n&2){let t=C().$implicit,i=C(2);_("src",i.getImageUrl(t.user.profilePictureURL),et)}}function Bie(n,e){if(n&1&&(l(0,"div",48),m(1),d()),n&2){let t=C().$implicit,i=C(2);p(),U(" ",i.getInitials(t.user.firstName,t.user.lastName)," ")}}function jie(n,e){if(n&1&&(l(0,"p",62),m(1),d()),n&2){let t=C().$implicit;p(),U(" ",t.user.country," ")}}function Hie(n,e){if(n&1){let t=X();l(0,"div",52)(1,"i",63),T("click",function(){z(t);let r=C().$implicit,o=C(2);return A(o.navigateToEditReview(r))}),d(),l(2,"button",64),T("click",function(){z(t);let r=C().$implicit,o=C(2);return A(o.deleteHandler(r.id))}),k(3,"i",65),d()()}}function Uie(n,e){if(n&1){let t=X();l(0,"button",66),T("click",function(){z(t);let r=C(3);return A(r.openReviewsModal())}),m(1," Show more "),d()}}function $ie(n,e){if(n&1){let t=X();l(0,"div",43)(1,"div",44)(2,"div",45),T("click",function(){let r=z(t).$implicit,o=C(2);return A(o.navigateToReviewerProfile(r.user.userId))}),l(3,"div",46),yr(4,Vie,1,1,"img",47),yr(5,Bie,2,1,"div",48),d(),l(6,"div",49)(7,"h6",50),m(8),d(),j(9,jie,2,1,"p",51),d()(),yr(10,Hie,4,0,"div",52),d(),l(11,"div",53)(12,"div",54),k(13,"app-star-component",55),d(),l(14,"span",56),m(15),d(),l(16,"span",57),m(17),d()(),l(18,"div",58)(19,"p",59),m(20),d(),j(21,Uie,2,0,"button",60),d()()}if(n&2){let t=e.$implicit,i=C(2);p(4),xr(t.user.profilePictureURL&&!i.imageErrors.has(t.id)?4:-1),p(),xr(!t.user.profilePictureURL||i.imageErrors.has(t.id)?5:-1),p(3),U(" ",i.getFullName(t.user.firstName,t.user.lastName)," "),p(),_("ngIf",t.user.country),p(),xr(i.currentUser&&i.currentUser===t.user.userId?10:-1),p(3),_("fontSize","small")("starColor","black")("value",t.rating)("readonly",!0),p(2),$(i.getDaysAgo(t.createdAt)),p(2),$(i.getStayDuration(t)),p(3),$(t.comment),p(),_("ngIf",t.comment&&t.comment.length>150)}}function Wie(n,e){if(n&1&&(l(0,"div",41),j(1,$ie,22,13,"div",42),Q(2,"slice"),d()),n&2){let t=C();p(),_("ngForOf",Y_(2,2,t.reviews,0,6))("ngForTrackBy",t.trackByReviewId)}}function Gie(n,e){if(n&1){let t=X();l(0,"div",67)(1,"button",68),T("click",function(){z(t);let r=C();return A(r.openReviewsModal())}),m(2),d()()}if(n&2){let t=C();p(2),U(" Show all ",t.reviews.length," reviews ")}}function Yie(n,e){if(n&1){let t=X();l(0,"div",14)(1,"button",69),T("click",function(){z(t);let r=C();return A(r.openReviewsModal())}),m(2," View All Reviews "),d()()}}function qie(n,e){if(n&1){let t=X();l(0,"div",70)(1,"a",71),T("click",function(r){z(t);let o=C();return A(o.toggleTooltip(r))}),m(2," Learn how reviews work "),d(),l(3,"div",72)(4,"div",73)(5,"p"),m(6," Reviews from past guests help our community learn more about each home. By default, reviews are sorted by relevancy. Relevancy is based on recency, length, and information that you provide to us, such as your booking search, your country, and your language preferences. "),d(),l(7,"p"),m(8," Only guests who booked a reservation can leave a review, and reviews are moderated for quality and authenticity. To be eligible for a percentile ranking or guest favorite label, listings need 5 or more recent reviews. "),d()()()()}if(n&2){let t=C();p(),an("aria-expanded",t.showTooltip),p(2),Me("show",t.showTooltip)}}function Zie(n,e){if(n&1){let t=X();l(0,"div",16)(1,"div",74),$e(),l(2,"svg",75)(3,"defs")(4,"linearGradient",76),k(5,"stop",77)(6,"stop",78),d(),l(7,"linearGradient",79),k(8,"stop",80)(9,"stop",81),d(),l(10,"linearGradient",82),k(11,"stop",83)(12,"stop",84),d()(),k(13,"ellipse",85)(14,"ellipse",86)(15,"ellipse",87)(16,"circle",88)(17,"circle",89)(18,"ellipse",90)(19,"ellipse",91)(20,"ellipse",92)(21,"ellipse",93)(22,"circle",94)(23,"path",95)(24,"circle",96)(25,"circle",97)(26,"circle",98)(27,"circle",99)(28,"path",100)(29,"path",101)(30,"path",102),d()(),lt(),l(31,"div",103)(32,"h3",104),m(33,"Share Your Experience"),d(),l(34,"p",105),m(35,"Would you like to leave a review for us?"),d()(),l(36,"button",106),T("click",function(){z(t);let r=C();return A(r.navigateToAddReview())}),l(37,"span",107)(38,"span",108),m(39,"\u{1F495}"),d(),m(40," Leave a Review "),d()()()}}function Xie(n,e){if(n&1&&(l(0,"div",128)(1,"p",122),m(2),d()()),n&2){let t=C(2);p(2),$(t.hostInfo.description)}}function Kie(n,e){if(n&1&&(l(0,"div",109)(1,"div",110)(2,"div",111)(3,"h3",112),m(4," Meet your host "),d(),l(5,"div",113)(6,"div",114),k(7,"app-profile-card",115),d(),k(8,"div",116),l(9,"div",117)(10,"div",118)(11,"h5",119),m(12,"Host details"),d(),l(13,"div",21)(14,"div",120),m(15," Response rate: "),l(16,"span",121),m(17,"100%"),d()(),l(18,"div",122),m(19,"Responds within an hour"),d()(),l(20,"button",123),m(21," Message host "),d(),l(22,"div",124),k(23,"i",125),l(24,"span",126),m(25," To help protect your payment, always use Airbnb to send money and communicate with hosts. "),d()()()()(),j(26,Xie,3,1,"div",127),d()()()),n&2){let t=C();p(7),_("firstName",t.hostInfo.firstName)("lastName",t.hostInfo.lastName)("country",t.hostInfo.country)("profileImageUrl",t.hostInfo.profilePictureURL)("userId",t.hostInfo.userId)("userType","Host")("stats",t.hostStats)("showHeartBadge",t.isHostSuperhost())("imageBaseUrl",t.imageBaseUrl)("imageErrors",t.imageError)("onImageErrorCallback",t.onHostImageError),p(13),_("routerLink",nn(13,Lie,t.propertyId)),p(6),_("ngIf",t.hostInfo.description)}}var a5=class n{constructor(e,t,i,r,o,a,c){this.confirmService=e;this.ReviewService=t;this.cdr=i;this.authService=r;this.router=o;this.UserBookingService=a;this.PropertyService=c}propertyId;currentUser=null;reviews=[];showReviewsModal=!1;userBookings=[];currentBookingId=0;showTooltip=!1;isLoadingBookings=!1;showReviewForm=!1;ngOnInit(){this.currentUser=this.authService.userId,this.loadHostInfo(),this.propertyId&&(this.loadReviewsByPropertyId(),this.currentUser&&this.loadUserBookings())}imageBaseUrl=Ke.baseUrl.replace("/api","");getImageUrl(e){return this.imageBaseUrl+e}imageError=new Set;imageErrors=new Set;onImageError(e,t){this.imageError.add(t.id.toString())}getOverallRating(){return this.reviews.length===0?0:this.reviews.reduce((t,i)=>t+i.rating,0)/this.reviews.length}openReviewsModal(){this.showReviewsModal=!0}closeReviewsModal(){this.showReviewsModal=!1}trackByReviewId(e,t){return t.id}loadUserBookings(){this.currentUser&&(this.isLoadingBookings=!0,this.UserBookingService.getBookingsByUserId(this.currentUser).subscribe({next:e=>{this.userBookings=e,this.isLoadingBookings=!1,this.cdr.detectChanges()},error:e=>{console.error("Error loading user bookings:",e),this.isLoadingBookings=!1}}))}shouldShowReviewButton(){return!(!this.currentUser||this.isLoadingBookings||!this.userBookings.some(i=>i.propertyId===this.propertyId&&i.bookingStatus==="Completed")||this.reviews.some(i=>i.user.userId===this.currentUser))}hasExistingReview(){return console.log("Current User:",this.currentUser,typeof this.currentUser),console.log("Reviews with userIds:",this.reviews.map(e=>({id:e.id,userId:e.user.userId,userIdType:typeof e.user.userId}))),this.reviews.some(e=>{let t=String(e.user.userId)===String(this.currentUser);return console.log(`Comparing: "${e.user.userId}" === "${this.currentUser}" = ${t}`),t})}getCompletedBookingForProperty(){return this.userBookings.filter(e=>e.propertyId===this.propertyId&&e.bookingStatus==="Completed").sort((e,t)=>new Date(t.checkOutDate).getTime()-new Date(e.checkOutDate).getTime())[0]||null}toggleTooltip(e){e.preventDefault(),this.showTooltip=!this.showTooltip,this.showTooltip&&setTimeout(()=>{document.addEventListener("click",this.closeTooltipOnOutsideClick.bind(this))},0)}closeTooltipOnOutsideClick(e){e.target.closest(".learn-container")||(this.showTooltip=!1,this.cdr.detectChanges(),document.removeEventListener("click",this.closeTooltipOnOutsideClick.bind(this)))}navigateToReviewerProfile(e){e&&this.router.navigate(["/user",e])}navigateToAddReview(){this.router.navigate(["/review/0"],{queryParams:{propertyId:this.propertyId,mode:"add"}})}navigateToEditReview(e){this.router.navigate(["/review",e.id],{state:{reviewData:e},queryParams:{mode:"edit"}})}loadReviewsByPropertyId(){this.propertyId&&this.ReviewService.getReviewsByPropertyId(this.propertyId).subscribe({next:e=>{console.log("Raw API Response:",e),console.log("First review object:",e[0]),console.log("Keys in first review:",Object.keys(e[0]||{})),this.reviews=e,this.cdr.detectChanges(),setTimeout(()=>{this.cdr.detectChanges()},50)},error:e=>{console.error("Error loading reviews:",e)}})}performDelete(e){this.reviews=this.reviews.filter(t=>t.id!==e),this.cdr.detectChanges(),this.ReviewService.deleteReview(e).subscribe({next:()=>{console.log("Review deleted successfully")},error:t=>{console.error("Delete failed:",t),this.loadReviewsByPropertyId()}})}deleteHandler(e){this.confirmService.show("Delete Your Review?","Are you sure you want to delete this review? This action cannot be undone.",()=>this.performDelete(e),{okText:"Delete",cancelText:"Cancel",isSuccess:!1})}getUserProfileLink(e){return`/user/${e}`}getInitials(e,t){if(!e&&!t)return"U";let i=e?.charAt(0)?.toUpperCase()||"",r=t?.charAt(0)?.toUpperCase()||"";return i+r}getFullName(e,t){return!e&&!t?"Anonymous User":`${e||""} ${t||""}`.trim()}getRatingPercentage(e){let t=this.reviews.length,i=this.reviews.filter(r=>Math.floor(r.rating)===e).length;return t>0?i/t*100:0}get ratingDistribution(){let e={};for(let t=1;t<=5;t++)e[t]=this.reviews.filter(i=>Math.floor(i.rating)===t).length;return e}get categoryAverages(){if(this.reviews.length===0)return{};let e=["cleanliness","accuracy","checkIn","communication","location","value"],t={};return e.forEach(i=>{let r=this.reviews.reduce((o,a)=>{let c=a[i];return o+(c||0)},0);t[i]=this.reviews.length>0?Number((r/this.reviews.length).toFixed(1)):0}),t}getCategoryIcon(e){return{cleanliness:"bi-droplet",accuracy:"bi-check-circle",checkIn:"bi-key",communication:"bi-chat-square-dots",location:"bi-geo-alt",value:"bi-tag"}[e.toLowerCase()]||"bi-star"}getCleanlinessRatings(){return this.reviews.map(e=>e.cleanliness).filter(e=>e!=null)}cleanlinessRatings=this.getCleanlinessRatings();averageCleanliness=this.cleanlinessRatings.reduce((e,t)=>e+t,0)/(this.cleanlinessRatings.length||1);hostInfo=null;hostStats=null;isLoadingHost=!1;loadHostInfo(){this.propertyId&&(this.isLoadingHost=!0,this.PropertyService.getPropertyWithHostData(this.propertyId).subscribe({next:e=>{console.log("Property with host data:",e),this.hostInfo={userId:e.host?.userId||e.hostId,firstName:e.host?.firstName||"Host",lastName:e.host?.lastName||"",userName:e.host?.userName,email:e.host?.email,phoneNumber:e.host?.phoneNumber,profilePictureURL:e.host?.profilePictureURL,country:e.host?.country||e.country,description:e.host?.bio,birthDate:e.host?.birthDate},this.loadAllHostReviewsForStats(e.host?.userId||e.hostId),this.isLoadingHost=!1,this.cdr.detectChanges()},error:e=>{console.error("Error loading host info:",e),this.isLoadingHost=!1}}))}loadAllHostReviewsForStats(e){this.ReviewService.getHostReviewsWithProperties(e).subscribe({next:t=>{this.calculateAccurateHostStats(t),this.cdr.detectChanges()},error:t=>{console.error("Error loading all host reviews:",t),this.calculateSimpleHostStats()}})}calculateAccurateHostStats(e){if(e.length===0){this.hostStats={totalReviews:0,averageRating:0,monthsHosting:1,totalProperties:0};return}let i=e.reduce((c,u)=>c+u.rating,0)/e.length,r=e.reduce((c,u)=>new Date(u.createdAt)<new Date(c.createdAt)?u:c),o=Math.ceil((Date.now()-new Date(r.createdAt).getTime())/(1e3*60*60*24*30)),a=new Set(e.map(c=>c.propertyId));this.hostStats={totalReviews:e.length,averageRating:Number(i.toFixed(1)),monthsHosting:o,totalProperties:a.size}}calculateSimpleHostStats(){let e=this.reviews.length,t=this.reviews.reduce((o,a)=>o+a.rating,0),i=e>0?t/e:0,r=1;this.hostStats={totalReviews:e,averageRating:Number(i.toFixed(1)),monthsHosting:r}}onHostImageError=(e,t)=>{this.imageErrors.add(t.id),this.cdr.detectChanges()};isHostSuperhost(){return this.hostStats?.averageRating>=4.8&&this.hostStats?.totalReviews>=5}getDaysAgo(e){let t=new Date(e),r=new Date().getTime()-t.getTime(),o=Math.floor(r/(1e3*3600*24));if(o===0)return"Today";if(o===1)return"1 day ago";if(o<7)return`${o} days ago`;if(o<14)return"1 week ago";if(o<30)return`${Math.floor(o/7)} weeks ago`;if(o<365){let a=Math.floor(o/30);return a===1?"1 month ago":`${a} months ago`}else{let a=Math.floor(o/365);return a===1?"1 year ago":`${a} years ago`}}getStayDuration(e){if(this.userBookings&&this.userBookings.length>0){let t=this.userBookings.find(i=>i.propertyId===this.propertyId&&i.userId===e.user.userId);if(t)return this.calculateStayText(t.checkInDate,t.checkOutDate)}return"Guest stay"}calculateStayText(e,t){let i=new Date(e),o=new Date(t).getTime()-i.getTime(),a=Math.floor(o/(1e3*3600*24));return a===1?"Stayed 1 night":a===2?"Stayed a couple nights":a<=4?"Stayed a few nights":a<=7?"Stayed a week":a<=14?"Stayed a couple weeks":a<=30?"Stayed a few weeks":"Extended stay"}static \u0275fac=function(t){return new(t||n)(V(Ui),V(ul),V(Ot),V(dt),V(nt),V(z4),V(Cn))};static \u0275cmp=le({type:n,selectors:[["app-guest-reviews"]],inputs:{propertyId:"propertyId"},decls:23,vars:20,consts:[[1,"reviews-section","mt-5"],[1,"reviews-title"],[1,"overall-rating-display"],[1,"overall-rating-stars"],[3,"maxStars","value","readonly","fontSize","starColor"],[1,"overall-rating-number","mx-2"],[1,"reviews-count"],[1,"reviews-count-number"],[1,"reviews-count-text","mx-2"],[3,"reviews","propertyId","closeModal",4,"ngIf"],["class","summary-row",4,"ngIf"],["class","no-reviews-message",4,"ngIf"],["class","reviews-grid",4,"ngIf"],["class","bottom-actions",4,"ngIf"],[1,"reviews-actions","text-center"],["class","learn-container d-flex justify-content-center",4,"ngIf"],[1,"review-cta-container"],["class","container",4,"ngIf"],[3,"closeModal","reviews","propertyId"],[1,"summary-row"],[1,"rating-breakdown"],[1,"mb-3"],[1,"rating-bars"],["class","rating-bar-item",4,"ngFor","ngForOf"],[1,"category-ratings"],["class","category-item",4,"ngFor","ngForOf"],[1,"rating-bar-item"],[1,"rating-number"],[1,"progress-bar-container"],[1,"progress-bar"],[1,"rating-count"],[1,"category-item"],[1,"category-icon-container"],[1,"category-icon"],[1,"category-info"],[1,"category-label"],[1,"category-rating"],[1,"no-reviews-message"],[1,"text-center","py-5"],[1,"bi","bi-star","display-1","text-muted","mb-3"],[1,"text-muted"],[1,"reviews-grid"],["class","review-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"review-card"],[1,"review-header"],["role","button","tabindex","0",1,"profile-section",2,"cursor","pointer",3,"click"],[1,"profile-avatar"],["loading","lazy","width","48","height","48",1,"rounded-circle",3,"src"],[1,"bg-dark","rounded-circle","d-flex","align-items-center","justify-content-center","text-white","fw-bold",2,"width","48px","height","48px"],[1,"profile-info"],[1,"reviewer-name","text-decoration-underline-hover"],["class","reviewer-location text-muted",4,"ngIf"],[1,"review-actions"],[1,"review-meta"],[1,"review-stars"],[3,"fontSize","starColor","value","readonly"],[1,"review-date"],[1,"review-type"],[1,"review-content"],[1,"review-text"],["class","show-more-btn","type","button",3,"click",4,"ngIf"],["loading","lazy","width","48","height","48",1,"rounded-circle",3,"error","src"],[1,"reviewer-location","text-muted"],["title","Edit",1,"action-icon","text-dark","bi","bi-pencil-fill",2,"cursor","pointer",3,"click"],["type","button","title","Delete",1,"btn","p-0","action-icon","text-dark",3,"click"],[1,"bi","bi-x-circle"],["type","button",1,"show-more-btn",3,"click"],[1,"bottom-actions"],[1,"btn","btn-outline-dark","btn-lg","show-all-btn",3,"click"],[1,"btn-view-reviews",3,"click"],[1,"learn-container","d-flex","justify-content-center"],["href","#",1,"learn-link",3,"click"],[1,"tooltip-popup"],[1,"tooltip-content"],[1,"character-illustration"],["viewBox","0 0 120 120","xmlns","http://www.w3.org/2000/svg"],["id","skinGradient","x1","0%","y1","0%","x2","100%","y2","100%"],["offset","0%",2,"stop-color","#ffd4b3"],["offset","100%",2,"stop-color","#fdbf9a"],["id","shirtGradient","x1","0%","y1","0%","x2","100%","y2","100%"],["offset","0%",2,"stop-color","#ff6b47"],["offset","100%",2,"stop-color","#e74c2c"],["id","pantsGradient","x1","0%","y1","0%","x2","100%","y2","100%"],["offset","0%",2,"stop-color","#5dade2"],["offset","100%",2,"stop-color","#3498db"],["cx","60","cy","75","rx","18","ry","25","fill","url(#shirtGradient)"],["cx","42","cy","68","rx","8","ry","15","fill","url(#shirtGradient)","transform","rotate(-20 42 68)"],["cx","78","cy","68","rx","8","ry","15","fill","url(#shirtGradient)","transform","rotate(45 78 68)"],["cx","38","cy","60","r","6","fill","url(#skinGradient)"],["cx","85","cy","75","r","6","fill","url(#skinGradient)"],["cx","55","cy","95","rx","7","ry","18","fill","url(#pantsGradient)"],["cx","65","cy","95","rx","7","ry","18","fill","url(#pantsGradient)"],["cx","55","cy","110","rx","8","ry","5","fill","#34495E"],["cx","65","cy","110","rx","8","ry","5","fill","#34495E"],["cx","60","cy","40","r","20","fill","url(#skinGradient)"],["d","M 45 25 Q 60 15 75 25 Q 80 30 75 35 Q 70 20 60 20 Q 50 20 45 35 Q 40 30 45 25","fill","#8B4513"],["cx","54","cy","38","r","3","fill","white"],["cx","66","cy","38","r","3","fill","white"],["cx","54","cy","38","r","2","fill","black"],["cx","66","cy","38","r","2","fill","black"],["d","M 52 45 Q 60 50 68 45","stroke","#E74C2C","stroke-width","2","fill","none","stroke-linecap","round"],["d","M 30 55 Q 35 50 40 55","stroke","#FF385C","stroke-width","2","fill","none","opacity","0.6"],["d","M 28 58 Q 33 53 38 58","stroke","#FF385C","stroke-width","1.5","fill","none","opacity","0.4"],[1,"review-cta-text"],[1,"review-cta-title"],[1,"review-cta-subtitle"],[1,"review-btn",3,"click"],[1,"review-btn-text"],[1,"heart-icon"],[1,"container"],[1,"row","mt-5","pt-4",2,"border-top","1px solid #dee2e6"],[1,"col-12"],[1,"mb-4","fw-bold","fs-3",2,"letter-spacing","1px"],[1,"row"],[1,"col-xl-4","col-lg-5","col-md-6","col-12","mb-4","mb-lg-0"],[3,"firstName","lastName","country","profileImageUrl","userId","userType","stats","showHeartBadge","imageBaseUrl","imageErrors","onImageErrorCallback"],[1,"col-xl-1","d-none","d-xl-block"],[1,"col-xl-7","col-lg-7","col-md-6","col-12"],[1,"ms-lg-4","ms-md-3","ms-0"],[1,"mb-3","fw-bold","fs-4"],[1,"text-muted","mb-1","fs-5"],[1,"fw-semibold"],[1,"text-muted","fs-5"],["onmouseover","this.style.backgroundColor='#d4d4d4'; this.style.borderColor='#d4d4d4'","onmouseout","this.style.backgroundColor='#ebebeb'; this.style.borderColor='#ebebeb'","onmousedown","this.style.transform='scale(0.95)'","onmouseup","this.style.transform='scale(1)'",1,"btn","mb-3","fw-semibold","px-4","py-2",2,"border-radius","8px","font-size","1rem","border","1px solid #ebebeb","background-color","#ebebeb","color","#333","transition","all 0.2s ease",3,"routerLink"],[1,"d-flex","align-items-start","text-muted"],[1,"fas","fa-shield-alt","text-danger","me-2","mt-1","flex-shrink-0"],[1,"fs-6"],["class","mt-4",4,"ngIf"],[1,"mt-4"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),k(4,"app-star-component",4),l(5,"h2",5),m(6),Q(7,"number"),d()(),l(8,"div",6)(9,"h2")(10,"span",7),m(11),d(),l(12,"span",8),m(13),d()()()()(),j(14,zie,1,2,"app-reviews-modal",9)(15,Rie,8,4,"div",10)(16,Fie,7,0,"div",11)(17,Wie,3,6,"div",12)(18,Gie,3,1,"div",13),yr(19,Yie,3,0,"div",14),j(20,qie,9,3,"div",15),d(),yr(21,Zie,41,0,"div",16),j(22,Kie,27,15,"div",17)),t&2&&(p(4),_("maxStars",1)("value",i.getOverallRating())("readonly",!0)("fontSize","1.5rem")("starColor","black"),p(2),U(" ",Vt(7,17,i.getOverallRating(),"1.1-1")," "),p(5),$(i.reviews.length),p(2),$(i.reviews.length===1?"review":"reviews"),p(),_("ngIf",i.showReviewsModal),p(),_("ngIf",i.reviews.length>0),p(),_("ngIf",i.reviews.length===0),p(),_("ngIf",i.reviews.length>0),p(),_("ngIf",i.reviews.length>6),p(),xr(i.reviews.length>0?19:-1),p(),_("ngIf",i.reviews.length>0),p(),xr(i.shouldShowReviewButton()?21:-1),p(),_("ngIf",i.hostInfo&&!i.isLoadingHost))},dependencies:[he,Xe,Ce,A1,r5,L4,Hi,My,sa,xy],styles:['.overall-rating-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem}.overall-rating-number[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin:0;color:#222}.overall-rating-stars[_ngcontent-%COMP%]{display:flex;align-items:center}.reviews-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.reviews-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.95rem;color:#666}.reviews-count-number[_ngcontent-%COMP%]{font-weight:600}.reviews-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid #e9ecef}.custom-separator[_ngcontent-%COMP%]{border-right:1px solid #dee2e6;height:80%;position:absolute;right:0;top:10%}.btn-view-reviews[_ngcontent-%COMP%]{background:none;border:1px solid #ddd;padding:.75rem 1.5rem;border-radius:8px;color:#333;font-weight:500;cursor:pointer;transition:all .2s ease}.btn-view-reviews[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;border-color:#adb5bd}@media (max-width: 768px){.reviews-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch}.btn-view-reviews[_ngcontent-%COMP%]{width:100%;text-align:center}}.reviews-section[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 20px}.action-buttons[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0e0;padding-bottom:20px;margin-bottom:30px}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:40px;padding-bottom:30px;border-bottom:1px solid #e0e0e0;gap:40px}.rating-breakdown[_ngcontent-%COMP%]{flex:1;max-width:250px}.rating-breakdown[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:600;color:#222;margin-bottom:20px}.rating-bars[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.rating-bar-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.rating-number[_ngcontent-%COMP%]{font-size:14px;font-weight:500;width:12px;color:#717171}.progress-bar-container[_ngcontent-%COMP%]{flex:1;height:4px;background-color:#e0e0e0;border-radius:2px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;background-color:#222;transition:width .3s ease}.category-ratings[_ngcontent-%COMP%]{flex:2;display:grid;grid-template-columns:repeat(2,1fr);gap:20px}.category-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.category-icon-container[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center}.category-icon[_ngcontent-%COMP%]{font-size:28px;color:#222;font-weight:600}.category-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.category-label[_ngcontent-%COMP%]{font-size:14px;color:#717171;font-weight:400}.category-rating[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#222}.reviews-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:40px;margin-bottom:40px}.review-card[_ngcontent-%COMP%]{border:none;padding:0 0 30px;border-bottom:1px solid #e0e0e0}.review-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}.profile-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.profile-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background-color:#222;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:18px}.profile-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.reviewer-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#222;margin:0}.reviewer-meta[_ngcontent-%COMP%]{font-size:14px;color:#717171;margin:0}.review-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;opacity:.7;transition:opacity .2s ease}.review-card[_ngcontent-%COMP%]:hover   .review-actions[_ngcontent-%COMP%]{opacity:1}.action-icon[_ngcontent-%COMP%]{font-size:16px;cursor:pointer;transition:transform .2s ease;text-decoration:none}.action-icon[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.review-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px;flex-wrap:wrap}.review-stars[_ngcontent-%COMP%]{display:flex;align-items:center}.review-stars[_ngcontent-%COMP%]     .star-component{font-size:12px!important}.review-stars[_ngcontent-%COMP%]     .star-component i{color:#222!important;font-size:12px!important}.star-rating[_ngcontent-%COMP%]{display:flex;align-items:center}.star[_ngcontent-%COMP%]{font-size:16px;color:#e0e0e0;margin-right:2px}.star.filled[_ngcontent-%COMP%]{color:#ff385c}.star.half-filled[_ngcontent-%COMP%]{position:relative;color:#e0e0e0}.star.half-filled[_ngcontent-%COMP%]:before{content:"\\2605";position:absolute;color:#ff385c;width:50%;overflow:hidden}.review-date[_ngcontent-%COMP%], .review-type[_ngcontent-%COMP%]{font-size:14px;color:#717171}.review-date[_ngcontent-%COMP%]:after{content:"\\2022";margin:0 8px;color:#717171}.review-content[_ngcontent-%COMP%]{color:#222;line-height:1.5}.review-text[_ngcontent-%COMP%]{font-size:16px;margin:0 0 8px;display:-webkit-box;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.show-more-btn[_ngcontent-%COMP%]{background:none;border:none;color:#222;font-weight:600;font-size:14px;text-decoration:underline;cursor:pointer;padding:0}.show-more-btn[_ngcontent-%COMP%]:hover{color:#717171}.bottom-actions[_ngcontent-%COMP%]{text-align:center;padding:40px 0;border-top:1px solid #e0e0e0;display:flex;flex-direction:column;align-items:center;gap:16px}.show-all-btn[_ngcontent-%COMP%]{padding:14px 32px;border:2px solid #222;border-radius:8px;font-weight:600;font-size:16px;transition:all .2s ease}.show-all-btn[_ngcontent-%COMP%]:hover{background-color:#222;color:#fff}.learn-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.learn-link[_ngcontent-%COMP%]{color:#717171;text-decoration:underline;font-size:14px;transition:color .2s ease;cursor:pointer}.learn-link[_ngcontent-%COMP%]:hover{color:#222}.tooltip-popup[_ngcontent-%COMP%]{position:absolute;bottom:100%;left:50%;transform:translate(-50%);width:400px;max-width:90vw;background:#fff;border:1px solid #e0e0e0;border-radius:12px;box-shadow:0 6px 20px #00000026;padding:20px;margin-bottom:10px;opacity:0;visibility:hidden;transition:all .3s ease;z-index:1000}.tooltip-popup.show[_ngcontent-%COMP%]{opacity:1;visibility:visible}.tooltip-popup[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:8px solid transparent;border-top-color:#fff}.tooltip-popup[_ngcontent-%COMP%]:before{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:9px solid transparent;border-top-color:#e0e0e0;z-index:-1}.tooltip-content[_ngcontent-%COMP%]{color:#222;line-height:1.5;font-size:14px}.tooltip-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}.tooltip-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.leave-review-section[_ngcontent-%COMP%]{margin:40px 0;padding:30px 0;border-top:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0}.leave-review-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px;max-width:300px;margin:0 auto;text-align:center}.review-placeholder-image[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;overflow:hidden;margin-bottom:10px}.review-placeholder-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.btn-rose[_ngcontent-%COMP%]{background-color:#ff007f;color:#fff;border:none;padding:10px 20px;border-radius:8px;font-weight:600;transition:all .2s ease}.btn-rose[_ngcontent-%COMP%]:hover{background-color:#e6006f;transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.leave-review-btn[_ngcontent-%COMP%]{width:100%;max-width:200px}@media (max-width: 1024px){.category-ratings[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:16px}}@media (max-width: 768px){.summary-row[_ngcontent-%COMP%]{flex-direction:column;gap:30px}.rating-breakdown[_ngcontent-%COMP%]{max-width:none;width:100%}.category-ratings[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:20px}.reviews-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:30px}.bottom-actions[_ngcontent-%COMP%]{flex-direction:column}}@media (max-width: 480px){.category-ratings[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.review-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.review-actions[_ngcontent-%COMP%]{opacity:1}}.review-cta-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:40px 20px;background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:20px;box-shadow:0 10px 30px #0000001a;position:relative;overflow:hidden;max-width:1280px;margin:30px auto}.review-cta-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);animation:_ngcontent-%COMP%_shimmer 3s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{left:-100%}to{left:100%}}.character-illustration[_ngcontent-%COMP%]{width:120px;height:120px;margin-bottom:20px;animation:_ngcontent-%COMP%_bounce 2s ease-in-out infinite;filter:drop-shadow(0 8px 16px rgba(0,0,0,.15))}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0) scale(1)}40%{transform:translateY(-10px) scale(1.05)}60%{transform:translateY(-5px) scale(1.02)}}.review-cta-text[_ngcontent-%COMP%]{text-align:center;margin-bottom:25px}.review-cta-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#222;margin-bottom:8px;letter-spacing:-.5px}.review-cta-subtitle[_ngcontent-%COMP%]{font-size:16px;color:#717171;font-weight:400;line-height:1.4}.review-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff385c,#e31e54);color:#fff;border:none;padding:16px 32px;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 16px #ff385c4d;position:relative;overflow:hidden;min-width:200px;text-align:center;letter-spacing:.3px}.review-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.review-btn[_ngcontent-%COMP%]:hover:before{left:100%}.review-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.02);box-shadow:0 8px 25px #ff385c66;background:linear-gradient(135deg,#ff1744,#d81b60)}.review-btn[_ngcontent-%COMP%]:active{transform:translateY(0) scale(.98);box-shadow:0 4px 16px #ff385c4d}.review-btn-text[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;align-items:center;justify-content:center;gap:8px}.heart-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_heartbeat 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_heartbeat{0%,50%,to{transform:scale(1)}25%,75%{transform:scale(1.1)}}@media (max-width: 768px){.review-cta-container[_ngcontent-%COMP%]{margin:20px 0;padding:30px 15px}.character-illustration[_ngcontent-%COMP%]{width:100px;height:100px}.review-cta-title[_ngcontent-%COMP%]{font-size:20px}.review-btn[_ngcontent-%COMP%]{padding:14px 28px;font-size:15px;min-width:180px}}']})};var c0=mr(Ep());function Qie(n,e){n&1&&(l(0,"div",19),k(1,"div",20),d())}function Jie(n,e){if(n&1){let t=X();l(0,"div",21)(1,"h1"),m(2),d(),l(3,"p"),m(4),d(),l(5,"div",22)(6,"button",23),T("click",function(){z(t);let r=C();return A(r.changeTab("gallery"))}),m(7," Gallery "),d(),l(8,"button",23),T("click",function(){z(t);let r=C();return A(r.changeTab("reviews"))}),m(9," Reviews "),d(),l(10,"button",23),T("click",function(){z(t);let r=C();return A(r.changeTab("amenities"))}),m(11," Amenities "),d()(),k(12,"hr",24),d()}if(n&2){let t=C();p(2),$(t.property.title),p(2),$(t.property.description),p(2),Me("active",t.activeTab==="gallery"),p(2),Me("active",t.activeTab==="reviews"),p(2),Me("active",t.activeTab==="amenities")}}function ere(n,e){if(n&1){let t=X();l(0,"app-wish-list-modal",25),T("close",function(){z(t);let r=C();return A(r.onClose())})("finish",function(r){z(t);let o=C();return A(o.onFinish(r))}),d()}if(n&2){let t=C();_("propertyId",t.selectedPropertyId)("show",t.showWishlistModal)("userId",t.authService.userId??void 0)}}var A4=class n{constructor(e,t,i,r,o,a,c,u,h){this.propertyService=e;this.route=t;this.cdr=i;this.calendarService=r;this.wishlistService=o;this.authService=a;this.dialogService=c;this.snackBar=u;this.translate=h}selectedProperty;isLoading=!0;error=null;firstCalendarDate=(0,c0.default)().add(-5,"months");lastCalendarDate=(0,c0.default)().add(1,"year");availability;dateMap;propertyId;selectedDates;guestCount={adults:1,children:0};hostID;checkIn;checkOut;guests;previewPropertyId;guestChange=new ye;isPreview=!1;activeTab="gallery";property;ngOnInit(){this.selectedDates={start:void 0,end:void 0},this.route.params.subscribe(e=>{if(this.propertyId=+e.propertyId,this.propertyId<=0&&(!this.previewPropertyId||this.previewPropertyId)){this.error="Invalid property ID",this.isLoading=!1;return}else this.previewPropertyId&&(this.propertyId=this.previewPropertyId);this.showPropertyDetails(this.propertyId),this.getCalendarAvailability()})}getCalendarAvailability(){this.calendarService.getAvailability(this.propertyId,this.firstCalendarDate.toString(),this.lastCalendarDate.toString()).subscribe({next:e=>{console.log("getCalendarAvailability",e),console.log("date.toString",(0,c0.default)().toISOString()),this.availability=e;let t=new Map;e.forEach(i=>{let r=(0,c0.default)(i.date).format("YYYY-MM-DD");t.set(r,i)}),console.log(t),this.dateMap=t,this.cdr.detectChanges()},error:()=>{}})}showPropertyDetails(e){this.propertyService.getPropertyById(e).subscribe({next:t=>{this.selectedProperty=t,console.log("Selected property:",this.selectedProperty),console.log(e),this.cdr.detectChanges()},error:t=>{this.error="Failed to load property details",console.error(t)}})}changeTab(e){this.activeTab=e}onGuestUpdate(e,t){this.guests[e]+=t,this.guestChange.emit(this.guests)}isInvalidDate=e=>this.availability.some(t=>(0,c0.default)(t.date).isSame(e,"day")&&t.isAvailable);customClasses=e=>this.availability.some(t=>(0,c0.default)(t.date).isSame(e,"day")&&t.isAvailable)?"blocked-line":"";onGuestChange(e){this.guestCount=e}onDateChange(e){this.selectedDates.start=e?.startDate,this.selectedDates.end=e.endDate}selectedPropertyId;showWishlistModal=!1;onWishlistClick(e){if(!this.authService.userId){this.showToast(this.translate.instant("HOME.TOAST.LOGIN_REQUIRED"),"top","right"),this.dialogService.openDialog("login");return}this.selectedProperty?.isFavourite?this.removeFromWishlist(e):(this.selectedPropertyId=e,this.showWishlistModal=!0)}removeFromWishlist(e){this.wishlistService.removePropertyFromWishlist(e).subscribe({next:t=>{t&&this.selectedProperty?.id===e?(this.selectedProperty.isFavourite=!1,this.showToast(this.translate.instant("HOME.TOAST.REMOVED"),"bottom","left")):this.showToast(this.translate.instant("HOME.TOAST.REMOVE_FAILED"),"bottom","left")},error:()=>{this.showToast(this.translate.instant("HOME.TOAST.REMOVE_FAILED"),"bottom","left")}})}onFinish(e){this.onClose(),e.subscribe({next:t=>{t&&this.selectedProperty?.id===this.selectedPropertyId?(this.selectedProperty.isFavourite=!0,this.showToast(this.translate.instant("HOME.TOAST.ADDED"),"bottom","left")):this.showToast(this.translate.instant("HOME.TOAST.ADD_FAILED"),"bottom","left")},error:()=>{this.showToast(this.translate.instant("HOME.TOAST.ADD_FAILED"),"bottom","left")}})}onClose(){this.showWishlistModal=!1}showToast(e,t,i){this.snackBar.open(e,this.translate.instant("HOME.TOAST.OK"),{duration:3e3,horizontalPosition:i,verticalPosition:t,panelClass:["custom-snackbar"]})}static \u0275fac=function(t){return new(t||n)(V(Cn),V(qn),V(Ot),V(ll),V(Uo),V(dt),V(ai),V(vn),V(Qi))};static \u0275cmp=le({type:n,selectors:[["app-property-info"]],inputs:{checkIn:"checkIn",checkOut:"checkOut",guests:"guests",previewPropertyId:"previewPropertyId",isPreview:"isPreview"},outputs:{guestChange:"guestChange"},decls:22,vars:20,consts:[[3,"wishlistToggle","propertyId","isFavourite"],[1,"container-lg","d-flex","flex-column"],[1,"property-details-box","mt-2","d-flex","justify-content-center","justify-content-md-between","flex-wrap"],[1,"d-flex","flex-column","align-items-center"],[1,"col-md-12","d-flex"],[3,"propertyId","property"],[1,"col-md-12","d-flex","justify-content-center","px-0"],[3,"datedChange","propertyId","checkIn","checkOut","dateMap"],[1,"bookinCalender","position-relative","d-flex","d-md-block",2,"position","relative !important"],[1,"col-md-12","sticky-box","mx-auto",2,"position","sticky","top","90px"],[3,"guestChange","dateChange","dateMap","propertyId","hostID","checkIn","checkOut","guests","isPreview"],[1,"mapSection","mt-15","mx-auto","col-12"],[3,"propertyId"],[1,"d-flex","justify-content-end"],[1,"border-1","px-2","py-1"],[1,"property-container"],["class","loading-state",4,"ngIf"],["class","property-content",4,"ngIf"],["class","col-12",3,"propertyId","show","userId","close","finish",4,"ngIf"],[1,"loading-state"],[1,"spinner"],[1,"property-content"],[1,"tabs"],[3,"click"],[2,"color","black","width","5px"],[1,"col-12",3,"close","finish","propertyId","show","userId"]],template:function(t,i){t&1&&(l(0,"app-propertImage-galary",0),T("wishlistToggle",function(o){return i.onWishlistClick(o)}),d(),l(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),k(5,"app-amenities-section",5),d(),l(6,"div",6)(7,"app-BookingCalendar",7),T("datedChange",function(o){return i.onDateChange(o)}),d()()(),l(8,"div",8)(9,"div",9)(10,"app-reverse-section",10),T("guestChange",function(o){return i.onGuestChange(o)})("dateChange",function(o){return i.onDateChange(o)}),d()()()(),l(11,"div",11),k(12,"app-mapLocation",12),d(),l(13,"div",13)(14,"p",14),m(15,"Report violation"),d()()(),l(16,"div",15),j(17,Qie,2,0,"div",16)(18,Jie,13,8,"div",17),k(19,"app-guest-reviews",12),j(20,ere,1,3,"app-wish-list-modal",18),k(21,"app-chat-bot"),d()),t&2&&(_("propertyId",i.propertyId)("isFavourite",i.property==null?null:i.property.isFavourite),p(5),_("propertyId",i.propertyId)("property",i.selectedProperty),p(2),_("propertyId",i.propertyId)("checkIn",i.selectedDates.start)("checkOut",i.selectedDates.end)("dateMap",i.dateMap),p(3),_("dateMap",i.dateMap)("propertyId",i.propertyId)("hostID",i.hostID)("checkIn",i.selectedDates.start)("checkOut",i.selectedDates.end)("guests",i.guestCount)("isPreview",i.isPreview),p(2),_("propertyId",i.propertyId),p(5),_("ngIf",i.isLoading),p(),_("ngIf",i.propertyId&&!i.isLoading),p(),_("propertyId",i.propertyId),p(),_("ngIf",i.showWishlistModal))},dependencies:[he,Ce,F8,k4,$8,W8,G8,a5,nl,h4],styles:['.sticky-box[_ngcontent-%COMP%]{position:sticky;top:100px;z-index:100}[_nghost-%COMP%]{display:block}.property-details-box[_ngcontent-%COMP%]{border-radius:10px;padding:0;margin:0 auto;width:100%;box-sizing:border-box;max-width:1200px}.bookinCalender[_ngcontent-%COMP%]{max-width:1200px}.row[_ngcontent-%COMP%]{margin:0}.col-md-8[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%]{padding:0 8px}.tabs[_ngcontent-%COMP%]{display:flex;gap:8px}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 1 auto;min-width:100px;padding:10px;white-space:nowrap}.bookinCalender[_ngcontent-%COMP%]{z-index:1000!important}.sticky-box[_ngcontent-%COMP%]{position:sticky;top:80px;z-index:999}.property-details-box[_ngcontent-%COMP%]{overflow:visible}  .blocked-line:after{content:"";position:absolute;top:50%;left:4px;right:4px;border-top:2px solid red;transform:translateY(-50%);pointer-events:none}']})};var Ua=mr(M4());var tre=n=>({count:n}),nre=()=>[1,2,3,4,5,6,7,8,9,10,11,12];function ire(n,e){n&1&&(l(0,"div",14)(1,"div",15),k(2,"div",16)(3,"div",17)(4,"div",18)(5,"div",19),d()())}function rre(n,e){n&1&&(l(0,"div",7),j(1,ire,6,0,"div",13),d()),n&2&&(p(),_("ngForOf",Kt(1,nre)))}function ore(n,e){if(n&1){let t=X();l(0,"div")(1,"app-slider-card",20),T("cardClick",function(r){z(t);let o=C();return A(o.onPropertyClick(r))})("wishlistClick",function(r){z(t);let o=C();return A(o.onWishlistClick(r))})("mouseenter",function(){let r=z(t).$implicit,o=C();return A(o.selectProperty(r))})("mouseleave",function(){z(t);let r=C();return A(r.selectedProperty=null)}),d()()}if(n&2){let t=e.$implicit,i=C();p(),_("imageUrl",i.getPropertyImage(t))("title",t.title)("subtitle",i.getLocationSubtitle(t))("price",t.pricePerNight)("rating",t.averageRating)("isFavourite",t.isFavourite??!1)("propertyId",t.id)}}function are(n,e){if(n&1){let t=X();l(0,"button",23),T("click",function(){let r=z(t).$implicit,o=C(2);return A(r!=="..."&&o.goToPage(+r))}),m(1),d()}if(n&2){let t=e.$implicit,i=C(2);Me("active",t===i.currentPage),_("disabled",t==="..."),p(),U(" ",t," ")}}function sre(n,e){if(n&1){let t=X();l(0,"div",21)(1,"nav",22)(2,"button",23),T("click",function(){z(t);let r=C();return A(r.goToPage(r.currentPage-1))}),$e(),l(3,"svg",24),k(4,"path",25),d()(),j(5,are,2,4,"button",26),lt(),l(6,"button",23),T("click",function(){z(t);let r=C();return A(r.goToPage(r.currentPage+1))}),$e(),l(7,"svg",24),k(8,"path",27),d()()()()}if(n&2){let t=C();p(2),_("disabled",t.currentPage===1),p(3),_("ngForOf",t.getVisiblePages()),p(),_("disabled",t.currentPage===t.totalPages)}}function lre(n,e){if(n&1){let t=X();l(0,"app-wish-list-modal",28),T("close",function(){z(t);let r=C();return A(r.onClose())})("finish",function(r){z(t);let o=C();return A(o.onFinish(r))}),d()}if(n&2){let t=C();_("propertyId",t.selectedPropertyId)("show",t.show)("userId",t.authService.userId??void 0)}}var s5=class n{constructor(e,t,i,r,o,a,c){this.route=e;this.propertyService=t;this.wishlistService=i;this.router=r;this.authService=o;this.dialogService=a;this.snackBar=c;this.mapChangeSubject.pipe(ni(1500)).subscribe(({lat:u,lng:h,zoom:v})=>{this.handleMapChange(u,h,v)})}selectedPropertyId;show=!1;onPropertyClick(e){this.router.navigate(["/property",e])}onWishlistClick(e){if(!this.authService.userId){this.showToast("Please log in to manage wishlist.","top","right"),this.dialogService.openDialog("login");return}this.properties.find(i=>i.id===e)?.isFavourite?this.removeFromWishlist(e):(this.selectedPropertyId=e,this.show=!0)}removeFromWishlist(e){this.wishlistService.removePropertyFromWishlist(e).subscribe({next:t=>{if(t){let i=this.properties.find(r=>r.id===e);i&&(i.isFavourite=!1,this.updateMapMarkers()),this.showToast("Property removed from wishlist","bottom","left")}else this.showToast("Couldn't remove the property","bottom","left")},error:t=>{console.error("Error removing property:",t),this.showToast("Couldn't remove the property","bottom","left")}})}onFinish(e){this.onClose(),e.subscribe({next:t=>{if(t){let i=this.properties.find(r=>r.id===this.selectedPropertyId);i&&(i.isFavourite=!0,this.updateMapMarkers()),this.showToast("Property added to wishlist","bottom","left")}else this.showToast("Couldn't add the property","bottom","left")},error:()=>{this.showToast("Couldn't add the property","bottom","left")}})}showToast(e,t,i){this.snackBar.open(e,"Close",{duration:3e3,horizontalPosition:i,verticalPosition:t,panelClass:["custom-snackbar"]})}onClose(){this.show=!1}isFirstLoad=!0;isLoading=!0;isMapLoading=!1;properties=[];selectedProperty=null;selectedMarker=null;currentPage=1;totalPages=1;totalItems=0;pageSize=12;map=null;markers=[];searchParams={};mapChangeSubject=new Re;isMapInitialized=!1;shouldFitBounds=!0;isUserInteraction=!1;isSelectingFromUI=!1;ngOnInit(){this.route.queryParams.subscribe(e=>{let t={};e.country&&(t.country=e.country);let i=Number(e.latitude);isNaN(i)||(t.latitude=i);let r=Number(e.longitude);isNaN(r)||(t.longitude=r);let o=Number(e.guestsCount);isNaN(o)||(t.guestsCount=o),e.startDate&&(t.startDate=e.startDate),e.endDate&&(t.endDate=e.endDate);let a=Number(e.page);t.page=isNaN(a)?1:a;let c=Number(e.pageSize);t.pageSize=isNaN(c)?10:c;let u=Number(e.zoom);isNaN(u),t.maxDistanceKm=100,this.searchParams=t,this.currentPage=t.page,this.pageSize=t.pageSize,this.shouldFitBounds=!this.isMapInitialized,this.loadProperties(),this.isFirstLoad=!1})}loadProperties(){this.isLoading=!0,!this.isFirstLoad&&this.searchParams.country&&delete this.searchParams.country,this.propertyService.searchProperties(this.searchParams).subscribe({next:e=>{console.log("\u{1F50D} Search Response:",e),console.log("\u{1F4CD} Search Params:",this.searchParams),e.isSuccess&&(this.isLoading=!1,this.properties=e.data.items,this.totalItems=e.data.metaData.total,this.totalPages=Math.ceil(this.totalItems/this.pageSize),this.currentPage=e.data.metaData.page,this.pageSize=e.data.metaData.pageSize,this.map?(this.isLoading=!1,this.updateMapMarkers()):(this.isLoading=!1,this.initializeLeafletMap()))},error:e=>console.error("\u274C API Error:",e)})}trackByPropertyId(e,t){return t.id}selectProperty(e){this.isSelectingFromUI=!0,this.selectedProperty=e;let t=this.markers.find(i=>i.propertyId===e.id);this.map&&t&&(this.updateSelectedMarker(t),t.openPopup(),setTimeout(()=>{this.isSelectingFromUI=!1},100))}updateSelectedMarker(e){if(this.selectedMarker){let i=this.getPropertyByMarker(this.selectedMarker);if(i){let r=this.createCustomMarkerIcon(i.pricePerNight,!1);this.selectedMarker.setIcon(r)}}this.selectedMarker=e;let t=this.getPropertyByMarker(e);if(t){let i=this.createCustomMarkerIcon(t.pricePerNight,!0);e.setIcon(i)}}getPropertyByMarker(e){let t=e.propertyId;return this.properties.find(i=>i.id===t)}goToPage(e){e<1||e>this.totalPages||(this.currentPage=e,this.searchParams.page=e,this.updateUrlParams(),this.loadProperties(),document.querySelector(".properties-panel")?.scrollTo(0,0))}getVisiblePages(){let t=[],i=[];for(let r=Math.max(2,this.currentPage-2);r<=Math.min(this.totalPages-1,this.currentPage+2);r++)t.push(r);return this.currentPage-2>2?i.push(1,"..."):i.push(1),i.push(...t),this.currentPage+2<this.totalPages-1?i.push("...",this.totalPages):this.totalPages>1&&i.push(this.totalPages),i.filter((r,o,a)=>o===0||r!==a[o-1])}createCustomMarkerIcon(e,t=!1){let i=t?"#ff385c":"var(--bg-color)",r=t?"#ffffff":"var(--primary-text-color)",o=t?"#ff385c":"var(--bg-color)";return Ua.divIcon({className:"custom-marker",html:`
        <div style="
          background: ${i} !important;
          color: ${r};
          padding: 6px 12px;
          border-radius: 20px;
          font-size: 12px;
          font-weight: bold;
          text-align: center;
          border: 2px solid ${o} !important;
          position: relative;
          transform: scale(1);
          transition: all 0.3s ease;
          box-shadow: ${t?"0 4px 12px rgba(255, 56, 92, 0.3)":"0 2px 8px rgba(0,0,0,0.1)"};
        ">
          ${e}
          <div style="
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 10px solid ${o};
          "></div>
        </div>
      `,iconSize:[60,30],iconAnchor:[30,40]})}initializeLeafletMap(){let e=this.searchParams.latitude||25.7617,t=this.searchParams.longitude||-80.1918;if(this.map=Ua.map("leaflet-map",{zoomAnimation:!0,fadeAnimation:!0,markerZoomAnimation:!0,zoomAnimationThreshold:4}).setView([e,t],13),Ua.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"\xA9 OpenStreetMap"}).addTo(this.map),this.setupMapEventListeners(),this.updateMapMarkers(),this.properties.forEach(i=>{let r=this.createCustomMarkerIcon(i.pricePerNight),o=Ua.marker([i.latitude,i.longitude],{icon:r}).addTo(this.map).bindPopup(`
        <div class="popup-card" style="width: 200px; cursor: pointer;" data-property-id="${i.id}">
      <div class="image-container position-relative">
        <img src="${this.getPropertyImage(i)}"
             alt="listing image"
             class="img-fluid rounded-4"
             style="width: 100%; height: 120px; object-fit: cover;">

        <button
          class="wishlist-btn bi text-success position-absolute top-0 end-0 m-2"
          data-wishlist-id="${i.id}"
        >
          <svg
            viewBox="0 0 32 32"
            aria-hidden="true"
            role="presentation"
            focusable="false"
            style="display: block; height: 24px; width: 24px; stroke: white !important; stroke-width: 2; overflow: visible;"
          >
            <path
              d="M16 28c7-4.73 14-10 14-17a6.98 6.98 0 0 0-7-7c-1.8 0-3.58.68-4.95 2.05L16 8.1l-2.05-2.05a6.98 6.98 0 0 0-9.9 0A6.98 6.98 0 0 0 2 11c0 7 7 12.27 14 17z"
              fill="${i.isFavourite?"#ff385c":"rgba(0, 0, 0, 0.5)"}"
            ></path>
          </svg>
        </button>
      </div>

      <div class="info px-2 pt-2 pb-3">
        <div class="title fw-semibold" style="font-size: 12px;">${i.title}</div>
        <div class="subtitle small" style="font-size: 10px;">${this.getLocationSubtitle(i)}</div>

        <div class="d-flex justify-content-between align-items-center mt-1 flex-row-reverse">
          <div class="rating small d-flex align-items-center" style="font-size: 10px;">
            <i class="bi bi-star-fill text-warning me-1"></i>${i.averageRating}
          </div>
          <div class="price" style="font-size: 10px;">
            $${i.pricePerNight} <span class="small">for 5 nights</span>
          </div>
        </div>
      </div>
    </div>
        `).on("click",()=>{this.selectProperty(i),this.updateSelectedMarker(o)}).on("popupopen",()=>{let a=document.querySelector(`.popup-card[data-property-id="${i.id}"]`);a&&a.addEventListener("click",u=>{u.target.closest(".wishlist-btn")||this.onPropertyClick(i.id)});let c=document.querySelector(`.wishlist-btn[data-wishlist-id="${i.id}"]`);c&&c.addEventListener("click",u=>{u.stopPropagation(),this.onWishlistClick(i.id)})});this.markers.push(o)}),this.markers.length&&this.shouldFitBounds&&!this.isUserInteraction){let i=Ua.featureGroup(this.markers);this.map.fitBounds(i.getBounds(),{padding:[50,50]})}setTimeout(()=>{this.isMapInitialized=!0,this.isUserInteraction=!1,console.log("\u{1F5FA}\uFE0F Map initialized and ready for change detection")},2e3)}updateMapMarkers(){if(this.markers.forEach(e=>e.remove()),this.markers=[],this.selectedMarker=null,this.properties.forEach(e=>{let t=this.selectedProperty?.id===e.id,i=this.createCustomMarkerIcon(e.pricePerNight,t),r=Ua.marker([e.latitude,e.longitude],{icon:i}).addTo(this.map).bindPopup(`
      <div class="popup-card" style="width: 200px; cursor: pointer; background:var(--bg-color) !important" data-property-id="${e.id}">
      <div class="image-container position-relative">
        <img src="${this.getPropertyImage(e)}"
             alt="listing image"
             class="img-fluid rounded-4"
             style="width: 100%; height: 120px; object-fit: cover;">

        <button
          class="wishlist-btn bi text-success position-absolute top-0 end-0 m-2"
          data-wishlist-id="${e.id}"
        >
          <svg
            viewBox="0 0 32 32"
            aria-hidden="true"
            role="presentation"
            focusable="false"
            style="display: block; height: 24px; width: 24px; stroke: white !important; stroke-width: 2; overflow: visible;"
          >
            <path
              d="M16 28c7-4.73 14-10 14-17a6.98 6.98 0 0 0-7-7c-1.8 0-3.58.68-4.95 2.05L16 8.1l-2.05-2.05a6.98 6.98 0 0 0-9.9 0A6.98 6.98 0 0 0 2 11c0 7 7 12.27 14 17z"
              fill="${e.isFavourite?"#ff385c":"rgba(0, 0, 0, 0.5)"}"
            ></path>
          </svg>
        </button>
      </div>

      <div class="info px-2 pt-2 pb-3">
        <div class="title fw-semibold" style="font-size: 12px;">${e.title}</div>
        <div class="subtitle small" style="font-size: 10px;">${this.getLocationSubtitle(e)}</div>

        <div class="d-flex justify-content-between align-items-center mt-1 flex-row-reverse">
          <div class="rating small d-flex align-items-center" style="font-size: 10px;">
            <i class="bi bi-star-fill text-warning me-1"></i>${e.averageRating}
          </div>
          <div class="price" style="font-size: 10px;">
            $${e.pricePerNight} <span class="small">for 5 nights</span>
          </div>
        </div>
      </div>
    </div>
        `).on("click",()=>{this.selectProperty(e),this.updateSelectedMarker(r)}).on("popupopen",()=>{let o=document.querySelector(`.popup-card[data-property-id="${e.id}"]`);o&&o.addEventListener("click",c=>{c.target.closest(".wishlist-btn")||this.onPropertyClick(e.id)});let a=document.querySelector(`.wishlist-btn[data-wishlist-id="${e.id}"]`);a&&a.addEventListener("click",c=>{c.stopPropagation(),this.onWishlistClick(e.id)})});r.propertyId=e.id,this.markers.push(r),t&&(this.selectedMarker=r,setTimeout(()=>{r.openPopup()},500))}),this.markers.length&&this.shouldFitBounds&&!this.isUserInteraction){let e=Ua.featureGroup(this.markers);this.map.fitBounds(e.getBounds(),{padding:[50,50]})}}setupMapEventListeners(){if(!this.map)return;let e=()=>{if(!this.isMapInitialized)return;let t=this.map.getCenter(),i=this.map.getZoom();this.mapChangeSubject.next({lat:t.lat,lng:t.lng,zoom:i})};this.map.on("movestart",()=>{this.isMapInitialized&&!this.isSelectingFromUI&&(this.isUserInteraction=!0,this.shouldFitBounds=!1,this.isMapLoading=!0)}),this.map.on("moveend",()=>{this.isSelectingFromUI||(this.isMapLoading=!1),e()}),this.map.on("zoomstart",()=>{this.isMapInitialized&&!this.isSelectingFromUI&&(this.isUserInteraction=!0,this.shouldFitBounds=!1,this.isMapLoading=!0)}),this.map.on("zoomend",()=>{this.isSelectingFromUI||(this.isMapLoading=!1),e()})}async handleMapChange(e,t,i){this.isSelectingFromUI||(console.log("\u{1F504} Map changed:",{lat:e.toFixed(4),lng:t.toFixed(4),zoom:i,distance:100}),this.searchParams.latitude=e,this.searchParams.longitude=t,this.searchParams.maxDistanceKm=100,this.searchParams.page=1,this.currentPage=1,this.updateUrlParams(i),this.loadProperties())}calculateDistanceFromZoom(e){return e>=16?1:e>=14?3:e>=12?8:e>=10?20:e>=8?50:e>=6?100:e>=4?300:500}updateUrlParams(e){let t=Ve(ie({},this.route.snapshot.queryParams),{latitude:this.searchParams.latitude?.toFixed(6),longitude:this.searchParams.longitude?.toFixed(6),page:this.searchParams.page,pageSize:this.searchParams.pageSize,maxDistanceKm:this.searchParams.maxDistanceKm});e!==void 0&&(t.zoom=e),this.searchParams.guestsCount&&(t.guestsCount=this.searchParams.guestsCount),this.searchParams.startDate&&(t.startDate=this.searchParams.startDate),this.searchParams.endDate&&(t.endDate=this.searchParams.endDate),console.log("\u{1F517} Updating URL params:",t),this.router.navigate([],{relativeTo:this.route,queryParams:t,replaceUrl:!0})}getPropertyImage(e){let t=e.images?.find(i=>i.isCover&&!i.isDeleted);return t?.imageUrl?`${Ke.base}${t.imageUrl}`:"assets/images/deafult.png"}getLocationSubtitle(e){return`${e.city}, ${e.state}`}static \u0275fac=function(t){return new(t||n)(V(qn),V(Cn),V(Uo),V(nt),V(dt),V(ai),V(vn))};static \u0275cmp=le({type:n,selectors:[["app-filtered-properties"]],decls:17,vars:16,consts:[[1,"properties-container","container-fluid"],[1,"properties-panel"],[1,"d-flex","justify-content-between","items-center","mb-4"],[1,"font-semibold","text-lg"],[1,"d-flex","justify-content-between","items-center","gap-2","text-lg"],["alt","fees","src","assets/images/fees.svg","width","40","height","40","loading","lazy"],["class","properties-grid",4,"ngIf"],[1,"properties-grid"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-container","dir","ltr",4,"ngIf"],[1,"map-panel"],["id","leaflet-map",1,"leaflet-map"],["class","col-12",3,"propertyId","show","userId","close","finish",4,"ngIf"],["class","mb-4",4,"ngFor","ngForOf"],[1,"mb-4"],[1,"p-2","rounded"],[1,"shimmer","rounded","mb-2",2,"height","180px"],[1,"shimmer-line","w-75","mb-2"],[1,"shimmer-line","w-50","mb-1"],[1,"shimmer-line","w-100"],[3,"cardClick","wishlistClick","mouseenter","mouseleave","imageUrl","title","subtitle","price","rating","isFavourite","propertyId"],["dir","ltr",1,"pagination-container"],[1,"pagination"],[1,"pagination-btn",3,"click","disabled"],["width","16","height","16","viewBox","0 0 24 24","fill","none"],["d","M15 18L9 12L15 6","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["class","pagination-btn",3,"active","disabled","click",4,"ngFor","ngForOf"],["d","M9 18L15 12L9 6","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"col-12",3,"close","finish","propertyId","show","userId"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),m(4),Q(5,"translate"),d(),l(6,"div",4),k(7,"img",5),m(8),Q(9,"translate"),d()(),j(10,rre,2,2,"div",6),l(11,"div",7),j(12,ore,2,7,"div",8),d(),j(13,sre,9,3,"div",9),d(),l(14,"div",10),k(15,"div",11),d()(),j(16,lre,1,3,"app-wish-list-modal",12)),t&2&&(p(4),U(" ",Vt(5,9,"PROPERTIES.OVER_HOMES",nn(14,tre,i.properties.length))," "),p(4),U(" ",de(9,12,"PROPERTIES.PRICES_INCLUDE_FEES")," "),p(2),_("ngIf",i.isLoading),p(2),_("ngForOf",i.properties)("ngForTrackBy",i.trackByPropertyId),p(),_("ngIf",i.totalPages>1),p(),Me("loading",i.isMapLoading),p(2),_("ngIf",i.show))},dependencies:[he,Xe,Ce,_1,Ni,nl,wt,Xt],styles:['.properties-container[_ngcontent-%COMP%]{display:flex;gap:.5rem}.properties-panel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow-y:auto;padding:0 24px}.properties-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:24px;margin-bottom:40px}.map-panel[_ngcontent-%COMP%]{width:40%;height:80vh;max-height:fit-content;position:sticky;top:8rem;overflow-y:auto;z-index:1}.map-panel[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:#fffc;z-index:1000;opacity:0;visibility:hidden;transition:all .3s ease;border-radius:40px;display:flex;align-items:center;justify-content:center}.map-panel.loading[_ngcontent-%COMP%]:before{opacity:1;visibility:visible}.map-panel.loading[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:40px;height:40px;border:3px solid #f3f3f3;border-top:3px solid #ff385c;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;z-index:1001}@keyframes _ngcontent-%COMP%_spin{0%{transform:translate(-50%,-50%) rotate(0)}to{transform:translate(-50%,-50%) rotate(360deg)}}.leaflet-map[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:40px!important;-webkit-border-radius:40px!important;-moz-border-radius:40px!important;-ms-border-radius:40px!important;-o-border-radius:40px!important;transition:all .3s ease}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:24px 0}.pagination[_ngcontent-%COMP%]{display:flex;gap:4px;border-radius:12px;padding:8px;-webkit-border-radius:12px;-moz-border-radius:12px;-ms-border-radius:12px;-o-border-radius:12px}.pagination-btn[_ngcontent-%COMP%]{min-width:40px;height:40px;border:none;background:transparent;color:#6b7280;font-size:14px;cursor:pointer;transition:.2s;border-radius:50px;-webkit-border-radius:50px;-moz-border-radius:50px;-ms-border-radius:50px;-o-border-radius:50px}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){color:#374151}.pagination-btn.active[_ngcontent-%COMP%]{background:#000;color:#fff!important;font-weight:600}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}  .custom-marker{background:transparent!important;border:none!important}  .custom-marker div{transition:all .3s cubic-bezier(.4,0,.2,1)!important;will-change:transform!important}  .leaflet-popup-content-wrapper{background:transparent!important;box-shadow:0 0 #0000001f!important;border-radius:9999px!important;border:0px solid rgba(0,0,0,.1)!important;animation:_ngcontent-%COMP%_popupFadeIn .3s ease-out!important;-webkit-border-radius:9999px!important;-moz-border-radius:9999px!important;-ms-border-radius:9999px!important;-o-border-radius:9999px!important}  .leaflet-popup-tip{background:var(--bg-color)!important;box-shadow:none!important;border:1px solid rgba(0,0,0,.1)!important}  .leaflet-popup-content{margin:0!important;padding:0!important}  .popup-card{border:none!important;box-shadow:none!important;transition:all .2s ease!important}  .popup-card:hover{transform:translateY(-1px)!important;box-shadow:0 4px 20px #00000014!important;-webkit-transform:translateY(-1px)!important;-moz-transform:translateY(-1px)!important;-ms-transform:translateY(-1px)!important;-o-transform:translateY(-1px)!important}@keyframes _ngcontent-%COMP%_popupFadeIn{0%{opacity:0;transform:scale(.8) translateY(10px)}to{opacity:1;transform:scale(1) translateY(0)}}.property-card.selected[_ngcontent-%COMP%]{border:2px solid #ff385c!important;box-shadow:0 8px 25px #ff385c26!important;transform:translateY(-2px)!important}  .leaflet-control-zoom{border:none!important;box-shadow:0 4px 12px #0000001a!important;border-radius:8px!important}  .leaflet-control-zoom a{background:var(--bg-color)!important;color:var(--primary-text-color)!important;border:none!important;transition:all .2s ease!important}  .leaflet-control-zoom a:hover{background:#f8f9fa!important;transform:scale(1)!important;-webkit-transform:scale(1)!important;-moz-transform:scale(1)!important;-ms-transform:scale(1)!important;-o-transform:scale(1)!important}.properties-grid.loading[_ngcontent-%COMP%]{opacity:.6;pointer-events:none;transition:opacity .3s ease}.property-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)!important}.property-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)!important;box-shadow:0 12px 28px #0000001f!important}@media (max-width: 1024px){.properties-container[_ngcontent-%COMP%]{flex-direction:column;height:auto}.map-panel[_ngcontent-%COMP%]{width:100%;height:400px;position:static;order:-1;margin-bottom:2rem}}@media (max-width: 768px){.properties-panel[_ngcontent-%COMP%]{padding:16px}.properties-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.map-panel[_ngcontent-%COMP%]{height:300px}}.leaflet-popup-content-wrapper[_ngcontent-%COMP%]{background:transparent!important;background-color:transparent!important;box-shadow:0 0 #0006!important;border-radius:999px!important;-webkit-border-radius:999px!important;-moz-border-radius:999px!important;-ms-border-radius:999px!important;-o-border-radius:999px!important}.leaflet-popup-tip[_ngcontent-%COMP%]{background:var(--bg-color)!important;background-color:var(--bg-color)!important;box-shadow:0 0 #0006!important}  .leaflet-popup{margin-bottom:46px!important;border-radius:999px!important;-webkit-border-radius:999px!important;-moz-border-radius:999px!important;-ms-border-radius:999px!important;-o-border-radius:999px!important}  .popup-card{border-radius:18px!important;-webkit-border-radius:18px!important;-moz-border-radius:18px!important;-ms-border-radius:18px!important;-o-border-radius:18px!important}  .leaflet-container a.leaflet-popup-close-button{display:none!important}']})};var N1=class n{constructor(e){this.http=e}apiUrl=`${Ke.baseUrl}/Property`;getPropertiesByHostId(e){return this.http.get(`${this.apiUrl}/host/listings/${e}`).pipe(Ne(t=>t.data))}static \u0275fac=function(t){return new(t||n)(De(Ct))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var l5=()=>({exact:!0}),pl=class n{constructor(e,t,i,r){this.lang=e;this.theme=t;this.elementRef=i;this.router=r}isDarkMode=!1;dialogService=q(ai);ngOnInit(){}onWindowScroll(){this.dropdownOpen&&this.closeDropdown()}dropdownOpen=!1;dropdownClosing=!1;toggleDropdown(){this.dropdownOpen=!this.dropdownOpen,this.dropdownClosing=!this.dropdownOpen}openDropdown(){this.dropdownOpen=!0,this.dropdownClosing=!1}closeDropdown(){this.dropdownClosing=!0,this.dropdownOpen=!1}onAnimationEnd(){this.dropdownClosing&&(this.dropdownClosing=!1)}changeLanguage(e){this.lang.switchLang(e)}toggleTheme(){this.isDarkMode=!this.isDarkMode,this.theme.toggleTheme()}openLoginDialog(){this.dialogService.openDialog("login")}openRegisterDialog(){this.dialogService.openDialog("register")}static \u0275fac=function(t){return new(t||n)(V(Yo),V(sl),V(Yt),V(nt))};static \u0275cmp=le({type:n,selectors:[["app-hostheader"]],hostBindings:function(t,i){t&1&&T("scroll",function(){return i.onWindowScroll()},Vo)},decls:23,vars:20,consts:[[1,"airbnb-header"],[1,"container"],["routerLink","/",1,"airbnb-logo"],["viewBox","0 0 1007 1080",2,"display","block"],["d","M949.278 666.715C875.957 506.859 795.615 344.664 713.713 184.809C698.893 155.177 670.813 98.2527 645.852 67.8412C609.971 24.1733 556.93 0.779785 503.109 0.779785C449.288 0.779785 396.247 24.1733 360.366 67.8412C335.406 98.2527 307.325 155.177 292.505 184.809C210.603 344.664 130.262 506.859 56.9404 666.715C47.5802 687.769 24.9598 737.675 16.3796 760.289C6.23941 787.581 0.779297 817.213 0.779297 846.845C0.779297 975.509 101.401 1079.22 235.564 1079.22C346.326 1079.22 434.468 1008.26 503.109 934.18C571.751 1008.26 659.892 1079.22 770.655 1079.22C904.817 1079.22 1006.22 975.509 1006.22 846.845C1006.22 817.213 999.979 787.581 989.839 760.289C981.259 737.675 958.638 687.769 949.278 666.715ZM503.109 810.195C447.728 738.455 396.247 649.56 396.247 577.819C396.247 506.079 446.948 470.209 503.109 470.209C559.27 470.209 610.751 508.419 610.751 577.819C610.751 647.22 558.49 738.455 503.109 810.195ZM770.655 998.902C688.628 998.902 618.271 941.557 555.955 872.656C620.205 792.541 691.093 679.121 691.093 577.819C691.093 458.513 598.271 389.892 503.109 389.892C407.947 389.892 315.906 458.513 315.906 577.819C315.906 679.098 386.294 792.478 450.318 872.593C387.995 941.526 317.614 998.902 235.564 998.902C146.642 998.902 81.1209 931.061 81.1209 846.845C81.1209 826.57 84.241 807.856 91.2611 788.361C98.2812 770.426 120.902 720.52 130.262 701.025C203.583 541.17 282.365 380.534 364.267 220.679C379.087 191.047 404.047 141.921 422.768 119.307C443.048 94.3538 471.129 81.0975 503.109 81.0975C535.09 81.0975 563.17 94.3538 583.451 119.307C602.171 141.921 627.132 191.047 641.952 220.679C723.854 380.534 802.635 541.17 875.957 701.025C885.317 720.52 907.937 770.426 914.957 788.361C921.978 807.856 925.878 826.57 925.878 846.845C925.878 931.061 859.576 998.902 770.655 998.902Z","fill","currentcolor"],[1,"nav-middle","list-unstyled"],["routerLink","/hostsettings/availability","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/host","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/hostsettings/Messages","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/hostsettings/Wallet","routerLinkActive","active",3,"routerLinkActiveOptions"]],template:function(t,i){t&1&&(l(0,"header",0)(1,"div",1)(2,"a",2),$e(),l(3,"svg",3),k(4,"path",4),d()(),lt(),l(5,"ul",5)(6,"li")(7,"a",6),m(8),Q(9,"translate"),d()(),l(10,"li")(11,"a",7),m(12),Q(13,"translate"),d()(),l(14,"li")(15,"a",8),m(16),Q(17,"translate"),d()(),l(18,"li")(19,"a",9),m(20),Q(21,"translate"),d()()(),k(22,"app-menu-header"),d()()),t&2&&(p(7),_("routerLinkActiveOptions",Kt(16,l5)),p(),$(de(9,8,"HEADER.NAV.CALENDAR")),p(3),_("routerLinkActiveOptions",Kt(17,l5)),p(),$(de(13,10,"HEADER.NAV.LISTINGS")),p(3),_("routerLinkActiveOptions",Kt(18,l5)),p(),$(de(17,12,"HEADER.NAV.MESSAGES")),p(3),_("routerLinkActiveOptions",Kt(19,l5)),p(),$(de(21,14,"HEADER.NAV.WALLET")))},dependencies:[he,Ni,Hi,bx,wt,x4,Xt],styles:[".airbnb-header[_ngcontent-%COMP%]{background:var(--bg-color);border-bottom:1px solid #ddd;width:100%;z-index:1030;padding:1.7rem 0}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.airbnb-logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#ff385c;height:32px;width:102px}.nav-middle[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:16px}.nav-middle[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;transition:color .2s ease;border:none;cursor:pointer;padding:.3rem 1rem;border-radius:20px;transition:all .5s ease}.nav-middle[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .nav-middle[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:var(--border-color)}.user-menu-button[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:9999px;padding:6px;transition:box-shadow .2s ease-in-out;background-color:var(--bg-color);display:flex;align-items:center;gap:8px}.user-menu-button[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px var(--shadow-color)}.user-menu-button[_ngcontent-%COMP%]   .icon-menu[_ngcontent-%COMP%]{color:var(--secondary-text-color)}.user-menu-button[_ngcontent-%COMP%]   .icon-user[_ngcontent-%COMP%]{background-color:var(--primary-text-color);color:var(--bg-color);border-radius:50%;padding:4px;height:32px;width:32px;display:flex;align-items:center;justify-content:center}.user-menu-dropdown[_ngcontent-%COMP%]{right:0!important;left:auto!important;margin-top:.5rem;transform:translate(0)!important;min-width:200px;max-width:calc(100vw - 16px);background-color:var(--active);min-height:240px!important;z-index:10000!important}.menu-dropdown[_ngcontent-%COMP%]{background-color:var(--active);width:100%}.menu-dropdown[_ngcontent-%COMP%]:hover{background-color:transparent!important}.dropdown-item[_ngcontent-%COMP%]{color:var(--primary-text-color)}.dropdown-item[_ngcontent-%COMP%]:hover{color:#000}.dropdown-item[_ngcontent-%COMP%]:active{background-color:var(--airbnb-red)}.dropdown-item.active[_ngcontent-%COMP%]{background-color:var(--airbnb-red)!important;color:#f7f7f7}.icon-small[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2;fill:none;stroke:currentColor}.icon-medium[_ngcontent-%COMP%]{width:24px;height:24px;stroke-width:1.5;fill:none;stroke:currentColor}.nav-middle[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}@media (max-width: 991px){.nav-middle[_ngcontent-%COMP%]{display:none!important}}"]})};function cre(n,e){n&1&&(l(0,"div",3),k(1,"div",4),l(2,"p",5),m(3,"Loading your properties..."),d()())}function dre(n,e){if(n&1){let t=X();l(0,"div",6)(1,"div",7),m(2,"\u26A0\uFE0F"),d(),l(3,"h3",8),m(4,"Oops! Something went wrong"),d(),l(5,"p",9),m(6),d(),l(7,"button",10),T("click",function(){z(t);let r=C();return A(r.refreshProperties())}),l(8,"span",11),m(9,"\u{1F504}"),d(),m(10," Try again "),d()()}if(n&2){let t=C();p(6),$(t.error)}}function ure(n,e){if(n&1&&(zt(0),k(1,"img",39),l(2,"div",40),m(3,"\u{1F3E0}"),d(),At()),n&2){let t=C().$implicit,i=C(3);p(),_("src",i.getCoverImageUrl(t),et)("alt",t.title)}}function pre(n,e){n&1&&(zt(0),l(1,"div",41),m(2,"\u{1F3E0}"),d(),At())}function fre(n,e){if(n&1){let t=X();l(0,"div",25)(1,"div",26)(2,"div",27),j(3,ure,4,2,"ng-container",28)(4,pre,3,0,"ng-container",28),d()(),l(5,"div",29)(6,"h3",30),m(7),d(),l(8,"p",31),m(9),d(),l(10,"div",32)(11,"span",33),m(12),d(),l(13,"span",34),m(14),d()(),l(15,"div",35)(16,"button",36),T("click",function(){let r=z(t).$implicit,o=C(3);return A(o.navigateToEditProperty(r.id))}),l(17,"span",37),m(18,"\u270F\uFE0F"),d(),m(19," Edit Property "),d(),l(20,"button",38),T("click",function(){let r=z(t).$implicit,o=C(3);return A(o.navigateToPropertyBookings(r.id))}),l(21,"span",37),m(22,"\u{1F4C5}"),d(),m(23," View Bookings "),d()()()()}if(n&2){let t=e.$implicit,i=C(3);p(3),_("ngIf",i.hasValidImage(t)),p(),_("ngIf",!i.hasValidImage(t)),p(3),$(t.title),p(2),jo(" Home in ",t.city,", ",t.state,", ",t.country," "),p(2),Me("active",t.isActive)("inactive",!t.isActive),p(),U(" ",i.getActiveStatusLabel(t.isActive)," "),p(),Me("pending",t.status===1)("accepted",t.status===2)("rejected",t.status===3),p(),U(" ",i.getStatusLabel(t.status)," ")}}function mre(n,e){if(n&1&&(l(0,"div",23),j(1,fre,24,18,"div",24),d()),n&2){let t=C(2);Me("table-view",t.viewMode==="table"),p(),_("ngForOf",t.properties)("ngForTrackBy",t.trackById)}}function hre(n,e){if(n&1&&(zt(0),k(1,"img",39),l(2,"div",40),m(3,"\u{1F3E0}"),d(),At()),n&2){let t=C().$implicit,i=C(3);p(),_("src",i.getCoverImageUrl(t),et)("alt",t.title)}}function gre(n,e){n&1&&(zt(0),l(1,"div",41),m(2,"\u{1F3E0}"),d(),At())}function vre(n,e){if(n&1){let t=X();l(0,"tr")(1,"td")(2,"div",44)(3,"div",45),j(4,hre,4,2,"ng-container",28)(5,gre,3,0,"ng-container",28),d(),l(6,"span",46),m(7),d()()(),l(8,"td")(9,"span",47),m(10,"Home"),d()(),l(11,"td")(12,"span",48),m(13),d()(),l(14,"td")(15,"span",33),m(16),d()(),l(17,"td")(18,"span",34),m(19),d()(),l(20,"td")(21,"div",49)(22,"button",50),T("click",function(){let r=z(t).$implicit,o=C(3);return A(o.navigateToEditProperty(r.id))}),m(23," \u270F\uFE0F "),d(),l(24,"button",51),T("click",function(){let r=z(t).$implicit,o=C(3);return A(o.navigateToPropertyBookings(r.id))}),m(25," \u{1F4C5} "),d()()()()}if(n&2){let t=e.$implicit,i=C(3);p(4),_("ngIf",i.hasValidImage(t)),p(),_("ngIf",!i.hasValidImage(t)),p(2),$(t.title),p(6),jo("",t.city,", ",t.state,", ",t.country),p(2),Me("active",t.isActive)("inactive",!t.isActive),p(),U(" ",i.getActiveStatusLabel(t.isActive)," "),p(2),Me("pending",t.status===1)("accepted",t.status===2)("rejected",t.status===3),p(),U(" ",i.getStatusLabel(t.status)," ")}}function bre(n,e){if(n&1&&(l(0,"table",42)(1,"thead")(2,"tr")(3,"th"),m(4,"Listing"),d(),l(5,"th"),m(6,"Type"),d(),l(7,"th"),m(8,"Location"),d(),l(9,"th"),m(10,"Active Status"),d(),l(11,"th"),m(12,"Approval Status"),d(),l(13,"th"),m(14,"Actions"),d()()(),l(15,"tbody"),j(16,vre,26,18,"tr",43),d()()),n&2){let t=C(2);Me("active",t.viewMode==="table"),p(16),_("ngForOf",t.properties)("ngForTrackBy",t.trackById)}}function _re(n,e){n&1&&(l(0,"div",52)(1,"div",53),m(2,"\u{1F3E1}"),d(),l(3,"h3",54),m(4,"No properties yet"),d(),l(5,"p",55),m(6," Start earning by listing your first property "),d(),l(7,"button",56)(8,"span",57),m(9,"+"),d(),m(10," Add your first listing "),d()())}function yre(n,e){if(n&1){let t=X();l(0,"div",12)(1,"div",13)(2,"div",14)(3,"h1",15),m(4,"Your listings"),d()(),l(5,"div",16)(6,"div",17)(7,"button",18),T("click",function(){z(t);let r=C();return A(r.toggleViewMode())}),m(8),d()(),l(9,"button",19),m(10,"+"),d()()(),j(11,mre,2,4,"div",20)(12,bre,17,4,"table",21)(13,_re,11,0,"div",22),d()}if(n&2){let t=C();p(7),_("title",t.viewMode==="grid"?"Switch to table view":"Switch to grid view"),p(),U(" ",t.viewMode==="grid"?"\u229E":"\u2630"," "),p(3),_("ngIf",t.properties.length>0),p(),_("ngIf",t.properties.length>0),p(),_("ngIf",t.properties.length===0)}}var c5=class n{constructor(e,t,i){this.hostPropertiesService=e;this.router=t;this.authService=i}properties=[];isLoading=!0;error=null;viewMode="grid";hostId=null;ngOnInit(){this.hostId=this.authService.userId,this.loadHostProperties()}loadHostProperties(){if(!this.hostId){this.error="User not authenticated",this.isLoading=!1;return}this.isLoading=!0,this.error=null,this.hostPropertiesService.getPropertiesByHostId(this.hostId).subscribe({next:e=>{this.properties=e,console.log(e),this.isLoading=!1},error:e=>{this.error="Failed to load properties. Please try again later.",this.isLoading=!1,console.error("Error loading properties:",e)}})}refreshProperties(){this.loadHostProperties()}setViewMode(e){this.viewMode=e}toggleViewMode(){this.viewMode=this.viewMode==="grid"?"table":"grid"}navigateToEditProperty(e){this.router.navigate(["/updatelist",e.toString()])}navigateToPropertyBookings(e){this.router.navigate(["/propertybookings",e.toString()])}getStatusLabel(e){switch(e){case 1:return"Pending";case 2:return"Accepted";case 3:return"Rejected";default:return"Unknown"}}getActiveStatusLabel(e){return e?"Active":"Inactive"}getCoverImageUrl(e){if(!e.images||e.images.length===0)return"";let t=e.images.find(a=>a.isCover&&!a.isDeleted&&(a.imageUrl.startsWith("/uploads/")||!a.imageUrl.startsWith("http")));if(t)return this.buildImageUrl(t.imageUrl);let i=e.images.find(a=>a.isCover&&!a.isDeleted);if(i)return this.buildImageUrl(i.imageUrl);let r=e.images.find(a=>!a.isDeleted&&(a.imageUrl.startsWith("/uploads/")||!a.imageUrl.startsWith("http")));if(r)return this.buildImageUrl(r.imageUrl);let o=e.images.find(a=>!a.isDeleted);return o?this.buildImageUrl(o.imageUrl):""}buildImageUrl(e){if(!e)return"";let t=Ke.baseUrl;if(t.endsWith("/api")&&(t=t.slice(0,-4)),e.startsWith("http://")||e.startsWith("https://"))return e;if(e.startsWith("/uploads/")){let r=e.startsWith("/")?e.substring(1):e;return`${t.endsWith("/")?t:t+"/"}${r}`}return e.startsWith("/")?`${t.endsWith("/")?t.slice(0,-1):t}${e}`:`${t.endsWith("/")?t:t+"/"}uploads/${e}`}hasValidImage(e){return this.getCoverImageUrl(e)!==""}trackById(e,t){return t.id}static \u0275fac=function(t){return new(t||n)(V(N1),V(nt),V(dt))};static \u0275cmp=le({type:n,selectors:[["app-host-properties"]],decls:4,vars:3,consts:[["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","host-properties-container",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"loading-text"],[1,"error-container"],[1,"error-icon"],[1,"error-title"],[1,"error-message"],[1,"retry-button",3,"click"],[1,"retry-icon"],[1,"host-properties-container"],[1,"header-section"],[1,"header-left"],[1,"page-title"],[1,"header-controls"],[1,"view-toggle"],[1,"view-toggle-btn",3,"click","title"],["routerLink","/listing-wizard",1,"add-listing-btn"],["class","properties-grid",3,"table-view",4,"ngIf"],["class","properties-table",3,"active",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"properties-grid"],["class","property-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"property-card"],[1,"property-image-container"],[1,"property-image"],[4,"ngIf"],[1,"property-content"],[1,"property-title"],[1,"property-location"],[1,"property-status"],[1,"status-badge"],[1,"approval-status-badge"],[1,"property-actions"],["title","Edit Property",1,"dark-btn","edit-btn",3,"click"],[1,"btn-icon"],["title","View Bookings",1,"dark-btn","bookings-btn",3,"click"],["loading","lazy",3,"src","alt"],[1,"image-placeholder",2,"display","none"],[1,"image-placeholder"],[1,"properties-table"],[4,"ngFor","ngForOf","ngForTrackBy"],[2,"display","flex","align-items","center","gap","16px"],[1,"table-property-image"],[1,"table-property-title"],[1,"table-property-type"],[1,"table-property-location"],[1,"table-actions"],["title","Edit Property",1,"dark-btn-small","edit-btn",3,"click"],["title","View Bookings",1,"dark-btn-small","bookings-btn",3,"click"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-title"],[1,"empty-description"],["routerLink","/listing-wizard",1,"btn","btn-dark"],[1,"plus-icon"]],template:function(t,i){t&1&&(k(0,"app-hostheader"),j(1,cre,4,0,"div",0)(2,dre,11,1,"div",1)(3,yre,14,5,"div",2)),t&2&&(p(),_("ngIf",i.isLoading),p(),_("ngIf",i.error&&!i.isLoading),p(),_("ngIf",!i.isLoading&&!i.error))},dependencies:[he,Xe,Ce,Hi,pl],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.host-properties-container[_ngcontent-%COMP%]{max-width:1440px;margin:0 auto;padding:24px 40px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;padding:40px}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border-color);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:16px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-size:16px;margin:0}.error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;padding:40px;text-align:center}.error-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}.error-title[_ngcontent-%COMP%]{color:var(--primary-text-color);font-size:24px;font-weight:600;margin:0 0 8px}.error-message[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-size:16px;margin:0 0 24px;max-width:400px}.retry-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background-color:var(--airbnb-red);color:#fff;border:none;border-radius:8px;padding:12px 24px;font-size:16px;font-weight:600;cursor:pointer;transition:background-color .2s ease}.retry-button[_ngcontent-%COMP%]:hover{background-color:var(--airbnb-dark-red)}.header-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;padding-bottom:24px}.header-left[_ngcontent-%COMP%]{flex:1}.page-title[_ngcontent-%COMP%]{color:var(--primary-text-color);font-size:32px;font-weight:600;margin:0 0 8px}.page-subtitle[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-size:16px;margin:0}.header-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.view-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;background:var(--light-grey-bg);border-radius:8px;padding:4px}.view-toggle-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border:none;background:transparent;border-radius:6px;cursor:pointer;transition:all .2s ease;font-size:18px;color:var(--secondary-text-color)}.view-toggle-btn[_ngcontent-%COMP%]:hover{color:var(--primary-text-color);background:var(--head)}.view-toggle-btn.active[_ngcontent-%COMP%]{background:var(--active);color:var(--primary-text-color)}.add-listing-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:48px;height:48px;background:transparent;color:var(--primary-text-color);border:none;border-radius:50%;font-size:28px;font-weight:300;cursor:pointer;transition:all .2s ease}.add-listing-btn[_ngcontent-%COMP%]:hover{color:var(--airbnb-red);transform:scale(1.1);background:var(--head)}.properties-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:24px}.property-card[_ngcontent-%COMP%]{background:var(--bg-color);border-radius:12px;overflow:hidden;transition:all .2s ease;cursor:pointer;border:1px solid var(--border-color)}.property-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px var(--shadow-color)}.property-card[_ngcontent-%COMP%]:hover   .property-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.03)}.property-image-container[_ngcontent-%COMP%]{position:relative;width:100%;height:450px;overflow:hidden;border-radius:12px 12px 0 0;background:var(--light-grey-bg)}.property-image[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;overflow:hidden}.property-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center;transition:transform .3s ease;border-radius:12px 12px 0 0}.image-placeholder[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.image-icon[_ngcontent-%COMP%]{font-size:56px;opacity:.8}.property-content[_ngcontent-%COMP%]{padding:20px;background:var(--bg-color)}.property-title[_ngcontent-%COMP%]{color:var(--primary-text-color);font-size:16px;font-weight:600;margin:0 0 8px;line-height:1.4}.property-location[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-size:14px;font-weight:400;margin:0;line-height:1.3}.properties-table[_ngcontent-%COMP%]{display:none;width:100%;border-collapse:collapse;background:var(--bg-color);border-radius:12px;overflow:hidden;box-shadow:0 1px 3px var(--shadow-color);border:1px solid var(--border-color)}.properties-table.active[_ngcontent-%COMP%]{display:table}.properties-grid.table-view[_ngcontent-%COMP%]{display:none}.properties-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:var(--light-grey-bg);color:var(--primary-text-color);font-weight:600;font-size:14px;padding:16px 20px;text-align:left;border-bottom:1px solid var(--border-color)}.properties-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid var(--border-color);vertical-align:middle;background:var(--bg-color)}.properties-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:var(--head)}.table-property-image[_ngcontent-%COMP%]{width:80px;height:60px;border-radius:8px;overflow:hidden;background:var(--light-grey-bg)}.table-property-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center}.table-property-image[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);font-size:20px;color:#fff}.table-property-title[_ngcontent-%COMP%]{font-weight:600;color:var(--primary-text-color);font-size:15px}.table-property-type[_ngcontent-%COMP%], .table-property-location[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-size:14px}.status-badge[_ngcontent-%COMP%]{padding:6px 12px;border-radius:20px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.status-badge.inactive[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.status-badge.active[_ngcontent-%COMP%]{background:#dcfce7;color:#16a34a}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;padding:40px;text-align:center}.empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:24px;opacity:.6;color:var(--secondary-text-color)}.empty-title[_ngcontent-%COMP%]{color:var(--primary-text-color);font-size:24px;font-weight:600;margin:0 0 12px}.empty-description[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-size:16px;margin:0 0 32px;max-width:400px}.add-property-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:linear-gradient(135deg,var(--airbnb-red),var(--airbnb-dark-red));color:#fff;border:none;border-radius:8px;padding:16px 24px;font-size:16px;font-weight:600;cursor:pointer;transition:all .2s ease}.add-property-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #ff385c4d}.plus-icon[_ngcontent-%COMP%]{font-size:18px;font-weight:700}@media (max-width: 1200px){.properties-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.property-image-container[_ngcontent-%COMP%]{height:240px}}@media (max-width: 768px){.host-properties-container[_ngcontent-%COMP%]{padding:16px 20px}.header-section[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.header-controls[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.page-title[_ngcontent-%COMP%]{font-size:28px}.properties-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.property-image-container[_ngcontent-%COMP%]{height:220px}.properties-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .properties-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;font-size:13px}.table-property-image[_ngcontent-%COMP%]{width:60px;height:45px}}@media (max-width: 480px){.host-properties-container[_ngcontent-%COMP%]{padding:16px}.property-image-container[_ngcontent-%COMP%]{height:200px}.properties-grid[_ngcontent-%COMP%]{gap:16px}.property-content[_ngcontent-%COMP%]{padding:16px}.add-listing-btn[_ngcontent-%COMP%]{padding:10px 16px;font-size:13px}.table-property-image[_ngcontent-%COMP%]{width:50px;height:38px}}.property-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:12px;flex-wrap:wrap}.dark-btn[_ngcontent-%COMP%]{background:#2d3748;color:#fff;border:none;padding:8px 12px;border-radius:6px;font-size:13px;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:6px;transition:all .2s ease;min-width:100px;justify-content:center}.dark-btn[_ngcontent-%COMP%]:hover{background:#4a5568;transform:translateY(-1px);box-shadow:0 2px 8px #00000026}.dark-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 1px 4px #0000001a}.dark-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:14px}.edit-btn[_ngcontent-%COMP%]:hover{background:#3182ce}.bookings-btn[_ngcontent-%COMP%]:hover{background:#38a169}.table-actions[_ngcontent-%COMP%]{display:flex;gap:6px;align-items:center}.dark-btn-small[_ngcontent-%COMP%]{background:#2d3748;color:#fff;border:none;padding:6px 8px;border-radius:4px;font-size:12px;cursor:pointer;transition:all .2s ease;min-width:32px;height:32px;display:flex;align-items:center;justify-content:center}.dark-btn-small[_ngcontent-%COMP%]:hover{background:#4a5568;transform:translateY(-1px);box-shadow:0 2px 6px #0000001f}.dark-btn-small[_ngcontent-%COMP%]:active{transform:translateY(0)}.dark-btn-small.edit-btn[_ngcontent-%COMP%]:hover{background:#3182ce}.dark-btn-small.bookings-btn[_ngcontent-%COMP%]:hover{background:#38a169}@media (max-width: 768px){.property-actions[_ngcontent-%COMP%]{flex-direction:column}.dark-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.table-actions[_ngcontent-%COMP%]{flex-direction:column;gap:4px}}.dark-btn[_ngcontent-%COMP%]:focus, .dark-btn-small[_ngcontent-%COMP%]:focus{outline:2px solid #63b3ed;outline-offset:2px}.properties-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, .properties-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:100px;text-align:center}.property-status[_ngcontent-%COMP%]{display:flex;gap:8px;margin:8px 0;flex-wrap:wrap}.status-badge[_ngcontent-%COMP%], .approval-status-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:12px;font-size:12px;font-weight:500;text-transform:capitalize}.status-badge.active[_ngcontent-%COMP%]{background-color:#10b981;color:#fff}.status-badge.inactive[_ngcontent-%COMP%]{background-color:#6b7280;color:#fff}.approval-status-badge.pending[_ngcontent-%COMP%]{background-color:#f59e0b;color:#fff}.approval-status-badge.accepted[_ngcontent-%COMP%]{background-color:#10b981;color:#fff}.approval-status-badge.rejected[_ngcontent-%COMP%]{background-color:#ef4444;color:#fff}.properties-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4), .properties-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(5){width:120px}.properties-table[_ngcontent-%COMP%]   .approval-status-badge[_ngcontent-%COMP%], .properties-table[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-block;white-space:nowrap}"]})};var xre=["*"],Cre=()=>[1,2,3,4];function Mre(n,e){n&1&&(l(0,"div",8),k(1,"div",9),l(2,"div",10),k(3,"div",11)(4,"div",12)(5,"div",13),d()())}function wre(n,e){n&1&&(l(0,"div",6),j(1,Mre,6,0,"div",7),d()),n&2&&(p(),_("ngForOf",Kt(1,Cre)))}function Sre(n,e){if(n&1){let t=X();l(0,"div",14)(1,"div",15)(2,"i",16),m(3,"\u26A0\uFE0F"),d(),l(4,"p"),m(5),d(),l(6,"button",17),T("click",function(){z(t);let r=C();return A(r.loadWishlists())}),m(7,"Try Again"),d()()()}if(n&2){let t=C();p(5),$(t.error)}}function Pre(n,e){n&1&&(l(0,"div",20)(1,"div",21)(2,"div",22),m(3,"\u{1F49D}"),d(),l(4,"h3"),m(5,"No wishlists yet"),d(),l(6,"p"),m(7," Create your first wishlist to start saving your favorite properties "),d()()())}function kre(n,e){if(n&1){let t=X();l(0,"div",23),T("click",function(r){let o=z(t).$implicit,a=C(2);return A(a.handleCardClick(r,o.id))}),l(1,"div",24)(2,"div"),k(3,"img",25),d(),l(4,"div",26)(5,"button",27),T("click",function(r){let o=z(t).$implicit,a=C(2);return A(a.confirmDelete(o,r))}),k(6,"i",28),d(),l(7,"div",29),m(8),d()()(),l(9,"div",30)(10,"h3",31),m(11),d(),l(12,"p",32),m(13),d(),l(14,"div",33)(15,"span",34),m(16),d()()()()}if(n&2){let t=e.$implicit,i=C(2);an("data-testid","wishlist-"+t.id),p(3),_("src",i.getPropertyImage(t.coverImageUrl),et)("alt",t.name),p(5),U(" ",i.getPropertyCount(t.propertyIds)," "),p(3),$(t.name),p(2),U(" ",i.getPropertyCount(t.propertyIds)," saved "),p(3),U("Created ",i.formatDate(t.createdAt))}}function Ore(n,e){if(n&1&&(l(0,"div",6),j(1,Pre,8,0,"div",18)(2,kre,17,7,"div",19),d()),n&2){let t=C();p(),_("ngIf",t.wishlists.length===0),p(),_("ngForOf",t.wishlists)}}function Dre(n,e){if(n&1&&(l(0,"p",39),m(1),d()),n&2){let t=C(2);p(),U(' "',t.selectedWishlist==null?null:t.selectedWishlist.name,'" will be permanently deleted. ')}}function Ere(n,e){if(n&1){let t=X();l(0,"app-modal",35),T("close",function(){z(t);let r=C();return A(r.cancelDelete())}),go(1,0,null,Dre,2,1),l(3,"div",36)(4,"button",37),T("click",function(){z(t);let r=C();return A(r.cancelDelete())}),m(5," Cancel "),d(),l(6,"button",38),T("click",function(){z(t);let r=C();return A(r.deleteSelectedWishlist())}),m(7," Delete "),d()()()}n&2&&_("modalDialogClass","mx-auto rounded-4")("modalContentClass","rounded-4 pt-4")}var d5=class n{constructor(e,t){this.wishlistService=e;this.router=t}wishlists=[];isLoading=!0;error=null;goToWishlist(e){this.router.navigate(["/wishlist",e,"properties"])}ngOnInit(){this.loadWishlists()}loadWishlists(){this.isLoading=!0,this.error=null,this.wishlistService.getAllWishlists().subscribe({next:e=>{this.wishlists=e,this.isLoading=!1,console.log(e)},error:e=>{console.error("Error loading wishlists:",e),this.error="Failed to load wishlists. Please try again.",this.isLoading=!1}})}getPropertyCount(e){return e?e?.length:0}getPropertyImage(e){return`${Ke.base}${e}`}formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}handleCardClick(e,t){e.target.closest(".delete-btn")||this.goToWishlist(t)}selectedWishlist=null;showModal=!1;confirmDelete(e,t){t.stopPropagation(),this.selectedWishlist=e,this.showModal=!0}cancelDelete(){this.showModal=!1,this.selectedWishlist=null}deleteSelectedWishlist(){this.selectedWishlist&&this.wishlistService.deleteWishlist(this.selectedWishlist.id).subscribe({next:e=>{e&&(this.wishlists=this.wishlists.filter(t=>t.id!==this.selectedWishlist.id)),this.cancelDelete()},error:e=>{console.error("Failed to delete wishlist:",e),this.cancelDelete()}})}static \u0275fac=function(t){return new(t||n)(V(Uo),V(nt))};static \u0275cmp=le({type:n,selectors:[["app-wishlists"]],ngContentSelectors:xre,decls:9,vars:7,consts:[[1,"wishlists-container","container","mt-4"],[1,"header"],[1,"title"],["class","wishlists-grid",4,"ngIf"],["class","error-container",4,"ngIf"],["title","Delete this wishlist?",3,"modalDialogClass","modalContentClass","close",4,"ngIf"],[1,"wishlists-grid"],["class","wishlist-card",4,"ngFor","ngForOf"],[1,"wishlist-card"],[1,"wishlist-image","shimmer"],[1,"wishlist-content","p-3"],[1,"shimmer-line","mb-2",2,"width","60%","height","16px"],[1,"shimmer-line","mb-1",2,"width","40%","height","10px"],[1,"shimmer-line",2,"width","70%","height","10px"],[1,"error-container"],[1,"error-message"],[1,"error-icon"],[1,"retry-btn",3,"click"],["class","empty-state",4,"ngIf"],["class","wishlist-card",3,"click",4,"ngFor","ngForOf"],[1,"empty-state"],[1,"empty-content"],[1,"empty-icon"],[1,"wishlist-card",3,"click"],[1,"wishlist-image"],["loading","lazy",1,"cover-image",3,"src","alt"],[1,"image-overlay"],["aria-label","Delete",1,"delete-btn",3,"click"],[1,"bi","bi-x"],[1,"property-count-badge"],[1,"wishlist-content"],[1,"wishlist-name"],[1,"wishlist-info"],[1,"wishlist-meta"],[1,"created-date"],["title","Delete this wishlist?",3,"close","modalDialogClass","modalContentClass"],["modalFooter","",1,"modal-actions","modal-footer","d-flex","justify-content-end","gap-3"],[1,"btn","px-4","py-2","cancel",3,"click"],[1,"btn","px-4","py-2","delete-confirm",3,"click"],[1,"text-center","fw-medium","fs-5","mb-4","px-4",2,"min-width","max-content","color","var(--secondary-text-color)"]],template:function(t,i){t&1&&(Ia(),l(0,"div",0)(1,"div",1)(2,"h1",2),m(3),Q(4,"translate"),d()(),j(5,wre,2,2,"div",3)(6,Sre,8,1,"div",4)(7,Ore,3,2,"div",3)(8,Ere,8,2,"app-modal",5),d()),t&2&&(p(3),$(de(4,5,"HEADER.WISHLISTS")),p(2),_("ngIf",i.isLoading),p(),_("ngIf",i.error&&!i.isLoading),p(),_("ngIf",!i.isLoading&&!i.error),p(),_("ngIf",i.showModal))},dependencies:[he,Xe,Ce,Ud,Ni,wt,Xt],styles:[".wishlists-container[_ngcontent-%COMP%]{margin:0 auto;padding:0 20px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.header[_ngcontent-%COMP%]{margin-bottom:32px}.title[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:var(--primary-text-color);margin:0;letter-spacing:-.5px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 20px;text-align:center}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #f3f3f3;border-top:3px solid #ff385c;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:16px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#717171;font-size:16px;margin:0}.error-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:80px 20px}.error-message[_ngcontent-%COMP%]{text-align:center;max-width:400px}.error-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}.error-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#222;font-size:16px;margin-bottom:24px}.retry-btn[_ngcontent-%COMP%]{background:#ff385c;color:#fff;border:none;border-radius:8px;padding:12px 24px;font-size:14px;font-weight:600;cursor:pointer;transition:background-color .2s ease}.retry-btn[_ngcontent-%COMP%]:hover{background:#d90429}.empty-state[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:80px 20px}.empty-content[_ngcontent-%COMP%]{text-align:center;max-width:400px}.empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:24px}.empty-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#222;margin:0 0 12px}.empty-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#717171;font-size:16px;margin:0 0 32px;line-height:1.4}.create-btn[_ngcontent-%COMP%]{background:#ff385c;color:#fff;border:none;border-radius:8px;padding:14px 28px;font-size:16px;font-weight:600;cursor:pointer;transition:background-color .2s ease}.create-btn[_ngcontent-%COMP%]:hover{background:#d90429}.wishlists-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(290px,1fr));gap:24px}.wishlist-card[_ngcontent-%COMP%]{overflow:hidden;cursor:pointer;transition:all .2s ease}.wishlist-image[_ngcontent-%COMP%]{position:relative;width:100%;height:250px;overflow:hidden;border-radius:35px}.cover-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .2s ease;background-color:#eeee}.wishlist-card[_ngcontent-%COMP%]:hover   .cover-image[_ngcontent-%COMP%]{transform:scale(1.05)}.image-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:flex-end;justify-content:flex-end;padding:12px}.property-count-badge[_ngcontent-%COMP%]{background:#fff6;color:#222;padding:6px 12px;border-radius:20px;font-size:14px;font-weight:600;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.wishlist-content[_ngcontent-%COMP%]{padding:16px}.wishlist-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--secondary-text-color);margin:0 0 4px;line-height:1.3;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wishlist-info[_ngcontent-%COMP%]{color:#717171;font-size:14px;margin:0 0 8px;font-weight:500}.wishlist-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.created-date[_ngcontent-%COMP%]{color:#b0b0b0;font-size:12px}@media (max-width: 768px){.wishlists-container[_ngcontent-%COMP%]{padding:16px}.title[_ngcontent-%COMP%]{font-size:28px}.wishlists-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.wishlist-image[_ngcontent-%COMP%]{height:180px}}@media (max-width: 480px){.wishlists-container[_ngcontent-%COMP%]{padding:12px}.title[_ngcontent-%COMP%]{font-size:24px}.wishlist-image[_ngcontent-%COMP%]{height:160px}.wishlist-content[_ngcontent-%COMP%]{padding:12px}}.delete-btn[_ngcontent-%COMP%]{position:absolute;top:8px;left:8px;border:none;cursor:pointer;z-index:2;background:#fff6;color:#222;padding:1px 8px;border-radius:20px;font-size:24px;font-weight:600;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease-in-out;-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-ms-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out}.delete-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#fffc}.modal-actions[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between!important;align-items:center!important;gap:15rem;padding:.5rem}.delete-confirm[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:8px 16px;cursor:pointer;font-size:20px;border-radius:6px}.delete-confirm[_ngcontent-%COMP%]:hover{background-color:#3f3e3e}.cancel[_ngcontent-%COMP%]{border:none;font-size:20px;padding:8px 16px;cursor:pointer;border-radius:6px;background-color:#ccc;color:#333}.cancel[_ngcontent-%COMP%]:hover{background-color:#f2f2f2}"]})};var Ire=()=>[1,2,3,4];function Tre(n,e){if(n&1){let t=X();l(0,"div",4)(1,"button",5),T("click",function(){z(t);let r=C();return A(r.goBack())}),$e(),l(2,"svg",6),k(3,"path",7),d()(),lt(),l(4,"h2",8),m(5),d()()}if(n&2){let t=C();p(2),xt("transform",t.lang.currentLang==="ar"?"scaleX(-1)":"none"),p(3),$(t.wishlistName)}}function Lre(n,e){n&1&&(l(0,"div",11)(1,"div",12),k(2,"div",13)(3,"div",14)(4,"div",15)(5,"div",16),d()())}function zre(n,e){n&1&&(l(0,"div",9),j(1,Lre,6,0,"div",10),d()),n&2&&(p(),_("ngForOf",Kt(1,Ire)))}function Are(n,e){if(n&1){let t=X();l(0,"div",11)(1,"app-slider-card",18),T("cardClick",function(r){z(t);let o=C(2);return A(o.onPropertyClick(r))})("wishlistClick",function(r){z(t);let o=C(2);return A(o.onWishlistClick(r))}),d()()}if(n&2){let t=e.$implicit,i=C(2);p(),_("propertyId",t.id)("imageUrl",i.getPropertyImage(t))("title",t.title)("subtitle",t.city+", "+t.country)("price",t.pricePerNight)("rating",t.averageRating)("isFavourite",t.isFavourite??!1)}}function Nre(n,e){if(n&1&&(l(0,"div",9),j(1,Are,2,7,"div",17),d()),n&2){let t=C();p(),_("ngForOf",t.properties)("ngForTrackBy",t.trackByPropertyId)}}function Rre(n,e){if(n&1){let t=X();l(0,"app-wish-list-modal",19),T("close",function(){z(t);let r=C();return A(r.onClose())})("finish",function(r){z(t);let o=C();return A(o.onFinish(r))}),d()}if(n&2){let t=C();_("propertyId",t.selectedPropertyId)("show",t.show)("userId",t.authService.userId??void 0)}}var u5=class n{constructor(e,t,i,r,o,a,c){this.route=e;this.wishlistService=t;this.router=i;this.authService=r;this.dialogService=o;this.snackBar=a;this.lang=c}properties=[];selectedPropertyId;show=!1;wishlistId;wishlistName="";onPropertyClick(e){this.router.navigate(["/property",e])}onWishlistClick(e){if(!this.authService.userId){this.showToast("Please log in to manage wishlist.","top","right"),this.dialogService.openDialog("login");return}this.removeFromWishlist(e)}removeFromWishlist(e){this.wishlistService.removePropertyFromWishlist(e).subscribe({next:t=>{if(t){let i=this.properties.find(r=>r.id===e);this.properties=this.properties.filter(r=>r.id!==e),i&&(i.isFavourite=!1),this.showToast("Property removed from wishlist","bottom","left"),this.properties.length===0&&this.router.navigate(["/WishLists"])}else this.showToast("Couldn't remove the property","bottom","left")},error:t=>{console.error("Error removing property:",t),this.showToast("Couldn't remove the property","bottom","left")}})}onFinish(e){this.onClose(),e.subscribe({next:t=>{if(t){let i=this.properties.find(r=>r.id===this.selectedPropertyId);i&&(i.isFavourite=!0),this.showToast("Property added to wishlist","bottom","left")}else this.showToast("Couldn't add the property","bottom","left")},error:()=>{this.showToast("Couldn't add the property","bottom","left")}})}showToast(e,t,i){this.snackBar.open(e,"Close",{duration:3e3,horizontalPosition:i,verticalPosition:t,panelClass:["custom-snackbar"]})}onClose(){this.show=!1}goBack(){window.history.back()}ngOnInit(){this.route.paramMap.subscribe(e=>{let t=e.get("wishlistId");t&&(this.wishlistId=+t,this.fetchProperties())})}trackByPropertyId(e,t){return t.id}isLoading=!0;fetchProperties(){this.isLoading=!0,this.wishlistService.getPropertiesInWishlist(this.wishlistId).subscribe(e=>{this.properties=e.properties,this.wishlistName=e.name,this.isLoading=!1,console.log("Wishlist:",this.wishlistName,"Properties:",this.properties)},e=>{this.isLoading=!1,console.error("Error loading wishlist properties",e)})}getPropertyImage(e){let t=e.images?.find(i=>i.isCover&&!i.isDeleted);return t?.imageUrl?`${Ke.base}${t.imageUrl}`:"assets/images/deafult.png"}static \u0275fac=function(t){return new(t||n)(V(qn),V(Uo),V(nt),V(dt),V(ai),V(vn),V(Yo))};static \u0275cmp=le({type:n,selectors:[["app-wish-list-properties"]],decls:5,vars:4,consts:[[1,"container","mt-4"],["class","d-flex align-items-center gap-4 mb-4",4,"ngIf"],["class","row",4,"ngIf"],["class","col-12",3,"propertyId","show","userId","close","finish",4,"ngIf"],[1,"d-flex","align-items-center","gap-4","mb-4"],[1,"btn","goBack","rounded-circle","p-2",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none"],["d","M15 18L9 12L15 6","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"mb-0","fs-4"],[1,"row"],["class","col-lg-3 col-md-4 col-sm-6 mb-4",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-4","col-sm-6","mb-4"],[1,"p-2","rounded"],[1,"shimmer","rounded","mb-2",2,"height","180px"],[1,"shimmer-line","w-75","mb-2"],[1,"shimmer-line","w-50","mb-1"],[1,"shimmer-line","w-100"],["class","col-lg-3 col-md-4 col-sm-6 mb-4",4,"ngFor","ngForOf","ngForTrackBy"],[3,"cardClick","wishlistClick","propertyId","imageUrl","title","subtitle","price","rating","isFavourite"],[1,"col-12",3,"close","finish","propertyId","show","userId"]],template:function(t,i){t&1&&(l(0,"div",0),j(1,Tre,6,3,"div",1)(2,zre,2,2,"div",2)(3,Nre,2,2,"div",2)(4,Rre,1,3,"app-wish-list-modal",3),d()),t&2&&(p(),_("ngIf",!i.isLoading&&i.properties.length>0),p(),_("ngIf",i.isLoading),p(),_("ngIf",!i.isLoading&&i.properties.length>0),p(),_("ngIf",i.show))},dependencies:[Ni,_1,he,Xe,Ce,nl],styles:[".goBack[_ngcontent-%COMP%]:hover{background-color:var(--border-color)}"]})};var p5=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=le({type:n,selectors:[["app-not-found"]],decls:40,vars:0,consts:[[1,"not-found-container"],[1,"page-container","page-container-responsive","space-top-4"],["href","/","routerLink","/",1,"icon","icon-airbnb","link-icon","h2"],[1,"screen-reader-only"],[1,"page-container","page-container-responsive"],[1,"row","space-top-8","space-8"],[1,"col-5","col-middle"],[1,"text-jumbo","text-ginormous"],[1,"list-unstyled"],["routerLink","/"],["routerLink","/search"],["routerLink","/help"],["routerLink","/travel"],["routerLink","/hosting"],["routerLink","/trust"],["routerLink","/sitemap"],[1,"col-5","col-middle","text-center"],["src","https://a0.muscache.com/airbnb/static/error_pages/404-Airbnb_final-d652ff855b1335dd3eedc3baa8dc8b69.gif","width","313","height","428","alt","Girl has dropped her ice cream.","loading","lazy"]],template:function(t,i){t&1&&(Pe(0,"div",0)(1,"header",1)(2,"a",2)(3,"span",3),m(4," Airbnb "),Le()()(),Pe(5,"div",4)(6,"div",5)(7,"div",6)(8,"h1",7),m(9,"Oops!"),Le(),Pe(10,"h2"),m(11,"We can't seem to find the page you're looking for."),Le(),Pe(12,"h6"),m(13,"Error code: 404"),Le(),Pe(14,"ul",8)(15,"li"),m(16,"Here are some helpful links instead:"),Le(),Pe(17,"li")(18,"a",9),m(19,"Home"),Le()(),Pe(20,"li")(21,"a",10),m(22,"Search"),Le()(),Pe(23,"li")(24,"a",11),m(25,"Help"),Le()(),Pe(26,"li")(27,"a",12),m(28,"Traveling on Airbnb"),Le()(),Pe(29,"li")(30,"a",13),m(31,"Hosting on Airbnb"),Le()(),Pe(32,"li")(33,"a",14),m(34,"Trust & Safety"),Le()(),Pe(35,"li")(36,"a",15),m(37,"Sitemap"),Le()()()(),Pe(38,"div",16),pn(39,"img",17),Le()()()())},styles:[".not-found-container[_ngcontent-%COMP%]{min-height:100vh;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;color:#484848;background-color:#fff}.page-container[_ngcontent-%COMP%]{margin:0 auto;position:relative}.page-container-responsive[_ngcontent-%COMP%]{max-width:1128px;padding-left:24px;padding-right:24px}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-left:-12px;margin-right:-12px}.col-5[_ngcontent-%COMP%]{flex:0 0 41.66667%;max-width:41.66667%;padding-left:12px;padding-right:12px}.col-middle[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.text-center[_ngcontent-%COMP%]{text-align:center}.space-top-4[_ngcontent-%COMP%]{padding-top:32px}.space-top-8[_ngcontent-%COMP%]{padding-top:64px}.space-8[_ngcontent-%COMP%]{padding-bottom:64px}.icon-airbnb[_ngcontent-%COMP%]{display:inline-block;text-decoration:none;color:#222;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;font-size:24px;font-weight:700;letter-spacing:-.5px;line-height:32px}.icon-airbnb[_ngcontent-%COMP%]   .screen-reader-only[_ngcontent-%COMP%]{position:static!important;height:auto;width:auto;overflow:visible;clip:auto;white-space:normal}.icon-airbnb[_ngcontent-%COMP%]:hover{color:#484848;transition:color .2s ease}.h2[_ngcontent-%COMP%]{font-size:22px;font-weight:600;line-height:26px;margin:0}.screen-reader-only[_ngcontent-%COMP%]{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}.text-jumbo[_ngcontent-%COMP%]{font-size:48px;font-weight:800;line-height:52px}.text-ginormous[_ngcontent-%COMP%]{font-size:64px;font-weight:800;line-height:68px;margin:0 0 16px;color:#484848}h2[_ngcontent-%COMP%]{font-size:22px;font-weight:600;line-height:26px;margin:0 0 16px;color:#484848}h6[_ngcontent-%COMP%]{font-size:14px;font-weight:600;line-height:18px;margin:0 0 24px;color:#767676}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none;margin:0}.list-unstyled[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px;font-size:16px;line-height:20px}.list-unstyled[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{margin-bottom:16px;font-weight:600}.list-unstyled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#008489;text-decoration:none}.list-unstyled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}img[_ngcontent-%COMP%]{max-width:100%;height:auto}@media (max-width: 743px){.col-5[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%;margin-bottom:32px}.row[_ngcontent-%COMP%]{flex-direction:column}.text-ginormous[_ngcontent-%COMP%]{font-size:48px;line-height:52px}.page-container-responsive[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}.space-top-8[_ngcontent-%COMP%]{padding-top:32px}.space-8[_ngcontent-%COMP%]{padding-bottom:32px}}@media (max-width: 550px){.text-ginormous[_ngcontent-%COMP%]{font-size:32px;line-height:36px}h2[_ngcontent-%COMP%]{font-size:18px;line-height:22px}}"]})};var Fre=n=>({"dark-mode":n});function Vre(n,e){if(n&1){let t=X();l(0,"button",7),T("click",function(){z(t);let r=C(2);return A(r.confirm.cancel())}),m(1),d()}if(n&2){let t=C(2);p(),U(" ",t.confirm.cancelText," ")}}function Bre(n,e){if(n&1){let t=X();l(0,"div",1)(1,"div",2)(2,"h3"),m(3),d(),l(4,"p",3),m(5),d(),l(6,"div",4),j(7,Vre,2,1,"button",5),l(8,"button",6),T("click",function(){z(t);let r=C();return A(r.confirm.confirm())}),m(9),d()()()()}if(n&2){let t=C();_("ngClass",nn(6,Fre,t.isDarkMode())),p(3),$(t.confirm.title),p(2),$(t.confirm.message),p(2),_("ngIf",!t.confirm.isPrompt),p(),_("ngClass",t.confirm.isSuccess?"confirm-success":"confirm-danger"),p(),U(" ",t.confirm.oKText," ")}}var N4=class n{constructor(e){this.confirm=e}isDarkMode(){return document.body.classList.contains("dark-mode")}static \u0275fac=function(t){return new(t||n)(V(Ui))};static \u0275cmp=le({type:n,selectors:[["app-confirm"]],decls:1,vars:1,consts:[["class","confirm-overlay",3,"ngClass",4,"ngIf"],[1,"confirm-overlay",3,"ngClass"],[1,"confirm-box","animate"],[2,"min-width","max-content"],[1,"confirm-actions"],["class","btn cancel",3,"click",4,"ngIf"],[1,"btn","confirm",3,"click","ngClass"],[1,"btn","cancel",3,"click"]],template:function(t,i){t&1&&j(0,Bre,10,8,"div",0),t&2&&_("ngIf",i.confirm.visible())},dependencies:[he,Bt,Ce],styles:[".confirm-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;display:flex;align-items:center;justify-content:center;z-index:9999}.confirm-box[_ngcontent-%COMP%]{background:#fff;color:#222;padding:24px 20px;border-radius:10px;width:90%;max-width:fit-content;min-width:400px;box-shadow:0 10px 25px #0003;text-align:center;animation:_ngcontent-%COMP%_fadeInUp .3s ease}.confirm-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:12px}.confirm-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px}.confirm-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}.btn[_ngcontent-%COMP%]{padding:10px 18px;border:none;border-radius:6px;cursor:pointer;font-weight:700;transition:background .3s ease}.confirm[_ngcontent-%COMP%]{color:#fff}.confirm-success[_ngcontent-%COMP%]{background:linear-gradient(to right,#28a745,#218838)}.confirm-success[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#218838,#28a745)}.confirm-danger[_ngcontent-%COMP%]{background-color:#e23a3a}.cancel[_ngcontent-%COMP%]{background-color:#ccc;color:#333}.cancel[_ngcontent-%COMP%]:hover{background-color:#b0b0b0}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}.dark-mode[_ngcontent-%COMP%]   .confirm-box[_ngcontent-%COMP%]{background:#2a2a2a;color:#fff}.dark-mode[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{background-color:#444;color:#fff}.dark-mode[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]{background-color:#e23a3a}"]})};function jre(n,e){if(n&1&&(l(0,"div",17)(1,"div",18),k(2,"div",19),d(),l(3,"span",20),m(4),d()()),n&2){let t=C(2);p(2),xt("width",t.uploadProgress,"%"),p(2),U("Uploading... ",t.uploadProgress,"%")}}function Hre(n,e){n&1&&(l(0,"div",21)(1,"div",22),m(2,"\u{1F5D1}\uFE0F"),d(),l(3,"span",20),m(4,"Deleting images..."),d()())}function Ure(n,e){if(n&1&&(l(0,"div",14),j(1,jre,5,3,"div",15)(2,Hre,5,0,"div",16),d()),n&2){let t=C();p(),_("ngIf",t.uploading),p(),_("ngIf",t.deleting)}}function $re(n,e){n&1&&($e(),l(0,"svg",23),k(1,"path",24),d())}function Wre(n,e){n&1&&($e(),l(0,"svg",23),k(1,"path",25)(2,"path",26),d())}function Gre(n,e){if(n&1){let t=X();l(0,"button",33),T("click",function(){z(t);let r=C(2);return A(r.deleteSelectedImages())}),m(1),d()}if(n&2){let t=C(2);_("disabled",t.deleting),p(),Nt(" Delete ",t.imagesToDelete.size," Image",t.imagesToDelete.size>1?"s":""," ")}}function Yre(n,e){if(n&1){let t=X();l(0,"div",27)(1,"div",28)(2,"button",29),T("click",function(){z(t);let r=C();return A(r.toggleDeleteMode())}),$e(),l(3,"svg",23),k(4,"path",30)(5,"path",31),d(),m(6),d(),j(7,Gre,2,3,"button",32),d()()}if(n&2){let t=C();p(2),Me("active",t.deleteMode),_("disabled",t.uploading||t.deleting),p(4),U(" ",t.deleteMode?"Cancel Delete":"Delete Photos"," "),p(),_("ngIf",t.deleteMode&&t.imagesToDelete.size>0)}}function qre(n,e){n&1&&($e(),l(0,"svg",41),k(1,"path",42),d())}function Zre(n,e){if(n&1){let t=X();l(0,"div",38),T("click",function(){z(t);let r=C().$implicit,o=C();return A(o.toggleImageForDeletion(r.id))}),l(1,"div",39),j(2,qre,2,0,"svg",40),d()()}if(n&2){let t=C().$implicit,i=C();p(),Me("checked",i.isImageSelectedForDeletion(t.id)),p(),_("ngIf",i.isImageSelectedForDeletion(t.id))}}function Xre(n,e){if(n&1&&(l(0,"div",34)(1,"div",35),k(2,"img",36),j(3,Zre,3,3,"div",37),d()()),n&2){let t=e.$implicit,i=e.index,r=C();Me("delete-mode",r.deleteMode)("selected-for-delete",r.isImageSelectedForDeletion(t.id)),p(2),_("src",r.baseUrl+"/"+t.imageUrl,et)("alt","Property photo "+(i+1)),p(),_("ngIf",r.deleteMode)}}function Kre(n,e){if(n&1){let t=X();l(0,"div",34)(1,"div",43),k(2,"img",36),l(3,"button",44),T("click",function(){let r=z(t).index,o=C();return A(o.removeSelectedFile(r))}),$e(),l(4,"svg",23),k(5,"path",45),d()(),lt(),l(6,"div",46),m(7,"Preview"),d()()()}if(n&2){let t=e.$implicit,i=e.index,r=C();p(2),_("src",r.getPreviewUrl(t),et)("alt","Preview "+(i+1))}}function Qre(n,e){if(n&1&&(l(0,"small"),m(1),d()),n&2){let t=C(2);p(),U("(",t.selectedFiles.length," selected)")}}function Jre(n,e){if(n&1){let t=X();l(0,"div",34)(1,"div",47),T("click",function(){z(t);let r=qi(10);return A(r.click())}),l(2,"div",48),$e(),l(3,"svg",49),k(4,"path",25)(5,"path",50),d(),lt(),l(6,"span"),m(7,"Add photos"),d(),j(8,Qre,2,1,"small",51),d()(),l(9,"input",52,0),T("change",function(r){z(t);let o=C();return A(o.onFilesSelected(r))}),d()()}if(n&2){let t=C();p(8),_("ngIf",t.selectedFiles.length>0)}}function eoe(n,e){n&1&&(l(0,"span",22),m(1,"\u23F3"),d())}function toe(n,e){if(n&1&&(l(0,"span"),m(1),d()),n&2){let t=C(2);p(),Nt("Upload ",t.selectedFiles.length," Photo",t.selectedFiles.length>1?"s":"")}}function noe(n,e){if(n&1){let t=X();l(0,"div",53)(1,"button",54),T("click",function(){z(t);let r=C();return A(r.uploadSelectedPhotos())}),j(2,eoe,2,0,"span",55)(3,toe,2,2,"span",51),d(),l(4,"button",56),T("click",function(){z(t);let r=C();return A(r.clearSelectedFiles())}),m(5," Clear Selection "),d()()}if(n&2){let t=C();p(),_("disabled",t.uploading),p(),_("ngIf",t.uploading),p(),_("ngIf",!t.uploading),p(),_("disabled",t.uploading)}}function ioe(n,e){if(n&1&&(l(0,"div",57)(1,"div",58),$e(),l(2,"svg",23),k(3,"path",59),d(),lt(),l(4,"span")(5,"strong"),m(6),d(),m(7," - You need at least 5 photos to save and continue"),d()()()),n&2){let t=C();p(6),Nt("",5-t.getTotalPhotoCount()," more photo",5-t.getTotalPhotoCount()>1?"s":""," required")}}function roe(n,e){n&1&&(l(0,"div",57)(1,"div",60),$e(),l(2,"svg",23),k(3,"path",24),d(),lt(),l(4,"span")(5,"strong"),m(6,"Great!"),d(),m(7," You have enough photos to continue. You can still add more if you'd like."),d()()())}var f5=class n{constructor(e,t,i){this.propertyService=e;this.snackBar=t;this.confirmService=i}data=null;dataChange=new ye;hasChanges=new ye;saveComplete=new ye;validationChange=new ye;internalData=null;selectedFiles=[];uploadProgress=0;uploading=!1;deleting=!1;baseUrl=Ke.base;previewUrls=new Map;imagesToDelete=new Set;deleteMode=!1;showToast(e,t,i){this.snackBar.open(e,"Close",{duration:3e3,horizontalPosition:i,verticalPosition:t,panelClass:["custom-snackbar"]})}ngOnInit(){this.data&&(this.internalData=ie({},this.data),this.loadPropertyImages().catch(e=>{console.error("Failed to load initial images:",e)})),this.updateValidation()}ngOnDestroy(){this.selectedFiles.forEach(e=>{let t=this.previewUrls.get(e);t&&URL.revokeObjectURL(t)}),this.previewUrls.clear()}updateValidation(){let t=this.getTotalPhotoCount()>=5;this.validationChange.emit(t)}onFilesSelected(e){let i=Array.from(e.target.files).filter(c=>c.type.startsWith("image/"));this.selectedFiles=[...this.selectedFiles,...i],i.forEach(c=>{this.previewUrls.has(c)||this.previewUrls.set(c,URL.createObjectURL(c))});let r=20,o=this.internalData?.photos?.length||0;if(o+this.selectedFiles.length>r){let c=r-o;this.selectedFiles.splice(c).forEach(h=>{let v=this.previewUrls.get(h);v&&(URL.revokeObjectURL(v),this.previewUrls.delete(h))}),console.warn(`Maximum ${r} photos allowed`)}this.updateHasChanges(),this.updateValidation(),e.target.value=""}getPreviewUrl(e){return this.previewUrls.has(e)||this.previewUrls.set(e,URL.createObjectURL(e)),this.previewUrls.get(e)}removeSelectedFile(e){let t=this.selectedFiles[e],i=this.previewUrls.get(t);i&&(URL.revokeObjectURL(i),this.previewUrls.delete(t)),this.selectedFiles.splice(e,1),this.updateHasChanges(),this.updateValidation()}clearSelectedFiles(){this.selectedFiles.forEach(e=>{let t=this.previewUrls.get(e);t&&(URL.revokeObjectURL(t),this.previewUrls.delete(e))}),this.selectedFiles=[],this.updateHasChanges(),this.updateValidation()}toggleDeleteMode(){this.deleteMode=!this.deleteMode,this.deleteMode||(this.imagesToDelete.clear(),this.updateHasChanges(),this.updateValidation())}toggleImageForDeletion(e){this.imagesToDelete.has(e)?this.imagesToDelete.delete(e):this.imagesToDelete.add(e),this.updateHasChanges(),this.updateValidation()}isImageSelectedForDeletion(e){return this.imagesToDelete.has(e)}deleteSelectedImages(){if(this.imagesToDelete.size===0||!this.internalData)return;let e=Array.from(this.imagesToDelete);if((this.internalData.photos?.length||0)-e.length<5){this.showToast("You must keep at least 5 photos for your property.","bottom","left");return}this.confirmService.show("Delete Images",`Are you sure you want to delete ${e.length} image(s)?`,()=>{this.performImageDeletion(e)},{okText:"Delete",isSuccess:!1,cancelText:"Cancel"})}performImageDeletion(e){this.internalData&&(this.deleting=!0,this.propertyService.deletePropertyImages(this.internalData.propertyId,e).subscribe({next:t=>{if(console.log("Delete response:",t),t&&t.isSuccess===!0)console.log("Images deleted successfully"),this.internalData?.photos&&(this.internalData.photos=this.internalData.photos.filter(i=>!this.imagesToDelete.has(i.id))),this.imagesToDelete.clear(),this.deleteMode=!1,this.deleting=!1,this.dataChange.emit(ie({},this.internalData)),this.saveComplete.emit(),this.updateHasChanges(),this.updateValidation();else{let i=t?.message||"Delete operation failed";console.error("Delete failed:",i),this.showToast(`Delete failed: ${i}`,"bottom","left"),this.deleting=!1}},error:t=>{this.showToast("Failed to delete image","bottom","left"),console.error("Delete error:",t),this.deleting=!1;let i="Failed to delete images";if(t.status===204){this.showToast("Images deleted successfully","bottom","left"),console.log("Delete successful (204 No Content)"),this.internalData?.photos&&(this.internalData.photos=this.internalData.photos.filter(r=>!this.imagesToDelete.has(r.id))),this.imagesToDelete.clear(),this.deleteMode=!1,this.deleting=!1,this.dataChange.emit(ie({},this.internalData)),this.saveComplete.emit(),this.updateHasChanges(),this.updateValidation();return}t.status===401?i="Unauthorized: You don't have permission to delete these images":t.status===404?i="Images not found":t.status===400?i="Bad request: Invalid image IDs or property ID":t.status===500?i="Server error: Please try again later":t.error?.message&&(i=t.error.message),this.showToast(`Delete Error: ${i}`,"bottom","left")}}))}updateHasChanges(){let e=this.selectedFiles.length>0,t=this.imagesToDelete.size>0;this.hasChanges.emit(e||t)}uploadSelectedPhotos(){if(this.selectedFiles.length===0||!this.internalData)return;let e=new FormData;this.selectedFiles.forEach(t=>{if(t.size===0||t.size>10*1024*1024||!t.type.startsWith("image/")){console.error("Invalid file:",t.name);return}e.append("Files",t,t.name)}),e.append("HostId",this.internalData.hostId||""),e.append("PropertyId",String(this.internalData.propertyId)||"1"),e.append("GroupName","dsah"),e.append("CoverIndex","2"),console.log("Uploading files for property:",this.internalData.propertyId),this.uploading=!0,this.uploadProgress=0,this.propertyService.uploadPhotos(e).subscribe({next:t=>{t.type===Na.UploadProgress&&t.total?this.uploadProgress=Math.round(100*t.loaded/t.total):t.type===Na.Response&&(console.log("Upload successful!",t.body),this.clearSelectedFiles(),this.uploading=!1,this.uploadProgress=0,this.loadPropertyImages().then(()=>{this.saveComplete.emit()}).catch(i=>{console.error("Failed to reload images after upload:",i),this.saveComplete.emit()}))},error:t=>{console.error("Upload failed:",t),this.uploading=!1,this.uploadProgress=0;let i="Upload failed";if(t.status===400&&t.error?.errors){let r=t.error.errors;i=Object.values(r).flat().join(", ")}else t.error?.message&&(i=t.error.message);this.showToast(`Upload Error: ${i}`,"bottom","left")}})}loadPropertyImages(){return new Promise((e,t)=>{this.internalData?.propertyId?(console.log("Loading images for property:",this.internalData.propertyId),this.propertyService.getImagesByPropertyId(this.internalData.propertyId).subscribe({next:i=>{console.log("Loaded images:",i),this.internalData&&(this.internalData.photos=i,this.dataChange.emit(ie({},this.internalData)),this.updateValidation()),e()},error:i=>{console.error("Failed to reload images:",i),t(i)}})):e()})}getTotalPhotoCount(){let e=(this.internalData?.photos?.length||0)-this.imagesToDelete.size,t=this.selectedFiles.length;return e+t}handleSave(){return new Promise((e,t)=>{if(this.getTotalPhotoCount()<5){t(new Error("At least 5 photos are required"));return}let i=this.selectedFiles.length>0,r=this.imagesToDelete.size>0;if(i&&r){this.deleteSelectedImages();let o=this.saveComplete.subscribe(()=>{o.unsubscribe();let a=this.saveComplete.subscribe(()=>{a.unsubscribe(),e()});this.uploadSelectedPhotos()})}else if(r){let o=this.saveComplete.subscribe(()=>{o.unsubscribe(),e()});this.deleteSelectedImages()}else if(i){let o=this.saveComplete.subscribe(()=>{o.unsubscribe(),e()});this.uploadSelectedPhotos()}else e()})}static \u0275fac=function(t){return new(t||n)(V(Cn),V(vn),V(Ui))};static \u0275cmp=le({type:n,selectors:[["app-photos-section"]],inputs:{data:"data"},outputs:{dataChange:"dataChange",hasChanges:"hasChanges",saveComplete:"saveComplete",validationChange:"validationChange"},decls:22,vars:15,consts:[["photoInput",""],[1,"section-content"],[1,"section-header"],["class","upload-status",4,"ngIf"],[1,"photo-count-status"],[1,"count-indicator"],["width","16","height","16","fill","currentColor","viewBox","0 0 16 16",4,"ngIf"],["class","delete-controls",4,"ngIf"],[1,"photos-grid"],["class","photo-item",3,"delete-mode","selected-for-delete",4,"ngFor","ngForOf"],["class","photo-item",4,"ngFor","ngForOf"],["class","photo-item",4,"ngIf"],["class","upload-section",4,"ngIf"],["class","photo-requirements",4,"ngIf"],[1,"upload-status"],["class","upload-progress",4,"ngIf"],["class","delete-progress",4,"ngIf"],[1,"upload-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"delete-progress"],[1,"spinner"],["width","16","height","16","fill","currentColor","viewBox","0 0 16 16"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.061L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"],[1,"delete-controls"],[1,"delete-mode-toggle"],["type","button",1,"delete-mode-btn",3,"click","disabled"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"],["type","button","class","confirm-delete-btn",3,"disabled","click",4,"ngIf"],["type","button",1,"confirm-delete-btn",3,"click","disabled"],[1,"photo-item"],[1,"photo-wrapper"],["loading","lazy",1,"photo-image",3,"src","alt"],["class","delete-overlay",3,"click",4,"ngIf"],[1,"delete-overlay",3,"click"],[1,"delete-checkbox"],["width","16","height","16","fill","white","viewBox","0 0 16 16",4,"ngIf"],["width","16","height","16","fill","white","viewBox","0 0 16 16"],["d","M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"],[1,"photo-wrapper","preview-photo"],["type","button",1,"photo-remove-btn",3,"click"],["d","M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"],[1,"preview-badge"],[1,"add-photo-btn",3,"click"],[1,"add-photo-content"],["width","32","height","32","fill","currentColor","viewBox","0 0 16 16"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"],[4,"ngIf"],["type","file","accept","image/*","multiple","",1,"d-none",3,"change"],[1,"upload-section"],["type","button",1,"upload-selected-btn",3,"click","disabled"],["class","spinner",4,"ngIf"],["type","button",1,"clear-selected-btn",3,"click","disabled"],[1,"photo-requirements"],[1,"requirement-item","error"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"],[1,"requirement-item","success"]],template:function(t,i){t&1&&(l(0,"div",1)(1,"div",2)(2,"h2"),m(3,"Add some photos of your house"),d(),l(4,"p"),m(5," You'll need at least 5 photos to continue. You can add more or make changes later. "),d()(),j(6,Ure,3,2,"div",3),l(7,"div",4)(8,"div",5),j(9,$re,2,0,"svg",6)(10,Wre,3,0,"svg",6),l(11,"span"),m(12),d()()(),j(13,Yre,8,5,"div",7),l(14,"div",8),j(15,Xre,4,7,"div",9)(16,Kre,8,2,"div",10)(17,Jre,11,1,"div",11),d(),j(18,noe,6,4,"div",12)(19,ioe,8,2,"div",13)(20,roe,8,0,"div",13),d(),k(21,"app-confirm")),t&2&&(p(6),_("ngIf",i.uploading||i.deleting),p(2),Me("valid",i.getTotalPhotoCount()>=5)("invalid",i.getTotalPhotoCount()<5),p(),_("ngIf",i.getTotalPhotoCount()>=5),p(),_("ngIf",i.getTotalPhotoCount()<5),p(2),U("",i.getTotalPhotoCount()," of 5 minimum photos"),p(),_("ngIf",((i.internalData==null||i.internalData.photos==null?null:i.internalData.photos.length)??0)>0),p(2),_("ngForOf",i.internalData==null?null:i.internalData.photos),p(),_("ngForOf",i.selectedFiles),p(),_("ngIf",!i.deleteMode),p(),_("ngIf",i.selectedFiles.length>0&&!i.deleteMode),p(),_("ngIf",i.getTotalPhotoCount()<5),p(),_("ngIf",i.getTotalPhotoCount()>=5))},dependencies:[he,Xe,Ce,N4],styles:['@import"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css";.airbnb-listing-editor[_ngcontent-%COMP%]{background-color:var(--bg-color);font-family:Circular,Helvetica Neue,Arial,sans-serif}.editor-header[_ngcontent-%COMP%]{background:var(--bg-color);border-bottom:1px solid var(--border-color);position:sticky;top:0;z-index:1000}.editor-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{max-width:1760px}.editor-content[_ngcontent-%COMP%]{background-color:var(--bg-color)}.editor-content[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{max-width:1760px;padding:0 24px}.sidebar[_ngcontent-%COMP%]{background:var(--bg-color);position:sticky;top:85px;height:calc(100vh - 85px);display:flex;flex-direction:column}.sidebar-header[_ngcontent-%COMP%]{padding:24px 16px 16px;border-bottom:1px solid var(--border-color)}.sidebar-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.back-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px;border-radius:50%;transition:background-color .2s;flex-shrink:0}.back-btn[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.editor-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:var(--primary-text-color);margin:0;flex:1}.menu-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px 0}.menu-list[_ngcontent-%COMP%]{padding:0 8px}.menu-item-wrapper[_ngcontent-%COMP%]{margin-bottom:12px}.menu-item[_ngcontent-%COMP%]{width:100%;background:none;border:none;border-radius:12px;padding:16px;text-align:left;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;position:relative}.menu-item[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.menu-item.active[_ngcontent-%COMP%]{background-color:var(--selected-bg);color:var(--selected-text)}.menu-item-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1}.menu-item-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:24px;text-align:center}.menu-item-text[_ngcontent-%COMP%]{flex:1}.menu-item-label[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:var(--primary-text-color);display:block}.menu-item.active[_ngcontent-%COMP%]   .menu-item-label[_ngcontent-%COMP%]{color:var(--selected-text)}.menu-item-status[_ngcontent-%COMP%]{margin-top:4px}.saved-indicator[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text-color)}.menu-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:12px}.changes-dot[_ngcontent-%COMP%]{width:8px;height:8px;background-color:var(--airbnb-red);border-radius:50%;display:inline-block}.saving-indicator[_ngcontent-%COMP%]{color:#007bff;animation:_ngcontent-%COMP%_pulse 1s infinite}.content-area[_ngcontent-%COMP%]{padding:24px 32px;max-width:none;display:flex;justify-content:center;height:calc(100vh - 85px);overflow-y:auto}.content-wrapper[_ngcontent-%COMP%]{width:100%;max-width:600px;height:fit-content}.section-content[_ngcontent-%COMP%]{margin-bottom:32px}.section-header[_ngcontent-%COMP%]{margin-bottom:32px;text-align:center}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:var(--primary-text-color);margin-bottom:8px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:var(--secondary-text-color);margin:0}.content-save-section[_ngcontent-%COMP%]{margin-top:32px;text-align:center;padding-top:24px;border-top:1px solid var(--border-color)}.save-btn-content[_ngcontent-%COMP%]{background-color:var(--airbnb-red);border:none;color:#fff;padding:12px 24px;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:background-color .2s;min-width:120px;display:inline-flex;align-items:center;justify-content:center;gap:8px}.save-btn-content[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--airbnb-dark-red)}.save-btn-content[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.save-btn-content.saved[_ngcontent-%COMP%]{background-color:#00a818}.save-btn-content.saved[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#008a15}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid transparent;border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.form-control[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:8px;padding:12px 16px;font-size:16px;transition:border-color .2s,box-shadow .2s;background-color:var(--bg-color);color:var(--primary-text-color)}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--primary-text-color);box-shadow:0 0 0 2px var(--shadow-color);outline:none}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#c13515}.invalid-feedback[_ngcontent-%COMP%]{color:#c13515;font-size:14px;margin-top:4px}.character-count[_ngcontent-%COMP%]{text-align:right;font-size:14px;color:var(--secondary-text-color);margin-top:4px}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--bg);display:flex;align-items:center;justify-content:center;z-index:9999}.loading-content[_ngcontent-%COMP%]{text-align:center}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border-color);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 16px}.loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:var(--secondary-text-color);margin:0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px;color:var(--secondary-text-color)}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.character-count[_ngcontent-%COMP%], .invalid-feedback[_ngcontent-%COMP%]{font-size:12px;margin-top:5px}.character-count[_ngcontent-%COMP%]{color:var(--secondary-text-color);text-align:right}@keyframes _ngcontent-%COMP%_iconAppear{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 991.98px){.sidebar[_ngcontent-%COMP%]{position:static;height:auto;border-right:none;border-bottom:1px solid var(--border-color)}.content-area[_ngcontent-%COMP%]{padding:16px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .title-input[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 767.98px){.editor-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding:12px 16px}.editor-title[_ngcontent-%COMP%]{font-size:18px}.sidebar-title-container[_ngcontent-%COMP%]{gap:8px}.photos-grid[_ngcontent-%COMP%], .property-types-grid[_ngcontent-%COMP%], .amenities-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.guests-selector[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.content-wrapper[_ngcontent-%COMP%]{max-width:none;padding:0 16px}}.initial-loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--bg);display:flex;justify-content:center;align-items:center;z-index:9999;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.initial-loading-content[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:var(--bg-color);border-radius:12px;box-shadow:0 4px 20px var(--dropdown-shadow);max-width:300px}.initial-loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-size:16px;color:var(--secondary-text-color);font-weight:500}.initial-loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border-color);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_initialSpin 1s linear infinite;margin:0 auto}@keyframes _ngcontent-%COMP%_initialSpin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--bg);display:flex;justify-content:center;align-items:center;z-index:1000}.loading-content[_ngcontent-%COMP%]{text-align:center;color:var(--primary-text-color)}.loading-spinner[_ngcontent-%COMP%]{width:30px;height:30px;border:3px solid var(--border-color);border-top:3px solid var(--primary-text-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}',".photos-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px}.photo-item[_ngcontent-%COMP%]{position:relative}.photo-wrapper[_ngcontent-%COMP%]{position:relative;border-radius:12px;overflow:hidden;aspect-ratio:4/3}.photo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.photo-remove-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;background:var(--bg);border:none;color:#fff;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:0;transition:opacity .2s}.photo-wrapper[_ngcontent-%COMP%]:hover   .photo-remove-btn[_ngcontent-%COMP%]{opacity:1}.add-photo-btn[_ngcontent-%COMP%]{border:2px dashed var(--border-color);border-radius:12px;aspect-ratio:4/3;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:border-color .2s,background-color .2s;background:var(--bg-color)}.add-photo-btn[_ngcontent-%COMP%]:hover{border-color:var(--secondary-text-color);background-color:var(--hover-bg)}.add-photo-content[_ngcontent-%COMP%]{text-align:center;color:var(--secondary-text-color)}.add-photo-content[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-bottom:8px}.preview-badge[_ngcontent-%COMP%]{position:absolute;top:8px;left:8px;background:var(--bg);color:#fff;padding:4px 8px;border-radius:4px;font-size:12px}.delete-controls[_ngcontent-%COMP%]{margin-bottom:1rem}.delete-mode-toggle[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.delete-mode-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border:1px solid #dc3545;background:var(--bg-color);color:#dc3545;border-radius:.375rem;cursor:pointer;font-size:.875rem;transition:all .2s}.delete-mode-btn[_ngcontent-%COMP%]:hover, .delete-mode-btn.active[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.delete-mode-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.confirm-delete-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;background:#dc3545;color:#fff;border:none;border-radius:.375rem;cursor:pointer;font-size:.875rem;font-weight:500;transition:background-color .2s}.confirm-delete-btn[_ngcontent-%COMP%]:hover{background:#c82333}.confirm-delete-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.photo-item.delete-mode[_ngcontent-%COMP%]{position:relative}.photo-item.delete-mode[_ngcontent-%COMP%]   .photo-wrapper[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s}.photo-item.delete-mode[_ngcontent-%COMP%]   .photo-wrapper[_ngcontent-%COMP%]:hover{transform:scale(.98);box-shadow:0 0 0 2px #dc3545;border-radius:.5rem}.photo-item.selected-for-delete[_ngcontent-%COMP%]   .photo-wrapper[_ngcontent-%COMP%]{transform:scale(.95);box-shadow:0 0 0 3px #dc3545;border-radius:.5rem}.delete-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:var(--bg);display:flex;align-items:center;justify-content:center;border-radius:.5rem;cursor:pointer;transition:all .2s}.delete-overlay[_ngcontent-%COMP%]:hover{background:#00000080}.delete-checkbox[_ngcontent-%COMP%]{width:2rem;height:2rem;border:2px solid white;border-radius:.25rem;display:flex;align-items:center;justify-content:center;background:#fff3;transition:all .2s}.delete-checkbox.checked[_ngcontent-%COMP%]{background:#dc3545;border-color:#dc3545}.delete-progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:1rem;background:var(--light-grey-bg);border-radius:.5rem;margin-bottom:1rem}.delete-progress[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.progress-text[_ngcontent-%COMP%]{font-size:.875rem;color:var(--secondary-text-color)}"]})};function ooe(n,e){if(n&1&&(l(0,"div",7),m(1),d()),n&2){let t=C();p(),U(" ",t.getFieldError()," ")}}var m5=class n{constructor(e){this.fb=e;this.initializeForm()}data=null;dataChange=new ye;hasChanges=new ye;validationChange=new ye;titleForm;destroy$=new Re;initialValue="";ngOnInit(){this.setupFormData(),this.setupFormChangeTracking()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeForm(){this.titleForm=this.fb.group({title:["",[ht.required,ht.maxLength(50)]]})}setupFormData(){this.data&&(this.initialValue=this.data.title,this.titleForm.patchValue({title:this.data.title}))}setupFormChangeTracking(){this.titleForm.get("title")?.valueChanges.pipe(ni(300),Oi(),rt(this.destroy$)).subscribe(e=>{let t=e!==this.initialValue,i=this.titleForm.valid;this.hasChanges.emit(t),this.validationChange.emit(i),t&&this.dataChange.emit({title:e})})}isFieldInvalid(){let e=this.titleForm.get("title");return!!(e?.invalid&&e?.touched)}getFieldError(){let e=this.titleForm.get("title");if(e?.errors&&e.touched){if(e.errors.required)return"This field is required";if(e.errors.maxlength)return"Too long"}return""}updateInitialValue(){this.initialValue=this.titleForm.get("title")?.value||"",this.hasChanges.emit(!1)}getCurrentData(){return{title:this.titleForm.get("title")?.value||""}}isValid(){return this.titleForm.valid}static \u0275fac=function(t){return new(t||n)(V(to))};static \u0275cmp=le({type:n,selectors:[["app-title-section"]],inputs:{data:"data"},outputs:{dataChange:"dataChange",hasChanges:"hasChanges",validationChange:"validationChange"},decls:12,vars:5,consts:[[1,"section-content"],[1,"section-header"],[3,"formGroup"],[1,"form-group"],["formControlName","title","placeholder","Cozy and good","maxlength","50","rows","3",1,"form-control","title-input"],[1,"character-count"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"]],template:function(t,i){if(t&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),m(3,"Now, let's give your house a title"),d(),l(4,"p"),m(5,"Short titles work best. Have fun with it\u2014you can always change it later."),d()(),l(6,"form",2)(7,"div",3),k(8,"textarea",4),l(9,"div",5),m(10),d(),j(11,ooe,2,1,"div",6),d()()()),t&2){let r;p(6),_("formGroup",i.titleForm),p(2),Me("is-invalid",i.isFieldInvalid()),p(2),U("",(((r=i.titleForm.get("title"))==null?null:r.value)||"").length,"/50"),p(),_("ngIf",i.isFieldInvalid())}},dependencies:[he,Ce,Ii,mn,Rt,Dt,fn,da,Zi,xo],styles:['@import"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css";.airbnb-listing-editor[_ngcontent-%COMP%]{background-color:var(--bg-color);font-family:Circular,Helvetica Neue,Arial,sans-serif}.editor-header[_ngcontent-%COMP%]{background:var(--bg-color);border-bottom:1px solid var(--border-color);position:sticky;top:0;z-index:1000}.editor-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{max-width:1760px}.editor-content[_ngcontent-%COMP%]{background-color:var(--bg-color)}.editor-content[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{max-width:1760px;padding:0 24px}.sidebar[_ngcontent-%COMP%]{background:var(--bg-color);position:sticky;top:85px;height:calc(100vh - 85px);display:flex;flex-direction:column}.sidebar-header[_ngcontent-%COMP%]{padding:24px 16px 16px;border-bottom:1px solid var(--border-color)}.sidebar-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.back-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px;border-radius:50%;transition:background-color .2s;flex-shrink:0}.back-btn[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.editor-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:var(--primary-text-color);margin:0;flex:1}.menu-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px 0}.menu-list[_ngcontent-%COMP%]{padding:0 8px}.menu-item-wrapper[_ngcontent-%COMP%]{margin-bottom:12px}.menu-item[_ngcontent-%COMP%]{width:100%;background:none;border:none;border-radius:12px;padding:16px;text-align:left;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;position:relative}.menu-item[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.menu-item.active[_ngcontent-%COMP%]{background-color:var(--selected-bg);color:var(--selected-text)}.menu-item-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1}.menu-item-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:24px;text-align:center}.menu-item-text[_ngcontent-%COMP%]{flex:1}.menu-item-label[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:var(--primary-text-color);display:block}.menu-item.active[_ngcontent-%COMP%]   .menu-item-label[_ngcontent-%COMP%]{color:var(--selected-text)}.menu-item-status[_ngcontent-%COMP%]{margin-top:4px}.saved-indicator[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text-color)}.menu-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:12px}.changes-dot[_ngcontent-%COMP%]{width:8px;height:8px;background-color:var(--airbnb-red);border-radius:50%;display:inline-block}.saving-indicator[_ngcontent-%COMP%]{color:#007bff;animation:_ngcontent-%COMP%_pulse 1s infinite}.content-area[_ngcontent-%COMP%]{padding:24px 32px;max-width:none;display:flex;justify-content:center;height:calc(100vh - 85px);overflow-y:auto}.content-wrapper[_ngcontent-%COMP%]{width:100%;max-width:600px;height:fit-content}.section-content[_ngcontent-%COMP%]{margin-bottom:32px}.section-header[_ngcontent-%COMP%]{margin-bottom:32px;text-align:center}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:var(--primary-text-color);margin-bottom:8px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:var(--secondary-text-color);margin:0}.content-save-section[_ngcontent-%COMP%]{margin-top:32px;text-align:center;padding-top:24px;border-top:1px solid var(--border-color)}.save-btn-content[_ngcontent-%COMP%]{background-color:var(--airbnb-red);border:none;color:#fff;padding:12px 24px;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:background-color .2s;min-width:120px;display:inline-flex;align-items:center;justify-content:center;gap:8px}.save-btn-content[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--airbnb-dark-red)}.save-btn-content[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.save-btn-content.saved[_ngcontent-%COMP%]{background-color:#00a818}.save-btn-content.saved[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#008a15}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid transparent;border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.form-control[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:8px;padding:12px 16px;font-size:16px;transition:border-color .2s,box-shadow .2s;background-color:var(--bg-color);color:var(--primary-text-color)}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--primary-text-color);box-shadow:0 0 0 2px var(--shadow-color);outline:none}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#c13515}.invalid-feedback[_ngcontent-%COMP%]{color:#c13515;font-size:14px;margin-top:4px}.character-count[_ngcontent-%COMP%]{text-align:right;font-size:14px;color:var(--secondary-text-color);margin-top:4px}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--bg);display:flex;align-items:center;justify-content:center;z-index:9999}.loading-content[_ngcontent-%COMP%]{text-align:center}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border-color);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 16px}.loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:var(--secondary-text-color);margin:0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px;color:var(--secondary-text-color)}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.character-count[_ngcontent-%COMP%], .invalid-feedback[_ngcontent-%COMP%]{font-size:12px;margin-top:5px}.character-count[_ngcontent-%COMP%]{color:var(--secondary-text-color);text-align:right}@keyframes _ngcontent-%COMP%_iconAppear{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 991.98px){.sidebar[_ngcontent-%COMP%]{position:static;height:auto;border-right:none;border-bottom:1px solid var(--border-color)}.content-area[_ngcontent-%COMP%]{padding:16px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .title-input[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 767.98px){.editor-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding:12px 16px}.editor-title[_ngcontent-%COMP%]{font-size:18px}.sidebar-title-container[_ngcontent-%COMP%]{gap:8px}.photos-grid[_ngcontent-%COMP%], .property-types-grid[_ngcontent-%COMP%], .amenities-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.guests-selector[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.content-wrapper[_ngcontent-%COMP%]{max-width:none;padding:0 16px}}.initial-loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--bg);display:flex;justify-content:center;align-items:center;z-index:9999;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.initial-loading-content[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:var(--bg-color);border-radius:12px;box-shadow:0 4px 20px var(--dropdown-shadow);max-width:300px}.initial-loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-size:16px;color:var(--secondary-text-color);font-weight:500}.initial-loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border-color);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_initialSpin 1s linear infinite;margin:0 auto}@keyframes _ngcontent-%COMP%_initialSpin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--bg);display:flex;justify-content:center;align-items:center;z-index:1000}.loading-content[_ngcontent-%COMP%]{text-align:center;color:var(--primary-text-color)}.loading-spinner[_ngcontent-%COMP%]{width:30px;height:30px;border:3px solid var(--border-color);border-top:3px solid var(--primary-text-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}',".title-input[_ngcontent-%COMP%]{font-size:32px;font-weight:600;min-height:120px;resize:vertical}"]})};function aoe(n,e){n&1&&(l(0,"div",7),m(1," Loading property types... "),d())}function soe(n,e){if(n&1){let t=X();l(0,"div",8),m(1),l(2,"button",9),T("click",function(){z(t);let r=C();return A(r.retryLoadPropertyTypes())}),m(3," Try Again "),d()()}if(n&2){let t=C();p(),U(" ",t.propertyTypesError," ")}}function loe(n,e){if(n&1){let t=X();l(0,"div",13)(1,"button",14),T("click",function(){let r=z(t).$implicit,o=C(2);return A(o.selectPropertyType(r.id))}),l(2,"div",15),k(3,"img",16),d(),l(4,"div",17)(5,"div",18),m(6),d()()()()}if(n&2){let t,i=e.$implicit,r=e.index,o=C(2);xt("animation-delay",400+r*50+"ms"),p(),an("aria-checked",((t=o.propertyTypeForm.get("propertyTypeId"))==null?null:t.value)===i.id),p(2),_("src",o.getPropertyTypeImg(i.iconURL),et)("alt",i.name),p(3),$(i.name)}}function coe(n,e){if(n&1&&(l(0,"form",10)(1,"div",11),j(2,loe,7,6,"div",12),d()()),n&2){let t=C();_("formGroup",t.propertyTypeForm),p(2),_("ngForOf",t.propertyTypes)("ngForTrackBy",t.trackByPropertyType)}}function doe(n,e){n&1&&(l(0,"div",19)(1,"p"),m(2,"No property types available at the moment."),d()())}var h5=class n{constructor(e,t){this.fb=e;this.propertyService=t;this.initializeForm()}data=null;dataChange=new ye;hasChanges=new ye;validationChange=new ye;propertyTypeForm;destroy$=new Re;initialValue=0;propertyTypes=[];isLoadingPropertyTypes=!1;propertyTypesError=null;handleImgService=q(Nr);getPropertyTypeImg(e){return this.handleImgService.handleImage(e)}ngOnInit(){this.loadPropertyTypes(),this.setupFormData(),this.setupFormChangeTracking()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeForm(){this.propertyTypeForm=this.fb.group({propertyTypeId:[0,ht.required]})}loadPropertyTypes(){this.isLoadingPropertyTypes=!0,this.propertyTypesError=null,this.propertyService.getAllPropertyTypes().pipe(rt(this.destroy$)).subscribe({next:e=>{this.propertyTypes=e,this.isLoadingPropertyTypes=!1,console.log("Loaded property types:",e)},error:e=>{console.error("Failed to load property types:",e),this.propertyTypesError="Failed to load property types",this.isLoadingPropertyTypes=!1}})}setupFormData(){this.data&&(this.initialValue=this.data.propertyTypeId,this.propertyTypeForm.patchValue({propertyTypeId:this.data.propertyTypeId}))}setupFormChangeTracking(){this.propertyTypeForm.get("propertyTypeId")?.valueChanges.pipe(ni(100),Oi(),rt(this.destroy$)).subscribe(e=>{let t=e!==this.initialValue,i=this.propertyTypeForm.valid&&e>0;this.hasChanges.emit(t),this.validationChange.emit(i),t&&this.dataChange.emit({propertyTypeId:e})})}selectPropertyType(e){this.propertyTypeForm.patchValue({propertyTypeId:e})}updateInitialValue(){this.initialValue=this.propertyTypeForm.get("propertyTypeId")?.value||0,this.hasChanges.emit(!1)}getCurrentData(){return{propertyTypeId:this.propertyTypeForm.get("propertyTypeId")?.value||0}}isValid(){return this.propertyTypeForm.valid&&this.propertyTypeForm.get("propertyTypeId")?.value>0}getPropertyTypeName(e){return this.propertyTypes.find(i=>i.id===e)?.name||""}retryLoadPropertyTypes(){this.loadPropertyTypes()}trackByPropertyType(e,t){return t.id}static \u0275fac=function(t){return new(t||n)(V(to),V(Cn))};static \u0275cmp=le({type:n,selectors:[["app-property-type-section"]],inputs:{data:"data"},outputs:{dataChange:"dataChange",hasChanges:"hasChanges",validationChange:"validationChange"},decls:8,vars:4,consts:[[1,"step-container"],[1,"title-container"],["tabindex","-1"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],[3,"formGroup",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"loading-state"],[1,"error-state"],["type","button",1,"retry-btn",3,"click"],[3,"formGroup"],["role","radiogroup",1,"property-selector"],["class","property-item",3,"animation-delay",4,"ngFor","ngForOf","ngForTrackBy"],[1,"property-item"],["type","button","role","radio",1,"property-button",3,"click"],[1,"icon-wrapper"],["loading","lazy",1,"property-icon",3,"src","alt"],[1,"label-wrapper"],[1,"property-label"],[1,"empty-state"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"h1",2),m(3,"Which of these best describes your place?"),d()(),j(4,aoe,2,0,"div",3)(5,soe,4,1,"div",4)(6,coe,3,3,"form",5)(7,doe,3,0,"div",6),d()),t&2&&(p(4),_("ngIf",i.isLoadingPropertyTypes),p(),_("ngIf",i.propertyTypesError&&!i.isLoadingPropertyTypes),p(),_("ngIf",!i.isLoadingPropertyTypes&&!i.propertyTypesError),p(),_("ngIf",!i.isLoadingPropertyTypes&&!i.propertyTypesError&&i.propertyTypes.length===0))},dependencies:[he,Xe,Ce,Ii,mn,fn,Zi],styles:['@import"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css";.airbnb-listing-editor[_ngcontent-%COMP%]{background-color:var(--bg-color);font-family:Circular,Helvetica Neue,Arial,sans-serif}.editor-header[_ngcontent-%COMP%]{background:var(--bg-color);border-bottom:1px solid var(--border-color);position:sticky;top:0;z-index:1000}.editor-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{max-width:1760px}.editor-content[_ngcontent-%COMP%]{background-color:var(--bg-color)}.editor-content[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{max-width:1760px;padding:0 24px}.sidebar[_ngcontent-%COMP%]{background:var(--bg-color);position:sticky;top:85px;height:calc(100vh - 85px);display:flex;flex-direction:column}.sidebar-header[_ngcontent-%COMP%]{padding:24px 16px 16px;border-bottom:1px solid var(--border-color)}.sidebar-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.back-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px;border-radius:50%;transition:background-color .2s;flex-shrink:0}.back-btn[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.editor-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:var(--primary-text-color);margin:0;flex:1}.menu-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px 0}.menu-list[_ngcontent-%COMP%]{padding:0 8px}.menu-item-wrapper[_ngcontent-%COMP%]{margin-bottom:12px}.menu-item[_ngcontent-%COMP%]{width:100%;background:none;border:none;border-radius:12px;padding:16px;text-align:left;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;position:relative}.menu-item[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.menu-item.active[_ngcontent-%COMP%]{background-color:var(--selected-bg);color:var(--selected-text)}.menu-item-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1}.menu-item-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:24px;text-align:center}.menu-item-text[_ngcontent-%COMP%]{flex:1}.menu-item-label[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:var(--primary-text-color);display:block}.menu-item.active[_ngcontent-%COMP%]   .menu-item-label[_ngcontent-%COMP%]{color:var(--selected-text)}.menu-item-status[_ngcontent-%COMP%]{margin-top:4px}.saved-indicator[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text-color)}.menu-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:12px}.changes-dot[_ngcontent-%COMP%]{width:8px;height:8px;background-color:var(--airbnb-red);border-radius:50%;display:inline-block}.saving-indicator[_ngcontent-%COMP%]{color:#007bff;animation:_ngcontent-%COMP%_pulse 1s infinite}.content-area[_ngcontent-%COMP%]{padding:24px 32px;max-width:none;display:flex;justify-content:center;height:calc(100vh - 85px);overflow-y:auto}.content-wrapper[_ngcontent-%COMP%]{width:100%;max-width:600px;height:fit-content}.section-content[_ngcontent-%COMP%]{margin-bottom:32px}.section-header[_ngcontent-%COMP%]{margin-bottom:32px;text-align:center}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:var(--primary-text-color);margin-bottom:8px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:var(--secondary-text-color);margin:0}.content-save-section[_ngcontent-%COMP%]{margin-top:32px;text-align:center;padding-top:24px;border-top:1px solid var(--border-color)}.save-btn-content[_ngcontent-%COMP%]{background-color:var(--airbnb-red);border:none;color:#fff;padding:12px 24px;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:background-color .2s;min-width:120px;display:inline-flex;align-items:center;justify-content:center;gap:8px}.save-btn-content[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--airbnb-dark-red)}.save-btn-content[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.save-btn-content.saved[_ngcontent-%COMP%]{background-color:#00a818}.save-btn-content.saved[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#008a15}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid transparent;border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.form-control[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:8px;padding:12px 16px;font-size:16px;transition:border-color .2s,box-shadow .2s;background-color:var(--bg-color);color:var(--primary-text-color)}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--primary-text-color);box-shadow:0 0 0 2px var(--shadow-color);outline:none}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#c13515}.invalid-feedback[_ngcontent-%COMP%]{color:#c13515;font-size:14px;margin-top:4px}.character-count[_ngcontent-%COMP%]{text-align:right;font-size:14px;color:var(--secondary-text-color);margin-top:4px}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--bg);display:flex;align-items:center;justify-content:center;z-index:9999}.loading-content[_ngcontent-%COMP%]{text-align:center}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border-color);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 16px}.loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:var(--secondary-text-color);margin:0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px;color:var(--secondary-text-color)}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.character-count[_ngcontent-%COMP%], .invalid-feedback[_ngcontent-%COMP%]{font-size:12px;margin-top:5px}.character-count[_ngcontent-%COMP%]{color:var(--secondary-text-color);text-align:right}@keyframes _ngcontent-%COMP%_iconAppear{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 991.98px){.sidebar[_ngcontent-%COMP%]{position:static;height:auto;border-right:none;border-bottom:1px solid var(--border-color)}.content-area[_ngcontent-%COMP%]{padding:16px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .title-input[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 767.98px){.editor-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding:12px 16px}.editor-title[_ngcontent-%COMP%]{font-size:18px}.sidebar-title-container[_ngcontent-%COMP%]{gap:8px}.photos-grid[_ngcontent-%COMP%], .property-types-grid[_ngcontent-%COMP%], .amenities-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.guests-selector[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.content-wrapper[_ngcontent-%COMP%]{max-width:none;padding:0 16px}}.initial-loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--bg);display:flex;justify-content:center;align-items:center;z-index:9999;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.initial-loading-content[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:var(--bg-color);border-radius:12px;box-shadow:0 4px 20px var(--dropdown-shadow);max-width:300px}.initial-loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-size:16px;color:var(--secondary-text-color);font-weight:500}.initial-loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border-color);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_initialSpin 1s linear infinite;margin:0 auto}@keyframes _ngcontent-%COMP%_initialSpin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--bg);display:flex;justify-content:center;align-items:center;z-index:1000}.loading-content[_ngcontent-%COMP%]{text-align:center;color:var(--primary-text-color)}.loading-spinner[_ngcontent-%COMP%]{width:30px;height:30px;border:3px solid var(--border-color);border-top:3px solid var(--primary-text-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}',".step-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;margin:0 auto;padding:20px;height:100%;overflow:hidden}.title-container[_ngcontent-%COMP%]{width:100%;margin-bottom:24px;text-align:left}h1[_ngcontent-%COMP%]{letter-spacing:-.64px;line-height:36px;font-size:32px;font-weight:600;color:var(--primary-text-color);margin:0;overflow-wrap:break-word}.loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{text-align:center;padding:2rem;font-size:1rem;color:#484848;background-color:#f7f7f7;border-radius:12px;margin:1rem 0;width:100%}.error-state[_ngcontent-%COMP%]{color:#ff4d4f;background-color:#fff2f0;border:1px solid #ffccc7}.retry-btn[_ngcontent-%COMP%]{margin-top:1rem;padding:8px 16px;border:none;border-radius:8px;background-color:var(--airbnb-red);color:#fff;font-weight:500;cursor:pointer;transition:background-color .2s}.retry-btn[_ngcontent-%COMP%]:hover{background-color:var(--airbnb-dark-red)}.property-selector[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;width:100%;margin:0;padding:0 8px;max-width:800px}.property-item[_ngcontent-%COMP%]{opacity:0;transform:translateY(10px);animation:_ngcontent-%COMP%_fadeInUp .5s ease forwards}.property-button[_ngcontent-%COMP%]{width:100%;padding:16px;border:1px solid #dddddd;border-radius:12px;background-color:#fff;cursor:pointer;transition:all .2s ease;display:flex;flex-direction:column;align-items:center;gap:12px;height:100%}.property-button[_ngcontent-%COMP%]:hover{border-color:var(--primary-text-color)}.property-button[aria-checked=true][_ngcontent-%COMP%]{border:2px solid rgb(221,211,193);background-color:#ddd3c1}.icon-wrapper[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center}.property-icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.label-wrapper[_ngcontent-%COMP%]{text-align:center}.property-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#222}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#717171;background-color:#f7f7f7;border-radius:12px;margin:1rem 0;width:100%}"]})};function uoe(n,e){if(n&1&&(l(0,"div",9),m(1),d()),n&2){let t=C();p(),U(" ",t.getFieldError()," ")}}var g5=class n{constructor(e){this.fb=e;this.initializeForm()}data=null;dataChange=new ye;hasChanges=new ye;validationChange=new ye;priceForm;destroy$=new Re;initialValue=0;ngOnInit(){this.setupFormData(),this.setupFormChangeTracking()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeForm(){this.priceForm=this.fb.group({price:[0,[ht.required,ht.min(1)]]})}setupFormData(){this.data&&(this.initialValue=this.data.price,this.priceForm.patchValue({price:this.data.price}))}setupFormChangeTracking(){this.priceForm.get("price")?.valueChanges.pipe(ni(300),Oi(),rt(this.destroy$)).subscribe(e=>{let t=Number(e)||0,i=t!==this.initialValue,r=this.priceForm.valid;this.hasChanges.emit(i),this.validationChange.emit(r),i&&this.dataChange.emit({price:t})})}isFieldInvalid(){let e=this.priceForm.get("price");return!!(e?.invalid&&e?.touched)}getFieldError(){let e=this.priceForm.get("price");if(e?.errors&&e.touched){if(e.errors.required)return"Price is required";if(e.errors.min)return"Price must be at least $1"}return""}updateInitialValue(){this.initialValue=Number(this.priceForm.get("price")?.value)||0,this.hasChanges.emit(!1)}getCurrentData(){return{price:Number(this.priceForm.get("price")?.value)||0}}isValid(){return this.priceForm.valid}getFormattedPrice(){let e=this.priceForm.get("price")?.value;return e?`$${e}`:"$0"}static \u0275fac=function(t){return new(t||n)(V(to))};static \u0275cmp=le({type:n,selectors:[["app-price-section"]],inputs:{data:"data"},outputs:{dataChange:"dataChange",hasChanges:"hasChanges",validationChange:"validationChange"},decls:15,vars:4,consts:[[1,"section-content"],[1,"section-header"],[3,"formGroup"],[1,"price-input-wrapper"],[1,"price-input-container"],[1,"currency-symbol"],["type","number","formControlName","price","placeholder","0","min","1","step","1",1,"form-control","price-input"],[1,"price-suffix"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),m(3,"Now, set your price"),d(),l(4,"p"),m(5,"You can change it anytime."),d()(),l(6,"form",2)(7,"div",3)(8,"div",4)(9,"span",5),m(10,"$"),d(),k(11,"input",6),d(),l(12,"div",7),m(13,"per night"),d()(),j(14,uoe,2,1,"div",8),d()()),t&2&&(p(6),_("formGroup",i.priceForm),p(5),Me("is-invalid",i.isFieldInvalid()),p(3),_("ngIf",i.isFieldInvalid()))},dependencies:[he,Ce,Ii,mn,Rt,nc,Dt,fn,tp,Zi,xo],styles:['@import"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css";.airbnb-listing-editor[_ngcontent-%COMP%]{background-color:var(--bg-color);font-family:Circular,Helvetica Neue,Arial,sans-serif}.editor-header[_ngcontent-%COMP%]{background:var(--bg-color);border-bottom:1px solid var(--border-color);position:sticky;top:0;z-index:1000}.editor-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{max-width:1760px}.editor-content[_ngcontent-%COMP%]{background-color:var(--bg-color)}.editor-content[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{max-width:1760px;padding:0 24px}.sidebar[_ngcontent-%COMP%]{background:var(--bg-color);position:sticky;top:85px;height:calc(100vh - 85px);display:flex;flex-direction:column}.sidebar-header[_ngcontent-%COMP%]{padding:24px 16px 16px;border-bottom:1px solid var(--border-color)}.sidebar-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.back-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px;border-radius:50%;transition:background-color .2s;flex-shrink:0}.back-btn[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.editor-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:var(--primary-text-color);margin:0;flex:1}.menu-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px 0}.menu-list[_ngcontent-%COMP%]{padding:0 8px}.menu-item-wrapper[_ngcontent-%COMP%]{margin-bottom:12px}.menu-item[_ngcontent-%COMP%]{width:100%;background:none;border:none;border-radius:12px;padding:16px;text-align:left;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;position:relative}.menu-item[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.menu-item.active[_ngcontent-%COMP%]{background-color:var(--selected-bg);color:var(--selected-text)}.menu-item-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1}.menu-item-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:24px;text-align:center}.menu-item-text[_ngcontent-%COMP%]{flex:1}.menu-item-label[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:var(--primary-text-color);display:block}.menu-item.active[_ngcontent-%COMP%]   .menu-item-label[_ngcontent-%COMP%]{color:var(--selected-text)}.menu-item-status[_ngcontent-%COMP%]{margin-top:4px}.saved-indicator[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text-color)}.menu-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:12px}.changes-dot[_ngcontent-%COMP%]{width:8px;height:8px;background-color:var(--airbnb-red);border-radius:50%;display:inline-block}.saving-indicator[_ngcontent-%COMP%]{color:#007bff;animation:_ngcontent-%COMP%_pulse 1s infinite}.content-area[_ngcontent-%COMP%]{padding:24px 32px;max-width:none;display:flex;justify-content:center;height:calc(100vh - 85px);overflow-y:auto}.content-wrapper[_ngcontent-%COMP%]{width:100%;max-width:600px;height:fit-content}.section-content[_ngcontent-%COMP%]{margin-bottom:32px}.section-header[_ngcontent-%COMP%]{margin-bottom:32px;text-align:center}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:var(--primary-text-color);margin-bottom:8px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:var(--secondary-text-color);margin:0}.content-save-section[_ngcontent-%COMP%]{margin-top:32px;text-align:center;padding-top:24px;border-top:1px solid var(--border-color)}.save-btn-content[_ngcontent-%COMP%]{background-color:var(--airbnb-red);border:none;color:#fff;padding:12px 24px;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:background-color .2s;min-width:120px;display:inline-flex;align-items:center;justify-content:center;gap:8px}.save-btn-content[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--airbnb-dark-red)}.save-btn-content[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.save-btn-content.saved[_ngcontent-%COMP%]{background-color:#00a818}.save-btn-content.saved[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#008a15}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid transparent;border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.form-control[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:8px;padding:12px 16px;font-size:16px;transition:border-color .2s,box-shadow .2s;background-color:var(--bg-color);color:var(--primary-text-color)}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--primary-text-color);box-shadow:0 0 0 2px var(--shadow-color);outline:none}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#c13515}.invalid-feedback[_ngcontent-%COMP%]{color:#c13515;font-size:14px;margin-top:4px}.character-count[_ngcontent-%COMP%]{text-align:right;font-size:14px;color:var(--secondary-text-color);margin-top:4px}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--bg);display:flex;align-items:center;justify-content:center;z-index:9999}.loading-content[_ngcontent-%COMP%]{text-align:center}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border-color);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 16px}.loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:var(--secondary-text-color);margin:0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px;color:var(--secondary-text-color)}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.character-count[_ngcontent-%COMP%], .invalid-feedback[_ngcontent-%COMP%]{font-size:12px;margin-top:5px}.character-count[_ngcontent-%COMP%]{color:var(--secondary-text-color);text-align:right}@keyframes _ngcontent-%COMP%_iconAppear{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 991.98px){.sidebar[_ngcontent-%COMP%]{position:static;height:auto;border-right:none;border-bottom:1px solid var(--border-color)}.content-area[_ngcontent-%COMP%]{padding:16px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .title-input[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 767.98px){.editor-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding:12px 16px}.editor-title[_ngcontent-%COMP%]{font-size:18px}.sidebar-title-container[_ngcontent-%COMP%]{gap:8px}.photos-grid[_ngcontent-%COMP%], .property-types-grid[_ngcontent-%COMP%], .amenities-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.guests-selector[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.content-wrapper[_ngcontent-%COMP%]{max-width:none;padding:0 16px}}.initial-loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--bg);display:flex;justify-content:center;align-items:center;z-index:9999;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.initial-loading-content[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:var(--bg-color);border-radius:12px;box-shadow:0 4px 20px var(--dropdown-shadow);max-width:300px}.initial-loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-size:16px;color:var(--secondary-text-color);font-weight:500}.initial-loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border-color);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_initialSpin 1s linear infinite;margin:0 auto}@keyframes _ngcontent-%COMP%_initialSpin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--bg);display:flex;justify-content:center;align-items:center;z-index:1000}.loading-content[_ngcontent-%COMP%]{text-align:center;color:var(--primary-text-color)}.loading-spinner[_ngcontent-%COMP%]{width:30px;height:30px;border:3px solid var(--border-color);border-top:3px solid var(--primary-text-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}',".price-input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px}.price-input-container[_ngcontent-%COMP%]{position:relative;flex:1;max-width:200px}.currency-symbol[_ngcontent-%COMP%]{position:absolute;left:16px;top:50%;transform:translateY(-50%);font-size:24px;font-weight:600;color:#222;pointer-events:none}.price-input[_ngcontent-%COMP%]{padding-left:40px;font-size:24px;font-weight:600;text-align:right}.price-suffix[_ngcontent-%COMP%]{font-size:18px;color:#717171}"]})};function poe(n,e){if(n&1&&k(0,"img",15),n&2){let t=e.$implicit;_("src",t.url,et)("alt","Guest "+(t.index+1))}}var v5=class n{constructor(e){this.fb=e;this.initializeForm(),this.initializeGuestIcons()}data=null;dataChange=new ye;hasChanges=new ye;validationChange=new ye;guestsForm;destroy$=new Re;initialValue=1;isInitialized=!1;guestIconUrls=["https://a0.muscache.com/im/pictures/mediaverse/MYS%20Number%20of%20Guests/original/354bca63-8008-45d7-b76f-c1c19a788825.png","https://a0.muscache.com/im/pictures/mediaverse/MYS%20Number%20of%20Guests/original/5a0d9cb7-0aea-44e9-a61a-017685c6d2d0.png","https://a0.muscache.com/im/pictures/mediaverse/MYS%20Number%20of%20Guests/original/244dc498-e875-449e-b855-5d13b8f44d50.png","https://a0.muscache.com/im/pictures/mediaverse/MYS%20Number%20of%20Guests/original/70da4d82-9182-4edf-a4ef-97326fcfdd0b.png","https://a0.muscache.com/im/pictures/mediaverse/MYS%20Number%20of%20Guests/original/48b87e37-cd4a-4a56-9422-79e278764b6e.png","https://a0.muscache.com/im/pictures/mediaverse/MYS%20Number%20of%20Guests/original/bd44136d-ddda-4f3e-916c-3dcc816e5fa5.png","https://a0.muscache.com/im/pictures/mediaverse/MYS%20Number%20of%20Guests/original/708f660d-443a-4283-9c36-484029accd65.png","https://a0.muscache.com/im/pictures/mediaverse/MYS%20Number%20of%20Guests/original/84572734-6766-47a9-9fb8-f7ee9a70f63a.png","https://a0.muscache.com/im/pictures/mediaverse/MYS%20Number%20of%20Guests/original/8b0a737b-2c87-43b6-a4a2-dce4ebcb1bdf.png","https://a0.muscache.com/im/pictures/mediaverse/MYS%20Number%20of%20Guests/original/2a8e78db-8781-4bc7-a746-bef45ed6aed9.png","https://a0.muscache.com/im/pictures/mediaverse/MYS%20Number%20of%20Guests/original/701cd29e-3c5e-4055-b54f-2ced17b792d6.png","https://a0.muscache.com/im/pictures/mediaverse/MYS%20Number%20of%20Guests/original/50f7cb91-d0fe-4726-963c-7242660b1db3.png"];guestIcons=[];ngOnInit(){this.setupFormData(),this.setupFormChangeTracking(),this.isInitialized=!0}ngOnChanges(e){e.data&&e.data.currentValue&&this.isInitialized&&this.setupFormData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeForm(){this.guestsForm=this.fb.group({maxGuests:[1,[ht.required,ht.min(1),ht.max(16)]]})}initializeGuestIcons(){for(let e=0;e<16;e++){let t=e%this.guestIconUrls.length;this.guestIcons.push({id:`guest-${e}`,url:this.guestIconUrls[t],index:e})}}setupFormData(){this.data&&(this.initialValue=this.data.maxGuests,this.guestsForm.patchValue({maxGuests:this.data.maxGuests},{emitEvent:!1}))}setupFormChangeTracking(){this.guestsForm.get("maxGuests")?.valueChanges.pipe(ni(100),Oi(),rt(this.destroy$)).subscribe(e=>{let t=Number(e)||1,i=t!==this.initialValue,r=this.guestsForm.valid;this.hasChanges.emit(i),this.validationChange.emit(r),this.dataChange.emit({maxGuests:t})})}getCurrentGuestCount(){return this.guestsForm.get("maxGuests")?.value||1}incrementGuests(){let e=this.getCurrentGuestCount();e<16&&this.guestsForm.patchValue({maxGuests:e+1})}decrementGuests(){let e=this.getCurrentGuestCount();e>1&&this.guestsForm.patchValue({maxGuests:e-1})}getGuestIconsToShow(){let e=this.getCurrentGuestCount();return this.guestIcons.slice(0,Math.min(e,16))}trackByGuestIcon(e,t){return t.id}updateInitialValue(){this.initialValue=Number(this.guestsForm.get("maxGuests")?.value)||1}getCurrentData(){return{maxGuests:Number(this.guestsForm.get("maxGuests")?.value)||1}}resetForm(){this.guestsForm.patchValue({maxGuests:this.initialValue})}get hasFormChanges(){return(Number(this.guestsForm.get("maxGuests")?.value)||1)!==this.initialValue}get isFormValid(){return this.guestsForm.valid}static \u0275fac=function(t){return new(t||n)(V(to))};static \u0275cmp=le({type:n,selectors:[["app-guests-section"]],inputs:{data:"data"},outputs:{dataChange:"dataChange",hasChanges:"hasChanges",validationChange:"validationChange"},features:[Gt],decls:22,vars:8,consts:[[1,"section-content"],[1,"section-header"],[3,"formGroup"],[1,"guest-selection-container"],[1,"guest-icons-container"],[1,"guest-icons-scroll"],["class","guest-icon","loading","lazy","onerror","this.style.display='none'",3,"src","alt",4,"ngFor","ngForOf","ngForTrackBy"],[1,"counter-controls"],["type","button","aria-label","Decrease guest count",1,"counter-btn",3,"click","disabled"],["width","16","height","16","fill","currentColor","viewBox","0 0 16 16"],["d","M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"],[1,"counter-value"],["type","button","aria-label","Increase guest count",1,"counter-btn",3,"click","disabled"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"],[2,"color","#717171","font-size","0.9rem","margin-top","-0.5rem"],["loading","lazy","onerror","this.style.display='none'",1,"guest-icon",3,"src","alt"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),m(3,"How many guests can your place accommodate?"),d(),l(4,"p"),m(5,"Choose the maximum number of guests who can comfortably stay."),d()(),l(6,"form",2)(7,"div",3)(8,"div",4)(9,"div",5),j(10,poe,1,2,"img",6),d()(),l(11,"div",7)(12,"button",8),T("click",function(){return i.decrementGuests()}),$e(),l(13,"svg",9),k(14,"path",10),d()(),lt(),l(15,"span",11),m(16),d(),l(17,"button",12),T("click",function(){return i.incrementGuests()}),$e(),l(18,"svg",9),k(19,"path",13),d()()(),lt(),l(20,"div",14),m(21),d()()()()),t&2&&(p(6),_("formGroup",i.guestsForm),p(4),_("ngForOf",i.getGuestIconsToShow())("ngForTrackBy",i.trackByGuestIcon),p(2),_("disabled",i.getCurrentGuestCount()<=1),p(4),$(i.getCurrentGuestCount()),p(),_("disabled",i.getCurrentGuestCount()>=16),p(4),Nt(" ",i.getCurrentGuestCount()," guest",i.getCurrentGuestCount()>1?"s":""," "))},dependencies:[he,Xe,Ii,mn,fn,Zi],styles:['@import"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css";.airbnb-listing-editor[_ngcontent-%COMP%]{background-color:var(--bg-color);font-family:Circular,Helvetica Neue,Arial,sans-serif}.editor-header[_ngcontent-%COMP%]{background:var(--bg-color);border-bottom:1px solid var(--border-color);position:sticky;top:0;z-index:1000}.editor-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{max-width:1760px}.editor-content[_ngcontent-%COMP%]{background-color:var(--bg-color)}.editor-content[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{max-width:1760px;padding:0 24px}.sidebar[_ngcontent-%COMP%]{background:var(--bg-color);position:sticky;top:85px;height:calc(100vh - 85px);display:flex;flex-direction:column}.sidebar-header[_ngcontent-%COMP%]{padding:24px 16px 16px;border-bottom:1px solid var(--border-color)}.sidebar-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.back-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px;border-radius:50%;transition:background-color .2s;flex-shrink:0}.back-btn[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.editor-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:var(--primary-text-color);margin:0;flex:1}.menu-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px 0}.menu-list[_ngcontent-%COMP%]{padding:0 8px}.menu-item-wrapper[_ngcontent-%COMP%]{margin-bottom:12px}.menu-item[_ngcontent-%COMP%]{width:100%;background:none;border:none;border-radius:12px;padding:16px;text-align:left;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;position:relative}.menu-item[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.menu-item.active[_ngcontent-%COMP%]{background-color:var(--selected-bg);color:var(--selected-text)}.menu-item-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1}.menu-item-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:24px;text-align:center}.menu-item-text[_ngcontent-%COMP%]{flex:1}.menu-item-label[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:var(--primary-text-color);display:block}.menu-item.active[_ngcontent-%COMP%]   .menu-item-label[_ngcontent-%COMP%]{color:var(--selected-text)}.menu-item-status[_ngcontent-%COMP%]{margin-top:4px}.saved-indicator[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text-color)}.menu-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:12px}.changes-dot[_ngcontent-%COMP%]{width:8px;height:8px;background-color:var(--airbnb-red);border-radius:50%;display:inline-block}.saving-indicator[_ngcontent-%COMP%]{color:#007bff;animation:_ngcontent-%COMP%_pulse 1s infinite}.content-area[_ngcontent-%COMP%]{padding:24px 32px;max-width:none;display:flex;justify-content:center;height:calc(100vh - 85px);overflow-y:auto}.content-wrapper[_ngcontent-%COMP%]{width:100%;max-width:600px;height:fit-content}.section-content[_ngcontent-%COMP%]{margin-bottom:32px}.section-header[_ngcontent-%COMP%]{margin-bottom:32px;text-align:center}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:var(--primary-text-color);margin-bottom:8px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:var(--secondary-text-color);margin:0}.content-save-section[_ngcontent-%COMP%]{margin-top:32px;text-align:center;padding-top:24px;border-top:1px solid var(--border-color)}.save-btn-content[_ngcontent-%COMP%]{background-color:var(--airbnb-red);border:none;color:#fff;padding:12px 24px;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:background-color .2s;min-width:120px;display:inline-flex;align-items:center;justify-content:center;gap:8px}.save-btn-content[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--airbnb-dark-red)}.save-btn-content[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.save-btn-content.saved[_ngcontent-%COMP%]{background-color:#00a818}.save-btn-content.saved[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#008a15}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid transparent;border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.form-control[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:8px;padding:12px 16px;font-size:16px;transition:border-color .2s,box-shadow .2s;background-color:var(--bg-color);color:var(--primary-text-color)}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--primary-text-color);box-shadow:0 0 0 2px var(--shadow-color);outline:none}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#c13515}.invalid-feedback[_ngcontent-%COMP%]{color:#c13515;font-size:14px;margin-top:4px}.character-count[_ngcontent-%COMP%]{text-align:right;font-size:14px;color:var(--secondary-text-color);margin-top:4px}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--bg);display:flex;align-items:center;justify-content:center;z-index:9999}.loading-content[_ngcontent-%COMP%]{text-align:center}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border-color);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 16px}.loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:var(--secondary-text-color);margin:0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px;color:var(--secondary-text-color)}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.character-count[_ngcontent-%COMP%], .invalid-feedback[_ngcontent-%COMP%]{font-size:12px;margin-top:5px}.character-count[_ngcontent-%COMP%]{color:var(--secondary-text-color);text-align:right}@keyframes _ngcontent-%COMP%_iconAppear{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 991.98px){.sidebar[_ngcontent-%COMP%]{position:static;height:auto;border-right:none;border-bottom:1px solid var(--border-color)}.content-area[_ngcontent-%COMP%]{padding:16px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .title-input[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 767.98px){.editor-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding:12px 16px}.editor-title[_ngcontent-%COMP%]{font-size:18px}.sidebar-title-container[_ngcontent-%COMP%]{gap:8px}.photos-grid[_ngcontent-%COMP%], .property-types-grid[_ngcontent-%COMP%], .amenities-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.guests-selector[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.content-wrapper[_ngcontent-%COMP%]{max-width:none;padding:0 16px}}.initial-loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--bg);display:flex;justify-content:center;align-items:center;z-index:9999;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.initial-loading-content[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:var(--bg-color);border-radius:12px;box-shadow:0 4px 20px var(--dropdown-shadow);max-width:300px}.initial-loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-size:16px;color:var(--secondary-text-color);font-weight:500}.initial-loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border-color);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_initialSpin 1s linear infinite;margin:0 auto}@keyframes _ngcontent-%COMP%_initialSpin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--bg);display:flex;justify-content:center;align-items:center;z-index:1000}.loading-content[_ngcontent-%COMP%]{text-align:center;color:var(--primary-text-color)}.loading-spinner[_ngcontent-%COMP%]{width:30px;height:30px;border:3px solid var(--border-color);border-top:3px solid var(--primary-text-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}',".section-content[_ngcontent-%COMP%]{padding:1rem 2rem 2rem;max-width:100%}.section-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--primary-text-color);margin-bottom:.5rem}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-size:1rem}.guest-selection-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:2rem;padding:1rem 0}.counter-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:2rem;order:2}.counter-btn[_ngcontent-%COMP%]{width:40px;height:40px;border:2px solid var(--border-color);border-radius:50%;background:var(--bg-color);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;font-size:18px;font-weight:600;color:var(--primary-text-color)}.counter-btn[_ngcontent-%COMP%]:hover:not(:disabled){border-color:var(--primary-text-color);transform:scale(1.05)}.counter-btn[_ngcontent-%COMP%]:disabled{border-color:var(--disabled-color);color:var(--disabled-color);cursor:not-allowed;opacity:.5;background:var(--disabled-bg)}.counter-value[_ngcontent-%COMP%]{font-weight:600;font-size:2rem;color:var(--primary-text-color);min-width:60px;text-align:center}.guest-icons-container[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow:visible;order:1}.guest-icons-scroll[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;gap:12px;padding:1rem 0;max-width:100%}.guest-icon[_ngcontent-%COMP%]{flex-shrink:0;width:75px!important;height:75px!important;border-radius:50%;object-fit:cover;border:3px solid transparent;transition:all .2s ease}.guest-icon[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.guest-icon.new-guest[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInScale .4s ease-out}@keyframes _ngcontent-%COMP%_slideInScale{0%{opacity:0;transform:scale(.5) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}@media (max-width: 768px){.counter-controls[_ngcontent-%COMP%]{gap:1.5rem}.counter-btn[_ngcontent-%COMP%]{width:36px;height:36px}.counter-value[_ngcontent-%COMP%]{font-size:1.8rem;min-width:50px}.guest-icon[_ngcontent-%COMP%]{width:55px;height:55px}.guest-icons-scroll[_ngcontent-%COMP%]{gap:10px}.section-content[_ngcontent-%COMP%]{padding:.5rem 1rem 1.5rem}}@media (max-width: 480px){.counter-controls[_ngcontent-%COMP%]{gap:1rem}.counter-btn[_ngcontent-%COMP%]{width:32px;height:32px}.counter-value[_ngcontent-%COMP%]{font-size:1.6rem;min-width:45px}.guest-icon[_ngcontent-%COMP%]{width:50px;height:50px}.guest-icons-scroll[_ngcontent-%COMP%]{gap:8px}.section-content[_ngcontent-%COMP%]{padding:.5rem .5rem 1rem}}@media (min-width: 1200px){.guest-icon[_ngcontent-%COMP%]{width:70px;height:70px}.guest-icons-scroll[_ngcontent-%COMP%]{gap:15px}}@media (max-width: 600px){.guest-icons-scroll[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow-x:visible;justify-content:center}.guest-icon[_ngcontent-%COMP%]{width:45px;height:45px;min-width:45px}}"]})};function foe(n,e){if(n&1&&(l(0,"div",7),m(1),d()),n&2){let t=C();p(),U(" ",t.getFieldError()," ")}}var b5=class n{constructor(e){this.fb=e;this.initializeForm()}data=null;dataChange=new ye;hasChanges=new ye;validationChange=new ye;descriptionForm;destroy$=new Re;initialValue="";ngOnInit(){this.setupFormData(),this.setupFormChangeTracking()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeForm(){this.descriptionForm=this.fb.group({description:["",[ht.required,ht.maxLength(500)]]})}setupFormData(){this.data&&(this.initialValue=this.data.description,this.descriptionForm.patchValue({description:this.data.description}))}setupFormChangeTracking(){this.descriptionForm.get("description")?.valueChanges.pipe(ni(300),Oi(),rt(this.destroy$)).subscribe(e=>{let t=e!==this.initialValue,i=this.descriptionForm.valid;this.hasChanges.emit(t),this.validationChange.emit(i),t&&this.dataChange.emit({description:e})})}isFieldInvalid(){let e=this.descriptionForm.get("description");return!!(e?.invalid&&e?.touched)}getFieldError(){let e=this.descriptionForm.get("description");if(e?.errors&&e.touched){if(e.errors.required)return"Description is required";if(e.errors.maxlength)return"Description is too long"}return""}updateInitialValue(){this.initialValue=this.descriptionForm.get("description")?.value||"",this.hasChanges.emit(!1)}getCurrentData(){return{description:this.descriptionForm.get("description")?.value||""}}isValid(){return this.descriptionForm.valid}getCharacterCount(){return(this.descriptionForm.get("description")?.value||"").length}getRemainingCharacters(){return 500-this.getCharacterCount()}static \u0275fac=function(t){return new(t||n)(V(to))};static \u0275cmp=le({type:n,selectors:[["app-description-section"]],inputs:{data:"data"},outputs:{dataChange:"dataChange",hasChanges:"hasChanges",validationChange:"validationChange"},decls:12,vars:5,consts:[[1,"section-content"],[1,"section-header"],[3,"formGroup"],[1,"form-group"],["formControlName","description","placeholder","You'll have a great time at this comfortable place to stay.","maxlength","500","rows","5",1,"form-control","description-input"],[1,"character-count"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"]],template:function(t,i){if(t&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),m(3,"Create your description"),d(),l(4,"p"),m(5,"Share what makes your place special."),d()(),l(6,"form",2)(7,"div",3),k(8,"textarea",4),l(9,"div",5),m(10),d(),j(11,foe,2,1,"div",6),d()()()),t&2){let r;p(6),_("formGroup",i.descriptionForm),p(2),Me("is-invalid",i.isFieldInvalid()),p(2),U("",(((r=i.descriptionForm.get("description"))==null?null:r.value)||"").length,"/500"),p(),_("ngIf",i.isFieldInvalid())}},dependencies:[he,Ce,Ii,mn,Rt,Dt,fn,da,Zi,xo],styles:['@import"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css";.airbnb-listing-editor[_ngcontent-%COMP%]{background-color:var(--bg-color);font-family:Circular,Helvetica Neue,Arial,sans-serif}.editor-header[_ngcontent-%COMP%]{background:var(--bg-color);border-bottom:1px solid var(--border-color);position:sticky;top:0;z-index:1000}.editor-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{max-width:1760px}.editor-content[_ngcontent-%COMP%]{background-color:var(--bg-color)}.editor-content[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{max-width:1760px;padding:0 24px}.sidebar[_ngcontent-%COMP%]{background:var(--bg-color);position:sticky;top:85px;height:calc(100vh - 85px);display:flex;flex-direction:column}.sidebar-header[_ngcontent-%COMP%]{padding:24px 16px 16px;border-bottom:1px solid var(--border-color)}.sidebar-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.back-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px;border-radius:50%;transition:background-color .2s;flex-shrink:0}.back-btn[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.editor-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:var(--primary-text-color);margin:0;flex:1}.menu-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px 0}.menu-list[_ngcontent-%COMP%]{padding:0 8px}.menu-item-wrapper[_ngcontent-%COMP%]{margin-bottom:12px}.menu-item[_ngcontent-%COMP%]{width:100%;background:none;border:none;border-radius:12px;padding:16px;text-align:left;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;position:relative}.menu-item[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.menu-item.active[_ngcontent-%COMP%]{background-color:var(--selected-bg);color:var(--selected-text)}.menu-item-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1}.menu-item-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:24px;text-align:center}.menu-item-text[_ngcontent-%COMP%]{flex:1}.menu-item-label[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:var(--primary-text-color);display:block}.menu-item.active[_ngcontent-%COMP%]   .menu-item-label[_ngcontent-%COMP%]{color:var(--selected-text)}.menu-item-status[_ngcontent-%COMP%]{margin-top:4px}.saved-indicator[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text-color)}.menu-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:12px}.changes-dot[_ngcontent-%COMP%]{width:8px;height:8px;background-color:var(--airbnb-red);border-radius:50%;display:inline-block}.saving-indicator[_ngcontent-%COMP%]{color:#007bff;animation:_ngcontent-%COMP%_pulse 1s infinite}.content-area[_ngcontent-%COMP%]{padding:24px 32px;max-width:none;display:flex;justify-content:center;height:calc(100vh - 85px);overflow-y:auto}.content-wrapper[_ngcontent-%COMP%]{width:100%;max-width:600px;height:fit-content}.section-content[_ngcontent-%COMP%]{margin-bottom:32px}.section-header[_ngcontent-%COMP%]{margin-bottom:32px;text-align:center}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:var(--primary-text-color);margin-bottom:8px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:var(--secondary-text-color);margin:0}.content-save-section[_ngcontent-%COMP%]{margin-top:32px;text-align:center;padding-top:24px;border-top:1px solid var(--border-color)}.save-btn-content[_ngcontent-%COMP%]{background-color:var(--airbnb-red);border:none;color:#fff;padding:12px 24px;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:background-color .2s;min-width:120px;display:inline-flex;align-items:center;justify-content:center;gap:8px}.save-btn-content[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--airbnb-dark-red)}.save-btn-content[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.save-btn-content.saved[_ngcontent-%COMP%]{background-color:#00a818}.save-btn-content.saved[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#008a15}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid transparent;border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.form-control[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:8px;padding:12px 16px;font-size:16px;transition:border-color .2s,box-shadow .2s;background-color:var(--bg-color);color:var(--primary-text-color)}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--primary-text-color);box-shadow:0 0 0 2px var(--shadow-color);outline:none}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#c13515}.invalid-feedback[_ngcontent-%COMP%]{color:#c13515;font-size:14px;margin-top:4px}.character-count[_ngcontent-%COMP%]{text-align:right;font-size:14px;color:var(--secondary-text-color);margin-top:4px}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--bg);display:flex;align-items:center;justify-content:center;z-index:9999}.loading-content[_ngcontent-%COMP%]{text-align:center}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border-color);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 16px}.loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:var(--secondary-text-color);margin:0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px;color:var(--secondary-text-color)}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.character-count[_ngcontent-%COMP%], .invalid-feedback[_ngcontent-%COMP%]{font-size:12px;margin-top:5px}.character-count[_ngcontent-%COMP%]{color:var(--secondary-text-color);text-align:right}@keyframes _ngcontent-%COMP%_iconAppear{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 991.98px){.sidebar[_ngcontent-%COMP%]{position:static;height:auto;border-right:none;border-bottom:1px solid var(--border-color)}.content-area[_ngcontent-%COMP%]{padding:16px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .title-input[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 767.98px){.editor-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding:12px 16px}.editor-title[_ngcontent-%COMP%]{font-size:18px}.sidebar-title-container[_ngcontent-%COMP%]{gap:8px}.photos-grid[_ngcontent-%COMP%], .property-types-grid[_ngcontent-%COMP%], .amenities-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.guests-selector[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.content-wrapper[_ngcontent-%COMP%]{max-width:none;padding:0 16px}}.initial-loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--bg);display:flex;justify-content:center;align-items:center;z-index:9999;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.initial-loading-content[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:var(--bg-color);border-radius:12px;box-shadow:0 4px 20px var(--dropdown-shadow);max-width:300px}.initial-loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-size:16px;color:var(--secondary-text-color);font-weight:500}.initial-loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border-color);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_initialSpin 1s linear infinite;margin:0 auto}@keyframes _ngcontent-%COMP%_initialSpin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--bg);display:flex;justify-content:center;align-items:center;z-index:1000}.loading-content[_ngcontent-%COMP%]{text-align:center;color:var(--primary-text-color)}.loading-spinner[_ngcontent-%COMP%]{width:30px;height:30px;border:3px solid var(--border-color);border-top:3px solid var(--primary-text-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}',".description-input[_ngcontent-%COMP%]{min-height:120px;resize:vertical}"]})};function moe(n,e){n&1&&(l(0,"div",4),k(1,"div",5),l(2,"p"),m(3,"Loading amenities..."),d()())}function hoe(n,e){if(n&1&&(l(0,"div",17),k(1,"img",18),d()),n&2){let t=C().$implicit;p(),_("src",t.iconUrl,et)("alt",t.name+" icon")}}function goe(n,e){n&1&&(l(0,"div",19),$e(),l(1,"svg",20),k(2,"path",21)(3,"path",22),d()())}function voe(n,e){n&1&&($e(),l(0,"svg",23),k(1,"path",24),d())}function boe(n,e){if(n&1){let t=X();l(0,"div",11)(1,"button",12),T("click",function(){let r=z(t).$implicit,o=C(2);return A(o.toggleAmenity(r))}),j(2,hoe,2,2,"div",13)(3,goe,4,0,"div",14),l(4,"span",15),m(5),d(),j(6,voe,2,0,"svg",16),d()()}if(n&2){let t=e.$implicit,i=C(2);p(),Me("selected",i.isAmenitySelected(t)),p(),_("ngIf",t.iconUrl),p(),_("ngIf",!t.iconUrl),p(2),$(t.name),p(),_("ngIf",i.isAmenitySelected(t))}}function _oe(n,e){if(n&1&&k(0,"img",32),n&2){let t=C().$implicit;_("src",t.iconUrl,et)("alt",t.name)}}function yoe(n,e){if(n&1){let t=X();l(0,"span",29),j(1,_oe,1,2,"img",30),m(2),l(3,"button",31),T("click",function(){let r=z(t).$implicit,o=C(3);return A(o.removeAmenity(r))}),m(4," \xD7 "),d()()}if(n&2){let t=e.$implicit;p(),_("ngIf",t.iconUrl),p(),U(" ",t.name," "),p(),_("title","Remove "+t.name)}}function xoe(n,e){if(n&1){let t=X();l(0,"button",33),T("click",function(){z(t);let r=C(3);return A(r.clearAllAmenities())}),m(1," Clear All "),d()}}function Coe(n,e){if(n&1&&(l(0,"div",25)(1,"h4"),m(2),d(),l(3,"div",26),j(4,yoe,5,3,"span",27),d(),j(5,xoe,2,0,"button",28),d()),n&2){let t=C(2);p(2),U("Selected amenities (",t.getSelectedAmenities().length,"):"),p(2),_("ngForOf",t.getSelectedAmenities()),p(),_("ngIf",t.getSelectedAmenities().length>1)}}function Moe(n,e){n&1&&(l(0,"div",34)(1,"p"),m(2,"No amenities available at the moment."),d()())}function woe(n,e){if(n&1&&(l(0,"form",6)(1,"div",7),j(2,boe,7,6,"div",8),d(),j(3,Coe,6,3,"div",9)(4,Moe,3,0,"div",10),d()),n&2){let t=C();_("formGroup",t.amenitiesForm),p(2),_("ngForOf",t.availableAmenities),p(),_("ngIf",t.getSelectedAmenities().length>0),p(),_("ngIf",t.availableAmenities.length===0&&!t.isLoading)}}var _5=class n{constructor(e,t){this.fb=e;this.propertyService=t;this.initializeForm()}data=null;propertyId=null;dataChange=new ye;hasChanges=new ye;validationChange=new ye;amenitiesForm;destroy$=new Re;initialSelectedAmenities=[];availableAmenities=[];selectedAmenities=[];isLoading=!1;ngOnInit(){this.loadAmenities()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeForm(){this.amenitiesForm=this.fb.group({selectedAmenityIds:[[]]})}loadAmenities(){this.isLoading=!0;let e=[this.propertyService.getAllAmenities()];this.propertyId&&e.push(this.propertyService.getAmenitiesByPropertyId(this.propertyId)),Bl(e).subscribe({next:t=>{if(this.availableAmenities=t[0].map(i=>Ve(ie({},i),{iconUrl:this.getFullImageUrl(i.iconUrl)})),t.length>1){this.selectedAmenities=t[1].map(r=>Ve(ie({},r),{iconUrl:this.getFullImageUrl(r.iconUrl)})),this.initialSelectedAmenities=[...this.selectedAmenities];let i=this.selectedAmenities.map(r=>r.id);this.amenitiesForm.patchValue({selectedAmenityIds:i})}else this.selectedAmenities=[],this.initialSelectedAmenities=[],this.amenitiesForm.patchValue({selectedAmenityIds:[]});this.setupFormChangeTracking(),this.isLoading=!1},error:t=>{console.error("Error loading amenities:",t),this.isLoading=!1}})}getFullImageUrl(e){return e?e.startsWith("http")?e:`https://localhost:7025/${e.replace(/^\/+/,"")}`:""}setupFormChangeTracking(){this.amenitiesForm.get("selectedAmenityIds")?.valueChanges.pipe(ni(300),Oi((e,t)=>JSON.stringify(e)===JSON.stringify(t)),rt(this.destroy$)).subscribe(e=>{this.selectedAmenities=this.availableAmenities.filter(r=>e.includes(r.id));let t=this.hasAmenityChanges(),i=!0;this.hasChanges.emit(t),this.validationChange.emit(i),t&&this.dataChange.emit({amenities:this.selectedAmenities})})}hasAmenityChanges(){let e=this.selectedAmenities.map(i=>i.id).sort(),t=this.initialSelectedAmenities.map(i=>i.id).sort();return JSON.stringify(e)!==JSON.stringify(t)}toggleAmenity(e){if(!this.propertyId){console.error("Property ID is required to toggle amenities"),console.log("Current propertyId:",this.propertyId);return}console.log("Toggling amenity:",e.name,"for property:",this.propertyId);let t=this.amenitiesForm.get("selectedAmenityIds")?.value||[],i=t.indexOf(e.id),r;i>-1?r=t.filter(o=>o!==e.id):r=[...t,e.id],this.amenitiesForm.patchValue({selectedAmenityIds:r}),this.propertyService.togglePropertyAmenity(e.id,this.propertyId).subscribe({next:o=>{console.log("Toggle amenity result:",o),o.isSuccess?console.log("Successfully toggled amenity:",e.name):(console.error("Failed to toggle amenity:",o.message),this.amenitiesForm.patchValue({selectedAmenityIds:t}))},error:o=>{console.error("Error toggling amenity:",o),this.amenitiesForm.patchValue({selectedAmenityIds:t})}})}removeAmenity(e){if(!this.propertyId){console.error("Property ID is required to remove amenities");return}let t=this.amenitiesForm.get("selectedAmenityIds")?.value||[],i=t.filter(r=>r!==e.id);this.amenitiesForm.patchValue({selectedAmenityIds:i}),this.propertyService.togglePropertyAmenity(e.id,this.propertyId).subscribe({next:r=>{r.isSuccess||(console.error("Failed to remove amenity:",r.message),this.amenitiesForm.patchValue({selectedAmenityIds:t}))},error:r=>{console.error("Error removing amenity:",r),this.amenitiesForm.patchValue({selectedAmenityIds:t})}})}isAmenitySelected(e){return(this.amenitiesForm.get("selectedAmenityIds")?.value||[]).includes(e.id)}getSelectedAmenities(){return this.selectedAmenities}updateInitialValue(){this.initialSelectedAmenities=[...this.selectedAmenities],this.hasChanges.emit(!1)}getCurrentData(){return{amenities:this.selectedAmenities}}isValid(){return!0}clearAllAmenities(){if(!this.propertyId){console.error("Property ID is required to clear amenities");return}let e=[...this.selectedAmenities];this.amenitiesForm.patchValue({selectedAmenityIds:[]}),e.forEach(t=>{this.propertyService.togglePropertyAmenity(t.id,this.propertyId).subscribe({error:i=>console.error(`Error clearing amenity ${t.name}:`,i)})})}selectAmenities(e){if(!this.propertyId){console.error("Property ID is required to select amenities");return}let t=e.filter(i=>this.availableAmenities.some(r=>r.id===i));this.amenitiesForm.patchValue({selectedAmenityIds:t})}static \u0275fac=function(t){return new(t||n)(V(to),V(Cn))};static \u0275cmp=le({type:n,selectors:[["app-amenities-section"]],inputs:{data:"data",propertyId:"propertyId"},outputs:{dataChange:"dataChange",hasChanges:"hasChanges",validationChange:"validationChange"},decls:8,vars:2,consts:[[1,"section-content"],[1,"section-header"],["class","loading-container",4,"ngIf"],[3,"formGroup",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[3,"formGroup"],[1,"amenities-grid"],["class","amenity-item",4,"ngFor","ngForOf"],["class","selected-amenities-summary",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"amenity-item"],["type","button",1,"amenity-btn",3,"click"],["class","amenity-icon",4,"ngIf"],["class","amenity-icon-fallback",4,"ngIf"],[1,"amenity-name"],["class","checkmark-icon","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",4,"ngIf"],[1,"amenity-icon"],["loading","lazy",3,"src","alt"],[1,"amenity-icon-fallback"],["width","24","height","24","fill","currentColor","viewBox","0 0 16 16"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"],["width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"checkmark-icon"],["d","M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"],[1,"selected-amenities-summary"],[1,"selected-amenities-list"],["class","selected-amenity-tag",4,"ngFor","ngForOf"],["type","button","class","clear-all-btn",3,"click",4,"ngIf"],[1,"selected-amenity-tag"],["class","amenity-tag-icon","loading","lazy",3,"src","alt",4,"ngIf"],["type","button",1,"remove-amenity-btn",3,"click","title"],["loading","lazy",1,"amenity-tag-icon",3,"src","alt"],["type","button",1,"clear-all-btn",3,"click"],[1,"empty-state"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),m(3,"Tell guests what your place has to offer"),d(),l(4,"p"),m(5,"You can add more amenities after you publish your listing."),d()(),j(6,moe,4,0,"div",2)(7,woe,5,4,"form",3),d()),t&2&&(p(6),_("ngIf",i.isLoading),p(),_("ngIf",!i.isLoading))},dependencies:[he,Xe,Ce,Ii,mn,fn,Zi],styles:['@import"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css";.airbnb-listing-editor[_ngcontent-%COMP%]{background-color:var(--bg-color);font-family:Circular,Helvetica Neue,Arial,sans-serif}.editor-header[_ngcontent-%COMP%]{background:var(--bg-color);border-bottom:1px solid var(--border-color);position:sticky;top:0;z-index:1000}.editor-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{max-width:1760px}.editor-content[_ngcontent-%COMP%]{background-color:var(--bg-color)}.editor-content[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{max-width:1760px;padding:0 24px}.sidebar[_ngcontent-%COMP%]{background:var(--bg-color);position:sticky;top:85px;height:calc(100vh - 85px);display:flex;flex-direction:column}.sidebar-header[_ngcontent-%COMP%]{padding:24px 16px 16px;border-bottom:1px solid var(--border-color)}.sidebar-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.back-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px;border-radius:50%;transition:background-color .2s;flex-shrink:0}.back-btn[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.editor-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:var(--primary-text-color);margin:0;flex:1}.menu-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px 0}.menu-list[_ngcontent-%COMP%]{padding:0 8px}.menu-item-wrapper[_ngcontent-%COMP%]{margin-bottom:12px}.menu-item[_ngcontent-%COMP%]{width:100%;background:none;border:none;border-radius:12px;padding:16px;text-align:left;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;position:relative}.menu-item[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.menu-item.active[_ngcontent-%COMP%]{background-color:var(--selected-bg);color:var(--selected-text)}.menu-item-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1}.menu-item-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:24px;text-align:center}.menu-item-text[_ngcontent-%COMP%]{flex:1}.menu-item-label[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:var(--primary-text-color);display:block}.menu-item.active[_ngcontent-%COMP%]   .menu-item-label[_ngcontent-%COMP%]{color:var(--selected-text)}.menu-item-status[_ngcontent-%COMP%]{margin-top:4px}.saved-indicator[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text-color)}.menu-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:12px}.changes-dot[_ngcontent-%COMP%]{width:8px;height:8px;background-color:var(--airbnb-red);border-radius:50%;display:inline-block}.saving-indicator[_ngcontent-%COMP%]{color:#007bff;animation:_ngcontent-%COMP%_pulse 1s infinite}.content-area[_ngcontent-%COMP%]{padding:24px 32px;max-width:none;display:flex;justify-content:center;height:calc(100vh - 85px);overflow-y:auto}.content-wrapper[_ngcontent-%COMP%]{width:100%;max-width:600px;height:fit-content}.section-content[_ngcontent-%COMP%]{margin-bottom:32px}.section-header[_ngcontent-%COMP%]{margin-bottom:32px;text-align:center}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:var(--primary-text-color);margin-bottom:8px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:var(--secondary-text-color);margin:0}.content-save-section[_ngcontent-%COMP%]{margin-top:32px;text-align:center;padding-top:24px;border-top:1px solid var(--border-color)}.save-btn-content[_ngcontent-%COMP%]{background-color:var(--airbnb-red);border:none;color:#fff;padding:12px 24px;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:background-color .2s;min-width:120px;display:inline-flex;align-items:center;justify-content:center;gap:8px}.save-btn-content[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--airbnb-dark-red)}.save-btn-content[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.save-btn-content.saved[_ngcontent-%COMP%]{background-color:#00a818}.save-btn-content.saved[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#008a15}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid transparent;border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.form-control[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:8px;padding:12px 16px;font-size:16px;transition:border-color .2s,box-shadow .2s;background-color:var(--bg-color);color:var(--primary-text-color)}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--primary-text-color);box-shadow:0 0 0 2px var(--shadow-color);outline:none}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#c13515}.invalid-feedback[_ngcontent-%COMP%]{color:#c13515;font-size:14px;margin-top:4px}.character-count[_ngcontent-%COMP%]{text-align:right;font-size:14px;color:var(--secondary-text-color);margin-top:4px}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--bg);display:flex;align-items:center;justify-content:center;z-index:9999}.loading-content[_ngcontent-%COMP%]{text-align:center}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border-color);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 16px}.loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:var(--secondary-text-color);margin:0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px;color:var(--secondary-text-color)}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.character-count[_ngcontent-%COMP%], .invalid-feedback[_ngcontent-%COMP%]{font-size:12px;margin-top:5px}.character-count[_ngcontent-%COMP%]{color:var(--secondary-text-color);text-align:right}@keyframes _ngcontent-%COMP%_iconAppear{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 991.98px){.sidebar[_ngcontent-%COMP%]{position:static;height:auto;border-right:none;border-bottom:1px solid var(--border-color)}.content-area[_ngcontent-%COMP%]{padding:16px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .title-input[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 767.98px){.editor-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding:12px 16px}.editor-title[_ngcontent-%COMP%]{font-size:18px}.sidebar-title-container[_ngcontent-%COMP%]{gap:8px}.photos-grid[_ngcontent-%COMP%], .property-types-grid[_ngcontent-%COMP%], .amenities-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.guests-selector[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.content-wrapper[_ngcontent-%COMP%]{max-width:none;padding:0 16px}}.initial-loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--bg);display:flex;justify-content:center;align-items:center;z-index:9999;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.initial-loading-content[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:var(--bg-color);border-radius:12px;box-shadow:0 4px 20px var(--dropdown-shadow);max-width:300px}.initial-loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-size:16px;color:var(--secondary-text-color);font-weight:500}.initial-loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border-color);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_initialSpin 1s linear infinite;margin:0 auto}@keyframes _ngcontent-%COMP%_initialSpin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--bg);display:flex;justify-content:center;align-items:center;z-index:1000}.loading-content[_ngcontent-%COMP%]{text-align:center;color:var(--primary-text-color)}.loading-spinner[_ngcontent-%COMP%]{width:30px;height:30px;border:3px solid var(--border-color);border-top:3px solid var(--primary-text-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}',".amenities-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:12px}.amenity-btn[_ngcontent-%COMP%]{background:var(--bg-color);border:2px solid var(--border-color);border-radius:12px;padding:16px;text-align:left;cursor:pointer;transition:all .2s;font-size:16px;display:flex;justify-content:space-between;align-items:center;color:var(--primary-text-color)}.amenity-btn[_ngcontent-%COMP%]:hover{border-color:var(--primary-text-color)}.amenity-btn.selected[_ngcontent-%COMP%]{border-color:var(--primary-text-color);background-color:var(--hover-bg)}.selected-amenities-summary[_ngcontent-%COMP%]{margin-top:2rem;padding:1rem;background-color:var(--light-grey-bg);border-radius:8px}.selected-amenities-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.selected-amenity-tag[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;background-color:var(--highlighted-bg);color:var(--primary-text-color);padding:.25rem .75rem;border-radius:20px;font-size:.875rem;font-weight:500;border:1px solid var(--border-color)}.remove-amenity-btn[_ngcontent-%COMP%]{background:none;border:none;color:var(--airbnb-red);font-size:1.2rem;line-height:1;cursor:pointer;padding:0;margin-left:.25rem}.remove-amenity-btn[_ngcontent-%COMP%]:hover{color:var(--airbnb-dark-red)}.section-content[_ngcontent-%COMP%]{padding:2rem;max-width:800px;margin:0 auto}.section-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--primary-text-color);margin-bottom:.5rem}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-size:.9rem}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;text-align:center}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid var(--border-color);border-top:4px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.amenities-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem;margin-bottom:2rem}.amenity-item[_ngcontent-%COMP%]{width:100%}.amenity-btn[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.5rem 1rem;border:2px solid var(--border-color);border-radius:12px;background:var(--bg-color);cursor:pointer;transition:all .2s ease;position:relative;min-height:120px;color:var(--primary-text-color)}.amenity-btn[_ngcontent-%COMP%]:hover{border-color:var(--primary-text-color);transform:translateY(-2px);box-shadow:0 4px 12px var(--shadow-color)}.amenity-btn.selected[_ngcontent-%COMP%]{border-color:var(--primary-text-color);background-color:var(--hover-bg);color:var(--primary-text-color)}.amenity-icon[_ngcontent-%COMP%]{width:32px;height:32px;margin-bottom:.75rem;display:flex;align-items:center;justify-content:center}.amenity-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.amenity-icon-fallback[_ngcontent-%COMP%]{width:32px;height:32px;margin-bottom:.75rem;display:flex;align-items:center;justify-content:center;color:var(--secondary-text-color)}.amenity-btn.selected[_ngcontent-%COMP%]   .amenity-icon-fallback[_ngcontent-%COMP%]{color:var(--airbnb-red)}.amenity-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;text-align:center;line-height:1.3}.checkmark-icon[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;color:var(--airbnb-red)}.selected-amenities-summary[_ngcontent-%COMP%]{background:var(--light-grey-bg);border-radius:12px;padding:1.5rem;margin-top:2rem}.selected-amenities-summary[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1rem;font-weight:600;color:var(--primary-text-color)}.selected-amenities-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem}.selected-amenity-tag[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;background:var(--bg-color);border:1px solid var(--border-color);border-radius:20px;padding:.5rem .75rem;font-size:.85rem;color:var(--primary-text-color)}.amenity-tag-icon[_ngcontent-%COMP%]{width:16px;height:16px;object-fit:contain}.remove-amenity-btn[_ngcontent-%COMP%]{background:none;border:none;color:var(--airbnb-red);font-size:1.2rem;line-height:1;cursor:pointer;padding:0;margin-left:.25rem;border-radius:50%;width:18px;height:18px;display:flex;align-items:center;justify-content:center;transition:background-color .2s ease}.remove-amenity-btn[_ngcontent-%COMP%]:hover{background-color:var(--highlighted-bg)}.clear-all-btn[_ngcontent-%COMP%]{background:var(--airbnb-red);color:#fff;border:none;border-radius:6px;padding:.5rem 1rem;font-size:.85rem;cursor:pointer;transition:background-color .2s ease}.clear-all-btn[_ngcontent-%COMP%]:hover{background-color:var(--airbnb-dark-red)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:var(--secondary-text-color)}@media (max-width: 768px){.section-content[_ngcontent-%COMP%]{padding:1rem}.amenities-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:.75rem}.amenity-btn[_ngcontent-%COMP%]{padding:1rem .75rem;min-height:100px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}}@media (max-width: 480px){.amenities-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.selected-amenities-summary[_ngcontent-%COMP%]{padding:1rem}}"]})};var R1=mr(M4());function Soe(n,e){if(n&1&&(l(0,"div",19),m(1),d()),n&2){let t=C();p(),U(" ",t.getFieldError("address")," ")}}function Poe(n,e){if(n&1&&(l(0,"div",19),m(1),d()),n&2){let t=C();p(),U(" ",t.getFieldError("city")," ")}}function koe(n,e){if(n&1&&(l(0,"div",19),m(1),d()),n&2){let t=C();p(),U(" ",t.getFieldError("country")," ")}}function Ooe(n,e){n&1&&(l(0,"div",20)(1,"h4"),m(2,"Coordinates"),d(),l(3,"div",21)(4,"div",4)(5,"label",22),m(6,"Latitude"),d(),k(7,"input",23),d(),l(8,"div",4)(9,"label",24),m(10,"Longitude"),d(),k(11,"input",25),d()()())}var y5=class n{constructor(e,t){this.fb=e;this.snackBar=t;this.initializeForm()}data=null;dataChange=new ye;hasChanges=new ye;validationChange=new ye;locationForm;destroy$=new Re;initialValue={};showCoordinates=!1;map;marker;geocoder;propertyLocationIcon=R1.icon({iconUrl:"https://www.svgrepo.com/show/127575/location-sign.svg",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]});showToast(e,t,i){this.snackBar.open(e,"Close",{duration:3e3,horizontalPosition:i,verticalPosition:t,panelClass:["custom-snackbar"]})}ngOnInit(){this.setupFormData(),this.setupFormChangeTracking()}ngAfterViewInit(){this.initMap()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.map&&this.map.remove()}initializeForm(){this.locationForm=this.fb.group({address:["",ht.required],city:["",ht.required],country:["",ht.required],latitude:[null],longitude:[null]})}initMap(){let e=51.505,t=-.09,i=2;this.data?.location?.coordinates&&(e=this.data.location.coordinates.lat,t=this.data.location.coordinates.lng,i=13,this.showCoordinates=!0),this.map=R1.map("map").setView([e,t],i),R1.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.map),this.data?.location?.coordinates&&this.addMarker(this.data.location.coordinates.lat,this.data.location.coordinates.lng),this.map.on("click",r=>{let{lat:o,lng:a}=r.latlng;this.addMarker(o,a),this.updateFormCoordinates(o,a)})}addMarker(e,t){this.marker&&this.map.removeLayer(this.marker),this.marker=R1.marker([e,t],{draggable:!0,icon:this.propertyLocationIcon}).addTo(this.map).bindPopup("Your property location").openPopup(),this.marker.on("dragend",i=>{let o=i.target.getLatLng();this.updateFormCoordinates(o.lat,o.lng)})}updateFormCoordinates(e,t){this.locationForm.patchValue({latitude:e,longitude:t}),this.showCoordinates=!0}setupFormData(){this.data&&(this.initialValue={address:this.data.location.address,city:this.data.location.city,country:this.data.location.country,latitude:this.data.location.coordinates?.lat||null,longitude:this.data.location.coordinates?.lng||null},this.locationForm.patchValue(this.initialValue))}setupFormChangeTracking(){this.locationForm.valueChanges.pipe(ni(300),Oi((e,t)=>JSON.stringify(e)===JSON.stringify(t)),rt(this.destroy$)).subscribe(e=>{let t=JSON.stringify(e)!==JSON.stringify(this.initialValue),i=this.locationForm.valid;if(this.hasChanges.emit(t),this.validationChange.emit(i),t){let r={location:{address:e.address||"",city:e.city||"",country:e.country||"",coordinates:e.latitude&&e.longitude?{lat:Number(e.latitude),lng:Number(e.longitude)}:void 0}};this.dataChange.emit(r)}})}isFieldInvalid(e){let t=this.locationForm.get(e);return!!(t?.invalid&&t?.touched)}getFieldError(e){let t=this.locationForm.get(e);return t?.errors&&t.touched&&t.errors.required?`${e.charAt(0).toUpperCase()+e.slice(1)} is required`:""}toggleCoordinates(){this.showCoordinates=!this.showCoordinates,this.showCoordinates?this.locationForm.value.latitude&&this.locationForm.value.longitude&&this.addMarker(this.locationForm.value.latitude,this.locationForm.value.longitude):(this.locationForm.patchValue({latitude:null,longitude:null}),this.marker&&(this.map.removeLayer(this.marker),this.marker=null))}getCurrentLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{let t=e.coords.latitude,i=e.coords.longitude;this.map.setView([t,i],13),this.addMarker(t,i),this.updateFormCoordinates(t,i)},e=>{console.error("Error getting current location:",e),this.showToast("Unable to retrieve your location. Please check your browser settings.","bottom","left")}):this.showToast("Geolocation is not supported by your browser.","bottom","left")}updateInitialValue(){this.initialValue=ie({},this.locationForm.value),this.hasChanges.emit(!1)}getCurrentData(){let e=this.locationForm.value;return{location:{address:e.address||"",city:e.city||"",country:e.country||"",coordinates:e.latitude&&e.longitude?{lat:Number(e.latitude),lng:Number(e.longitude)}:void 0}}}isValid(){return this.locationForm.valid}getFullAddress(){let e=this.locationForm.value;return[e.address,e.city,e.country].filter(Boolean).join(", ")}hasValidCoordinates(){let e=this.locationForm.get("latitude")?.value,t=this.locationForm.get("longitude")?.value;if(!e||!t)return!1;let i=Number(e),r=Number(t);return i>=-90&&i<=90&&r>=-180&&r<=180}clearCoordinates(){this.locationForm.patchValue({latitude:null,longitude:null}),this.marker&&(this.map.removeLayer(this.marker),this.marker=null)}static \u0275fac=function(t){return new(t||n)(V(to),V(vn))};static \u0275cmp=le({type:n,selectors:[["app-location-section"]],inputs:{data:"data"},outputs:{dataChange:"dataChange",hasChanges:"hasChanges",validationChange:"validationChange"},decls:32,vars:11,consts:[[1,"section-content"],[1,"section-header"],[3,"formGroup"],[1,"location-form"],[1,"form-group"],["for","address",1,"form-label"],["type","text","id","address","formControlName","address","placeholder","Enter street address",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","city",1,"form-label"],["type","text","id","city","formControlName","city","placeholder","Enter city",1,"form-control"],["for","country",1,"form-label"],["type","text","id","country","formControlName","country","placeholder","Enter country",1,"form-control"],[1,"map-container"],["id","map"],[1,"map-controls"],["type","button","title","Use my current location",1,"btn-current-location",3,"click"],[1,"current-location-icon"],[1,"map-instructions"],["class","coordinates-section",4,"ngIf"],[1,"invalid-feedback"],[1,"coordinates-section"],[1,"coordinates-grid"],["for","latitude",1,"form-label"],["type","number","id","latitude","formControlName","latitude","placeholder","e.g., 40.7128","step","any","readonly","",1,"form-control"],["for","longitude",1,"form-label"],["type","number","id","longitude","formControlName","longitude","placeholder","e.g., -74.0060","step","any","readonly","",1,"form-control"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),m(3,"Where's your place located?"),d(),l(4,"p"),m(5,"Guests will see this on the map."),d()(),l(6,"form",2)(7,"div",3)(8,"div",4)(9,"label",5),m(10,"Address"),d(),k(11,"input",6),j(12,Soe,2,1,"div",7),d(),l(13,"div",4)(14,"label",8),m(15,"City"),d(),k(16,"input",9),j(17,Poe,2,1,"div",7),d(),l(18,"div",4)(19,"label",10),m(20,"Country"),d(),k(21,"input",11),j(22,koe,2,1,"div",7),d(),l(23,"div",12),k(24,"div",13),l(25,"div",14)(26,"button",15),T("click",function(){return i.getCurrentLocation()}),l(27,"span",16),m(28,"\u{1F4CD}"),d()()(),l(29,"p",17),m(30,"Click on the map to set your property location, or use the pin button for your current location"),d()(),j(31,Ooe,12,0,"div",18),d()()()),t&2&&(p(6),_("formGroup",i.locationForm),p(5),Me("is-invalid",i.isFieldInvalid("address")),p(),_("ngIf",i.isFieldInvalid("address")),p(4),Me("is-invalid",i.isFieldInvalid("city")),p(),_("ngIf",i.isFieldInvalid("city")),p(4),Me("is-invalid",i.isFieldInvalid("country")),p(),_("ngIf",i.isFieldInvalid("country")),p(9),_("ngIf",i.showCoordinates))},dependencies:[he,Ce,Ii,mn,Rt,nc,Dt,fn,Zi,xo],styles:['@import"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css";.airbnb-listing-editor[_ngcontent-%COMP%]{background-color:var(--bg-color);font-family:Circular,Helvetica Neue,Arial,sans-serif}.editor-header[_ngcontent-%COMP%]{background:var(--bg-color);border-bottom:1px solid var(--border-color);position:sticky;top:0;z-index:1000}.editor-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{max-width:1760px}.editor-content[_ngcontent-%COMP%]{background-color:var(--bg-color)}.editor-content[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{max-width:1760px;padding:0 24px}.sidebar[_ngcontent-%COMP%]{background:var(--bg-color);position:sticky;top:85px;height:calc(100vh - 85px);display:flex;flex-direction:column}.sidebar-header[_ngcontent-%COMP%]{padding:24px 16px 16px;border-bottom:1px solid var(--border-color)}.sidebar-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.back-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px;border-radius:50%;transition:background-color .2s;flex-shrink:0}.back-btn[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.editor-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:var(--primary-text-color);margin:0;flex:1}.menu-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px 0}.menu-list[_ngcontent-%COMP%]{padding:0 8px}.menu-item-wrapper[_ngcontent-%COMP%]{margin-bottom:12px}.menu-item[_ngcontent-%COMP%]{width:100%;background:none;border:none;border-radius:12px;padding:16px;text-align:left;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;position:relative}.menu-item[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.menu-item.active[_ngcontent-%COMP%]{background-color:var(--selected-bg);color:var(--selected-text)}.menu-item-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1}.menu-item-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:24px;text-align:center}.menu-item-text[_ngcontent-%COMP%]{flex:1}.menu-item-label[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:var(--primary-text-color);display:block}.menu-item.active[_ngcontent-%COMP%]   .menu-item-label[_ngcontent-%COMP%]{color:var(--selected-text)}.menu-item-status[_ngcontent-%COMP%]{margin-top:4px}.saved-indicator[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text-color)}.menu-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:12px}.changes-dot[_ngcontent-%COMP%]{width:8px;height:8px;background-color:var(--airbnb-red);border-radius:50%;display:inline-block}.saving-indicator[_ngcontent-%COMP%]{color:#007bff;animation:_ngcontent-%COMP%_pulse 1s infinite}.content-area[_ngcontent-%COMP%]{padding:24px 32px;max-width:none;display:flex;justify-content:center;height:calc(100vh - 85px);overflow-y:auto}.content-wrapper[_ngcontent-%COMP%]{width:100%;max-width:600px;height:fit-content}.section-content[_ngcontent-%COMP%]{margin-bottom:32px}.section-header[_ngcontent-%COMP%]{margin-bottom:32px;text-align:center}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:var(--primary-text-color);margin-bottom:8px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:var(--secondary-text-color);margin:0}.content-save-section[_ngcontent-%COMP%]{margin-top:32px;text-align:center;padding-top:24px;border-top:1px solid var(--border-color)}.save-btn-content[_ngcontent-%COMP%]{background-color:var(--airbnb-red);border:none;color:#fff;padding:12px 24px;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:background-color .2s;min-width:120px;display:inline-flex;align-items:center;justify-content:center;gap:8px}.save-btn-content[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--airbnb-dark-red)}.save-btn-content[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.save-btn-content.saved[_ngcontent-%COMP%]{background-color:#00a818}.save-btn-content.saved[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#008a15}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid transparent;border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.form-control[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:8px;padding:12px 16px;font-size:16px;transition:border-color .2s,box-shadow .2s;background-color:var(--bg-color);color:var(--primary-text-color)}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--primary-text-color);box-shadow:0 0 0 2px var(--shadow-color);outline:none}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#c13515}.invalid-feedback[_ngcontent-%COMP%]{color:#c13515;font-size:14px;margin-top:4px}.character-count[_ngcontent-%COMP%]{text-align:right;font-size:14px;color:var(--secondary-text-color);margin-top:4px}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--bg);display:flex;align-items:center;justify-content:center;z-index:9999}.loading-content[_ngcontent-%COMP%]{text-align:center}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border-color);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 16px}.loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:var(--secondary-text-color);margin:0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px;color:var(--secondary-text-color)}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.character-count[_ngcontent-%COMP%], .invalid-feedback[_ngcontent-%COMP%]{font-size:12px;margin-top:5px}.character-count[_ngcontent-%COMP%]{color:var(--secondary-text-color);text-align:right}@keyframes _ngcontent-%COMP%_iconAppear{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 991.98px){.sidebar[_ngcontent-%COMP%]{position:static;height:auto;border-right:none;border-bottom:1px solid var(--border-color)}.content-area[_ngcontent-%COMP%]{padding:16px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .title-input[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 767.98px){.editor-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding:12px 16px}.editor-title[_ngcontent-%COMP%]{font-size:18px}.sidebar-title-container[_ngcontent-%COMP%]{gap:8px}.photos-grid[_ngcontent-%COMP%], .property-types-grid[_ngcontent-%COMP%], .amenities-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.guests-selector[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.content-wrapper[_ngcontent-%COMP%]{max-width:none;padding:0 16px}}.initial-loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--bg);display:flex;justify-content:center;align-items:center;z-index:9999;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.initial-loading-content[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:var(--bg-color);border-radius:12px;box-shadow:0 4px 20px var(--dropdown-shadow);max-width:300px}.initial-loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-size:16px;color:var(--secondary-text-color);font-weight:500}.initial-loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border-color);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_initialSpin 1s linear infinite;margin:0 auto}@keyframes _ngcontent-%COMP%_initialSpin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--bg);display:flex;justify-content:center;align-items:center;z-index:1000}.loading-content[_ngcontent-%COMP%]{text-align:center;color:var(--primary-text-color)}.loading-spinner[_ngcontent-%COMP%]{width:30px;height:30px;border:3px solid var(--border-color);border-top:3px solid var(--primary-text-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}',".coordinates-toggle[_ngcontent-%COMP%]{margin-top:1rem;text-align:center}.toggle-btn[_ngcontent-%COMP%]{background:none;border:1px solid var(--border-color);color:var(--secondary-text-color);padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-size:.875rem;transition:all .2s}.toggle-btn[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg);border-color:var(--primary-text-color)}@media (max-width: 768px){.coordinates-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.coordinates-section[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background-color:var(--light-grey-bg);border-radius:8px}.coordinates-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1rem;font-weight:600;color:var(--primary-text-color)}.coordinates-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.form-label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:var(--primary-text-color)}.map-container[_ngcontent-%COMP%]{margin:1.5rem 0;border-radius:8px;overflow:hidden;box-shadow:0 2px 4px var(--shadow-color)}@media (max-width: 768px){.coordinates-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}#map[_ngcontent-%COMP%]{height:250px}}.map-container[_ngcontent-%COMP%]{position:relative;margin:1.5rem 0;border-radius:8px;overflow:hidden;box-shadow:0 2px 4px var(--shadow-color)}#map[_ngcontent-%COMP%]{height:300px;width:100%}.map-controls[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;z-index:1000}.btn-current-location[_ngcontent-%COMP%]{background-color:var(--bg-color);border:2px solid #4285f4;border-radius:6px;padding:10px 15px;font-size:1rem;cursor:pointer;box-shadow:0 2px 6px var(--shadow-color);display:flex;align-items:center;justify-content:center;transition:all .2s ease-in-out}.btn-current-location[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg);box-shadow:0 3px 8px var(--dropdown-shadow);transform:translateY(-1px)}.btn-current-location[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 1px 4px var(--shadow-color)}.current-location-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:#4285f4}.map-instructions[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.875rem;color:var(--secondary-text-color);text-align:center}.location-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:16px}"]})};function Doe(n,e){if(n&1){let t=X();l(0,"button",15),T("click",function(){z(t);let r=C();return A(r.decrementBedrooms())}),$e(),l(1,"svg",16),k(2,"path",17),d()()}}function Eoe(n,e){if(n&1){let t=X();l(0,"button",18),T("click",function(){z(t);let r=C();return A(r.incrementBedrooms())}),$e(),l(1,"svg",16),k(2,"path",19),d()()}}function Ioe(n,e){if(n&1&&(l(0,"div",20),m(1),d()),n&2){let t=C();p(),U(" ",t.getFieldError("bedrooms")," ")}}function Toe(n,e){if(n&1){let t=X();l(0,"button",15),T("click",function(){z(t);let r=C();return A(r.decrementBeds())}),$e(),l(1,"svg",16),k(2,"path",17),d()()}}function Loe(n,e){if(n&1){let t=X();l(0,"button",18),T("click",function(){z(t);let r=C();return A(r.incrementBeds())}),$e(),l(1,"svg",16),k(2,"path",19),d()()}}function zoe(n,e){if(n&1&&(l(0,"div",20),m(1),d()),n&2){let t=C();p(),U(" ",t.getFieldError("beds")," ")}}function Aoe(n,e){if(n&1){let t=X();l(0,"button",15),T("click",function(){z(t);let r=C();return A(r.decrementBathrooms())}),$e(),l(1,"svg",16),k(2,"path",17),d()()}}function Noe(n,e){if(n&1){let t=X();l(0,"button",18),T("click",function(){z(t);let r=C();return A(r.incrementBathrooms())}),$e(),l(1,"svg",16),k(2,"path",19),d()()}}function Roe(n,e){if(n&1&&(l(0,"div",20),m(1),d()),n&2){let t=C();p(),U(" ",t.getFieldError("bathrooms")," ")}}var x5=class n{constructor(e){this.fb=e;this.initializeForm()}data=null;dataChange=new ye;hasChanges=new ye;validationChange=new ye;roomsForm;destroy$=new Re;initialValue={bedrooms:1,beds:1,bathrooms:1};ngOnInit(){this.setupFormData(),this.setupFormChangeTracking()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeForm(){this.roomsForm=this.fb.group({bedrooms:[1,[ht.required,ht.min(1),ht.max(50)]],beds:[1,[ht.required,ht.min(1),ht.max(50)]],bathrooms:[1,[ht.required,ht.min(1),ht.max(50)]]})}setupFormData(){this.data&&(this.initialValue=ie({},this.data),this.roomsForm.patchValue({bedrooms:this.data.bedrooms,beds:this.data.beds,bathrooms:this.data.bathrooms}))}setupFormChangeTracking(){this.roomsForm.valueChanges.pipe(ni(300),Oi(),rt(this.destroy$)).subscribe(e=>{let t=this.hasFormChanges(e),i=this.roomsForm.valid;this.hasChanges.emit(t),this.validationChange.emit(i),t&&this.dataChange.emit({bedrooms:Number(e.bedrooms),beds:Number(e.beds),bathrooms:Number(e.bathrooms)})})}hasFormChanges(e){return Number(e.bedrooms)!==this.initialValue.bedrooms||Number(e.beds)!==this.initialValue.beds||Number(e.bathrooms)!==this.initialValue.bathrooms}incrementBedrooms(){let e=this.roomsForm.get("bedrooms")?.value||1;e<50&&this.roomsForm.patchValue({bedrooms:e+1})}decrementBedrooms(){let e=this.roomsForm.get("bedrooms")?.value||1;e>1&&this.roomsForm.patchValue({bedrooms:e-1})}incrementBeds(){let e=this.roomsForm.get("beds")?.value||1;e<50&&this.roomsForm.patchValue({beds:e+1})}decrementBeds(){let e=this.roomsForm.get("beds")?.value||1;e>1&&this.roomsForm.patchValue({beds:e-1})}incrementBathrooms(){let e=this.roomsForm.get("bathrooms")?.value||1;e<50&&this.roomsForm.patchValue({bathrooms:e+1})}decrementBathrooms(){let e=this.roomsForm.get("bathrooms")?.value||1;e>1&&this.roomsForm.patchValue({bathrooms:e-1})}isFieldInvalid(e){let t=this.roomsForm.get(e);return!!(t?.invalid&&t?.touched)}getFieldError(e){let t=this.roomsForm.get(e);if(t?.errors&&t.touched){if(t.errors.required)return"This field is required";if(t.errors.min)return"Minimum value is 1";if(t.errors.max)return"Maximum value is 50"}return""}updateInitialValue(){let e=this.roomsForm.value;this.initialValue={bedrooms:Number(e.bedrooms),beds:Number(e.beds),bathrooms:Number(e.bathrooms)},this.hasChanges.emit(!1)}getCurrentData(){let e=this.roomsForm.value;return{bedrooms:Number(e.bedrooms),beds:Number(e.beds),bathrooms:Number(e.bathrooms)}}isValid(){return this.roomsForm.valid}static \u0275fac=function(t){return new(t||n)(V(to))};static \u0275cmp=le({type:n,selectors:[["app-rooms-section"]],inputs:{data:"data"},outputs:{dataChange:"dataChange",hasChanges:"hasChanges",validationChange:"validationChange"},decls:43,vars:16,consts:[[1,"section-content"],[1,"section-header"],[1,"rooms-form",3,"formGroup"],[1,"room-item"],[1,"room-info"],[1,"room-label"],[1,"room-description"],[1,"room-counter"],["type","button","class","counter-btn counter-btn-minus",3,"click",4,"ngIf"],[1,"counter-value"],["formControlName","bedrooms","type","number","min","1","max","16","readonly","",1,"counter-input"],["type","button","class","counter-btn counter-btn-plus",3,"click",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],["formControlName","beds","type","number","min","1","max","16","readonly","",1,"counter-input"],["formControlName","bathrooms","type","number","min","1","max","16","readonly","",1,"counter-input"],["type","button",1,"counter-btn","counter-btn-minus",3,"click"],["width","16","height","16","fill","currentColor","viewBox","0 0 16 16"],["d","M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"],["type","button",1,"counter-btn","counter-btn-plus",3,"click"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"],[1,"invalid-feedback"]],template:function(t,i){if(t&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),m(3,"Share some basics about your place"),d(),l(4,"p"),m(5,"You'll add more details later, like bed types."),d()(),l(6,"form",2)(7,"div",3)(8,"div",4)(9,"div",5),m(10,"Bedrooms"),d(),l(11,"div",6),m(12,"How many bedrooms can guests use?"),d()(),l(13,"div",7),j(14,Doe,3,0,"button",8),l(15,"div",9),k(16,"input",10),d(),j(17,Eoe,3,0,"button",11),d(),j(18,Ioe,2,1,"div",12),d(),l(19,"div",3)(20,"div",4)(21,"div",5),m(22,"Beds"),d(),l(23,"div",6),m(24,"How many beds can guests use?"),d()(),l(25,"div",7),j(26,Toe,3,0,"button",8),l(27,"div",9),k(28,"input",13),d(),j(29,Loe,3,0,"button",11),d(),j(30,zoe,2,1,"div",12),d(),l(31,"div",3)(32,"div",4)(33,"div",5),m(34,"Bathrooms"),d(),l(35,"div",6),m(36,"How many bathrooms can guests use?"),d()(),l(37,"div",7),j(38,Aoe,3,0,"button",8),l(39,"div",9),k(40,"input",14),d(),j(41,Noe,3,0,"button",11),d(),j(42,Roe,2,1,"div",12),d()()()),t&2){let r,o,a,c,u,h;p(6),_("formGroup",i.roomsForm),p(8),_("ngIf",(((r=i.roomsForm.get("bedrooms"))==null?null:r.value)||1)>1),p(2),Me("is-invalid",i.isFieldInvalid("bedrooms")),p(),_("ngIf",(((o=i.roomsForm.get("bedrooms"))==null?null:o.value)||1)<16),p(),_("ngIf",i.isFieldInvalid("bedrooms")),p(8),_("ngIf",(((a=i.roomsForm.get("beds"))==null?null:a.value)||1)>1),p(2),Me("is-invalid",i.isFieldInvalid("beds")),p(),_("ngIf",(((c=i.roomsForm.get("beds"))==null?null:c.value)||1)<16),p(),_("ngIf",i.isFieldInvalid("beds")),p(8),_("ngIf",(((u=i.roomsForm.get("bathrooms"))==null?null:u.value)||1)>1),p(2),Me("is-invalid",i.isFieldInvalid("bathrooms")),p(),_("ngIf",(((h=i.roomsForm.get("bathrooms"))==null?null:h.value)||1)<16),p(),_("ngIf",i.isFieldInvalid("bathrooms"))}},dependencies:[he,Ce,Ii,mn,Rt,nc,Dt,fn,tp,Ax,Zi,xo],styles:['@import"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css";.airbnb-listing-editor[_ngcontent-%COMP%]{background-color:var(--bg-color);font-family:Circular,Helvetica Neue,Arial,sans-serif}.editor-header[_ngcontent-%COMP%]{background:var(--bg-color);border-bottom:1px solid var(--border-color);position:sticky;top:0;z-index:1000}.editor-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{max-width:1760px}.editor-content[_ngcontent-%COMP%]{background-color:var(--bg-color)}.editor-content[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{max-width:1760px;padding:0 24px}.sidebar[_ngcontent-%COMP%]{background:var(--bg-color);position:sticky;top:85px;height:calc(100vh - 85px);display:flex;flex-direction:column}.sidebar-header[_ngcontent-%COMP%]{padding:24px 16px 16px;border-bottom:1px solid var(--border-color)}.sidebar-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.back-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px;border-radius:50%;transition:background-color .2s;flex-shrink:0}.back-btn[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.editor-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:var(--primary-text-color);margin:0;flex:1}.menu-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px 0}.menu-list[_ngcontent-%COMP%]{padding:0 8px}.menu-item-wrapper[_ngcontent-%COMP%]{margin-bottom:12px}.menu-item[_ngcontent-%COMP%]{width:100%;background:none;border:none;border-radius:12px;padding:16px;text-align:left;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;position:relative}.menu-item[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.menu-item.active[_ngcontent-%COMP%]{background-color:var(--selected-bg);color:var(--selected-text)}.menu-item-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1}.menu-item-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:24px;text-align:center}.menu-item-text[_ngcontent-%COMP%]{flex:1}.menu-item-label[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:var(--primary-text-color);display:block}.menu-item.active[_ngcontent-%COMP%]   .menu-item-label[_ngcontent-%COMP%]{color:var(--selected-text)}.menu-item-status[_ngcontent-%COMP%]{margin-top:4px}.saved-indicator[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text-color)}.menu-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:12px}.changes-dot[_ngcontent-%COMP%]{width:8px;height:8px;background-color:var(--airbnb-red);border-radius:50%;display:inline-block}.saving-indicator[_ngcontent-%COMP%]{color:#007bff;animation:_ngcontent-%COMP%_pulse 1s infinite}.content-area[_ngcontent-%COMP%]{padding:24px 32px;max-width:none;display:flex;justify-content:center;height:calc(100vh - 85px);overflow-y:auto}.content-wrapper[_ngcontent-%COMP%]{width:100%;max-width:600px;height:fit-content}.section-content[_ngcontent-%COMP%]{margin-bottom:32px}.section-header[_ngcontent-%COMP%]{margin-bottom:32px;text-align:center}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:var(--primary-text-color);margin-bottom:8px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:var(--secondary-text-color);margin:0}.content-save-section[_ngcontent-%COMP%]{margin-top:32px;text-align:center;padding-top:24px;border-top:1px solid var(--border-color)}.save-btn-content[_ngcontent-%COMP%]{background-color:var(--airbnb-red);border:none;color:#fff;padding:12px 24px;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:background-color .2s;min-width:120px;display:inline-flex;align-items:center;justify-content:center;gap:8px}.save-btn-content[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--airbnb-dark-red)}.save-btn-content[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.save-btn-content.saved[_ngcontent-%COMP%]{background-color:#00a818}.save-btn-content.saved[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#008a15}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid transparent;border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.form-control[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:8px;padding:12px 16px;font-size:16px;transition:border-color .2s,box-shadow .2s;background-color:var(--bg-color);color:var(--primary-text-color)}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--primary-text-color);box-shadow:0 0 0 2px var(--shadow-color);outline:none}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#c13515}.invalid-feedback[_ngcontent-%COMP%]{color:#c13515;font-size:14px;margin-top:4px}.character-count[_ngcontent-%COMP%]{text-align:right;font-size:14px;color:var(--secondary-text-color);margin-top:4px}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--bg);display:flex;align-items:center;justify-content:center;z-index:9999}.loading-content[_ngcontent-%COMP%]{text-align:center}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border-color);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 16px}.loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:var(--secondary-text-color);margin:0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px;color:var(--secondary-text-color)}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.character-count[_ngcontent-%COMP%], .invalid-feedback[_ngcontent-%COMP%]{font-size:12px;margin-top:5px}.character-count[_ngcontent-%COMP%]{color:var(--secondary-text-color);text-align:right}@keyframes _ngcontent-%COMP%_iconAppear{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 991.98px){.sidebar[_ngcontent-%COMP%]{position:static;height:auto;border-right:none;border-bottom:1px solid var(--border-color)}.content-area[_ngcontent-%COMP%]{padding:16px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .title-input[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 767.98px){.editor-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding:12px 16px}.editor-title[_ngcontent-%COMP%]{font-size:18px}.sidebar-title-container[_ngcontent-%COMP%]{gap:8px}.photos-grid[_ngcontent-%COMP%], .property-types-grid[_ngcontent-%COMP%], .amenities-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.guests-selector[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.content-wrapper[_ngcontent-%COMP%]{max-width:none;padding:0 16px}}.initial-loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--bg);display:flex;justify-content:center;align-items:center;z-index:9999;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.initial-loading-content[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:var(--bg-color);border-radius:12px;box-shadow:0 4px 20px var(--dropdown-shadow);max-width:300px}.initial-loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-size:16px;color:var(--secondary-text-color);font-weight:500}.initial-loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border-color);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_initialSpin 1s linear infinite;margin:0 auto}@keyframes _ngcontent-%COMP%_initialSpin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--bg);display:flex;justify-content:center;align-items:center;z-index:1000}.loading-content[_ngcontent-%COMP%]{text-align:center;color:var(--primary-text-color)}.loading-spinner[_ngcontent-%COMP%]{width:30px;height:30px;border:3px solid var(--border-color);border-top:3px solid var(--primary-text-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}',".rooms-form[_ngcontent-%COMP%]{max-width:600px}.room-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px 0;border-bottom:1px solid var(--border-color);position:relative}.room-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.room-info[_ngcontent-%COMP%]{flex:1}.room-label[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--primary-text-color);margin-bottom:4px}.room-description[_ngcontent-%COMP%]{font-size:14px;color:var(--secondary-text-color);line-height:1.4}.room-counter[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.counter-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:1px solid var(--border-color);border-radius:50%;background:var(--bg-color);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:var(--secondary-text-color)}.counter-btn[_ngcontent-%COMP%]:hover:not(:disabled){border-color:var(--primary-text-color);color:var(--primary-text-color)}.counter-btn[_ngcontent-%COMP%]:disabled{border-color:var(--disabled-color);color:var(--disabled-color);cursor:not-allowed;background:var(--disabled-bg)}.counter-btn-minus[_ngcontent-%COMP%]:disabled{opacity:.3}.counter-btn-plus[_ngcontent-%COMP%]:disabled{opacity:.3}.counter-value[_ngcontent-%COMP%]{min-width:40px;text-align:center}.counter-input[_ngcontent-%COMP%]{width:40px;text-align:center;border:none;outline:none;background:transparent;font-size:16px;font-weight:400;color:var(--primary-text-color);cursor:default}.counter-input[_ngcontent-%COMP%]::-webkit-outer-spin-button, .counter-input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.counter-input.is-invalid[_ngcontent-%COMP%]{color:#d93900}.invalid-feedback[_ngcontent-%COMP%]{position:absolute;bottom:4px;left:0;font-size:12px;color:#d93900;margin-top:4px}@media (max-width: 768px){.room-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.room-counter[_ngcontent-%COMP%]{align-self:flex-end}.invalid-feedback[_ngcontent-%COMP%]{position:static}}.counter-value[_ngcontent-%COMP%]{transition:transform .1s ease}.counter-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.counter-btn[_ngcontent-%COMP%]:focus{outline:2px solid var(--airbnb-red);outline-offset:2px}.counter-input[_ngcontent-%COMP%]:focus{outline:2px solid var(--airbnb-red);outline-offset:1px;border-radius:4px}"]})};var Foe=["photosSection"];function Voe(n,e){n&1&&(l(0,"div",5)(1,"div",6),k(2,"div",7),l(3,"p"),m(4,"Setting up your listing editor..."),d()()())}function Boe(n,e){n&1&&(l(0,"div",8)(1,"div",9),k(2,"div",10),l(3,"p"),m(4,"Loading your listing..."),d()()())}function joe(n,e){if(n&1&&(l(0,"div",40)(1,"span",41),m(2),Q(3,"date"),d()()),n&2){let t=C().$implicit;p(2),U("Saved ",Vt(3,1,t.lastSaved,"short"))}}function Hoe(n,e){n&1&&(l(0,"span",42),m(1,"\u{1F4BE}"),d())}function Uoe(n,e){n&1&&(l(0,"span",43),m(1,"\u25CF"),d())}function $oe(n,e){if(n&1){let t=X();l(0,"div",30)(1,"button",31),T("click",function(){let r=z(t).$implicit,o=C(2);return A(o.onMenuSectionClick(r))}),l(2,"div",32)(3,"div",33),m(4),d(),l(5,"div",34)(6,"span",35),m(7),d(),j(8,joe,4,4,"div",36),d()(),l(9,"div",37),j(10,Hoe,2,0,"span",38)(11,Uoe,2,0,"span",39),d()()()}if(n&2){let t=e.$implicit;p(),Me("active",t.isActive),p(3),$(t.icon),p(3),$(t.label),p(),_("ngIf",t.lastSaved),p(2),_("ngIf",t.isSaving),p(),_("ngIf",t.hasChanges&&!t.isSaving)}}function Woe(n,e){if(n&1){let t=X();l(0,"app-photos-section",51,0),T("dataChange",function(r){z(t);let o=C(3);return A(o.onPhotosDataChange(r))})("hasChanges",function(r){z(t);let o=C(3);return A(o.onSectionHasChanges("photos",r))})("validationChange",function(r){z(t);let o=C(3);return A(o.onSectionValidationChange("photos",r))})("saveComplete",function(){z(t);let r=C(3);return A(r.onSectionSaveComplete("photos"))}),d()}if(n&2){let t=C(3);_("data",t.photosData)}}function Goe(n,e){if(n&1){let t=X();l(0,"app-title-section",52),T("dataChange",function(r){z(t);let o=C(3);return A(o.onTitleDataChange(r))})("hasChanges",function(r){z(t);let o=C(3);return A(o.onSectionHasChanges("title",r))})("validationChange",function(r){z(t);let o=C(3);return A(o.onSectionValidationChange("title",r))}),d()}if(n&2){let t=C(3);_("data",t.titleData)}}function Yoe(n,e){if(n&1){let t=X();l(0,"app-property-type-section",52),T("dataChange",function(r){z(t);let o=C(3);return A(o.onPropertyTypeDataChange(r))})("hasChanges",function(r){z(t);let o=C(3);return A(o.onSectionHasChanges("propertyId",r))})("validationChange",function(r){z(t);let o=C(3);return A(o.onSectionValidationChange("propertyId",r))}),d()}if(n&2){let t=C(3);_("data",t.propertyTypeData)}}function qoe(n,e){if(n&1){let t=X();l(0,"app-price-section",52),T("dataChange",function(r){z(t);let o=C(3);return A(o.onPriceDataChange(r))})("hasChanges",function(r){z(t);let o=C(3);return A(o.onSectionHasChanges("price",r))})("validationChange",function(r){z(t);let o=C(3);return A(o.onSectionValidationChange("price",r))}),d()}if(n&2){let t=C(3);_("data",t.priceData)}}function Zoe(n,e){if(n&1){let t=X();l(0,"app-guests-section",52),T("dataChange",function(r){z(t);let o=C(3);return A(o.onGuestsDataChange(r))})("hasChanges",function(r){z(t);let o=C(3);return A(o.onSectionHasChanges("maxGuests",r))})("validationChange",function(r){z(t);let o=C(3);return A(o.onSectionValidationChange("maxGuests",r))}),d()}if(n&2){let t=C(3);_("data",t.guestsData)}}function Xoe(n,e){if(n&1){let t=X();l(0,"app-description-section",52),T("dataChange",function(r){z(t);let o=C(3);return A(o.onDescriptionDataChange(r))})("hasChanges",function(r){z(t);let o=C(3);return A(o.onSectionHasChanges("description",r))})("validationChange",function(r){z(t);let o=C(3);return A(o.onSectionValidationChange("description",r))}),d()}if(n&2){let t=C(3);_("data",t.descriptionData)}}function Koe(n,e){if(n&1){let t=X();l(0,"app-rooms-section",52),T("dataChange",function(r){z(t);let o=C(3);return A(o.onRoomsDataChange(r))})("hasChanges",function(r){z(t);let o=C(3);return A(o.onSectionHasChanges("rooms",r))})("validationChange",function(r){z(t);let o=C(3);return A(o.onSectionValidationChange("rooms",r))}),d()}if(n&2){let t=C(3);_("data",t.roomsData)}}function Qoe(n,e){if(n&1){let t=X();l(0,"app-amenities-section",53),T("dataChange",function(r){z(t);let o=C(3);return A(o.onAmenitiesDataChange(r))})("hasChanges",function(r){z(t);let o=C(3);return A(o.onSectionHasChanges("amenities",r))})("validationChange",function(r){z(t);let o=C(3);return A(o.onSectionValidationChange("amenities",r))}),d()}if(n&2){let t=C(3);_("propertyId",t.propertyId)("data",t.amenitiesData)}}function Joe(n,e){if(n&1){let t=X();l(0,"app-location-section",52),T("dataChange",function(r){z(t);let o=C(3);return A(o.onLocationDataChange(r))})("hasChanges",function(r){z(t);let o=C(3);return A(o.onSectionHasChanges("location",r))})("validationChange",function(r){z(t);let o=C(3);return A(o.onSectionValidationChange("location",r))}),d()}if(n&2){let t=C(3);_("data",t.locationData)}}function eae(n,e){n&1&&(l(0,"span",54),m(1,"\u23F3"),d())}function tae(n,e){if(n&1&&(l(0,"span"),m(1),d()),n&2){let t=C(3);p(),$(t.getSaveButtonText())}}function nae(n,e){if(n&1){let t=X();l(0,"div",44),j(1,Woe,2,1,"app-photos-section",45)(2,Goe,1,1,"app-title-section",46)(3,Yoe,1,1,"app-property-type-section",46)(4,qoe,1,1,"app-price-section",46)(5,Zoe,1,1,"app-guests-section",46)(6,Xoe,1,1,"app-description-section",46)(7,Koe,1,1,"app-rooms-section",46)(8,Qoe,1,2,"app-amenities-section",47)(9,Joe,1,1,"app-location-section",46),l(10,"div",48)(11,"button",49),T("click",function(){z(t);let r=C(2);return A(r.onSaveCurrentSection())}),j(12,eae,2,0,"span",50)(13,tae,2,1,"span",4),d()()()}if(n&2){let t=C(2);p(),_("ngIf",t.activeSection==="photos"),p(),_("ngIf",t.activeSection==="title"),p(),_("ngIf",t.activeSection==="propertyId"),p(),_("ngIf",t.activeSection==="price"),p(),_("ngIf",t.activeSection==="maxGuests"),p(),_("ngIf",t.activeSection==="description"),p(),_("ngIf",t.activeSection==="rooms"),p(),_("ngIf",t.activeSection==="amenities"),p(),_("ngIf",t.activeSection==="location"),p(2),cn(t.getSaveButtonClass()),_("disabled",!t.hasChangesInActiveSection()||t.isSavingActiveSection()||!t.isActiveSectionValid()),p(),_("ngIf",t.isSavingActiveSection()),p(),_("ngIf",!t.isSavingActiveSection())}}function iae(n,e){n&1&&(l(0,"div",55)(1,"p"),m(2,"No property data available"),d()())}function rae(n,e){if(n&1&&(l(0,"div")(1,"div",11),k(2,"div",12),d(),l(3,"div",13)(4,"div",12)(5,"div",14)(6,"div",15)(7,"div",16)(8,"div",17)(9,"div",18)(10,"button",19),$e(),l(11,"svg",20),k(12,"path",21),d()(),lt(),l(13,"h1",22),m(14,"Listing editor"),d()()(),l(15,"div",23)(16,"div",24),j(17,$oe,12,7,"div",25),d()()()(),l(18,"div",26)(19,"div",27),j(20,nae,14,14,"div",28)(21,iae,3,0,"div",29),d()()()()()()),n&2){let t=C();p(17),_("ngForOf",t.menuSections)("ngForTrackBy",t.trackBySection),p(3),_("ngIf",t.property),p(),_("ngIf",!t.property&&!t.isLoading)}}var Fp=class n{constructor(e,t,i,r){this.propertyService=e;this.cdr=t;this.activatedRoute=i;this.snackBar=r}destroy$=new Re;photosComponent;property=null;originalProperty=null;roomsData=null;propertyId=0;isLoading=!1;isInitialLoading=!0;showContent=!1;menuSections=[{id:"title",label:"Title",icon:"\u{1F4DD}",isActive:!0,hasChanges:!1,isSaving:!1,isValid:!0},{id:"photos",label:"Photos",icon:"\u{1F4F8}",isActive:!1,hasChanges:!1,isSaving:!1,isValid:!0},{id:"propertyId",label:"Property type",icon:"\u{1F3E0}",isActive:!1,hasChanges:!1,isSaving:!1,isValid:!0},{id:"rooms",label:"Rooms & beds",icon:"\u{1F6CF}\uFE0F",isActive:!1,hasChanges:!1,isSaving:!1,isValid:!0},{id:"price",label:"Pricing",icon:"\u{1F4B0}",isActive:!1,hasChanges:!1,isSaving:!1,isValid:!0},{id:"maxGuests",label:"Guests",icon:"\u{1F465}",isActive:!1,hasChanges:!1,isSaving:!1,isValid:!0},{id:"description",label:"Description",icon:"\u{1F4C4}",isActive:!1,hasChanges:!1,isSaving:!1,isValid:!0},{id:"amenities",label:"Amenities",icon:"\u2728",isActive:!1,hasChanges:!1,isSaving:!1,isValid:!0},{id:"location",label:"Location",icon:"\u{1F4CD}",isActive:!1,hasChanges:!1,isSaving:!1,isValid:!0}];activeSection="title";photosData=null;titleData=null;propertyTypeData=null;priceData=null;guestsData=null;descriptionData=null;amenitiesData=null;locationData=null;showToast(e,t,i){this.snackBar.open(e,"Close",{duration:3e3,horizontalPosition:i,verticalPosition:t,panelClass:["custom-snackbar"]})}ngOnInit(){console.log("UpdateList ngOnInit called"),this.activatedRoute.params.subscribe({next:e=>{let t=e.propertyId;console.log("Route params received:",e),t&&(this.propertyId=Number(t),console.log("Property ID from route:",this.propertyId),console.log("Active section on init:",this.activeSection),this.isLoading=!0,this.loadProperty())},error:e=>{console.error("Route params error:",e),this.isLoading=!1,this.hideInitialLoader(),this.cdr.detectChanges()}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadProperty(){this.propertyId&&(console.log("Loading property with ID:",this.propertyId),this.isLoading=!0,this.propertyService.getPropertyById(this.propertyId).subscribe({next:e=>{console.log("Loaded property:",e),console.log("Property title:",e.title),this.originalProperty=e,this.property=e,this.mapPropertyToSectionData(e),console.log("Title data after mapping:",this.titleData),console.log("Active section after mapping:",this.activeSection),this.isLoading=!1,this.showContentWithDelay()},error:e=>{console.error("Failed to load property:",e),this.isLoading=!1,this.hideInitialLoader()}}))}showContentWithDelay(){setTimeout(()=>{this.showContent=!0,this.isInitialLoading=!1,this.cdr.detectChanges()},500)}hideInitialLoader(){this.showContent=!0,this.isInitialLoading=!1,this.cdr.detectChanges()}mapPropertyToSectionData(e){this.titleData={title:e.title},this.propertyTypeData={propertyTypeId:e.propertyTypeId},this.priceData={price:e.pricePerNight},this.guestsData={maxGuests:e.maxGuests||1},this.roomsData={bedrooms:e.bedrooms||1,beds:e.beds||1,bathrooms:e.bathrooms||1},this.descriptionData={description:e.description},this.amenitiesData={amenities:[]},this.locationData={location:{address:e.state,city:e.city,country:e.country,coordinates:{lat:e.latitude,lng:e.longitude}}},console.log("Mapped property data synchronously, title data:",this.titleData),this.cdr.detectChanges(),this.loadPropertyImages(e.id).then(t=>{this.photosData={photos:t||[],propertyId:e.id,hostId:e.hostId},console.log("Loaded property images:",t),this.cdr.detectChanges()})}loadPropertyImages(e){return new Promise((t,i)=>{this.propertyService.getImagesByPropertyId(e).subscribe({next:r=>{console.log("Loaded property images:",r),t(r)},error:r=>{console.error("Failed to load property images:",r),t([])}})})}onRoomsDataChange(e){this.roomsData=e,this.property&&(this.property.bedrooms=e.bedrooms,this.property.beds=e.beds,this.property.bathrooms=e.bathrooms)}onMenuSectionClick(e){this.menuSections.forEach(t=>t.isActive=!1),e.isActive=!0,this.activeSection=e.id}trackBySection(e,t){return t.id}onPhotosDataChange(e){this.photosData=e,this.property&&(this.property.images=e.photos)}onTitleDataChange(e){this.titleData=e}onPropertyTypeDataChange(e){this.propertyTypeData=e}onPriceDataChange(e){this.priceData=e}onGuestsDataChange(e){this.guestsData=e,this.property&&(this.property.maxGuests=e.maxGuests)}onDescriptionDataChange(e){this.descriptionData=e}onAmenitiesDataChange(e){console.log("Amenities data changed:",e),this.amenitiesData=e,this.property}onLocationDataChange(e){this.locationData=e}onSectionHasChanges(e,t){let i=this.menuSections.find(r=>r.id===e);i&&(i.hasChanges=t,console.log(`Section ${e} has changes:`,t))}onSectionValidationChange(e,t){let i=this.menuSections.find(r=>r.id===e);i&&(i.isValid=t)}onSectionSaveComplete(e){let t=this.menuSections.find(i=>i.id===e);t&&(t.hasChanges=!1,t.isSaving=!1,t.lastSaved=new Date)}async saveSection(e){e.isSaving=!0;try{if(e.id==="photos")this.photosComponent&&(await this.photosComponent.handleSave(),e.hasChanges=!1,e.isSaving=!1,e.lastSaved=new Date,console.log("Successfully saved photos"));else if(e.id==="amenities")console.log("Amenities are saved automatically via toggle API"),e.hasChanges=!1,e.isSaving=!1,e.lastSaved=new Date;else{let t=this.getSectionDataForSave(e.id);this.originalProperty&&t!==null&&t!==void 0&&(await this.propertyService.updatePropertySection(this.originalProperty,t,e.id).toPromise(),e.hasChanges=!1,e.isSaving=!1,e.lastSaved=new Date,this.updateOriginalPropertyData(e.id,t),console.log(`Successfully saved ${e.id}`))}}catch(t){e.isSaving=!1,console.error(`Error saving ${e.id}:`,t);let i=t?.error||t,r=t?.status||i?.status,o=i?.message||t?.message||"Unknown error";r===401?this.showToast("Unauthorized: You don't have permission to update this property","bottom","left"):r===404?this.showToast("Property not found","bottom","left"):r===409?this.showToast("Conflict: There was a reference conflict while updating","bottom","left"):this.showToast(`Failed to save ${e.label}: ${o}`,"bottom","left")}this.cdr.detectChanges()}onSaveCurrentSection(){let e=this.getActiveSectionObject();e&&e.hasChanges&&!e.isSaving&&this.saveSection(e)}getSectionDataForSave(e){switch(e){case"title":return this.titleData?.title;case"propertyId":return this.propertyTypeData?.propertyTypeId;case"price":return this.priceData?.price;case"maxGuests":return this.guestsData?.maxGuests||1;case"description":return this.descriptionData?.description;case"amenities":return null;case"location":return this.locationData?.location;case"rooms":return this.roomsData;default:return null}}updateOriginalPropertyData(e,t){if(this.originalProperty)switch(e){case"title":this.originalProperty.title=t;break;case"description":this.originalProperty.description=t;break;case"price":this.originalProperty.pricePerNight=Number(t);break;case"maxGuests":this.originalProperty.maxGuests=Number(t);break;case"propertyId":this.originalProperty.propertyTypeId=Number(t);break;case"rooms":this.originalProperty.bedrooms=Number(t.bedrooms),this.originalProperty.beds=Number(t.beds),this.originalProperty.bathrooms=Number(t.bathrooms);break;case"location":this.originalProperty.city=t.city,this.originalProperty.country=t.country,this.originalProperty.state=t.address,t.coordinates&&(this.originalProperty.latitude=Number(t.coordinates.lat),this.originalProperty.longitude=Number(t.coordinates.lng));break}}getActiveSectionObject(){return this.menuSections.find(e=>e.isActive)}hasChangesInActiveSection(){return this.getActiveSectionObject()?.hasChanges||!1}isSavingActiveSection(){return this.getActiveSectionObject()?.isSaving||!1}isActiveSectionValid(){return this.getActiveSectionObject()?.isValid||!1}getSaveButtonText(){return this.getActiveSectionObject()?.lastSaved?"Saved":"Save"}getSaveButtonClass(){let e=this.getActiveSectionObject();return e?.lastSaved&&!e.hasChanges?"saved":""}static \u0275fac=function(t){return new(t||n)(V(Cn),V(Ot),V(qn),V(vn))};static \u0275cmp=le({type:n,selectors:[["app-update-list"]],viewQuery:function(t,i){if(t&1&&en(Foe,5),t&2){let r;qt(r=Zt())&&(i.photosComponent=r.first)}},decls:5,vars:3,consts:[["photosSection",""],[1,"airbnb-listing-editor"],["class","initial-loading-overlay",4,"ngIf"],["class","loading-overlay",4,"ngIf"],[4,"ngIf"],[1,"initial-loading-overlay"],[1,"initial-loading-content"],[1,"initial-loading-spinner"],[1,"loading-overlay"],[1,"loading-content"],[1,"loading-spinner"],[1,"editor-header"],[1,"container-fluid"],[1,"editor-content"],[1,"row"],[1,"col-12","col-lg-4","col-xl-3"],[1,"sidebar"],[1,"sidebar-header"],[1,"sidebar-title-container"],["type","button","routerLink","/host",1,"back-btn"],["width","16","height","16","fill","currentColor","viewBox","0 0 16 16"],["d","M8.354 1.646a.5.5 0 0 1 0 .708L3.207 7.5H14.5a.5.5 0 0 1 0 1H3.207l5.147 5.146a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"],[1,"editor-title"],[1,"menu-container"],[1,"menu-list"],["class","menu-item-wrapper",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-lg-8","col-xl-9"],[1,"content-area"],["class","content-wrapper",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"menu-item-wrapper"],["type","button",1,"menu-item",3,"click"],[1,"menu-item-content"],[1,"menu-item-icon"],[1,"menu-item-text"],[1,"menu-item-label"],["class","menu-item-status",4,"ngIf"],[1,"menu-item-actions"],["class","saving-indicator",4,"ngIf"],["class","changes-dot",4,"ngIf"],[1,"menu-item-status"],[1,"saved-indicator"],[1,"saving-indicator"],[1,"changes-dot"],[1,"content-wrapper"],[3,"data","dataChange","hasChanges","validationChange","saveComplete",4,"ngIf"],[3,"data","dataChange","hasChanges","validationChange",4,"ngIf"],[3,"propertyId","data","dataChange","hasChanges","validationChange",4,"ngIf"],[1,"content-save-section"],["type","button",1,"save-btn-content",3,"click","disabled"],["class","spinner",4,"ngIf"],[3,"dataChange","hasChanges","validationChange","saveComplete","data"],[3,"dataChange","hasChanges","validationChange","data"],[3,"dataChange","hasChanges","validationChange","propertyId","data"],[1,"spinner"],[1,"empty-state"]],template:function(t,i){t&1&&(k(0,"app-hostheader"),l(1,"div",1),j(2,Voe,5,0,"div",2)(3,Boe,5,0,"div",3)(4,rae,22,4,"div",4),d()),t&2&&(p(2),_("ngIf",i.isInitialLoading),p(),_("ngIf",i.isLoading&&!i.isInitialLoading),p(),_("ngIf",i.showContent))},dependencies:[he,Xe,Ce,f5,m5,h5,g5,v5,b5,_5,y5,x5,Hi,pl,mi],styles:['@import"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css";.airbnb-listing-editor[_ngcontent-%COMP%]{background-color:var(--bg-color);font-family:Circular,Helvetica Neue,Arial,sans-serif}.editor-header[_ngcontent-%COMP%]{background:var(--bg-color);border-bottom:1px solid var(--border-color);position:sticky;top:0;z-index:1000}.editor-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{max-width:1760px}.editor-content[_ngcontent-%COMP%]{background-color:var(--bg-color)}.editor-content[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{max-width:1760px;padding:0 24px}.sidebar[_ngcontent-%COMP%]{background:var(--bg-color);position:sticky;top:85px;height:calc(100vh - 85px);display:flex;flex-direction:column}.sidebar-header[_ngcontent-%COMP%]{padding:24px 16px 16px;border-bottom:1px solid var(--border-color)}.sidebar-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.back-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px;border-radius:50%;transition:background-color .2s;flex-shrink:0}.back-btn[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.editor-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:var(--primary-text-color);margin:0;flex:1}.menu-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px 0}.menu-list[_ngcontent-%COMP%]{padding:0 8px}.menu-item-wrapper[_ngcontent-%COMP%]{margin-bottom:12px}.menu-item[_ngcontent-%COMP%]{width:100%;background:none;border:none;border-radius:12px;padding:16px;text-align:left;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;position:relative}.menu-item[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.menu-item.active[_ngcontent-%COMP%]{background-color:var(--selected-bg);color:var(--selected-text)}.menu-item-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1}.menu-item-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:24px;text-align:center}.menu-item-text[_ngcontent-%COMP%]{flex:1}.menu-item-label[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:var(--primary-text-color);display:block}.menu-item.active[_ngcontent-%COMP%]   .menu-item-label[_ngcontent-%COMP%]{color:var(--selected-text)}.menu-item-status[_ngcontent-%COMP%]{margin-top:4px}.saved-indicator[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text-color)}.menu-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:12px}.changes-dot[_ngcontent-%COMP%]{width:8px;height:8px;background-color:var(--airbnb-red);border-radius:50%;display:inline-block}.saving-indicator[_ngcontent-%COMP%]{color:#007bff;animation:_ngcontent-%COMP%_pulse 1s infinite}.content-area[_ngcontent-%COMP%]{padding:24px 32px;max-width:none;display:flex;justify-content:center;height:calc(100vh - 85px);overflow-y:auto}.content-wrapper[_ngcontent-%COMP%]{width:100%;max-width:600px;height:fit-content}.section-content[_ngcontent-%COMP%]{margin-bottom:32px}.section-header[_ngcontent-%COMP%]{margin-bottom:32px;text-align:center}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:var(--primary-text-color);margin-bottom:8px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:var(--secondary-text-color);margin:0}.content-save-section[_ngcontent-%COMP%]{margin-top:32px;text-align:center;padding-top:24px;border-top:1px solid var(--border-color)}.save-btn-content[_ngcontent-%COMP%]{background-color:var(--airbnb-red);border:none;color:#fff;padding:12px 24px;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:background-color .2s;min-width:120px;display:inline-flex;align-items:center;justify-content:center;gap:8px}.save-btn-content[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--airbnb-dark-red)}.save-btn-content[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.save-btn-content.saved[_ngcontent-%COMP%]{background-color:#00a818}.save-btn-content.saved[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#008a15}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid transparent;border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.form-control[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:8px;padding:12px 16px;font-size:16px;transition:border-color .2s,box-shadow .2s;background-color:var(--bg-color);color:var(--primary-text-color)}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--primary-text-color);box-shadow:0 0 0 2px var(--shadow-color);outline:none}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#c13515}.invalid-feedback[_ngcontent-%COMP%]{color:#c13515;font-size:14px;margin-top:4px}.character-count[_ngcontent-%COMP%]{text-align:right;font-size:14px;color:var(--secondary-text-color);margin-top:4px}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--bg);display:flex;align-items:center;justify-content:center;z-index:9999}.loading-content[_ngcontent-%COMP%]{text-align:center}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border-color);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 16px}.loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:var(--secondary-text-color);margin:0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px;color:var(--secondary-text-color)}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.character-count[_ngcontent-%COMP%], .invalid-feedback[_ngcontent-%COMP%]{font-size:12px;margin-top:5px}.character-count[_ngcontent-%COMP%]{color:var(--secondary-text-color);text-align:right}@keyframes _ngcontent-%COMP%_iconAppear{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 991.98px){.sidebar[_ngcontent-%COMP%]{position:static;height:auto;border-right:none;border-bottom:1px solid var(--border-color)}.content-area[_ngcontent-%COMP%]{padding:16px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .title-input[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 767.98px){.editor-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding:12px 16px}.editor-title[_ngcontent-%COMP%]{font-size:18px}.sidebar-title-container[_ngcontent-%COMP%]{gap:8px}.photos-grid[_ngcontent-%COMP%], .property-types-grid[_ngcontent-%COMP%], .amenities-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.guests-selector[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.content-wrapper[_ngcontent-%COMP%]{max-width:none;padding:0 16px}}.initial-loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--bg);display:flex;justify-content:center;align-items:center;z-index:9999;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.initial-loading-content[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:var(--bg-color);border-radius:12px;box-shadow:0 4px 20px var(--dropdown-shadow);max-width:300px}.initial-loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-size:16px;color:var(--secondary-text-color);font-weight:500}.initial-loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border-color);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_initialSpin 1s linear infinite;margin:0 auto}@keyframes _ngcontent-%COMP%_initialSpin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--bg);display:flex;justify-content:center;align-items:center;z-index:1000}.loading-content[_ngcontent-%COMP%]{text-align:center;color:var(--primary-text-color)}.loading-spinner[_ngcontent-%COMP%]{width:30px;height:30px;border:3px solid var(--border-color);border-top:3px solid var(--primary-text-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}']})};var ha=class extends Error{constructor(e,t){let i=new.target.prototype;super(`${e}: Status code '${t}'`),this.statusCode=t,this.__proto__=i}},F1=class extends Error{constructor(e="A timeout occurred."){let t=new.target.prototype;super(e),this.__proto__=t}},Fr=class extends Error{constructor(e="An abort occurred."){let t=new.target.prototype;super(e),this.__proto__=t}},C5=class extends Error{constructor(e,t){let i=new.target.prototype;super(e),this.transport=t,this.errorType="UnsupportedTransportError",this.__proto__=i}},M5=class extends Error{constructor(e,t){let i=new.target.prototype;super(e),this.transport=t,this.errorType="DisabledTransportError",this.__proto__=i}},w5=class extends Error{constructor(e,t){let i=new.target.prototype;super(e),this.transport=t,this.errorType="FailedToStartTransportError",this.__proto__=i}},Vp=class extends Error{constructor(e){let t=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=t}},S5=class extends Error{constructor(e,t){let i=new.target.prototype;super(e),this.innerErrors=t,this.__proto__=i}};var R4=class{constructor(e,t,i){this.statusCode=e,this.statusText=t,this.content=i}},fl=class{get(e,t){return this.send(Ve(ie({},t),{method:"GET",url:e}))}post(e,t){return this.send(Ve(ie({},t),{method:"POST",url:e}))}delete(e,t){return this.send(Ve(ie({},t),{method:"DELETE",url:e}))}getCookieString(e){return""}};var Te=function(n){return n[n.Trace=0]="Trace",n[n.Debug=1]="Debug",n[n.Information=2]="Information",n[n.Warning=3]="Warning",n[n.Error=4]="Error",n[n.Critical=5]="Critical",n[n.None=6]="None",n}(Te||{});var ml=class{constructor(){}log(e,t){}};ml.instance=new ml;var oae="8.0.7",li=class{static isRequired(e,t){if(e==null)throw new Error(`The '${t}' argument is required.`)}static isNotEmpty(e,t){if(!e||e.match(/^\s*$/))throw new Error(`The '${t}' argument should not be empty.`)}static isIn(e,t,i){if(!(e in t))throw new Error(`Unknown ${i} value: ${e}.`)}},vi=class n{static get isBrowser(){return!n.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!n.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!n.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}};function V1(n,e){let t="";return Ms(n)?(t=`Binary data of length ${n.byteLength}`,e&&(t+=`. Content: '${aae(n)}'`)):typeof n=="string"&&(t=`String data of length ${n.length}`,e&&(t+=`. Content: '${n}'`)),t}function aae(n){let e=new Uint8Array(n),t="";return e.forEach(i=>{let r=i<16?"0":"";t+=`0x${r}${i.toString(16)} `}),t.substr(0,t.length-1)}function Ms(n){return n&&typeof ArrayBuffer<"u"&&(n instanceof ArrayBuffer||n.constructor&&n.constructor.name==="ArrayBuffer")}async function k5(n,e,t,i,r,o){let a={},[c,u]=hl();a[c]=u,n.log(Te.Trace,`(${e} transport) sending data. ${V1(r,o.logMessageContent)}.`);let h=Ms(r)?"arraybuffer":"text",v=await t.post(i,{content:r,headers:ie(ie({},a),o.headers),responseType:h,timeout:o.timeout,withCredentials:o.withCredentials});n.log(Te.Trace,`(${e} transport) request complete. Response status: ${v.statusCode}.`)}function iN(n){return n===void 0?new d0(Te.Information):n===null?ml.instance:n.log!==void 0?n:new d0(n)}var P5=class{constructor(e,t){this._subject=e,this._observer=t}dispose(){let e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(t=>{})}},d0=class{constructor(e){this._minLevel=e,this.out=console}log(e,t){if(e>=this._minLevel){let i=`[${new Date().toISOString()}] ${Te[e]}: ${t}`;switch(e){case Te.Critical:case Te.Error:this.out.error(i);break;case Te.Warning:this.out.warn(i);break;case Te.Information:this.out.info(i);break;default:this.out.log(i);break}}}};function hl(){let n="X-SignalR-User-Agent";return vi.isNode&&(n="User-Agent"),[n,sae(oae,lae(),dae(),cae())]}function sae(n,e,t,i){let r="Microsoft SignalR/",o=n.split(".");return r+=`${o[0]}.${o[1]}`,r+=` (${n}; `,e&&e!==""?r+=`${e}; `:r+="Unknown OS; ",r+=`${t}`,i?r+=`; ${i}`:r+="; Unknown Runtime Version",r+=")",r}function lae(){if(vi.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function cae(){if(vi.isNode)return process.versions.node}function dae(){return vi.isNode?"NodeJS":"Browser"}function O5(n){return n.stack?n.stack:n.message?n.message:`${n}`}function rN(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}var D5=class extends fl{constructor(e){if(super(),this._logger=e,typeof fetch>"u"||vi.isNode){let t=typeof __webpack_require__=="function"?__non_webpack_require__:Lc;this._jar=new(t("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=t("node-fetch"):this._fetchType=fetch,this._fetchType=t("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(rN());if(typeof AbortController>"u"){let t=typeof __webpack_require__=="function"?__non_webpack_require__:Lc;this._abortControllerType=t("abort-controller")}else this._abortControllerType=AbortController}async send(e){if(e.abortSignal&&e.abortSignal.aborted)throw new Fr;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");let t=new this._abortControllerType,i;e.abortSignal&&(e.abortSignal.onabort=()=>{t.abort(),i=new Fr});let r=null;if(e.timeout){let u=e.timeout;r=setTimeout(()=>{t.abort(),this._logger.log(Te.Warning,"Timeout from HTTP request."),i=new F1},u)}e.content===""&&(e.content=void 0),e.content&&(e.headers=e.headers||{},Ms(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");let o;try{o=await this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:e.withCredentials===!0?"include":"same-origin",headers:ie({"X-Requested-With":"XMLHttpRequest"},e.headers),method:e.method,mode:"cors",redirect:"follow",signal:t.signal})}catch(u){throw i||(this._logger.log(Te.Warning,`Error from HTTP request. ${u}.`),u)}finally{r&&clearTimeout(r),e.abortSignal&&(e.abortSignal.onabort=null)}if(!o.ok){let u=await oN(o,"text");throw new ha(u||o.statusText,o.status)}let c=await oN(o,e.responseType);return new R4(o.status,o.statusText,c)}getCookieString(e){let t="";return vi.isNode&&this._jar&&this._jar.getCookies(e,(i,r)=>t=r.join("; ")),t}};function oN(n,e){let t;switch(e){case"arraybuffer":t=n.arrayBuffer();break;case"text":t=n.text();break;case"blob":case"document":case"json":throw new Error(`${e} is not supported.`);default:t=n.text();break}return t}var E5=class extends fl{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new Fr):e.method?e.url?new Promise((t,i)=>{let r=new XMLHttpRequest;r.open(e.method,e.url,!0),r.withCredentials=e.withCredentials===void 0?!0:e.withCredentials,r.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.content===""&&(e.content=void 0),e.content&&(Ms(e.content)?r.setRequestHeader("Content-Type","application/octet-stream"):r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));let o=e.headers;o&&Object.keys(o).forEach(a=>{r.setRequestHeader(a,o[a])}),e.responseType&&(r.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{r.abort(),i(new Fr)}),e.timeout&&(r.timeout=e.timeout),r.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),r.status>=200&&r.status<300?t(new R4(r.status,r.statusText,r.response||r.responseText)):i(new ha(r.response||r.responseText||r.statusText,r.status))},r.onerror=()=>{this._logger.log(Te.Warning,`Error from HTTP request. ${r.status}: ${r.statusText}.`),i(new ha(r.statusText,r.status))},r.ontimeout=()=>{this._logger.log(Te.Warning,"Timeout from HTTP request."),i(new F1)},r.send(e.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}};var I5=class extends fl{constructor(e){if(super(),typeof fetch<"u"||vi.isNode)this._httpClient=new D5(e);else if(typeof XMLHttpRequest<"u")this._httpClient=new E5(e);else throw new Error("No usable HttpClient found.")}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new Fr):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}};var ga=class n{static write(e){return`${e}${n.RecordSeparator}`}static parse(e){if(e[e.length-1]!==n.RecordSeparator)throw new Error("Message is incomplete.");let t=e.split(n.RecordSeparator);return t.pop(),t}};ga.RecordSeparatorCode=30;ga.RecordSeparator=String.fromCharCode(ga.RecordSeparatorCode);var T5=class{writeHandshakeRequest(e){return ga.write(JSON.stringify(e))}parseHandshakeResponse(e){let t,i;if(Ms(e)){let c=new Uint8Array(e),u=c.indexOf(ga.RecordSeparatorCode);if(u===-1)throw new Error("Message is incomplete.");let h=u+1;t=String.fromCharCode.apply(null,Array.prototype.slice.call(c.slice(0,h))),i=c.byteLength>h?c.slice(h).buffer:null}else{let c=e,u=c.indexOf(ga.RecordSeparator);if(u===-1)throw new Error("Message is incomplete.");let h=u+1;t=c.substring(0,h),i=c.length>h?c.substring(h):null}let r=ga.parse(t),o=JSON.parse(r[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[i,o]}};var Qt=function(n){return n[n.Invocation=1]="Invocation",n[n.StreamItem=2]="StreamItem",n[n.Completion=3]="Completion",n[n.StreamInvocation=4]="StreamInvocation",n[n.CancelInvocation=5]="CancelInvocation",n[n.Ping=6]="Ping",n[n.Close=7]="Close",n[n.Ack=8]="Ack",n[n.Sequence=9]="Sequence",n}(Qt||{});var L5=class{constructor(){this.observers=[]}next(e){for(let t of this.observers)t.next(e)}error(e){for(let t of this.observers)t.error&&t.error(e)}complete(){for(let e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new P5(this,e)}};var z5=class{constructor(e,t,i){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=e,this._connection=t,this._bufferSize=i}async _send(e){let t=this._protocol.writeMessage(e),i=Promise.resolve();if(this._isInvocationMessage(e)){this._totalMessageCount++;let r=()=>{},o=()=>{};Ms(t)?this._bufferedByteCount+=t.byteLength:this._bufferedByteCount+=t.length,this._bufferedByteCount>=this._bufferSize&&(i=new Promise((a,c)=>{r=a,o=c})),this._messages.push(new XM(t,this._totalMessageCount,r,o))}try{this._reconnectInProgress||await this._connection.send(t)}catch{this._disconnected()}await i}_ack(e){let t=-1;for(let i=0;i<this._messages.length;i++){let r=this._messages[i];if(r._id<=e.sequenceId)t=i,Ms(r._message)?this._bufferedByteCount-=r._message.byteLength:this._bufferedByteCount-=r._message.length,r._resolver();else if(this._bufferedByteCount<this._bufferSize)r._resolver();else break}t!==-1&&(this._messages=this._messages.slice(t+1))}_shouldProcessMessage(e){if(this._waitForSequenceMessage)return e.type!==Qt.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(e))return!0;let t=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,t<=this._latestReceivedSequenceId?(t===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=t,this._ackTimer(),!0)}_resetSequence(e){if(e.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=e.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){let e=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:Qt.Sequence,sequenceId:e}));let t=this._messages;for(let i of t)await this._connection.send(i._message);this._reconnectInProgress=!1}_dispose(e){e??(e=new Error("Unable to reconnect to server."));for(let t of this._messages)t._rejector(e)}_isInvocationMessage(e){switch(e.type){case Qt.Invocation:case Qt.StreamItem:case Qt.Completion:case Qt.StreamInvocation:case Qt.CancelInvocation:return!0;case Qt.Close:case Qt.Sequence:case Qt.Ping:case Qt.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:Qt.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}},XM=class{constructor(e,t,i,r){this._message=e,this._id=t,this._resolver=i,this._rejector=r}};var uae=30*1e3,pae=15*1e3,fae=1e5,Ln=function(n){return n.Disconnected="Disconnected",n.Connecting="Connecting",n.Connected="Connected",n.Disconnecting="Disconnecting",n.Reconnecting="Reconnecting",n}(Ln||{}),Bp=class n{static create(e,t,i,r,o,a,c){return new n(e,t,i,r,o,a,c)}constructor(e,t,i,r,o,a,c){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(Te.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},li.isRequired(e,"connection"),li.isRequired(t,"logger"),li.isRequired(i,"protocol"),this.serverTimeoutInMilliseconds=o??uae,this.keepAliveIntervalInMilliseconds=a??pae,this._statefulReconnectBufferSize=c??fae,this._logger=t,this._protocol=i,this.connection=e,this._reconnectPolicy=r,this._handshakeProtocol=new T5,this.connection.onreceive=u=>this._processIncomingData(u),this.connection.onclose=u=>this._connectionClosed(u),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Ln.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:Qt.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==Ln.Disconnected&&this._connectionState!==Ln.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==Ln.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Ln.Connecting,this._logger.log(Te.Debug,"Starting HubConnection.");try{await this._startInternal(),vi.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Ln.Connected,this._connectionStarted=!0,this._logger.log(Te.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=Ln.Disconnected,this._logger.log(Te.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;let e=new Promise((t,i)=>{this._handshakeResolver=t,this._handshakeRejecter=i});await this.connection.start(this._protocol.transferFormat);try{let t=this._protocol.version;this.connection.features.reconnect||(t=1);let i={protocol:this._protocol.name,version:t};if(this._logger.log(Te.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(i)),this._logger.log(Te.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await e,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new z5(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(t){throw this._logger.log(Te.Debug,`Hub handshake failed with error '${t}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(t),t}}async stop(){let e=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await e}catch{}}_stopInternal(e){if(this._connectionState===Ln.Disconnected)return this._logger.log(Te.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Ln.Disconnecting)return this._logger.log(Te.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;let t=this._connectionState;return this._connectionState=Ln.Disconnecting,this._logger.log(Te.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(Te.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(t===Ln.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new Fr("The connection was stopped before the hub handshake could complete."),this.connection.stop(e))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(e,...t){let[i,r]=this._replaceStreamingParams(t),o=this._createStreamInvocation(e,t,r),a,c=new L5;return c.cancelCallback=()=>{let u=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],a.then(()=>this._sendWithProtocol(u))},this._callbacks[o.invocationId]=(u,h)=>{if(h){c.error(h);return}else u&&(u.type===Qt.Completion?u.error?c.error(new Error(u.error)):c.complete():c.next(u.item))},a=this._sendWithProtocol(o).catch(u=>{c.error(u),delete this._callbacks[o.invocationId]}),this._launchStreams(i,a),c}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._messageBuffer?this._messageBuffer._send(e):this._sendMessage(this._protocol.writeMessage(e))}send(e,...t){let[i,r]=this._replaceStreamingParams(t),o=this._sendWithProtocol(this._createInvocation(e,t,!0,r));return this._launchStreams(i,o),o}invoke(e,...t){let[i,r]=this._replaceStreamingParams(t),o=this._createInvocation(e,t,!1,r);return new Promise((c,u)=>{this._callbacks[o.invocationId]=(v,y)=>{if(y){u(y);return}else v&&(v.type===Qt.Completion?v.error?u(new Error(v.error)):c(v.result):u(new Error(`Unexpected message type: ${v.type}`)))};let h=this._sendWithProtocol(o).catch(v=>{u(v),delete this._callbacks[o.invocationId]});this._launchStreams(i,h)})}on(e,t){!e||!t||(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),this._methods[e].indexOf(t)===-1&&this._methods[e].push(t))}off(e,t){if(!e)return;e=e.toLowerCase();let i=this._methods[e];if(i)if(t){let r=i.indexOf(t);r!==-1&&(i.splice(r,1),i.length===0&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){let t=this._protocol.parseMessages(e,this._logger);for(let i of t)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(i)))switch(i.type){case Qt.Invocation:this._invokeClientMethod(i).catch(r=>{this._logger.log(Te.Error,`Invoke client method threw error: ${O5(r)}`)});break;case Qt.StreamItem:case Qt.Completion:{let r=this._callbacks[i.invocationId];if(r){i.type===Qt.Completion&&delete this._callbacks[i.invocationId];try{r(i)}catch(o){this._logger.log(Te.Error,`Stream callback threw error: ${O5(o)}`)}}break}case Qt.Ping:break;case Qt.Close:{this._logger.log(Te.Information,"Close message received from server.");let r=i.error?new Error("Server returned an error on close: "+i.error):void 0;i.allowReconnect===!0?this.connection.stop(r):this._stopPromise=this._stopInternal(r);break}case Qt.Ack:this._messageBuffer&&this._messageBuffer._ack(i);break;case Qt.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(i);break;default:this._logger.log(Te.Warning,`Invalid message type: ${i.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let t,i;try{[i,t]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(r){let o="Error parsing handshake response: "+r;this._logger.log(Te.Error,o);let a=new Error(o);throw this._handshakeRejecter(a),a}if(t.error){let r="Server returned handshake error: "+t.error;this._logger.log(Te.Error,r);let o=new Error(r);throw this._handshakeRejecter(o),o}else this._logger.log(Te.Debug,"Server handshake complete.");return this._handshakeResolver(),i}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let e=this._nextKeepAlive-new Date().getTime();e<0&&(e=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===Ln.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(e){let t=e.target.toLowerCase(),i=this._methods[t];if(!i){this._logger.log(Te.Warning,`No client method with the name '${t}' found.`),e.invocationId&&(this._logger.log(Te.Warning,`No result given for '${t}' method and invocation ID '${e.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)));return}let r=i.slice(),o=!!e.invocationId,a,c,u;for(let h of r)try{let v=a;a=await h.apply(this,e.arguments),o&&a&&v&&(this._logger.log(Te.Error,`Multiple results provided for '${t}'. Sending error to server.`),u=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),c=void 0}catch(v){c=v,this._logger.log(Te.Error,`A callback for the method '${t}' threw error '${v}'.`)}u?await this._sendWithProtocol(u):o?(c?u=this._createCompletionMessage(e.invocationId,`${c}`,null):a!==void 0?u=this._createCompletionMessage(e.invocationId,null,a):(this._logger.log(Te.Warning,`No result given for '${t}' method and invocation ID '${e.invocationId}'.`),u=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(u)):a&&this._logger.log(Te.Error,`Result given for '${t}' method but server is not expecting a result.`)}_connectionClosed(e){this._logger.log(Te.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new Fr("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Ln.Disconnecting?this._completeClose(e):this._connectionState===Ln.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===Ln.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=Ln.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(e??new Error("Connection closed.")),this._messageBuffer=void 0),vi.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(t=>t.apply(this,[e]))}catch(t){this._logger.log(Te.Error,`An onclose callback called with error '${e}' threw error '${t}'.`)}}}async _reconnect(e){let t=Date.now(),i=0,r=e!==void 0?e:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(i++,0,r);if(o===null){this._logger.log(Te.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(e);return}if(this._connectionState=Ln.Reconnecting,e?this._logger.log(Te.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(Te.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(a=>a.apply(this,[e]))}catch(a){this._logger.log(Te.Error,`An onreconnecting callback called with error '${e}' threw error '${a}'.`)}if(this._connectionState!==Ln.Reconnecting){this._logger.log(Te.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;o!==null;){if(this._logger.log(Te.Information,`Reconnect attempt number ${i} will start in ${o} ms.`),await new Promise(a=>{this._reconnectDelayHandle=setTimeout(a,o)}),this._reconnectDelayHandle=void 0,this._connectionState!==Ln.Reconnecting){this._logger.log(Te.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=Ln.Connected,this._logger.log(Te.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(a=>a.apply(this,[this.connection.connectionId]))}catch(a){this._logger.log(Te.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${a}'.`)}return}catch(a){if(this._logger.log(Te.Information,`Reconnect attempt failed because of error '${a}'.`),this._connectionState!==Ln.Reconnecting){this._logger.log(Te.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===Ln.Disconnecting&&this._completeClose();return}r=a instanceof Error?a:new Error(a.toString()),o=this._getNextRetryDelay(i++,Date.now()-t,r)}}this._logger.log(Te.Information,`Reconnect retries have been exhausted after ${Date.now()-t} ms and ${i} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(e,t,i){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:t,previousRetryCount:e,retryReason:i})}catch(r){return this._logger.log(Te.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${t}) threw error '${r}'.`),null}}_cancelCallbacksWithError(e){let t=this._callbacks;this._callbacks={},Object.keys(t).forEach(i=>{let r=t[i];try{r(null,e)}catch(o){this._logger.log(Te.Error,`Stream 'error' callback called with '${e}' threw error: ${O5(o)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,t,i,r){if(i)return r.length!==0?{arguments:t,streamIds:r,target:e,type:Qt.Invocation}:{arguments:t,target:e,type:Qt.Invocation};{let o=this._invocationId;return this._invocationId++,r.length!==0?{arguments:t,invocationId:o.toString(),streamIds:r,target:e,type:Qt.Invocation}:{arguments:t,invocationId:o.toString(),target:e,type:Qt.Invocation}}}_launchStreams(e,t){if(e.length!==0){t||(t=Promise.resolve());for(let i in e)e[i].subscribe({complete:()=>{t=t.then(()=>this._sendWithProtocol(this._createCompletionMessage(i)))},error:r=>{let o;r instanceof Error?o=r.message:r&&r.toString?o=r.toString():o="Unknown error",t=t.then(()=>this._sendWithProtocol(this._createCompletionMessage(i,o)))},next:r=>{t=t.then(()=>this._sendWithProtocol(this._createStreamItemMessage(i,r)))}})}}_replaceStreamingParams(e){let t=[],i=[];for(let r=0;r<e.length;r++){let o=e[r];if(this._isObservable(o)){let a=this._invocationId;this._invocationId++,t[a]=o,i.push(a.toString()),e.splice(r,1)}}return[t,i]}_isObservable(e){return e&&e.subscribe&&typeof e.subscribe=="function"}_createStreamInvocation(e,t,i){let r=this._invocationId;return this._invocationId++,i.length!==0?{arguments:t,invocationId:r.toString(),streamIds:i,target:e,type:Qt.StreamInvocation}:{arguments:t,invocationId:r.toString(),target:e,type:Qt.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:Qt.CancelInvocation}}_createStreamItemMessage(e,t){return{invocationId:e,item:t,type:Qt.StreamItem}}_createCompletionMessage(e,t,i){return t?{error:t,invocationId:e,type:Qt.Completion}:{invocationId:e,result:i,type:Qt.Completion}}_createCloseMessage(){return{type:Qt.Close}}};var mae=[0,2e3,1e4,3e4,null],jp=class{constructor(e){this._retryDelays=e!==void 0?[...e,null]:mae}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}};var u0=(()=>{class n{}return n.Authorization="Authorization",n.Cookie="Cookie",n})();var A5=class extends fl{constructor(e,t){super(),this._innerClient=e,this._accessTokenFactory=t}async send(e){let t=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(t=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(e);let i=await this._innerClient.send(e);return t&&i.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(e),await this._innerClient.send(e)):i}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[u0.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[u0.Authorization]&&delete e.headers[u0.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}};var Sr=function(n){return n[n.None=0]="None",n[n.WebSockets=1]="WebSockets",n[n.ServerSentEvents=2]="ServerSentEvents",n[n.LongPolling=4]="LongPolling",n}(Sr||{}),dr=function(n){return n[n.Text=1]="Text",n[n.Binary=2]="Binary",n}(dr||{});var N5=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};var Hp=class{get pollAborted(){return this._pollAbort.aborted}constructor(e,t,i){this._httpClient=e,this._logger=t,this._pollAbort=new N5,this._options=i,this._running=!1,this.onreceive=null,this.onclose=null}async connect(e,t){if(li.isRequired(e,"url"),li.isRequired(t,"transferFormat"),li.isIn(t,dr,"transferFormat"),this._url=e,this._logger.log(Te.Trace,"(LongPolling transport) Connecting."),t===dr.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");let[i,r]=hl(),o=ie({[i]:r},this._options.headers),a={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};t===dr.Binary&&(a.responseType="arraybuffer");let c=`${e}&_=${Date.now()}`;this._logger.log(Te.Trace,`(LongPolling transport) polling: ${c}.`);let u=await this._httpClient.get(c,a);u.statusCode!==200?(this._logger.log(Te.Error,`(LongPolling transport) Unexpected response code: ${u.statusCode}.`),this._closeError=new ha(u.statusText||"",u.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,a)}async _poll(e,t){try{for(;this._running;)try{let i=`${e}&_=${Date.now()}`;this._logger.log(Te.Trace,`(LongPolling transport) polling: ${i}.`);let r=await this._httpClient.get(i,t);r.statusCode===204?(this._logger.log(Te.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):r.statusCode!==200?(this._logger.log(Te.Error,`(LongPolling transport) Unexpected response code: ${r.statusCode}.`),this._closeError=new ha(r.statusText||"",r.statusCode),this._running=!1):r.content?(this._logger.log(Te.Trace,`(LongPolling transport) data received. ${V1(r.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(r.content)):this._logger.log(Te.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(i){this._running?i instanceof F1?this._logger.log(Te.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=i,this._running=!1):this._logger.log(Te.Trace,`(LongPolling transport) Poll errored after shutdown: ${i.message}`)}}finally{this._logger.log(Te.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(e){return this._running?k5(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(Te.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(Te.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);let e={},[t,i]=hl();e[t]=i;let r={headers:ie(ie({},e),this._options.headers),timeout:this._options.timeout,withCredentials:this._options.withCredentials},o;try{await this._httpClient.delete(this._url,r)}catch(a){o=a}o?o instanceof ha&&(o.statusCode===404?this._logger.log(Te.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(Te.Trace,`(LongPolling transport) Error sending a DELETE request: ${o}`)):this._logger.log(Te.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(Te.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(Te.Trace,e),this.onclose(this._closeError)}}};var R5=class{constructor(e,t,i,r){this._httpClient=e,this._accessToken=t,this._logger=i,this._options=r,this.onreceive=null,this.onclose=null}async connect(e,t){return li.isRequired(e,"url"),li.isRequired(t,"transferFormat"),li.isIn(t,dr,"transferFormat"),this._logger.log(Te.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((i,r)=>{let o=!1;if(t!==dr.Text){r(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let a;if(vi.isBrowser||vi.isWebWorker)a=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{let c=this._httpClient.getCookieString(e),u={};u.Cookie=c;let[h,v]=hl();u[h]=v,a=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:ie(ie({},u),this._options.headers)})}try{a.onmessage=c=>{if(this.onreceive)try{this._logger.log(Te.Trace,`(SSE transport) data received. ${V1(c.data,this._options.logMessageContent)}.`),this.onreceive(c.data)}catch(u){this._close(u);return}},a.onerror=c=>{o?this._close():r(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},a.onopen=()=>{this._logger.log(Te.Information,`SSE connected to ${this._url}`),this._eventSource=a,o=!0,i()}}catch(c){r(c);return}})}async send(e){return this._eventSource?k5(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}};var F5=class{constructor(e,t,i,r,o,a){this._logger=i,this._accessTokenFactory=t,this._logMessageContent=r,this._webSocketConstructor=o,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=a}async connect(e,t){li.isRequired(e,"url"),li.isRequired(t,"transferFormat"),li.isIn(t,dr,"transferFormat"),this._logger.log(Te.Trace,"(WebSockets transport) Connecting.");let i;return this._accessTokenFactory&&(i=await this._accessTokenFactory()),new Promise((r,o)=>{e=e.replace(/^http/,"ws");let a,c=this._httpClient.getCookieString(e),u=!1;if(vi.isNode||vi.isReactNative){let h={},[v,y]=hl();h[v]=y,i&&(h[u0.Authorization]=`Bearer ${i}`),c&&(h[u0.Cookie]=c),a=new this._webSocketConstructor(e,void 0,{headers:ie(ie({},h),this._headers)})}else i&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(i)}`);a||(a=new this._webSocketConstructor(e)),t===dr.Binary&&(a.binaryType="arraybuffer"),a.onopen=h=>{this._logger.log(Te.Information,`WebSocket connected to ${e}.`),this._webSocket=a,u=!0,r()},a.onerror=h=>{let v=null;typeof ErrorEvent<"u"&&h instanceof ErrorEvent?v=h.error:v="There was an error with the transport",this._logger.log(Te.Information,`(WebSockets transport) ${v}.`)},a.onmessage=h=>{if(this._logger.log(Te.Trace,`(WebSockets transport) data received. ${V1(h.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(h.data)}catch(v){this._close(v);return}},a.onclose=h=>{if(u)this._close(h);else{let v=null;typeof ErrorEvent<"u"&&h instanceof ErrorEvent?v=h.error:v="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(v))}}})}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(Te.Trace,`(WebSockets transport) sending data. ${V1(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(Te.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(e)&&(e.wasClean===!1||e.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)):e instanceof Error?this.onclose(e):this.onclose())}_isCloseEvent(e){return e&&typeof e.wasClean=="boolean"&&typeof e.code=="number"}};var aN=100,V5=class{constructor(e,t={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,li.isRequired(e,"url"),this._logger=iN(t.logger),this.baseUrl=this._resolveUrl(e),t=t||{},t.logMessageContent=t.logMessageContent===void 0?!1:t.logMessageContent,typeof t.withCredentials=="boolean"||t.withCredentials===void 0)t.withCredentials=t.withCredentials===void 0?!0:t.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");t.timeout=t.timeout===void 0?100*1e3:t.timeout;let i=null,r=null;if(vi.isNode&&typeof Lc<"u"){let o=typeof __webpack_require__=="function"?__non_webpack_require__:Lc;i=o("ws"),r=o("eventsource")}!vi.isNode&&typeof WebSocket<"u"&&!t.WebSocket?t.WebSocket=WebSocket:vi.isNode&&!t.WebSocket&&i&&(t.WebSocket=i),!vi.isNode&&typeof EventSource<"u"&&!t.EventSource?t.EventSource=EventSource:vi.isNode&&!t.EventSource&&typeof r<"u"&&(t.EventSource=r),this._httpClient=new A5(t.httpClient||new I5(this._logger),t.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=t,this.onreceive=null,this.onclose=null}async start(e){if(e=e||dr.Binary,li.isIn(e,dr,"transferFormat"),this._logger.log(Te.Debug,`Starting connection with transfer format '${dr[e]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),await this._startInternalPromise,this._connectionState==="Disconnecting"){let t="Failed to start the HttpConnection before stop() was called.";return this._logger.log(Te.Error,t),await this._stopPromise,Promise.reject(new Fr(t))}else if(this._connectionState!=="Connected"){let t="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(Te.Error,t),Promise.reject(new Fr(t))}this._connectionStarted=!0}send(e){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new KM(this.transport)),this._sendQueue.send(e))}async stop(e){if(this._connectionState==="Disconnected")return this._logger.log(Te.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(Te.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(t=>{this._stopPromiseResolver=t}),await this._stopInternal(e),await this._stopPromise}async _stopInternal(e){this._stopError=e;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(t){this._logger.log(Te.Error,`HttpConnection.transport.stop() threw error '${t}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(Te.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(e){let t=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===Sr.WebSockets)this.transport=this._constructTransport(Sr.WebSockets),await this._startTransport(t,e);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let i=null,r=0;do{if(i=await this._getNegotiationResponse(t),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new Fr("The connection was stopped during negotiation.");if(i.error)throw new Error(i.error);if(i.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(i.url&&(t=i.url),i.accessToken){let o=i.accessToken;this._accessTokenFactory=()=>o,this._httpClient._accessToken=o,this._httpClient._accessTokenFactory=void 0}r++}while(i.url&&r<aN);if(r===aN&&i.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(t,this._options.transport,i,e)}this.transport instanceof Hp&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(Te.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(i){return this._logger.log(Te.Error,"Failed to start the connection: "+i),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(i)}}async _getNegotiationResponse(e){let t={},[i,r]=hl();t[i]=r;let o=this._resolveNegotiateUrl(e);this._logger.log(Te.Debug,`Sending negotiation request: ${o}.`);try{let a=await this._httpClient.post(o,{content:"",headers:ie(ie({},t),this._options.headers),timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(a.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${a.statusCode}'`));let c=JSON.parse(a.content);return(!c.negotiateVersion||c.negotiateVersion<1)&&(c.connectionToken=c.connectionId),c.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new Vp("Client didn't negotiate Stateful Reconnect but the server did.")):c}catch(a){let c="Failed to complete negotiation with the server: "+a;return a instanceof ha&&a.statusCode===404&&(c=c+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(Te.Error,c),Promise.reject(new Vp(c))}}_createConnectUrl(e,t){return t?e+(e.indexOf("?")===-1?"?":"&")+`id=${t}`:e}async _createTransport(e,t,i,r){let o=this._createConnectUrl(e,i.connectionToken);if(this._isITransport(t)){this._logger.log(Te.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=t,await this._startTransport(o,r),this.connectionId=i.connectionId;return}let a=[],c=i.availableTransports||[],u=i;for(let h of c){let v=this._resolveTransportOrError(h,t,r,u?.useStatefulReconnect===!0);if(v instanceof Error)a.push(`${h.transport} failed:`),a.push(v);else if(this._isITransport(v)){if(this.transport=v,!u){try{u=await this._getNegotiationResponse(e)}catch(y){return Promise.reject(y)}o=this._createConnectUrl(e,u.connectionToken)}try{await this._startTransport(o,r),this.connectionId=u.connectionId;return}catch(y){if(this._logger.log(Te.Error,`Failed to start the transport '${h.transport}': ${y}`),u=void 0,a.push(new w5(`${h.transport} failed: ${y}`,Sr[h.transport])),this._connectionState!=="Connecting"){let P="Failed to select transport before stop() was called.";return this._logger.log(Te.Debug,P),Promise.reject(new Fr(P))}}}}return a.length>0?Promise.reject(new S5(`Unable to connect to the server with any of the available transports. ${a.join(" ")}`,a)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(e){switch(e){case Sr.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new F5(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Sr.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new R5(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Sr.LongPolling:return new Hp(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,t){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async i=>{let r=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(e,t),await this.features.resend()}catch{r=!0}else{this._stopConnection(i);return}r&&this._stopConnection(i)}:this.transport.onclose=i=>this._stopConnection(i),this.transport.connect(e,t)}_resolveTransportOrError(e,t,i,r){let o=Sr[e.transport];if(o==null)return this._logger.log(Te.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(hae(t,o))if(e.transferFormats.map(c=>dr[c]).indexOf(i)>=0){if(o===Sr.WebSockets&&!this._options.WebSocket||o===Sr.ServerSentEvents&&!this._options.EventSource)return this._logger.log(Te.Debug,`Skipping transport '${Sr[o]}' because it is not supported in your environment.'`),new C5(`'${Sr[o]}' is not supported in your environment.`,o);this._logger.log(Te.Debug,`Selecting transport '${Sr[o]}'.`);try{return this.features.reconnect=o===Sr.WebSockets?r:void 0,this._constructTransport(o)}catch(c){return c}}else return this._logger.log(Te.Debug,`Skipping transport '${Sr[o]}' because it does not support the requested transfer format '${dr[i]}'.`),new Error(`'${Sr[o]}' does not support ${dr[i]}.`);else return this._logger.log(Te.Debug,`Skipping transport '${Sr[o]}' because it was disabled by the client.`),new M5(`'${Sr[o]}' is disabled by the client.`,o)}_isITransport(e){return e&&typeof e=="object"&&"connect"in e}_stopConnection(e){if(this._logger.log(Te.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(Te.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(Te.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),e?this._logger.log(Te.Error,`Connection disconnected with error '${e}'.`):this._logger.log(Te.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(t=>{this._logger.log(Te.Error,`TransportSendQueue.stop() threw error '${t}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(t){this._logger.log(Te.Error,`HttpConnection.onclose(${e}) threw error '${t}'.`)}}}_resolveUrl(e){if(e.lastIndexOf("https://",0)===0||e.lastIndexOf("http://",0)===0)return e;if(!vi.isBrowser)throw new Error(`Cannot resolve '${e}'.`);let t=window.document.createElement("a");return t.href=e,this._logger.log(Te.Information,`Normalizing '${e}' to '${t.href}'.`),t.href}_resolveNegotiateUrl(e){let t=new URL(e);t.pathname.endsWith("/")?t.pathname+="negotiate":t.pathname+="/negotiate";let i=new URLSearchParams(t.searchParams);return i.has("negotiateVersion")||i.append("negotiateVersion",this._negotiateVersion.toString()),i.has("useStatefulReconnect")?i.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&i.append("useStatefulReconnect","true"),t.search=i.toString(),t.toString()}};function hae(n,e){return!n||(e&n)!==0}var KM=class n{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new F4,this._transportResult=new F4,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new F4),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new F4;let e=this._transportResult;this._transportResult=void 0;let t=typeof this._buffer[0]=="string"?this._buffer.join(""):n._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(t),e.resolve()}catch(i){e.reject(i)}}}static _concatBuffers(e){let t=e.map(o=>o.byteLength).reduce((o,a)=>o+a),i=new Uint8Array(t),r=0;for(let o of e)i.set(new Uint8Array(o),r),r+=o.byteLength;return i.buffer}},F4=class{constructor(){this.promise=new Promise((e,t)=>[this._resolver,this._rejecter]=[e,t])}resolve(){this._resolver()}reject(e){this._rejecter(e)}};var gae="json",B5=class{constructor(){this.name=gae,this.version=2,this.transferFormat=dr.Text}parseMessages(e,t){if(typeof e!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];t===null&&(t=ml.instance);let i=ga.parse(e),r=[];for(let o of i){let a=JSON.parse(o);if(typeof a.type!="number")throw new Error("Invalid payload.");switch(a.type){case Qt.Invocation:this._isInvocationMessage(a);break;case Qt.StreamItem:this._isStreamItemMessage(a);break;case Qt.Completion:this._isCompletionMessage(a);break;case Qt.Ping:break;case Qt.Close:break;case Qt.Ack:this._isAckMessage(a);break;case Qt.Sequence:this._isSequenceMessage(a);break;default:t.log(Te.Information,"Unknown message type '"+a.type+"' ignored.");continue}r.push(a)}return r}writeMessage(e){return ga.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),e.invocationId!==void 0&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),e.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_isAckMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(e,t){if(typeof e!="string"||e==="")throw new Error(t)}};var vae={trace:Te.Trace,debug:Te.Debug,info:Te.Information,information:Te.Information,warn:Te.Warning,warning:Te.Warning,error:Te.Error,critical:Te.Critical,none:Te.None};function bae(n){let e=vae[n.toLowerCase()];if(typeof e<"u")return e;throw new Error(`Unknown log level: ${n}`)}var p0=class{configureLogging(e){if(li.isRequired(e,"logging"),_ae(e))this.logger=e;else if(typeof e=="string"){let t=bae(e);this.logger=new d0(t)}else this.logger=new d0(e);return this}withUrl(e,t){return li.isRequired(e,"url"),li.isNotEmpty(e,"url"),this.url=e,typeof t=="object"?this.httpConnectionOptions=ie(ie({},this.httpConnectionOptions),t):this.httpConnectionOptions=Ve(ie({},this.httpConnectionOptions),{transport:t}),this}withHubProtocol(e){return li.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new jp(e):this.reconnectPolicy=e:this.reconnectPolicy=new jp,this}withServerTimeout(e){return li.isRequired(e,"milliseconds"),this._serverTimeoutInMilliseconds=e,this}withKeepAliveInterval(e){return li.isRequired(e,"milliseconds"),this._keepAliveIntervalInMilliseconds=e,this}withStatefulReconnect(e){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=e?.bufferSize,this}build(){let e=this.httpConnectionOptions||{};if(e.logger===void 0&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");let t=new V5(this.url,e);return Bp.create(t,this.logger||ml.instance,this.protocol||new B5,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}};function _ae(n){return n.log!==void 0}var gl=class n{connection;hubUrl=`${Ke.base}/chatHub`;connectionStatusSubject=new Sn(Ln.Disconnected);connectionStatus$=this.connectionStatusSubject.asObservable();messageReceivedSubject=new Re;messageReceived$=this.messageReceivedSubject.asObservable();errorSubject=new Re;error$=this.errorSubject.asObservable();constructor(){this.buildConnection()}buildConnection(){this.connection=new p0().withUrl(this.hubUrl,{withCredentials:!0}).withAutomaticReconnect([0,2e3,1e4,3e4]).build(),this.setupEventHandlers()}setupEventHandlers(){this.connection.on("ReceiveMessage",e=>{console.log("SignalR - Message received:",e),this.messageReceivedSubject.next(e)}),this.connection.onclose(e=>{console.log("SignalR - Connection closed:",e),this.connectionStatusSubject.next(Ln.Disconnected),e&&this.errorSubject.next(`Connection closed: ${e.message}`)}),this.connection.onreconnecting(e=>{console.log("SignalR - Reconnecting:",e),this.connectionStatusSubject.next(Ln.Reconnecting)}),this.connection.onreconnected(async e=>{console.log("SignalR - Reconnected:",e),this.connectionStatusSubject.next(Ln.Connected),await this.notifyReconnected()})}async notifyReconnected(){try{await this.connection.invoke("NotifyReconnected"),console.log("SignalR - Notified backend of reconnection")}catch(e){console.error("SignalR - NotifyReconnected error:",e),this.errorSubject.next(`NotifyReconnected failed: ${e.message}`)}}async startConnection(){if(this.connection.state===Ln.Disconnected)try{await this.connection.start(),console.log("SignalR - Connected successfully"),this.connectionStatusSubject.next(Ln.Connected)}catch(e){throw console.error("SignalR - Connection error:",e),this.connectionStatusSubject.next(Ln.Disconnected),this.errorSubject.next(`Connection failed: ${e.message}`),e}}async stopConnection(){if(this.connection.state===Ln.Connected)try{await this.connection.stop(),console.log("SignalR - Connection stopped"),this.connectionStatusSubject.next(Ln.Disconnected)}catch(e){console.error("SignalR - Stop connection error:",e),this.errorSubject.next(`Stop connection failed: ${e.message}`)}}isConnected(){return this.connection.state===Ln.Connected}getConnectionState(){return this.connection.state}destroy(){this.connection&&(this.stopConnection(),this.messageReceivedSubject.complete(),this.connectionStatusSubject.complete(),this.errorSubject.complete())}static \u0275fac=function(t){return new(t||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var xae=["messagesContainer"],sN=n=>({count:n});function Cae(n,e){if(n&1&&(l(0,"option",23),m(1),d()),n&2){let t=e.$implicit;_("value",t.code),p(),U(" ",t.name," ")}}function Mae(n,e){if(n&1){let t=X();l(0,"div",17)(1,"div",18)(2,"label",19),m(3),Q(4,"translate"),d(),l(5,"div",20)(6,"input",21),Q(7,"translate"),mt("ngModelChange",function(r){z(t);let o=C(2);return _t(o.searchQuery,r)||(o.searchQuery=r),A(r)}),d()(),l(8,"select",22),mt("ngModelChange",function(r){z(t);let o=C(2);return _t(o.selectedLanguage,r)||(o.selectedLanguage=r),A(r)}),T("change",function(){z(t);let r=C(2);return A(r.onLanguageChange())}),l(9,"option",23),m(10),Q(11,"translate"),d(),j(12,Cae,2,2,"option",24),d()()()}if(n&2){let t=C(2);p(3),$(de(4,8,"MESSAGES.LANGUAGE.LABEL")),p(3),_("placeholder",ar(de(7,10,"MESSAGES.LANGUAGE.PLACEHOLDER"))),ft("ngModel",t.searchQuery),p(2),ft("ngModel",t.selectedLanguage),p(),_("value",null),p(),U(" ",de(11,12,"MESSAGES.LANGUAGE.ORIGINAL")," "),p(2),_("ngForOf",t.filteredLanguages)}}function wae(n,e){if(n&1){let t=X();l(0,"div",9)(1,"button",10),T("click",function(){z(t);let r=C();return A(r.setActiveFilter("all"))}),m(2),Q(3,"translate"),d(),l(4,"button",10),T("click",function(){z(t);let r=C();return A(r.setActiveFilter("unread"))}),m(5),Q(6,"translate"),d(),l(7,"div",11)(8,"button",12),T("click",function(){z(t);let r=C();return A(r.toggleLanguageSettings())}),$e(),l(9,"svg",13),k(10,"circle",14)(11,"path",15),d()(),j(12,Mae,13,14,"div",16),d()()}if(n&2){let t=C();p(),Me("active",t.activeFilter==="all"),p(),U(" ",de(3,7,"MESSAGES.FILTER.ALL")," "),p(2),Me("active",t.activeFilter==="unread"),p(),U(" ",Vt(6,9,"MESSAGES.FILTER.UNREAD",nn(12,sN,t.getUnreadCount()))," "),p(7),_("ngIf",t.showLanguageSettings)}}function Sae(n,e){n&1&&(l(0,"div",25)(1,"div",26)(2,"span",27),m(3,"Loading..."),d()(),l(4,"p",28),m(5),Q(6,"translate"),d()()),n&2&&(p(5),$(de(6,1,"MESSAGES.LOADING_INITIAL")))}function Pae(n,e){if(n&1){let t=X();l(0,"div",29),m(1),l(2,"button",30),T("click",function(){z(t);let r=C();return A(r.resetAndLoadChatSessions())}),m(3),Q(4,"translate"),d()()}if(n&2){let t=C();p(),U(" ",t.error," "),p(2),U(" ",de(4,2,"MESSAGES.TRY_AGAIN")," ")}}function kae(n,e){n&1&&k(0,"span",44)}function Oae(n,e){if(n&1&&(l(0,"div",45),m(1),d()),n&2){let t=C().$implicit;_("title",t.tripDetails),p(),U(" ",t.tripDetails," ")}}function Dae(n,e){if(n&1){let t=X();l(0,"div",34),T("click",function(){let r=z(t).$implicit,o=C(2);return A(o.openMessage(r))}),l(1,"div",35),k(2,"img",36),l(3,"div",37)(4,"div",38)(5,"div",39),m(6),j(7,kae,1,0,"span",40),d(),l(8,"div",41),m(9),d()(),k(10,"div",42),j(11,Oae,2,2,"div",43),d()()()}if(n&2){let t=e.$implicit,i=C(2);Me("unread",t.isUnread)("selected",i.isThreadSelected(t.id)),p(2),_("src",t.profileImage,et)("alt",t.name),p(3),_("title",t.name),p(),U(" ",t.name," "),p(),_("ngIf",t.isUnread),p(2),$(t.time),p(),_("innerHTML",t.preview,Xl)("title",t.preview),p(),_("ngIf",t.tripDetails)}}function Eae(n,e){n&1&&(l(0,"div",46)(1,"div",47)(2,"span",27),m(3,"Loading more..."),d()(),l(4,"small",48),m(5),Q(6,"translate"),d()()),n&2&&(p(5),U(" ",de(6,1,"MESSAGES.LOADING_MORE")))}function Iae(n,e){if(n&1&&(l(0,"div",46)(1,"small",49),k(2,"i",50),m(3),Q(4,"translate"),d()()),n&2){let t=C(2);p(3),U(" ",Vt(4,1,"MESSAGES.ALL_LOADED",nn(4,sN,t.messageThreads.length))," ")}}function Tae(n,e){if(n&1){let t=X();l(0,"div",46)(1,"button",51),T("click",function(){z(t);let r=C(2);return A(r.loadMoreManually())}),m(2),Q(3,"translate"),d()()}if(n&2){let t=C(2);p(),_("disabled",t.isLoadingMore),p(),U(" ",de(3,2,"MESSAGES.LOAD_MORE_BTN")," ")}}function Lae(n,e){if(n&1){let t=X();l(0,"div",31,0),T("scroll",function(r){z(t);let o=C();return A(o.onScroll(r))}),j(2,Dae,12,13,"div",32)(3,Eae,7,3,"div",33)(4,Iae,5,6,"div",33)(5,Tae,4,4,"div",33),d()}if(n&2){let t=C();p(2),_("ngForOf",t.getFilteredMessages())("ngForTrackBy",t.trackByThreadId),p(),_("ngIf",t.isLoadingMore),p(),_("ngIf",!t.hasMoreData&&t.messageThreads.length>0&&!t.isLoadingMore),p(),_("ngIf",t.hasMoreData&&!t.isLoadingMore)}}function zae(n,e){if(n&1&&(l(0,"div",52)(1,"div",53),k(2,"i",54),d(),l(3,"div",55),m(4),Q(5,"translate"),Q(6,"translate"),d(),l(7,"div",56),m(8),Q(9,"translate"),Q(10,"translate"),d()()),n&2){let t=C();p(4),U(" ",t.activeFilter==="unread"?de(5,2,"MESSAGES.EMPTY_STATE.UNREAD_TITLE"):de(6,4,"MESSAGES.EMPTY_STATE.DEFAULT_TITLE")," "),p(4),U(" ",t.activeFilter==="unread"?de(9,6,"MESSAGES.EMPTY_STATE.UNREAD_SUB"):de(10,8,"MESSAGES.EMPTY_STATE.DEFAULT_SUB")," ")}}var H5=class n{constructor(e,t,i,r){this.chatService=e;this.signalRService=t;this.authService=i;this.cdr=r}chatSessionSelected=new ye;langChange=new ye;messagesContainer;messageThreads=[];selectedThreadId=null;activeFilter="all";showLanguageSettings=!1;selectedLanguage=localStorage.getItem("chatLanguage")||"";searchQuery="";languages=Object.entries(y4).map(([e,t])=>({name:e,code:e}));get filteredLanguages(){if(!this.searchQuery)return this.languages;let e=this.searchQuery.toLowerCase();return this.languages.filter(t=>t.name.toLowerCase().includes(e))}currentPage=1;pageSize=20;hasMoreData=!0;isLoading=!1;isLoadingMore=!1;error=null;destroy$=new Re;scrollDebounceTime=200;onScroll(e){let t=e.target;t.scrollHeight-t.scrollTop<=t.clientHeight*1.5&&!this.isLoadingMore&&this.hasMoreData&&this.loadMoreMessages()}trackByThreadId(e,t){return t.id}loadMoreManually(){!this.isLoadingMore&&this.hasMoreData&&this.loadMoreMessages()}loadMoreMessages(){!this.hasMoreData||this.isLoadingMore||(this.isLoadingMore=!0,this.loadChatSessions())}ngOnInit(){this.loadChatSessions(),this.setupSignalRHandlers()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}toggleLanguageSettings(){this.showLanguageSettings=!this.showLanguageSettings}onLanguageChange(){(this.selectedLanguage||this.selectedLanguage==""||this.selectedLanguage==null)&&(console.log("selected language",this.selectedLanguage),this.chatService.updateTargetLanguage(this.selectedLanguage),this.resetAndLoadChatSessions(),this.langChange.emit())}setActiveFilter(e){this.activeFilter=e,this.resetAndLoadChatSessions()}openMessage(e){this.selectedThreadId=e.id,this.chatSessionSelected.emit(e.originalSession)}getFilteredMessages(){return this.activeFilter==="unread"?this.messageThreads.filter(e=>e.isUnread):this.messageThreads}getUnreadMessages(){return this.messageThreads.filter(e=>e.isUnread)}getUnreadCount(){return this.getUnreadMessages().length}isThreadSelected(e){return this.selectedThreadId===e}refreshChatSessions(){this.resetAndLoadChatSessions()}setupSignalRHandlers(){this.signalRService.messageReceived$.pipe(rt(this.destroy$)).subscribe(e=>{console.log("messageRecived",e),this.refreshChatSessions()})}loadChatSessions(){!this.hasMoreData||this.isLoading||(this.isLoading=!0,this.error=null,this.chatService.getChatSessions(this.currentPage,this.pageSize).pipe(rt(this.destroy$)).subscribe({next:e=>{let t=this.mapSessionsToThreads(e);this.messageThreads=[...this.messageThreads,...t];let i=this.messageThreads.filter(r=>r.isUnread).length;this.chatService.updateUnreadCount(i),this.hasMoreData=e.length===this.pageSize,this.currentPage++,this.isLoading=!1,this.isLoadingMore=!1,this.cdr.detectChanges()},error:e=>{console.error("Error loading chat sessions:",e),this.error="Failed to load messages. Please try again.",this.isLoading=!1,this.isLoadingMore=!1,this.cdr.detectChanges()}}))}resetAndLoadChatSessions(){this.messageThreads=[],this.currentPage=1,this.hasMoreData=!0,this.loadChatSessions()}mapSessionsToThreads(e){return e.map(t=>({id:t.id,profileImage:t.hostId===this.authService.userId?t.userAvatarUrl:t.hostAvatarUrl,name:t.hostId===this.authService.userId?t.userName:t.hostName,preview:t.lastMessageText,time:this.formatTime(t.lastActivityAt),isUnread:t.unreadCount>0,propertyId:t.propertyId,hostId:t.hostId,userId:t.userId,originalSession:t}))}formatTime(e){let t=new Date(e),r=new Date().getTime()-t.getTime(),o=Math.floor(r/(1e3*60*60*24));return o===0?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):o===1?"Yesterday":o<7?t.toLocaleDateString([],{weekday:"long"}):t.toLocaleDateString([],{month:"short",day:"numeric"})}static \u0275fac=function(t){return new(t||n)(V(oo),V(gl),V(dt),V(Ot))};static \u0275cmp=le({type:n,selectors:[["app-messages-box"]],viewQuery:function(t,i){if(t&1&&en(xae,5),t&2){let r;qt(r=Zt())&&(i.messagesContainer=r.first)}},outputs:{chatSessionSelected:"chatSessionSelected",langChange:"langChange"},decls:10,vars:8,consts:[["messagesContainer",""],[1,"component-container"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fs-3","fw-bold","mb-1"],["class","d-flex gap-2 mb-4",4,"ngIf"],["class","text-center mt-4",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],["class","messages-scroll-container",3,"scroll",4,"ngIf"],["class","text-center mt-5 pt-5",4,"ngIf"],[1,"d-flex","gap-2","mb-4"],[1,"filter-btn",3,"click"],[1,"language-settings"],[1,"settings-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","12","cy","12","r","3"],["d","M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"],["class","language-dropdown",4,"ngIf"],[1,"language-dropdown"],[1,"language-dropdown-content"],["for","languageSearch"],[1,"search-container"],["type","text","id","languageSearch",1,"form-control","mb-2",3,"ngModelChange","ngModel","placeholder"],["id","languageSelect","size","10",1,"form-select",3,"ngModelChange","change","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"text-center","mt-4"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"mt-2"],[1,"alert","alert-danger","mt-3"],[1,"btn","btn-link","p-0","ms-2",3,"click"],[1,"messages-scroll-container",3,"scroll"],["class","message-thread mb-3",3,"unread","selected","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-center py-3",4,"ngIf"],[1,"message-thread","mb-3",3,"click"],[1,"d-flex","align-items-start"],["loading","lazy","onerror","this.src='https://pngpix.com/images/file/placeholder-profile-icon-20tehfawxt5eihco.jpg'",1,"profile-img","me-3",3,"src","alt"],[1,"flex-grow-1"],[1,"d-flex","justify-content-between","align-items-start"],[1,"message-name",3,"title"],["class","unread-indicator",4,"ngIf"],[1,"message-time"],[1,"message-preview",3,"innerHTML","title"],["class","message-details",3,"title",4,"ngIf"],[1,"unread-indicator"],[1,"message-details",3,"title"],[1,"text-center","py-3"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"d-block","mt-1","text-muted"],[1,"text-muted"],[1,"bi","bi-check-circle","me-1"],[1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"text-center","mt-5","pt-5"],[1,"placeholder-icon","mb-3"],[1,"bi","bi-chat-dots"],[1,"empty-title","mb-2"],[1,"empty-subtitle"]],template:function(t,i){t&1&&(l(0,"div",1)(1,"div",2)(2,"h2",3),m(3),Q(4,"translate"),d()(),j(5,wae,13,14,"div",4)(6,Sae,7,3,"div",5)(7,Pae,5,4,"div",6)(8,Lae,6,5,"div",7)(9,zae,11,10,"div",8),d()),t&2&&(p(3),$(de(4,6,"MESSAGES.TITLE")),p(2),_("ngIf",!i.error),p(),_("ngIf",i.isLoading&&i.currentPage===1),p(),_("ngIf",i.error),p(),_("ngIf",i.getFilteredMessages().length>0&&!i.isLoading&&!i.error),p(),_("ngIf",i.getFilteredMessages().length===0&&!i.isLoading&&!i.error))},dependencies:[he,Xe,Ce,Mt,c1,d1,Rt,Js,Dt,kn,wt,Xt],styles:[".component-container[_ngcontent-%COMP%]{border:1px solid var(--border-color);padding:20px;background-color:var(--background);height:87vh;display:flex;flex-direction:column}.messages-scroll-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;padding-right:8px;margin-right:-8px;scrollbar-width:thin;scrollbar-color:#ccc transparent}.messages-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.messages-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.messages-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ccc;border-radius:3px}.messages-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#999}.loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:var(--secondary-text);font-size:14px}.d-flex.gap-2.mb-4[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.filter-btn[_ngcontent-%COMP%]{padding:8px 20px;border-radius:25px;font-size:14px;font-weight:500;border:1px solid #ddd;background-color:#fff;color:#666;cursor:pointer;transition:all .2s;min-width:60px}.filter-btn.active[_ngcontent-%COMP%]{background-color:#333;color:#fff;border-color:#333}.filter-btn[_ngcontent-%COMP%]:hover:not(.active){background-color:var(--hover-background);border-color:#ccc}.language-settings[_ngcontent-%COMP%]{position:relative;margin-left:auto}.settings-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border:1px solid #ddd;border-radius:50%;background-color:#fff;color:#666;cursor:pointer;transition:all .2s ease;padding:0}.settings-btn[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;border-color:#bbb;color:#333;transform:rotate(45deg)}.settings-btn[_ngcontent-%COMP%]:focus{outline:2px solid var(--primary-color);outline-offset:2px}.settings-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;transition:transform .2s ease}.language-dropdown[_ngcontent-%COMP%]{position:absolute;right:0;top:calc(100% + 8px);background:#fff;border:1px solid #ddd;border-radius:12px;padding:20px;z-index:1000;box-shadow:0 4px 20px #00000026;min-width:280px;max-height:400px;overflow:hidden;animation:_ngcontent-%COMP%_dropdownFadeIn .2s ease-out}@keyframes _ngcontent-%COMP%_dropdownFadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.language-dropdown-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.language-dropdown-content[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#333;margin:0}.search-container[_ngcontent-%COMP%]{margin:0}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;color:#333;transition:border-color .2s ease}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--airbnb-red);box-shadow:0 0 0 3px #007bff1a}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#999}#languageSelect[_ngcontent-%COMP%]{width:100%;max-height:200px;overflow-y:auto;background:#fff;color:#333;border:1px solid #ddd;border-radius:8px;font-size:14px;padding:4px}#languageSelect[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--airbnb-red);box-shadow:0 0 0 3px #007bff1a}#languageSelect[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer;background:#fff;color:#333;border:none;transition:background-color .2s ease}#languageSelect[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover, #languageSelect[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:focus{background-color:#f8f9fa}#languageSelect[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:checked{background-color:var(--airbnb-red);color:#fff}#languageSelect[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}#languageSelect[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}#languageSelect[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ccc;border-radius:3px}#languageSelect[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#999}.icon-btn[_ngcontent-%COMP%]{font-size:16px;color:var(--secondary-text);cursor:pointer;background-color:#f5f5f5;border:none;border-radius:50px;height:40px;width:40px;display:flex;align-items:center;justify-content:center;transition:background-color .2s}.icon-btn[_ngcontent-%COMP%]:hover{background-color:#e8e8e8}.message-thread[_ngcontent-%COMP%]{background-color:var(--background);border:none;border-radius:12px;padding:15px;cursor:pointer;transition:all .2s ease;border:1px solid transparent;position:relative}.message-thread[_ngcontent-%COMP%]:hover{background-color:var(--hover-background);border-color:#e9ecef;box-shadow:0 2px 8px #0000001a}.message-thread.selected[_ngcontent-%COMP%]{background-color:#f0f8ff;border-color:var(--airbnb-red)}.message-thread.selected[_ngcontent-%COMP%]   .message-name[_ngcontent-%COMP%]{color:var(--airbnb-red)}.message-thread.unread[_ngcontent-%COMP%]{background-color:#fafbfc;border-left:3px solid var(--airbnb-red)}.profile-img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:contain;flex-shrink:0;border:2px solid #f0f0f0;transition:border-color .2s}.message-thread[_ngcontent-%COMP%]:hover   .profile-img[_ngcontent-%COMP%]{border-color:#ddd}.message-name[_ngcontent-%COMP%]{font-weight:600;color:var(--primary-text);font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:150px;display:inline-block;vertical-align:top;transition:color .2s}.message-preview[_ngcontent-%COMP%]{color:var(--secondary-text);font-size:13px;margin-top:4px;line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;max-height:34px;transition:color .2s}.message-details[_ngcontent-%COMP%]{color:#888;font-size:12px;margin-top:4px;font-style:italic;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:200px;transition:color .2s}.message-time[_ngcontent-%COMP%]{color:#999;font-size:12px;white-space:nowrap;flex-shrink:0;transition:color .2s}.unread-indicator[_ngcontent-%COMP%]{display:inline-block;width:8px;height:8px;background-color:var(--airbnb-red);border-radius:50%;margin-left:6px;vertical-align:middle;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #ff385cb3}70%{box-shadow:0 0 0 10px #ff385c00}to{box-shadow:0 0 #ff385c00}}.placeholder-icon[_ngcontent-%COMP%]{font-size:60px;color:#d3d3d3}.empty-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--primary-text)}.empty-subtitle[_ngcontent-%COMP%]{font-size:14px;color:var(--secondary-text);line-height:1.4}.pagination-info[_ngcontent-%COMP%]{padding:10px 0;border-top:1px solid #f0f0f0;margin-top:10px}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}.message-thread[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.message-preview[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]{color:var(--airbnb-red);font-size:16px}.search-bar-container[_ngcontent-%COMP%]{background:#f5f5f5;border-radius:999px;padding:6px 12px;display:flex;align-items:center;gap:8px;overflow:hidden;position:relative;width:0;opacity:0;margin-bottom:8px}.search-bar-container.active[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_openFromRight .3s forwards;-webkit-animation:_ngcontent-%COMP%_openFromRight .3s forwards}.search-bar-container.animate-close[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_closeToRight .3s forwards}.search-input[_ngcontent-%COMP%]{border:none;outline:none;background:transparent;flex:1;font-size:14px}.search-icon[_ngcontent-%COMP%]{font-size:16px;color:#333}.cancel-btn[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#000;text-decoration:none}@keyframes _ngcontent-%COMP%_openFromRight{0%{width:0;opacity:0;transform:translate(30px)}to{width:250px;opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_closeToRight{0%{width:250px;opacity:1;transform:translate(0)}to{width:0;opacity:0;transform:translate(30px)}}.flex-grow-1[_ngcontent-%COMP%]{min-width:0;overflow:hidden}.d-flex.justify-content-between[_ngcontent-%COMP%]{gap:8px}.message-thread[_ngcontent-%COMP%]:hover   .message-name[_ngcontent-%COMP%], .message-thread[_ngcontent-%COMP%]:hover   .message-preview[_ngcontent-%COMP%], .message-thread[_ngcontent-%COMP%]:hover   .message-details[_ngcontent-%COMP%]{color:#333}.message-thread[_ngcontent-%COMP%]:hover   .message-time[_ngcontent-%COMP%]{color:#666}@media (max-width: 768px){.component-container[_ngcontent-%COMP%]{padding:15px}.message-name[_ngcontent-%COMP%]{max-width:120px}.message-details[_ngcontent-%COMP%]{max-width:150px}.message-preview[_ngcontent-%COMP%]{-webkit-line-clamp:1;max-height:17px}.profile-img[_ngcontent-%COMP%]{width:45px;height:45px}.messages-scroll-container[_ngcontent-%COMP%]{padding-right:4px;margin-right:-4px}.language-dropdown[_ngcontent-%COMP%]{right:-10px;min-width:280px;padding:16px}.settings-btn[_ngcontent-%COMP%]{width:36px;height:36px}}.message-thread[_ngcontent-%COMP%]:focus{outline:2px solid var(--airbnb-red);outline-offset:2px}.filter-btn[_ngcontent-%COMP%]:focus{outline:2px solid var(--airbnb-red);outline-offset:2px}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200px 0}to{background-position:calc(200px + 100%) 0}}.loading-shimmer[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shimmer 1.5s linear infinite;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200px 100%}.scroll-indicator[_ngcontent-%COMP%]{position:sticky;top:0;height:2px;background:linear-gradient(90deg,var(--airbnb-red) 0%,transparent 100%);z-index:10}.text-center.py-3[_ngcontent-%COMP%]{border-top:1px solid #f0f0f0;margin-top:10px}.text-center.py-3[_ngcontent-%COMP%]:first-of-type{border-top:none;margin-top:0}.btn-outline-primary.btn-sm[_ngcontent-%COMP%]{padding:6px 16px;font-size:13px;border-radius:20px;transition:all .2s ease}.btn-outline-primary.btn-sm[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 8px #007bff4d}.text-muted[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#28a745}.mt-4.pt-4.border-top[_ngcontent-%COMP%]{border-color:#f0f0f0!important}.btn-sm[_ngcontent-%COMP%]{font-size:12px;padding:4px 12px;border-radius:15px}.messages-scroll-container[_ngcontent-%COMP%]{scroll-behavior:smooth}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#fffc;display:flex;align-items:center;justify-content:center;z-index:100}.message-thread[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.message-thread[_ngcontent-%COMP%]:active{transform:translateY(1px)}.status-online[_ngcontent-%COMP%]{position:absolute;bottom:2px;right:2px;width:12px;height:12px;background:#28a745;border:2px solid white;border-radius:50%}.status-away[_ngcontent-%COMP%]{background:#ffc107}.status-offline[_ngcontent-%COMP%]{background:#6c757d}.message-thread.skeleton[_ngcontent-%COMP%]{pointer-events:none}.message-thread.skeleton[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%], .message-thread.skeleton[_ngcontent-%COMP%]   .message-name[_ngcontent-%COMP%], .message-thread.skeleton[_ngcontent-%COMP%]   .message-preview[_ngcontent-%COMP%], .message-thread.skeleton[_ngcontent-%COMP%]   .message-details[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite;color:transparent}.message-thread.skeleton[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]{border-radius:50%}@media (prefers-reduced-motion: reduce){.message-thread[_ngcontent-%COMP%], .unread-indicator[_ngcontent-%COMP%], .btn-outline-primary.btn-sm[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%], .language-dropdown[_ngcontent-%COMP%]{animation:none;transition:none}.messages-scroll-container[_ngcontent-%COMP%]{scroll-behavior:auto}}@media (prefers-contrast: high){[_ngcontent-%COMP%]:root{--border-color: #000000;--primary-text: #000000;--secondary-text: #333333;--primary-color: #0066cc}.message-thread[_ngcontent-%COMP%]{border:2px solid var(--border-color)}.message-thread[_ngcontent-%COMP%]:hover{border-color:var(--airbnb-red)}.settings-btn[_ngcontent-%COMP%], .language-dropdown[_ngcontent-%COMP%]{border:2px solid var(--border-color)}}@media print{.component-container[_ngcontent-%COMP%]{height:auto;border:none;padding:0}.messages-scroll-container[_ngcontent-%COMP%]{height:auto;overflow:visible}.filter-btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%], .loading-indicator[_ngcontent-%COMP%], .mt-4.pt-4.border-top[_ngcontent-%COMP%], .language-settings[_ngcontent-%COMP%]{display:none}}"]})};var Aae=["chatContainer"],Nae=()=>({time:"11 hours"}),Rae=(n,e)=>({"message-right":n,"message-left":e}),Fae=(n,e)=>({"current-user-bubble":n,"other-person-bubble":e}),Vae=()=>({left:"105%"}),Bae=()=>({right:"105%"}),jae=()=>({left:"110%"}),Hae=()=>({right:"110%"}),Uae=()=>({right:"8px"}),$ae=()=>({left:"8px"}),Wae=n=>({name:n});function Gae(n,e){n&1&&(l(0,"div",20)(1,"div",21),k(2,"span",22)(3,"span",22)(4,"span",22),d()())}function Yae(n,e){n&1&&(l(0,"div",23)(1,"div",21),k(2,"span",22)(3,"span",22)(4,"span",22),d(),l(5,"span",24),m(6),Q(7,"translate"),d()()),n&2&&(p(6),$(de(7,1,"CHAT.LOADING_MESSAGES")))}function qae(n,e){if(n&1&&(l(0,"div",28)(1,"span",29),m(2),d()()),n&2){let t=C().$implicit;p(2),U("",t.label," ")}}function Zae(n,e){if(n&1&&(l(0,"div",30)(1,"span"),m(2),d(),l(3,"span",31),m(4),d()()),n&2){let t=C().$implicit;p(2),U(" ",t.content," "),p(2),U(" ",t.action," ")}}function Xae(n,e){if(n&1&&(l(0,"div",40),k(1,"img",41),l(2,"span",42),m(3),d(),l(4,"span",43),m(5),d()()),n&2){let t=C(2).$implicit,i=C();p(),_("src",i.hostProfileImage,et),p(2),$(i.hostName),p(2),$(t.timestamp)}}function Kae(n,e){if(n&1){let t=X();l(0,"button",46),T("click",function(r){let o=z(t).$implicit,a=C(3).index,c=C();return A(c.addReaction(a,o,r))}),m(1),d()}if(n&2){let t=e.$implicit;p(),U(" ",t," ")}}function Qae(n,e){if(n&1){let t=X();l(0,"div",44),T("click",function(r){return z(t),A(r.stopPropagation())}),j(1,Kae,2,1,"button",45),d()}if(n&2){let t=C(2).$implicit,i=C();_("ngStyle",t.isCurrentUser?Kt(3,Hae):Kt(2,jae)),p(),_("ngForOf",i.emojiOptions)}}function Jae(n,e){if(n&1&&(l(0,"div",47),m(1),d()),n&2){let t=C(2).$implicit;_("ngStyle",t.isCurrentUser?Kt(4,$ae):Kt(3,Uae))("ngClass",t.isCurrentUser?"reaction-user":"reaction-host"),p(),U(" ",t.reaction," ")}}function ese(n,e){if(n&1&&(l(0,"span",51),m(1),Q(2,"translate"),d()),n&2){let t=C(3).$implicit;p(),U(" ",Vt(2,1,"CHAT.READ_BY",nn(4,Wae,t.readBy))," ")}}function tse(n,e){if(n&1&&k(0,"img",52),n&2){let t=C(3).$implicit,i=C();_("alt",Ws("Read by ",t.readBy))("src",i.hostProfileImage,et)}}function nse(n,e){if(n&1&&(l(0,"div",48)(1,"span",43),m(2),d(),j(3,ese,3,6,"span",49)(4,tse,1,3,"img",50),d()),n&2){let t=C(2),i=t.$implicit,r=t.index,o=C();p(2),$(i.timestamp),p(),_("ngIf",i.readBy),p(),_("ngIf",i.readBy&&r===o.getLastReadMessageIndex())}}function ise(n,e){if(n&1){let t=X();l(0,"div",32),j(1,Xae,6,3,"div",33),l(2,"div",34),k(3,"span",35),l(4,"button",36),T("click",function(r){z(t);let o=C().index,a=C();return A(a.toggleEmojiPicker(o,r))}),m(5," \u{1F60A} "),j(6,Qae,2,4,"div",37),d(),j(7,Jae,2,5,"div",38),d(),j(8,nse,5,3,"div",39),d()}if(n&2){let t=C(),i=t.$implicit,r=t.index,o=C();_("ngClass",wi(8,Rae,i.isCurrentUser,!i.isCurrentUser)),p(),_("ngIf",!i.isCurrentUser),p(),_("ngClass",wi(11,Fae,i.isCurrentUser,!i.isCurrentUser)),p(),_("innerHTML",i.content,Xl),p(),_("ngStyle",i.isCurrentUser?Kt(15,Bae):Kt(14,Vae)),p(2),_("ngIf",o.showEmojiPicker===r),p(),_("ngIf",i.reaction),p(),_("ngIf",i.isCurrentUser)}}function rse(n,e){if(n&1&&(zt(0),j(1,qae,3,1,"div",25)(2,Zae,5,2,"div",26)(3,ise,9,16,"div",27),At()),n&2){let t=e.$implicit;p(),_("ngIf",t.type==="date"),p(),_("ngIf",t.type==="status"),p(),_("ngIf",t.type==="message")}}var U5=class n{constructor(e,t,i,r){this.chatService=e;this.signalRService=t;this.cdr=i;this.authService=r}selectedChatSession=null;initialMessages=[];currentUserId=null;destroy$=new Re;hostProfileImage="";hostName="";messageInput="";showEmojiPicker=null;isLoading=!1;isSending=!1;error=null;isLoadingOlderMessages=!1;currentPage=1;pageSize=20;hasMoreMessages=!0;isInitialLoad=!0;itemSize=50;emojiOptions=["\u{1F600}","\u2764\uFE0F","\u{1F44D}","\u{1F44F}","\u{1F525}"];chatItems=[];messages=[];isHost=!1;chatContainer;ngOnInit(){this.currentUserId=this.authService.userId,this.chatContainer&&this.chatContainer.elementScrolled().pipe(rt(this.destroy$),ni(200),Oi(),Nn(()=>!this.isLoadingOlderMessages&&this.hasMoreMessages)).subscribe(()=>{this.chatContainer&&this.chatContainer.measureScrollOffset("top")<=100&&this.loadMessages()}),this.selectedChatSession&&this.initializeChatSession(),this.signalRService.messageReceived$.pipe(rt(this.destroy$)).subscribe(e=>{if(this.selectedChatSession&&e.chatSessionId===this.selectedChatSession.id){console.log("New message received via SignalR:",e);let t=this.chatService._targetLang$.getValue();if(t==""||t==null||t=="null"){this.messages.push(e),this.processChatItems(),this.scrollToBottom(),this.cdr.detectChanges();return}this.chatService.translateMessage(e.messageText,t).subscribe({next:i=>{console.log("Translated  message:",i),e.messageText=i?.translated_texts.length>0?i.translated_texts[0]:"",this.messages.push(e),this.processChatItems(),this.scrollToBottom(),this.cdr.detectChanges()},error:i=>{console.error("error translating the message",i)}})}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(e){e.selectedChatSession&&e.selectedChatSession?.currentValue&&(this.resetPagination(),this.initializeChatSession()),e.initialMessages&&this.initialMessages?.length>0&&(this.messages=[...this.initialMessages],this.currentUserId||(this.currentUserId=this.authService.userId),this.processChatItems(),this.scrollToBottom(),this.isInitialLoad=!1,this.currentPage=2)}trackById(e,t){return t.messageId||e.toString()}resetPagination(){this.currentPage=1,this.hasMoreMessages=!0,this.isInitialLoad=!0,this.messages=[],this.chatItems=[],this.isLoadingOlderMessages=!1}initializeChatSession(){this.selectedChatSession&&(this.isHost=this.selectedChatSession.hostId==this.currentUserId),this.selectedChatSession&&(this.hostName=this.isHost?this.selectedChatSession.userName:this.selectedChatSession.hostName,this.hostProfileImage=this.selectedChatSession.hostAvatarUrl||"https://pngpix.com/images/file/placeholder-profile-icon-20tehfawxt5eihco.jpg",this.markMessagesAsRead())}loadMessages(){if(!this.selectedChatSession)return;this.isLoadingOlderMessages=!0,this.error=null;let e=20,t=0;this.chatContainer&&(t=this.chatContainer.measureScrollOffset("bottom")),this.chatService.getChatMessages(this.selectedChatSession.id,this.currentPage,this.pageSize).pipe(rt(this.destroy$)).subscribe({next:i=>{console.log("Older messages loaded:",i),i.length===0?this.hasMoreMessages=!1:(this.messages=[...i,...this.messages],this.processChatItems(),setTimeout(()=>{this.chatContainer&&this.chatContainer.scrollTo({bottom:t,behavior:"auto"})},0),this.currentPage++),this.isLoadingOlderMessages=!1},error:i=>{console.error("Error loading messages:",i),this.error="Failed to load messages. Please try again.",this.isLoadingOlderMessages=!1}})}onScroll(e){e.target.scrollTop<=100&&!this.isLoadingOlderMessages&&this.hasMoreMessages&&this.messages.length>0&&this.loadMessages()}processChatItems(){this.currentUserId||(this.currentUserId=this.authService.userId),this.chatItems=[];let e="";this.messages.forEach((t,i)=>{let r=this.formatDate(t.createdAt);if(r!==e&&(this.chatItems.push({type:"date",label:r}),e=r),t.reservationRequest){let o=this.getReservationStatusText(t.reservationRequest.requestStatus);this.chatItems.push({type:"status",content:o,action:"View details"})}this.chatItems.push({type:"message",isCurrentUser:t.senderId===this.currentUserId,content:t.messageText,timestamp:this.formatTime(t.createdAt),messageId:t.id,originalMessage:t,reaction:t.reactions&&t.reactions.length>0?this.getReactionEmoji(t.reactions[0].reactionType):void 0,readBy:t.senderId!==this.currentUserId&&t.isRead?this.hostName:void 0})})}formatDate(e){let t=new Date(e),i=new Date,r=new Date(i);return r.setDate(r.getDate()-1),this.isSameDay(t,i)?"Today":this.isSameDay(t,r)?"Yesterday":t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==i.getFullYear()?"numeric":void 0})}isSameDay(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}formatTime(e){return new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}getReservationStatusText(e){switch(e){case 0:return"Reservation request pending approval";case 1:return"Reservation request approved";case 2:return"Reservation request declined";case 3:return"Reservation cancelled";default:return"Reservation status unknown"}}getReactionEmoji(e){return{1:"\u{1F600}",2:"\u2764\uFE0F",3:"\u{1F44D}",4:"\u{1F44F}",5:"\u{1F525}"}[e]||"\u{1F600}"}markMessagesAsRead(){this.selectedChatSession&&this.chatService.markMessagesAsRead(this.selectedChatSession.id).pipe(rt(this.destroy$)).subscribe({next:()=>{console.log("Messages marked as read")},error:e=>{console.error("Error marking messages as read:",e)}})}scrollToBottom(){setTimeout(()=>{this.chatContainer&&this.chatContainer.scrollTo({bottom:0,behavior:"smooth"})},100)}sendMessage(){if(!this.selectedChatSession){console.error("No chat session selected");return}let e=this.messageInput.trim();!e||this.isSending||(this.isSending=!0,this.chatService.sendMessage(this.selectedChatSession.id,e,1,!0).pipe(rt(this.destroy$)).subscribe({next:t=>{console.log("Message sent:",t),this.messages.push(t),this.currentUserId||(this.currentUserId=this.authService.userId),this.processChatItems(),this.messageInput="",this.scrollToBottom(),this.isSending=!1,this.cdr.detectChanges()},error:t=>{console.error("Error sending message:",t),this.error="Failed to send message. Please try again.",this.isSending=!1,this.cdr.detectChanges()}}))}onKeyPress(e){e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),this.sendMessage())}toggleEmojiPicker(e,t){t.stopPropagation(),this.showEmojiPicker=this.showEmojiPicker===e?null:e}addReaction(e,t,i){i.stopPropagation();let r=this.chatItems[e];r.type==="message"&&r.messageId&&(r.reaction=t,console.log("Adding reaction:",t,"to message:",r.messageId)),this.showEmojiPicker=null}closeEmojiPicker(){this.showEmojiPicker=null}get isSendDisabled(){return this.messageInput.trim().length===0||this.isSending||!this.selectedChatSession}getLastReadMessageIndex(){for(let e=this.chatItems.length-1;e>=0;e--)if(this.chatItems[e].type==="message"&&this.chatItems[e].isCurrentUser&&this.chatItems[e].readBy)return e;return-1}refreshMessages(){this.selectedChatSession&&(this.resetPagination(),this.loadMessages())}get chatSessionInfo(){return this.selectedChatSession?`${this.selectedChatSession.propertyTitle} - ${this.selectedChatSession.hostName}`:""}static \u0275fac=function(t){return new(t||n)(V(oo),V(gl),V(Ot),V(dt))};static \u0275cmp=le({type:n,selectors:[["app-chat-box"]],viewQuery:function(t,i){if(t&1&&en(Aae,5),t&2){let r;qt(r=Zt())&&(i.chatContainer=r.first)}},inputs:{selectedChatSession:"selectedChatSession",initialMessages:"initialMessages"},features:[Gt],decls:25,vars:16,consts:[["chatContainer",""],[1,"chat-container",3,"click"],[1,"chat-header"],[1,"profile-section"],["alt","Host","loading","lazy",1,"profile-img",3,"src"],[1,"host-name"],["itemSize","50",1,"chat-messages"],["class","loading-older-messages",4,"ngIf"],["class","initial-loading",4,"ngIf"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"chat-input-area"],[1,"input-container"],["type","text",1,"message-input",3,"ngModelChange","keypress","placeholder","ngModel"],["type","button",1,"send-button",3,"click","disabled"],["width","16","height","16","viewBox","0 0 16 16","fill","none"],["d","M2 8L14 2L10 8L14 14L2 8Z","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"response-time"],["width","12","height","12","viewBox","0 0 12 12","fill","none"],["cx","6","cy","6","r","5","stroke","currentColor","stroke-width","1"],["d","M6 3V6L8 8","stroke","currentColor","stroke-width","1","stroke-linecap","round"],[1,"loading-older-messages"],[1,"loading-dots"],[1,"dot"],[1,"initial-loading"],[1,"loading-text"],["class","date-separator",4,"ngIf"],["class","status-message",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"date-separator"],[1,"date-label"],[1,"status-message"],[2,"color","#008489","text-decoration","underline","cursor","pointer"],[3,"ngClass"],["class","host-info",4,"ngIf"],[1,"message-bubble",3,"ngClass"],[3,"innerHTML"],["type","button",1,"emoji-button",3,"click","ngStyle"],["class","emoji-picker",3,"ngStyle","click",4,"ngIf"],["class","message-reaction",3,"ngStyle","ngClass",4,"ngIf"],["class","user-timestamp",4,"ngIf"],[1,"host-info"],["alt","Host","loading","lazy",1,"profile-img",2,"width","24px","height","24px",3,"src"],[1,"host-label"],[1,"timestamp"],[1,"emoji-picker",3,"click","ngStyle"],["class","emoji-option","type","button",3,"click",4,"ngFor","ngForOf"],["type","button",1,"emoji-option",3,"click"],[1,"message-reaction",3,"ngStyle","ngClass"],[1,"user-timestamp"],["class","read-status",4,"ngIf"],["class","read-avatar","loading","lazy",3,"src","alt",4,"ngIf"],[1,"read-status"],["loading","lazy",1,"read-avatar",3,"src","alt"]],template:function(t,i){if(t&1){let r=X();l(0,"div",1),T("click",function(){return z(r),A(i.closeEmojiPicker())}),l(1,"div",2)(2,"div",3),k(3,"img",4),l(4,"span",5),m(5),d()()(),l(6,"cdk-virtual-scroll-viewport",6,0),j(8,Gae,5,0,"div",7)(9,Yae,8,3,"div",8)(10,rse,4,3,"ng-container",9),d(),l(11,"div",10)(12,"div",11)(13,"input",12),Q(14,"translate"),mt("ngModelChange",function(a){return z(r),_t(i.messageInput,a)||(i.messageInput=a),A(a)}),T("keypress",function(a){return z(r),A(i.onKeyPress(a))}),d(),l(15,"button",13),T("click",function(){return z(r),A(i.sendMessage())}),$e(),l(16,"svg",14),k(17,"path",15),d()()(),lt(),l(18,"div",16),$e(),l(19,"svg",17),k(20,"circle",18)(21,"path",19),d(),lt(),l(22,"span"),m(23),Q(24,"translate"),d()()()()}t&2&&(p(3),_("src",i.hostProfileImage,et),p(2),$(i.hostName),p(3),_("ngIf",i.isLoadingOlderMessages),p(),_("ngIf",i.isLoading&&i.isInitialLoad),p(),_("cdkVirtualForOf",i.chatItems)("cdkVirtualForTrackBy",i.trackById),p(3),_("placeholder",de(14,10,"CHAT.WRITE_MESSAGE")),ft("ngModel",i.messageInput),p(2),_("disabled",i.isSendDisabled),p(8),U(" ",Vt(24,12,"CHAT.RESPONSE_TIME",Kt(15,Nae))," "))},dependencies:[he,Bt,Xe,Ce,_o,Mt,Rt,Dt,kn,up,uT,fT,nC,wt,Xt],styles:['.chat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:87vh;background-color:#fff;border:1px solid #e5e5e5;overflow:hidden;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.chat-messages[_ngcontent-%COMP%]{flex:1;height:calc(100vh - 180px);background-color:#f8f9fa}cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{height:100%;width:100%}.cdk-virtual-scroll-content-wrapper[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-direction:column;padding:20px}.chat-header[_ngcontent-%COMP%]{padding:16px 20px;border-bottom:1px solid #e5e5e5;background-color:#fff}.profile-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.profile-img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover}.host-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#222}.chat-messages[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px 20px;background-color:#fff}.loading-older-messages[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:12px 0;margin-bottom:8px}.initial-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:60%;gap:12px}.loading-dots[_ngcontent-%COMP%]{display:flex;gap:4px;align-items:center}.dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background-color:#ff385c;animation:_ngcontent-%COMP%_loading-bounce 1.4s ease-in-out infinite both}.dot[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.32s}.dot[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.16s}.dot[_ngcontent-%COMP%]:nth-child(3){animation-delay:0s}.loading-text[_ngcontent-%COMP%]{font-size:14px;color:#717171;font-weight:500}@keyframes _ngcontent-%COMP%_loading-bounce{0%,80%,to{transform:scale(.8);opacity:.5}40%{transform:scale(1);opacity:1}}.date-separator[_ngcontent-%COMP%]{text-align:center;margin:24px 0 16px;position:relative}.date-separator[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:20%;right:20%;height:1px;width:60%;background-color:#e5e5e5}.date-label[_ngcontent-%COMP%]{background-color:#fff;padding:0 16px;font-size:13px;font-weight:600;color:#717171;text-transform:uppercase;letter-spacing:.5px;position:relative;z-index:1}.message-left[_ngcontent-%COMP%]{margin-bottom:16px;position:relative}.message-right[_ngcontent-%COMP%]{margin-bottom:16px;text-align:right;position:relative}.host-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:4px;font-size:13px;color:#717171}.host-label[_ngcontent-%COMP%]{font-weight:500}.message-bubble[_ngcontent-%COMP%]{display:inline-block;max-width:60%;padding:12px 16px;border-radius:20px;font-size:15px;line-height:1.4;position:relative;word-wrap:break-word}.host-bubble[_ngcontent-%COMP%], .other-person-bubble[_ngcontent-%COMP%]{background-color:#f7f7f7;color:#222;border-top-left-radius:6px}.user-bubble[_ngcontent-%COMP%], .current-user-bubble[_ngcontent-%COMP%]{background-color:#222;color:#fff;border-top-right-radius:6px}.message-reaction[_ngcontent-%COMP%]{position:absolute;bottom:-16px;background:#eee;border:1px solid #e5e5e5;border-radius:12px;width:26px;height:26px;display:flex;align-items:center;justify-content:center;font-size:14px;box-shadow:0 2px 4px #0000001a}.reaction-user[_ngcontent-%COMP%]{background-color:#f0f0f0}.reaction-host[_ngcontent-%COMP%]{background-color:#222;color:#fff}.emoji-button[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);width:26px;height:26px;border:none;background:#eee;border-radius:50%;cursor:pointer;opacity:0;transition:opacity .2s ease;display:flex;align-items:center;justify-content:center;font-size:16px;z-index:2}.message-bubble[_ngcontent-%COMP%]:hover   .emoji-button[_ngcontent-%COMP%]{opacity:1}.emoji-picker[_ngcontent-%COMP%]{position:absolute;top:-45px;background:#fff;border:1px solid #e5e5e5;border-radius:20px;padding:8px 12px;display:flex;gap:8px;box-shadow:0 4px 12px #00000026;z-index:10}.emoji-option[_ngcontent-%COMP%]{background:none;border:none;font-size:16px;cursor:pointer;padding:4px;border-radius:4px;transition:background-color .2s}.emoji-option[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.user-timestamp[_ngcontent-%COMP%]{margin-top:4px;font-size:13px;color:#717171;text-align:right;display:flex;align-items:center;justify-content:flex-end;gap:8px}.timestamp[_ngcontent-%COMP%], .read-status[_ngcontent-%COMP%]{color:#717171}.read-avatar[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50%;object-fit:cover}.status-message[_ngcontent-%COMP%]{margin-top:8px;font-size:14px;color:#717171;text-align:center;padding:12px 16px;border-radius:8px}.status-link[_ngcontent-%COMP%]{color:#008489;text-decoration:underline;margin-left:4px;cursor:pointer}.status-link[_ngcontent-%COMP%]:hover{color:#00a1a6}.chat-input-area[_ngcontent-%COMP%]{padding:16px 20px;border-top:1px solid #e5e5e5;background-color:#fff}.input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;margin-bottom:8px}.message-input[_ngcontent-%COMP%]{flex:1;padding:12px 50px 12px 16px;border:1px solid #e5e5e5;border-radius:24px;font-size:15px;outline:none;background-color:#fff;transition:border-color .2s ease}.message-input[_ngcontent-%COMP%]:focus{border-color:#008489}.message-input[_ngcontent-%COMP%]::placeholder{color:#b3b3b3}.send-button[_ngcontent-%COMP%]{position:absolute;right:8px;width:32px;height:32px;border:none;background-color:#222;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#fff;transition:background-color .2s ease}.send-button[_ngcontent-%COMP%]:disabled{color:#717171;background-color:#f7f7f7;cursor:not-allowed}.send-button[_ngcontent-%COMP%]:not(:disabled):hover{background-color:#333}.response-time[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:12px;color:#717171}.response-time[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:.6}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#e5e5e5;border-radius:3px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#d1d1d1}'],changeDetection:0})};var ose=(n,e,t,i)=>({"status-pending":n,"status-approved":e,"status-declined":t,"status-cancelled":i}),ase=(n,e,t,i)=>({"inquiry-pending":n,"inquiry-approved":e,"inquiry-declined":t,"inquiry-cancelled":i});function sse(n,e){n&1&&(l(0,"div",7)(1,"div",8)(2,"span",9),m(3,"Loading..."),d()(),l(4,"p",10),m(5,"Loading reservation details..."),d()())}function lse(n,e){if(n&1){let t=X();l(0,"div",11)(1,"span"),m(2),d(),l(3,"button",12),T("click",function(){z(t);let r=C();return A(r.refreshReservationData())}),m(4," Retry "),d()()}if(n&2){let t=C();p(2),$(t.error)}}function cse(n,e){n&1&&(l(0,"div",13)(1,"div",14)(2,"h3"),m(3,"No Conversation Selected"),d(),l(4,"p"),m(5,"Select a conversation to view reservation details."),d()()())}function dse(n,e){if(n&1){let t=X();l(0,"button",45),T("click",function(){z(t);let r=C(2);return A(r.keepSearching())}),m(1," Keep searching "),d()}}function use(n,e){n&1&&(l(0,"button",46),m(1," Waiting for response "),d())}function pse(n,e){n&1&&(l(0,"button",47),m(1," View booking details "),d())}function fse(n,e){if(n&1){let t=X();l(0,"div",48)(1,"button",49),T("click",function(){z(t);let r=C(2);return A(r.acceptReservation())}),k(2,"i",50),d(),l(3,"button",51),T("click",function(){z(t);let r=C(2);return A(r.declineReservation())}),k(4,"i",52),d()()}}function mse(n,e){if(n&1&&(l(0,"div",58)(1,"div",59)(2,"span",60),m(3),d(),l(4,"span",61),m(5),d()(),l(6,"div",62),k(7,"img",63)(8,"div",64),d()()),n&2){let t=C(3);p(3),U("Hosted by ",t.reservation.hostName),p(2),$(t.reservation.hostReviews),p(2),_("src",t.reservation.hostAvatar,et)}}function hse(n,e){if(n&1&&(l(0,"div",58)(1,"div",59)(2,"span",60),m(3),d(),l(4,"span",61),m(5),d()(),l(6,"div",62),k(7,"img",63)(8,"div",64),d()()),n&2){let t=C(3);p(3),U("Request by ",t.reservation.userName),p(2),$(t.reservation.hostReviews),p(2),_("src",t.reservation.userAvatar,et)}}function gse(n,e){if(n&1&&(l(0,"div",53)(1,"h3",34),m(2,"Trip Details"),d(),l(3,"div",54)(4,"div",55)(5,"h4",56),m(6),d(),l(7,"p",57),m(8),d()()(),j(9,mse,9,3,"div",28)(10,hse,9,3,"div",28),d()),n&2){let t=C(2);p(6),$(t.reservation.propertyName),p(2),U(" Entire condo \u2022 ",t.reservation.propertyType," "),p(),_("ngIf",!t.selectedChatSession.isHost),p(),_("ngIf",t.selectedChatSession.isHost)}}function vse(n,e){if(n&1&&(l(0,"div",58)(1,"div",65)(2,"h4"),m(3),d(),l(4,"p",61),m(5),d()(),l(6,"div",62),k(7,"img",63)(8,"div",64),d()()),n&2){let t=C(2);p(3),U("Hosted by ",t.reservation.hostName),p(2),$(t.reservation.hostReviews),p(2),_("src",t.reservation.hostAvatar,et)}}function bse(n,e){if(n&1&&(l(0,"div",15)(1,"div",16),k(2,"img",17),l(3,"div",18)(4,"span",19),m(5),d()()(),l(6,"div",20)(7,"h3",21),m(8),d(),l(9,"p",22),m(10),d(),j(11,dse,2,0,"button",23)(12,use,2,0,"button",24)(13,pse,2,0,"button",25),d(),j(14,fse,5,0,"div",26)(15,gse,11,4,"div",27)(16,vse,9,3,"div",28),l(17,"div",29)(18,"div",30)(19,"span",31),m(20,"Check-in"),d(),l(21,"span",32),m(22),d()(),l(23,"div",30)(24,"span",31),m(25,"Checkout"),d(),l(26,"span",32),m(27),d()(),l(28,"div",30)(29,"span",31),m(30,"Guests"),d(),l(31,"span",32),m(32),d()()(),l(33,"div",33)(34,"h3",34),m(35,"Payment Details"),d(),l(36,"div",35)(37,"span",36),m(38),d(),l(39,"span",37),m(40),d()(),k(41,"hr",38),d(),l(42,"div",39)(43,"h4",40),m(44,"Always communicate through Airbnb"),d(),l(45,"div",41)(46,"p",42),m(47," To protect your payment, never transfer money or communicate outside of the Airbnb website or app. "),d(),l(48,"div",43)(49,"div",44),m(50,"\u{1F6E1}\uFE0F"),d()()()()()),n&2){let t=C();p(2),_("src",t.reservation.image,et),p(2),_("ngClass",Md(18,ose,t.isPending,t.isApproved,t.isDeclined,t.isCancelled)),p(),U(" ",t.reservation.status," "),p(2),_("ngClass",Md(23,ase,t.isPending,t.isApproved,t.isDeclined,t.isCancelled)),p(),U(" ",t.getInquiryTitle()," "),p(2),U(" ",t.selectedChatSession.isHost?"":t.reservation.hostMessage," "),p(),_("ngIf",t.isDeclined&&!t.selectedChatSession.isHost),p(),_("ngIf",t.isPending),p(),_("ngIf",t.isApproved&&!t.selectedChatSession.isHost),p(),_("ngIf",t.selectedChatSession.isHost&&t.isPending),p(),_("ngIf",t.hasReservation),p(),_("ngIf",!t.hasReservation),p(6),$(t.reservation.checkIn||"Not set"),p(5),$(t.reservation.checkOut||"Not set"),p(5),$(t.reservation.guests),p(6),Nt("",t.reservation.pricePerNight," \xD7 ",t.reservation.nights," nights"),p(2),$(t.reservation.subtotal)}}var $5=class n{constructor(e,t,i,r){this.chatService=e;this.signalRService=t;this.confirm=i;this.cdr=r}selectedChatSession=null;ReservationWithProperty;handleImgService=q(Nr);showBookingDetails=!1;isLoading=!1;error=null;currentReservation=null;messages=[];reservation={image:"assets/images/deafult.png",status:"No Reservation",hostMessage:"No reservation requests yet.",propertyName:"",propertyType:"",hostName:"",hostReviews:"0 reviews",hostAvatar:"https://pngpix.com/images/file/placeholder-profile-icon-20tehfawxt5eihco.jpg",checkIn:"",checkOut:"",guests:"0 guests",pricePerNight:"0.00 \u062C.\u0645",nights:0,subtotal:"0.00 \u062C.\u0645",taxes:"0.00 \u062C.\u0645",total:"0.00 \u062C.\u0645",userName:"",userAvatar:""};ngOnInit(){this.selectedChatSession&&this.loadReservationData(),this.signalRService.messageReceived$.subscribe(e=>{this.selectedChatSession&&e.chatSessionId===this.selectedChatSession.id&&e.reservationRequest&&(console.log("New reservation update received:",e),this.loadReservationData())})}ngOnChanges(e){e.ReservationWithProperty&&e.ReservationWithProperty.currentValue&&(console.log("\u{1F7E2} ReservationWithProperty changed:",e.ReservationWithProperty.currentValue),this.loadReservationData()),this.selectedChatSession&&this.loadReservationData()}getCoverImage(e){if(!e||e.length===0)return null;let t=e.find(r=>r.isCover===!0&&!r.isDeleted);if(t?.imageUrl)return this.handleImgService.handleImage(t.imageUrl);let i=e.find(r=>!r.isDeleted);return i?.imageUrl?this.handleImgService.handleImage(i.imageUrl):null}loadReservationData(){if(this.ReservationWithProperty){let e=this.ReservationWithProperty;this.reservation={image:this.getCoverImage(e.proeprty?.images)||"assets/images/deafult.png",status:this.getReservationStatus(e.latestReservationRequest?.requestStatus),hostMessage:e.latestReservationRequest?.responseMessage||(e.latestReservationRequest?"Your reservation request has been submitted.":"No reservation requests yet."),propertyName:e.proeprty?.title||e.chatSession?.propertyTitle||"",propertyType:e.proeprty?.city||"Property",hostName:e.chatSession?.hostName||"",hostReviews:`${e.proeprty?.reviewCount||0} reviews`,hostAvatar:e.chatSession?.userAvatarUrl?this.handleImgService.handleImage(e.proeprty.hostPicture):"https://pngpix.com/images/file/placeholder-profile-icon-20tehfawxt5eihco.jpg",userName:e.chatSession?.userName||"",userAvatar:e.proeprty?.userAvatarUrl?this.handleImgService.handleImage(e.proeprty.hostPicture):"https://pngpix.com/images/file/placeholder-profile-icon-20tehfawxt5eihco.jpg",checkIn:this.formatDate(e.latestReservationRequest?.checkInDate),checkOut:this.formatDate(e.latestReservationRequest?.checkOutDate),guests:`${e.latestReservationRequest?.guestCount||0} guests`,pricePerNight:this.formatCurrency(e.latestReservationRequest?.pricePerNight||e.proeprty?.pricePerNight||0),nights:e.latestReservationRequest?.nightCount||0,subtotal:this.formatCurrency((e.latestReservationRequest?.pricePerNight||0)*(e.latestReservationRequest?.nightCount||0)),taxes:this.formatCurrency(e.latestReservationRequest?.totalAmount?e.latestReservationRequest.totalAmount-(e.latestReservationRequest.pricePerNight||0)*(e.latestReservationRequest.nightCount||0):0),total:this.formatCurrency(e.latestReservationRequest?.totalAmount||0)}}}getReservationStatus(e){if(!e)return"No Reservation";switch(e){case 1:return"Pending";case 2:return"Approved";case 3:return"Declined";case 4:return"Cancelled";default:return"Unknown"}}formatDate(e){if(!e||e==="0001-01-01T00:00:00")return"";let t=new Date(e);return isNaN(t.getTime())?"":t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}formatCurrency(e){return e?`${e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} \u062C.\u0645`:"0.00 \u062C.\u0645"}get isPending(){return this.ReservationWithProperty?.latestReservationRequest?.requestStatus===1}get isApproved(){return this.ReservationWithProperty?.latestReservationRequest?.requestStatus===2}get isDeclined(){return this.ReservationWithProperty?.latestReservationRequest?.requestStatus===3}get isCancelled(){return this.ReservationWithProperty?.latestReservationRequest?.requestStatus===4}get hasReservation(){return!!this.ReservationWithProperty?.latestReservationRequest}getInquiryTitle(){return this.isPending?"Reservation Request Pending":this.isApproved?"Reservation Approved!":this.isDeclined?"Reservation Declined":this.isCancelled?"Reservation Cancelled":"No Active Reservation"}refreshReservationData(){this.loadReservationData()}keepSearching(){console.log("Keep searching clicked")}closeReservation(){console.log("Close reservation clicked")}reportHost(){console.log("Report host clicked")}acceptReservation(){let e=this.ReservationWithProperty?.latestReservationRequest.id;console.log("Reservation requestId",e),this.chatService.accept(e).subscribe({next:t=>{if(t.data){this.confirm.success("Request accepted",""),this.ReservationWithProperty.latestReservationRequest.requestStatus=2,this.cdr.detectChanges();return}this.confirm.fail(t.message,"")},error:t=>{console.log(t),this.confirm.fail("Somthing went wrong, try again!","")}})}declineReservation(){let e=this.ReservationWithProperty?.latestReservationRequest.id;this.chatService.decline(e).subscribe({next:t=>{if(t.data){this.confirm.success("Request declined",""),this.ReservationWithProperty.latestReservationRequest.requestStatus=3,this.cdr.detectChanges();return}this.confirm.fail(t.message,"")},error:t=>{console.log(t),this.confirm.fail(t?.errors[0]?.data??"Somthing went wrong, try again!","")}})}static \u0275fac=function(t){return new(t||n)(V(oo),V(gl),V(Ui),V(Ot))};static \u0275cmp=le({type:n,selectors:[["app-reservation-box"]],inputs:{selectedChatSession:"selectedChatSession",ReservationWithProperty:"ReservationWithProperty"},features:[Gt],decls:8,vars:4,consts:[[1,"reservation-container"],[1,"reservation-header"],[1,"reservation-title"],["class","text-center mt-4",4,"ngIf"],["class","error-state",4,"ngIf"],["class","no-chat-selected",4,"ngIf"],["class","scrollable-content",4,"ngIf"],[1,"text-center","mt-4"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"mt-2"],[1,"error-state"],[1,"retry-button",3,"click"],[1,"no-chat-selected"],[1,"empty-state"],[1,"scrollable-content"],[1,"property-image-container"],["alt","Property","loading","lazy",1,"property-image",3,"src"],[1,"status-overlay"],[1,"status-badge",3,"ngClass"],[1,"inquiry-section"],[1,"inquiry-title",3,"ngClass"],[1,"inquiry-message"],["class","keep-searching-btn",3,"click",4,"ngIf"],["class","pending-btn","disabled","",4,"ngIf"],["class","approved-btn",4,"ngIf"],["class","d-flex justify-content-center mb-2",4,"ngIf"],["class","trip-details-section",4,"ngIf"],["class","host-info",4,"ngIf"],[1,"checkin-details"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value"],[1,"payment-section"],[1,"section-title"],[1,"payment-row"],[1,"payment-description"],[1,"payment-amount"],[1,"payment-divider"],[1,"safety-notice"],[1,"safety-title"],[1,"safety-content"],[1,"safety-text"],[1,"safety-icon"],[1,"shield-icon"],[1,"keep-searching-btn",3,"click"],["disabled","",1,"pending-btn"],[1,"approved-btn"],[1,"d-flex","justify-content-center","mb-2"],["title","Accept",1,"btn","btn-primary","me-3","py-0","px-2","rounded-5","m-0",3,"click"],[1,"bi","bi-check","fs-2","m-0","rounded-5"],["title","Decline",1,"btn","btn-secondary","ms-3","py-0","px-2","rounded-5","m-0",3,"click"],[1,"bi","bi-x","fs-2","m-0","rounded-5"],[1,"trip-details-section"],[1,"property-info"],[1,"property-details"],[1,"property-name"],[1,"property-type"],[1,"host-info"],[1,"host-details","d-flex","align-items-start","justify-content-center","gap-1","flex-column"],[1,"host-label"],[1,"host-reviews"],[1,"host-avatar"],["alt","Host","loading","lazy",1,"avatar-img",3,"src"],[1,"host-badge"],[1,"host-details"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"h2",2),m(3,"Reservation"),d()(),j(4,sse,6,0,"div",3)(5,lse,5,1,"div",4)(6,cse,6,0,"div",5)(7,bse,51,28,"div",6),d()),t&2&&(p(4),_("ngIf",i.isLoading),p(),_("ngIf",i.error&&!i.isLoading),p(),_("ngIf",!i.selectedChatSession&&!i.isLoading&&!i.error),p(),_("ngIf",i.selectedChatSession&&!i.isLoading&&!i.error))},dependencies:[he,Bt,Ce],styles:[".reservation-container[_ngcontent-%COMP%]{width:100%;max-width:500px;height:87vh;background:#fff;border:1px solid #e0e0e0;overflow:hidden;font-family:Circular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;display:flex;flex-direction:column}.reservation-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:22.8px 24px;border-bottom:1px solid #e0e0e0;background:#fff;flex-shrink:0;position:sticky;top:0;z-index:10}.scrollable-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;scrollbar-width:none;scroll-behavior:smooth}.reservation-title[_ngcontent-%COMP%]{font-size:22px;font-weight:600;color:#222;margin:0}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:#717171;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%}.close-btn[_ngcontent-%COMP%]:hover{background:#f7f7f7}.property-image-container[_ngcontent-%COMP%]{position:relative;padding:0 24px;margin-bottom:20px}.property-image[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover}.status-overlay[_ngcontent-%COMP%]{position:absolute;top:12px;left:36px}.status-badge[_ngcontent-%COMP%]{background:#fffffff2;color:#222;padding:6px 12px;border-radius:6px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;box-shadow:0 2px 8px #00000026}.inquiry-section[_ngcontent-%COMP%]{padding:0 24px 24px}.inquiry-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#222;margin:0 0 12px}.inquiry-message[_ngcontent-%COMP%]{color:#717171;font-size:16px;line-height:1.4;margin:0 0 20px}.keep-searching-btn[_ngcontent-%COMP%]{width:100%;padding:14px 24px;background:#fff;border:1px solid #222;border-radius:8px;font-size:16px;font-weight:600;color:#222;cursor:pointer;transition:all .2s ease}.keep-searching-btn[_ngcontent-%COMP%]:hover{background:#f7f7f7}.trip-details-section[_ngcontent-%COMP%]{border-top:1px solid #e0e0e0;padding:24px 24px 0}.section-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#222;margin:0 0 16px}.property-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0}.property-info[_ngcontent-%COMP%]:hover{background:#f9f9f9;border-radius:8px;padding:8px 12px;margin:0 -12px}.property-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#222;margin:0 0 4px}.property-type[_ngcontent-%COMP%]{font-size:14px;color:#717171;margin:0}.chevron-right[_ngcontent-%COMP%]{font-size:20px;color:#717171}.property-details-section[_ngcontent-%COMP%]{padding:16px 24px;border-bottom:1px solid #f0f0f0}.property-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 12px}.property-header[_ngcontent-%COMP%]:hover{background:#f9f9f9;border-radius:8px}.property-info-mini[_ngcontent-%COMP%]   .property-name-mini[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#222;margin:0 0 4px}.property-location[_ngcontent-%COMP%]{font-size:14px;color:#717171;margin:0}.host-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 4px;border-bottom:1px solid #f0f0f0}.host-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#222;margin:0}.host-reviews[_ngcontent-%COMP%]{font-size:14px;color:#717171;margin:0}.host-avatar[_ngcontent-%COMP%]{position:relative}.avatar-img[_ngcontent-%COMP%]{width:40px!important;height:40px!important;border-radius:50%;object-fit:cover}.host-badge[_ngcontent-%COMP%]{position:absolute;bottom:-2px;right:-2px;width:16px;height:16px;border-radius:50%}.checkin-details[_ngcontent-%COMP%]{padding:0 24px}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 0;border-bottom:1px solid #f0f0f0}.detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.detail-label[_ngcontent-%COMP%]{font-size:16px;color:#222}.detail-value[_ngcontent-%COMP%]{font-size:16px;color:#222;font-weight:500}.payment-section[_ngcontent-%COMP%]{padding:24px;border-top:1px solid #e0e0e0}.payment-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.payment-description[_ngcontent-%COMP%], .payment-amount[_ngcontent-%COMP%]{font-size:16px;color:#222}.payment-divider[_ngcontent-%COMP%]{border:none;border-top:1px solid #e0e0e0;margin:16px 0}.total-row[_ngcontent-%COMP%]{margin-bottom:0;font-weight:600}.total-amount[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.safety-notice[_ngcontent-%COMP%]{background:#f8f8f8;padding:20px 24px;margin:0 24px 20px;border-radius:12px}.safety-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#222;margin:0 0 8px}.safety-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px}.safety-text[_ngcontent-%COMP%]{flex:1;font-size:14px;color:#717171;line-height:1.4;margin:0}.learn-more-link[_ngcontent-%COMP%]{color:#008489;text-decoration:underline}.learn-more-link[_ngcontent-%COMP%]:hover{text-decoration:none}.safety-icon[_ngcontent-%COMP%]{flex-shrink:0}.shield-icon[_ngcontent-%COMP%]{width:24px;height:24px;font-size:20px}.report-section[_ngcontent-%COMP%]{padding:0 24px 24px}.report-link[_ngcontent-%COMP%]{color:#717171;font-size:14px;text-decoration:underline}.report-link[_ngcontent-%COMP%]:hover{color:#222;text-decoration:none}@media (max-width: 768px){.reservation-container[_ngcontent-%COMP%]{border-radius:0;border-left:none;border-right:none}.property-image[_ngcontent-%COMP%]{height:160px}.reservation-header[_ngcontent-%COMP%], .inquiry-section[_ngcontent-%COMP%], .trip-details-section[_ngcontent-%COMP%], .payment-section[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}.property-image-container[_ngcontent-%COMP%]{padding:0 16px}.safety-notice[_ngcontent-%COMP%]{margin-left:16px;margin-right:16px}.booking-header[_ngcontent-%COMP%], .host-info[_ngcontent-%COMP%], .checkin-details[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:200px;color:#666;padding:20px}.spinner[_ngcontent-%COMP%]{width:32px;height:32px;border:3px solid #f3f3f3;border-top:3px solid #008489;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:12px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:200px;color:#e74c3c;text-align:center;padding:20px}.retry-button[_ngcontent-%COMP%]{margin-top:12px;padding:8px 16px;background-color:#008489;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px}.retry-button[_ngcontent-%COMP%]:hover{background-color:#006b6f}.no-chat-selected[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:300px;padding:20px}.empty-state[_ngcontent-%COMP%]{text-align:center;color:#666;max-width:250px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:12px;color:#333;font-size:18px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.5;margin:0;font-size:14px}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff385c,#e31c5f)!important}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(-135deg,#e31c5f 100%,#ff385c 0%)!important}.btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6b7280,#4b5563)!important;background:linear-gradient(135deg,#475569,#334155)!important;background:linear-gradient(135deg,#94a3b8,#64748b)!important}.btn-secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(-135deg,#64748b 100%,#94a3b8 0%)!important}"]})};var W5=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=le({type:n,selectors:[["app-chat-placeholder"]],decls:16,vars:6,consts:[[1,"chat-placeholder-container"],[1,"placeholder-content"],[1,"placeholder-image"],[1,"message-bubbles"],[1,"bubble","bubble-1"],[1,"bubble","bubble-2"],[1,"bubble","bubble-3"],[1,"chat-icon"],["width","80","height","80","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.5 10.5H8.51M12 10.5H12.01M15.5 10.5H15.51M21 12C21 16.418 16.97 20 12 20C10.89 20 9.84 19.81 8.87 19.46L3 21L4.54 15.13C4.19 14.16 4 13.11 4 12C4 7.582 8.03 4 12 4C16.97 4 21 7.582 21 12Z","stroke","#e00050","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"placeholder-title"],[1,"placeholder-subtitle"]],template:function(t,i){t&1&&(Pe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),pn(4,"div",4)(5,"div",5)(6,"div",6),Le(),Pe(7,"div",7),$e(),Pe(8,"svg",8),pn(9,"path",9),Le()()(),lt(),Pe(10,"h3",10),m(11),Q(12,"translate"),Le(),Pe(13,"p",11),m(14),Q(15,"translate"),Le()()()),t&2&&(p(11),U(" ",de(12,2,"CHAT.PLACEHOLDER.TITLE")),p(3),$(de(15,4,"CHAT.PLACEHOLDER.SUBTITLE")))},dependencies:[wt,Xt],styles:['.chat-placeholder-container[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}.chat-placeholder-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;animation:_ngcontent-%COMP%_rotate 20s linear infinite}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.placeholder-content[_ngcontent-%COMP%]{text-align:center;padding:3rem;max-width:400px;position:relative;z-index:2;border-radius:20px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.placeholder-image[_ngcontent-%COMP%]{position:relative;margin-bottom:2rem;display:flex;align-items:center;justify-content:center;height:120px}.chat-icon[_ngcontent-%COMP%]{position:relative;z-index:2;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.message-bubbles[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.bubble[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background:linear-gradient(45deg,#e00050,#ff385c);animation:_ngcontent-%COMP%_bubble 2s ease-in-out infinite}.bubble-1[_ngcontent-%COMP%]{width:12px;height:12px;top:-50px;left:-30px;animation-delay:0s}.bubble-2[_ngcontent-%COMP%]{width:8px;height:8px;top:-20px;right:-50px;animation-delay:.5s}.bubble-3[_ngcontent-%COMP%]{width:6px;height:6px;bottom:-30px;left:-40px;animation-delay:1s}@keyframes _ngcontent-%COMP%_bubble{0%,to{transform:scale(1);opacity:.7}50%{transform:scale(1.2);opacity:1}}.placeholder-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#2c3e50;margin-bottom:.8rem;background:linear-gradient(45deg,#ff385c,#e00050);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.placeholder-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#7f8c8d;margin:0;line-height:1.6;font-weight:400}@media (max-width: 768px){.chat-placeholder-container[_ngcontent-%COMP%]{height:60vh;padding:1rem}.placeholder-content[_ngcontent-%COMP%]{padding:2rem 1.5rem}.placeholder-title[_ngcontent-%COMP%]{font-size:1.5rem}.placeholder-subtitle[_ngcontent-%COMP%]{font-size:1rem}.placeholder-image[_ngcontent-%COMP%]{height:100px;margin-bottom:1.5rem}}']})};var G5=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=le({type:n,selectors:[["app-chat-loading"]],decls:13,vars:0,consts:[[1,"chat-loading-container"],[1,"loading-content"],[1,"spinner-container"],[1,"main-spinner"],[1,"spinner-dots"],[1,"dot","dot-1"],[1,"dot","dot-2"],[1,"dot","dot-3"],[1,"loading-text"]],template:function(t,i){t&1&&(Pe(0,"div",0)(1,"div",1)(2,"div",2),pn(3,"div",3),Pe(4,"div",4),pn(5,"div",5)(6,"div",6)(7,"div",7),Le()(),Pe(8,"div",8)(9,"h4"),m(10,"Loading conversation..."),Le(),Pe(11,"p"),m(12,"Please wait while we prepare your chat"),Le()()()())},styles:['.chat-loading-container[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}.chat-loading-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;animation:_ngcontent-%COMP%_rotateBackground 15s linear infinite}@keyframes _ngcontent-%COMP%_rotateBackground{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-content[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:2;padding:3rem 2rem;border-radius:20px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);max-width:400px;width:90%}.spinner-container[_ngcontent-%COMP%]{position:relative;margin-bottom:2rem;height:80px;display:flex;align-items:center;justify-content:center}.main-spinner[_ngcontent-%COMP%]{width:60px;height:60px;border:4px solid #ff385c;border-top:4px solid #e00050;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;position:relative;z-index:2}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.spinner-dots[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.dot[_ngcontent-%COMP%]{position:absolute;width:8px;height:8px;background:linear-gradient(45deg,#ff385c,#e00050);border-radius:50%;animation:_ngcontent-%COMP%_orbit 2s linear infinite}.dot-1[_ngcontent-%COMP%]{animation-delay:0s}.dot-2[_ngcontent-%COMP%]{animation-delay:.66s}.dot-3[_ngcontent-%COMP%]{animation-delay:1.33s}@keyframes _ngcontent-%COMP%_orbit{0%{transform:rotate(0) translate(40px) rotate(0)}to{transform:rotate(360deg) translate(40px) rotate(-360deg)}}.loading-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#333;font-size:1.4rem;font-weight:600;margin-bottom:.5rem;background:linear-gradient(45deg,#ff385c,#e00050);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.loading-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:.95rem;margin-bottom:2rem}.skeleton-preview[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center;flex-wrap:wrap}.skeleton-box[_ngcontent-%COMP%]{height:60px;border-radius:8px;background:linear-gradient(90deg,#ff385c 25%,#e00050,#ff385c 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite;position:relative;overflow:hidden}.skeleton-chat[_ngcontent-%COMP%]{width:180px}.skeleton-reservation[_ngcontent-%COMP%]{width:120px}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.skeleton-box[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:20px;height:20px;border-radius:4px;animation:_ngcontent-%COMP%_pulse 1s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:.3;transform:translate(-50%,-50%) scale(1)}50%{opacity:.6;transform:translate(-50%,-50%) scale(1.1)}}@media (max-width: 768px){.loading-content[_ngcontent-%COMP%]{padding:2rem 1.5rem}.loading-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem}.skeleton-preview[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.skeleton-chat[_ngcontent-%COMP%], .skeleton-reservation[_ngcontent-%COMP%]{width:200px}}']})};function _se(n,e){n&1&&(l(0,"div",6),k(1,"app-chat-loading"),d())}function yse(n,e){n&1&&(l(0,"div",6),k(1,"app-chat-placeholder"),d())}function xse(n,e){if(n&1&&(zt(0),l(1,"div",7),k(2,"app-chat-box",8),d(),l(3,"div",2),k(4,"app-reservation-box",9),d(),At()),n&2){let t=C();p(),_("ngClass","col-md-6"),p(),_("selectedChatSession",t.selectedChatSession)("initialMessages",t.initialMessages),p(2),_("selectedChatSession",t.selectedChatSession)("ReservationWithProperty",t.ReservationWithProperty)}}var Up=class n{constructor(e,t,i,r){this.signalRService=e;this.messageService=t;this.authService=i;this.cdr=r}selectedChatSession=null;initialMessages=[];ReservationWithProperty=null;isLoadingChat=!1;currentOpenChatId;isHost=!1;hasLangChanged=!1;currentUserId=null;ngOnInit(){this.startSignalRConnection(),this.currentUserId=this.authService.userId}ngOnDestroy(){this.signalRService.destroy()}async startSignalRConnection(){try{await this.signalRService.startConnection()}catch(e){console.error("Failed to start SignalR connection:",e)}}onChatSessionSelected(e){if(this.currentOpenChatId==e.id&&!this.hasLangChanged)return;this.currentOpenChatId=e.id,e.hostId===this.currentUserId?this.isHost=!0:this.isHost=!1,console.log("isHost",this.isHost),this.isLoadingChat=!0,this.initialMessages=[],this.ReservationWithProperty=null;let t={propertyId:e.propertyId.toString(),message:"Hello, I want to inquire about this property."};console.log(t);let i=performance.now();this.isHost?this.messageService.getSessionForHost(e.id).subscribe({next:r=>{this.hasLangChanged=!1,r.data?(this.selectedChatSession=r.data.chatSession,this.initialMessages=r.data.messages||[],this.ReservationWithProperty=r.data,setTimeout(()=>{this.isLoadingChat=!1,this.cdr.detectChanges()},200)):(this.isLoadingChat=!1,console.error("No data received from server"))},error:r=>{console.error("Error loading host conversation:",r),this.isLoadingChat=!1,this.selectedChatSession=null}}):this.messageService.getSessionForHost(e.id).subscribe({next:r=>{if(this.hasLangChanged=!1,console.log("reserveRequest",t),console.log("res",r.data),r.data){let o=performance.now();this.selectedChatSession=r.data.chatSession,this.initialMessages=r.data.messages||[],this.ReservationWithProperty=r.data,setTimeout(()=>{this.isLoadingChat=!1,this.cdr.detectChanges()},200)}else this.isLoadingChat=!1,console.error("No data received from server")},error:r=>{console.error("Error loading conversation:",r),this.isLoadingChat=!1,this.selectedChatSession=null}})}get hasChatSelected(){return this.selectedChatSession!==null}get showPlaceholder(){return!this.isLoadingChat&&!this.hasChatSelected}onLangChange(){this.hasLangChanged=!0,this.selectedChatSession&&this.onChatSessionSelected(this.selectedChatSession)}static \u0275fac=function(t){return new(t||n)(V(gl),V(oo),V(dt),V(Ot))};static \u0275cmp=le({type:n,selectors:[["app-messages"]],decls:7,vars:3,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-3","p-0"],[3,"chatSessionSelected","langChange"],["class","col-md-9 p-0",4,"ngIf"],[4,"ngIf"],[1,"col-md-9","p-0"],[1,"p-0",3,"ngClass"],[3,"selectedChatSession","initialMessages"],[3,"selectedChatSession","ReservationWithProperty"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-messages-box",3),T("chatSessionSelected",function(o){return i.onChatSessionSelected(o)})("langChange",function(){return i.onLangChange()}),d()(),j(4,_se,2,0,"div",4)(5,yse,2,0,"div",4)(6,xse,5,5,"ng-container",5),d()()),t&2&&(p(4),_("ngIf",i.isLoadingChat),p(),_("ngIf",!i.hasChatSelected),p(),_("ngIf",i.hasChatSelected))},dependencies:[H5,U5,$5,W5,G5,he,Bt,Ce],encapsulation:2})};var Y5=class n{constructor(e){this.http=e}apiUrl=`${Ke.baseUrl}/Booking`;getBookingsByPropertyId(e){return this.http.get(`${this.apiUrl}/PropertyBooking/${e}`).pipe(Ne(t=>!t.isSuccess||!t.data?[]:t.data),In(t=>(console.error("API Error:",t),t.status===404?qe([]):gr(()=>new Error(t.error?.message||t.message||"Failed to load property bookings. Please try again later.")))))}static \u0275fac=function(t){return new(t||n)(De(Ct))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};function Mse(n,e){n&1&&(l(0,"div",7)(1,"div",8),k(2,"div",9),d(),l(3,"p",10),m(4,"Loading property bookings..."),d()())}function wse(n,e){if(n&1){let t=X();l(0,"div",11)(1,"div",12),k(2,"i",13),l(3,"h3",14),m(4,"Something went wrong"),d(),l(5,"p",15),m(6),d(),l(7,"button",16),T("click",function(){z(t);let r=C();return A(r.refreshBookings())}),k(8,"i",17),m(9," Try again "),d()()()}if(n&2){let t=C();p(6),$(t.error)}}function Sse(n,e){if(n&1){let t=X();l(0,"div",21)(1,"div",22),k(2,"i",23),d(),l(3,"h3",24),m(4,"No bookings yet"),d(),l(5,"p",25),m(6,"Your property hasn't received any reservations yet. Keep your listing active and competitive to attract guests!"),d(),l(7,"button",26),T("click",function(){z(t);let r=C(2);return A(r.navigateToManageProperty())}),m(8,` Manage Property
`),d()()}}function Pse(n,e){if(n&1&&(l(0,"div",81)(1,"span",82),m(2),Q(3,"number"),d()()),n&2){let t=C().$implicit,i=C(3);p(2),U(" $",Vt(3,1,t.totalPrice/i.getNightCount(t.checkInDate,t.checkOutDate),"1.0-0")," per night ")}}function kse(n,e){n&1&&(l(0,"button",83),k(1,"i",84),m(2," Contact Guest "),d())}function Ose(n,e){if(n&1&&(l(0,"div",29)(1,"div",30)(2,"div",31),m(3),d(),l(4,"div",32),k(5,"i"),l(6,"span"),m(7),d()()(),l(8,"div",33)(9,"div",34),k(10,"div",35),l(11,"div",36),k(12,"i",37),l(13,"span",38),m(14),d()()()(),l(15,"div",39)(16,"div",40)(17,"h3",41),m(18),d(),l(19,"p",42),k(20,"i",43),m(21),d()(),l(22,"div",44)(23,"h4",45),k(24,"i",46),m(25," Guest Information "),d(),l(26,"div",47)(27,"div",48)(28,"div",49),k(29,"i",50),d(),l(30,"div",51)(31,"span",52),m(32,"Guest Name"),d(),l(33,"span",53),m(34),d()()(),l(35,"div",48)(36,"div",49),k(37,"i",54),d(),l(38,"div",51)(39,"span",52),m(40,"Phone"),d(),l(41,"span",53),m(42),d()()(),l(43,"div",48)(44,"div",49),k(45,"i",55),d(),l(46,"div",51)(47,"span",52),m(48,"Country"),d(),l(49,"span",53),m(50),d()()()()(),l(51,"div",56)(52,"div",57)(53,"div",58)(54,"span",59),m(55,"Check-in"),d(),l(56,"span",60),m(57),d()(),l(58,"div",61),k(59,"i",62),d(),l(60,"div",58)(61,"span",59),m(62,"Check-out"),d(),l(63,"span",60),m(64),d()()(),l(65,"div",63)(66,"div",64)(67,"div",65),k(68,"i",66),d(),l(69,"div",67)(70,"span",68),m(71,"Guests"),d(),l(72,"span",69),m(73),d()()(),l(74,"div",64)(75,"div",65),k(76,"i",70),d(),l(77,"div",67)(78,"span",68),m(79,"Nights"),d(),l(80,"span",69),m(81),d()()(),l(82,"div",64)(83,"div",65),k(84,"i",71),d(),l(85,"div",67)(86,"span",68),m(87,"Booking ID"),d(),l(88,"span",69),m(89),d()()()()(),l(90,"div",72)(91,"div",73)(92,"div",74)(93,"div",75)(94,"span",76),m(95,"Total Revenue"),d(),l(96,"span",77),m(97),Q(98,"number"),d()(),j(99,Pse,4,4,"div",78),d()(),l(100,"div",79),j(101,kse,3,0,"button",80),d()()()()),n&2){let t=e.$implicit,i=C(3);p(3),U(" ",i.getBookingTypeLabel(t)," "),p(),_("ngClass",i.getBookingStatusClass(t.bookingStatus)),p(),cn(i.getBookingStatusIcon(t.bookingStatus)),p(2),$(t.bookingStatus),p(7),$(t.city),p(4),$(t.propertyTitle),p(3),Nt(" ",t.city,", ",t.country," "),p(13),$(i.getGuestFullName(t)),p(8),$(t.phoneNumber),p(8),$(i.getGuestCountry(t)),p(7),$(i.formatDateWithYear(t.checkInDate)),p(7),$(i.formatDateWithYear(t.checkOutDate)),p(9),$(t.numberOfGuests),p(8),$(i.getNightCount(t.checkInDate,t.checkOutDate)),p(8),U("#",t.id.toString().slice(-6)),p(8),U("$",Vt(98,20,t.totalPrice,"1.0-0")),p(2),_("ngIf",i.getNightCount(t.checkInDate,t.checkOutDate)>0),p(2),_("ngIf",i.isUpcomingBooking(t.checkInDate)&&t.bookingStatus.toLowerCase()==="confirmed")}}function Dse(n,e){if(n&1&&(l(0,"div",27),j(1,Ose,102,23,"div",28),d()),n&2){let t=C(2);p(),_("ngForOf",t.bookings)("ngForTrackBy",t.trackByBookingId)}}function Ese(n,e){if(n&1&&(l(0,"div",18),j(1,Sse,9,0,"div",19)(2,Dse,2,2,"div",20),d()),n&2){let t=C();p(),_("ngIf",t.bookings.length===0),p(),_("ngIf",t.bookings.length>0)}}var q5=class n{constructor(e,t,i,r){this.propertyBookingService=e;this.datePipe=t;this.route=i;this.router=r}propertyId=0;bookings=[];isLoading=!0;error=null;currentDate=new Date;ngOnInit(){this.route.params.subscribe(e=>{let t=e.propertyId;t?(this.propertyId=+t,this.loadPropertyBookings()):(this.error="Property ID not found in route",this.isLoading=!1)})}loadPropertyBookings(){if(!this.propertyId||this.propertyId<=0){this.error="Invalid property ID",this.isLoading=!1;return}this.isLoading=!0,this.error=null,this.propertyBookingService.getBookingsByPropertyId(this.propertyId).subscribe({next:e=>{this.bookings=this.sortBookings(e),this.isLoading=!1},error:e=>{this.error=e.message,this.isLoading=!1,console.error("Error loading property bookings:",e)}})}sortBookings(e){return e.sort((t,i)=>new Date(i.checkInDate).getTime()-new Date(t.checkInDate).getTime())}formatDate(e){try{let t=new Date(e);return this.datePipe.transform(t,"MMM d, yyyy")||e}catch{return e}}formatShortDate(e){try{let t=new Date(e);return this.datePipe.transform(t,"MMM d")||e}catch{return e}}formatDateWithYear(e){try{let t=new Date(e);return this.datePipe.transform(t,"MMM d, yyyy")||e}catch{return e}}formatShortDateWithYear(e){try{let t=new Date(e);return this.datePipe.transform(t,"MMM d, yy")||e}catch{return e}}getBookingStatusClass(e){return{completed:"status-completed",confirmed:"status-confirmed",pending:"status-pending",cancelled:"status-cancelled"}[e.toLowerCase()]||"status-default"}getBookingStatusIcon(e){return{completed:"bi-check-circle-fill",confirmed:"bi-calendar-check-fill",pending:"bi-clock-fill",cancelled:"bi-x-circle-fill"}[e.toLowerCase()]||"bi-circle-fill"}isUpcomingBooking(e){try{return new Date(e)>this.currentDate}catch{return!1}}isPastBooking(e){try{return new Date(e)<this.currentDate}catch{return!1}}getBookingTypeLabel(e){return this.isUpcomingBooking(e.checkInDate)?"Upcoming":this.isPastBooking(e.checkOutDate)?"Past":"Current"}getNightCount(e,t){try{let i=new Date(e),o=new Date(t).getTime()-i.getTime();return Math.ceil(o/(1e3*3600*24))}catch{return 0}}refreshBookings(){this.loadPropertyBookings()}trackByBookingId(e,t){return t.id}getPricePerNight(e,t,i){let r=this.getNightCount(t,i);return r>0?e/r:0}getGuestFullName(e){let t=e.firstName||"",i=e.lastName||"";return`${t} ${i}`.trim()||"Guest"}formatPhoneNumber(e){return e||"Not provided"}getGuestCountry(e){return e.userCountry||"Not specified"}navigateToManageProperty(){console.log("Current propertyId:",this.propertyId),console.log("Route params:",this.route.snapshot.params);let e=this.propertyId;if(!e||e<=0){let t=this.route.snapshot.params.propertyId;t&&(e=+t,console.log("Using propertyId from route:",e))}e&&e>0?(console.log("Navigating to /updatelist/"+e.toString()),this.router.navigate(["/updatelist",e.toString()])):(console.error("Invalid propertyId for navigation:",e),console.error("Available route params:",this.route.snapshot.params),this.router.navigate(["/updatelist"]))}static \u0275fac=function(t){return new(t||n)(V(Y5),V(mi),V(qn),V(nt))};static \u0275cmp=le({type:n,selectors:[["app-property-bookings"]],features:[Vn([mi])],decls:10,vars:3,consts:[[1,"bookings-container"],[1,"bookings-header"],[1,"page-title"],[1,"page-subtitle"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","bookings-content",4,"ngIf"],[1,"loading-state"],[1,"loading-spinner"],[1,"spinner"],[1,"loading-text"],[1,"error-state"],[1,"error-card"],[1,"bi","bi-exclamation-triangle","error-icon"],[1,"error-title"],[1,"error-message"],[1,"btn-retry",3,"click"],[1,"bi","bi-arrow-clockwise"],[1,"bookings-content"],["class","empty-state",4,"ngIf"],["class","bookings-grid",4,"ngIf"],[1,"empty-state"],[1,"empty-illustration"],[1,"bi","bi-calendar-x"],[1,"empty-title"],[1,"empty-message"],[1,"btn-start-searching",3,"click"],[1,"bookings-grid"],["class","booking-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"booking-card"],[1,"booking-header"],[1,"booking-type"],[1,"booking-status",3,"ngClass"],[1,"property-image"],[1,"image-placeholder"],[1,"image-gradient"],[1,"image-content"],[1,"bi","bi-building"],[1,"image-text"],[1,"booking-details"],[1,"property-info"],[1,"property-title"],[1,"property-location"],[1,"bi","bi-geo-alt-fill"],[1,"guest-info-section"],[1,"guest-info-title"],[1,"bi","bi-person-fill"],[1,"guest-info-grid"],[1,"guest-info-card"],[1,"guest-info-icon"],[1,"bi","bi-person-badge"],[1,"guest-info-content"],[1,"guest-info-label"],[1,"guest-info-value"],[1,"bi","bi-telephone"],[1,"bi","bi-flag"],[1,"stay-details"],[1,"date-range"],[1,"date-item"],[1,"date-label"],[1,"date-value"],[1,"date-separator"],[1,"bi","bi-arrow-right"],[1,"booking-meta-grid"],[1,"meta-card"],[1,"meta-icon"],[1,"bi","bi-people-fill"],[1,"meta-content"],[1,"meta-label"],[1,"meta-value"],[1,"bi","bi-moon-fill"],[1,"bi","bi-hash"],[1,"booking-footer"],[1,"price-section"],[1,"price-breakdown"],[1,"price-item"],[1,"price-label"],[1,"price-value"],["class","price-per-night",4,"ngIf"],[1,"booking-actions"],["class","btn-primary","type","button",4,"ngIf"],[1,"price-per-night"],[1,"price-per-night-text"],["type","button",1,"btn-primary"],[1,"bi","bi-chat-dots"]],template:function(t,i){t&1&&(k(0,"app-hostheader"),l(1,"div",0)(2,"div",1)(3,"h1",2),m(4,"Property Reservations"),d(),l(5,"p",3),m(6,"Manage your property bookings and guest information"),d()(),j(7,Mse,5,0,"div",4)(8,wse,10,1,"div",5)(9,Ese,3,2,"div",6),d()),t&2&&(p(7),_("ngIf",i.isLoading),p(),_("ngIf",i.error&&!i.isLoading),p(),_("ngIf",!i.isLoading&&!i.error))},dependencies:[he,Bt,Xe,Ce,Ni,pl,sa],styles:[".bookings-container[_ngcontent-%COMP%]{max-width:1120px;margin:1px auto 0;padding:24px 20px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:var(--bg-color);transition:background-color .3s ease}.bookings-header[_ngcontent-%COMP%]{margin-bottom:32px}.page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:var(--primary-text-color);margin:0 0 8px;letter-spacing:-.02em;transition:color .3s ease}.page-subtitle[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-size:16px;margin:0;font-weight:400;transition:color .3s ease}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 20px}.loading-spinner[_ngcontent-%COMP%]{margin-bottom:16px}.spinner[_ngcontent-%COMP%]{width:32px;height:32px;border:3px solid var(--light-grey-bg);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-size:16px;margin:0;transition:color .3s ease}.error-state[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:40px 20px}.error-card[_ngcontent-%COMP%]{text-align:center;max-width:400px;padding:40px 24px;border-radius:12px;border:1px solid var(--border-color);background:var(--bg-color);transition:all .3s ease}.error-icon[_ngcontent-%COMP%]{font-size:48px;color:var(--airbnb-red);margin-bottom:16px}.error-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--primary-text-color);margin:0 0 8px;transition:color .3s ease}.error-message[_ngcontent-%COMP%]{color:var(--secondary-text-color);margin:0 0 24px;line-height:1.4;transition:color .3s ease}.btn-retry[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;background:var(--airbnb-red);color:#fff;border:none;padding:12px 24px;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:80px 20px}.empty-illustration[_ngcontent-%COMP%]{margin-bottom:24px}.empty-illustration[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:64px;color:var(--airbnb-red);opacity:.7}.empty-title[_ngcontent-%COMP%]{font-size:22px;font-weight:600;color:var(--primary-text-color);margin:0 0 8px;transition:color .3s ease}.empty-message[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-size:16px;max-width:400px;margin:0 auto 32px;transition:color .3s ease}.btn-start-searching[_ngcontent-%COMP%]{display:inline-block;background:var(--airbnb-red);color:#fff;text-decoration:none;padding:14px 32px;border-radius:8px;font-weight:600;transition:all .2s ease}.bookings-grid[_ngcontent-%COMP%]{display:grid;gap:24px}.booking-card[_ngcontent-%COMP%]{background:var(--bg-color);border:1px solid var(--border-color);border-radius:12px;overflow:hidden;transition:all .2s ease;box-shadow:0 2px 8px var(--shadow-color)}.booking-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px 0}.booking-type[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--secondary-text-color);text-transform:uppercase;letter-spacing:.5px;transition:color .3s ease}.booking-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:6px 12px;border-radius:20px;font-size:14px;font-weight:500}.status-completed[_ngcontent-%COMP%]{background:#0f7b0f26;color:#22c55e;border:1px solid rgba(15,123,15,.3)}.status-confirmed[_ngcontent-%COMP%]{background:#0066cc26;color:#3b82f6;border:1px solid rgba(0,102,204,.3)}.status-pending[_ngcontent-%COMP%]{background:#f57c0026;color:#f59e0b;border:1px solid rgba(245,124,0,.3)}.status-cancelled[_ngcontent-%COMP%]{background:#d9302526;color:#ef4444;border:1px solid rgba(217,48,37,.3)}.status-default[_ngcontent-%COMP%]{background:var(--light-grey-bg);color:var(--secondary-text-color);border:1px solid var(--border-color);transition:all .3s ease}.property-image[_ngcontent-%COMP%]{margin:16px 20px 0;height:200px;border-radius:8px;overflow:hidden;position:relative}.image-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(135deg,var(--airbnb-red) 0%,var(--airbnb-dark-red) 50%,#d1195b 100%);position:relative;overflow:hidden}.image-gradient[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(45deg,#ffffff1a,#ffffff0d,#0000001a)}.image-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:#ffffffe6}.image-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;margin-bottom:8px;display:block}.image-text[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-transform:uppercase;letter-spacing:1px}.booking-details[_ngcontent-%COMP%]{padding:20px}.property-info[_ngcontent-%COMP%]{margin-bottom:20px}.property-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--primary-text-color);margin:0 0 4px;line-height:1.3;transition:color .3s ease}.property-location[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;color:var(--secondary-text-color);font-size:14px;margin:0;transition:color .3s ease}.property-location[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;color:var(--airbnb-red)}.guest-info-section[_ngcontent-%COMP%]{margin-bottom:20px;padding:16px;background:var(--light-grey-bg);border-radius:10px;border-left:4px solid var(--airbnb-red);transition:background-color .3s ease}.guest-info-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:16px;font-weight:600;color:var(--primary-text-color);margin:0 0 16px;transition:color .3s ease}.guest-info-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--airbnb-red)}.guest-info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}.guest-info-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:var(--bg-color);border-radius:8px;border:1px solid var(--border-color);transition:all .2s ease}.guest-info-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--airbnb-red) 0%,var(--airbnb-dark-red) 100%);color:#fff;width:32px;height:32px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:14px;flex-shrink:0;box-shadow:0 2px 4px #ff385c4d}.guest-info-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px;flex:1}.guest-info-label[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text-color);font-weight:500;text-transform:uppercase;letter-spacing:.5px;transition:color .3s ease}.guest-info-value[_ngcontent-%COMP%]{font-size:14px;color:var(--primary-text-color);font-weight:600;transition:color .3s ease}.stay-details[_ngcontent-%COMP%]{margin-bottom:20px}.date-range[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:20px;padding:16px;background:var(--light-grey-bg);border-radius:8px;transition:background-color .3s ease}.date-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;flex:1}.date-label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--secondary-text-color);text-transform:uppercase;letter-spacing:.5px;transition:color .3s ease}.date-value[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--primary-text-color);transition:color .3s ease}.date-separator[_ngcontent-%COMP%]{color:var(--secondary-text-color);padding:0 8px;transition:color .3s ease}.booking-meta-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}.meta-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:14px;background:var(--active);border-radius:10px;border:1px solid var(--border-color);box-shadow:0 2px 4px var(--shadow-color);transition:all .2s ease}.meta-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--airbnb-red) 0%,var(--airbnb-dark-red) 100%);color:#fff;width:28px;height:28px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:12px;flex-shrink:0;box-shadow:0 2px 4px #ff385c4d}.meta-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.meta-label[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text-color);font-weight:500;text-transform:uppercase;letter-spacing:.5px;transition:color .3s ease}.meta-value[_ngcontent-%COMP%]{font-size:14px;color:var(--primary-text-color);font-weight:600;transition:color .3s ease}.booking-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;padding-top:20px;border-top:1px solid var(--border-color);transition:border-color .3s ease}.price-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.price-breakdown[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.price-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.price-label[_ngcontent-%COMP%]{font-size:14px;color:var(--secondary-text-color);transition:color .3s ease}.price-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--primary-text-color);transition:color .3s ease}.price-per-night[_ngcontent-%COMP%]{margin-top:4px}.price-per-night-text[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text-color);background:var(--light-grey-bg);padding:4px 8px;border-radius:4px;transition:all .3s ease}.booking-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 18px;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;text-decoration:none;border:none}.btn-primary[_ngcontent-%COMP%]{background:var(--airbnb-red);color:#fff}.btn-secondary[_ngcontent-%COMP%]{background:transparent;color:var(--primary-text-color);border:1px solid var(--primary-text-color);transition:all .2s ease}@media (max-width: 768px){.bookings-container[_ngcontent-%COMP%]{margin-top:60px;padding:16px 12px}.page-title[_ngcontent-%COMP%]{font-size:1.75rem}.booking-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px;padding:16px 16px 0}.property-image[_ngcontent-%COMP%]{margin:16px 16px 0;height:180px}.booking-details[_ngcontent-%COMP%]{padding:16px}.guest-info-section[_ngcontent-%COMP%]{padding:12px}.guest-info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:10px}.guest-info-card[_ngcontent-%COMP%]{padding:10px}.guest-info-icon[_ngcontent-%COMP%]{width:28px;height:28px;font-size:12px}.date-range[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.date-item[_ngcontent-%COMP%]{align-items:center;text-align:center}.date-separator[_ngcontent-%COMP%]{display:none}.booking-meta-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:12px}.booking-footer[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:16px}.booking-actions[_ngcontent-%COMP%]{justify-content:space-between}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{flex:1;text-align:center;justify-content:center}}@media (max-width: 480px){.bookings-container[_ngcontent-%COMP%]{padding:12px 8px}.booking-actions[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.booking-meta-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:10px}.meta-card[_ngcontent-%COMP%]{padding:12px}.meta-icon[_ngcontent-%COMP%]{width:26px;height:26px;font-size:11px}.guest-info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var Ise=Math.pow(10,8)*24*60*60*1e3,hUe=-Ise,Z5=6048e5,lN=864e5;var Tse=3600;var cN=Tse*24,gUe=cN*7,Lse=cN*365.2425,zse=Lse/12,vUe=zse*3,QM=Symbol.for("constructDateFrom");function Ji(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&QM in n?n[QM](e):n instanceof Date?new n.constructor(e):new Date(e)}function wn(n,e){return Ji(e||n,n)}function $p(n,e,t){let i=wn(n,t?.in);return isNaN(e)?Ji(t?.in||n,NaN):(e&&i.setDate(i.getDate()+e),i)}function Wp(n,e,t){let i=wn(n,t?.in);if(isNaN(e))return Ji(t?.in||n,NaN);if(!e)return i;let r=i.getDate(),o=Ji(t?.in||n,i.getTime());o.setMonth(i.getMonth()+e+1,0);let a=o.getDate();return r>=a?o:(i.setFullYear(o.getFullYear(),o.getMonth(),r),i)}var Ase={};function vl(){return Ase}function ws(n,e){let t=vl(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,r=wn(n,e?.in),o=r.getDay(),a=(o<i?7:0)+o-i;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}function f0(n,e){return ws(n,Ve(ie({},e),{weekStartsOn:1}))}function X5(n,e){let t=wn(n,e?.in),i=t.getFullYear(),r=Ji(t,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);let o=f0(r),a=Ji(t,0);a.setFullYear(i,0,4),a.setHours(0,0,0,0);let c=f0(a);return t.getTime()>=o.getTime()?i+1:t.getTime()>=c.getTime()?i:i-1}function JM(n){let e=wn(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function B1(n,...e){let t=Ji.bind(null,n||e.find(i=>typeof i=="object"));return e.map(t)}function uc(n,e){let t=wn(n,e?.in);return t.setHours(0,0,0,0),t}function dN(n,e,t){let[i,r]=B1(t?.in,n,e),o=uc(i),a=uc(r),c=+o-JM(o),u=+a-JM(a);return Math.round((c-u)/lN)}function uN(n,e){let t=X5(n,e),i=Ji(e?.in||n,0);return i.setFullYear(t,0,4),i.setHours(0,0,0,0),f0(i)}function Gp(n,e,t){let[i,r]=B1(t?.in,n,e);return+uc(i)==+uc(r)}function pN(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function fN(n){return!(!pN(n)&&typeof n!="number"||isNaN(+wn(n)))}function mN(n,e){let t=wn(n,e?.in),i=t.getMonth();return t.setFullYear(t.getFullYear(),i+1,0),t.setHours(23,59,59,999),t}function hN(n,e){let[t,i]=B1(n,e.start,e.end);return{start:t,end:i}}function gN(n,e){let{start:t,end:i}=hN(e?.in,n),r=+t>+i,o=r?+t:+i,a=r?i:t;a.setHours(0,0,0,0);let c=e?.step??1;if(!c)return[];c<0&&(c=-c,r=!r);let u=[];for(;+a<=o;)u.push(Ji(t,a)),a.setDate(a.getDate()+c),a.setHours(0,0,0,0);return r?u.reverse():u}function vN(n,e){let t=wn(n,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function bN(n,e){let t=wn(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function _N(n,e){let t=vl(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,r=wn(n,e?.in),o=r.getDay(),a=(o<i?-7:0)+6-(o-i);return r.setDate(r.getDate()+a),r.setHours(23,59,59,999),r}var Nse={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yN=(n,e,t)=>{let i,r=Nse[n];return typeof r=="string"?i=r:e===1?i=r.one:i=r.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+i:i+" ago":i};function K5(n){return(e={})=>{let t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}var Rse={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Fse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Vse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xN={date:K5({formats:Rse,defaultWidth:"full"}),time:K5({formats:Fse,defaultWidth:"full"}),dateTime:K5({formats:Vse,defaultWidth:"full"})};var Bse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},CN=(n,e,t,i)=>Bse[n];function V4(n){return(e,t)=>{let i=t?.context?String(t.context):"standalone",r;if(i==="formatting"&&n.formattingValues){let a=n.defaultFormattingWidth||n.defaultWidth,c=t?.width?String(t.width):a;r=n.formattingValues[c]||n.formattingValues[a]}else{let a=n.defaultWidth,c=t?.width?String(t.width):n.defaultWidth;r=n.values[c]||n.values[a]}let o=n.argumentCallback?n.argumentCallback(e):e;return r[o]}}var jse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Hse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Use={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$se={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Wse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Gse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Yse=(n,e)=>{let t=Number(n),i=t%100;if(i>20||i<10)switch(i%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},MN={ordinalNumber:Yse,era:V4({values:jse,defaultWidth:"wide"}),quarter:V4({values:Hse,defaultWidth:"wide",argumentCallback:n=>n-1}),month:V4({values:Use,defaultWidth:"wide"}),day:V4({values:$se,defaultWidth:"wide"}),dayPeriod:V4({values:Wse,defaultWidth:"wide",formattingValues:Gse,defaultFormattingWidth:"wide"})};function B4(n){return(e,t={})=>{let i=t.width,r=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],o=e.match(r);if(!o)return null;let a=o[0],c=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],u=Array.isArray(c)?Zse(c,y=>y.test(a)):qse(c,y=>y.test(a)),h;h=n.valueCallback?n.valueCallback(u):u,h=t.valueCallback?t.valueCallback(h):h;let v=e.slice(a.length);return{value:h,rest:v}}}function qse(n,e){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function Zse(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function wN(n){return(e,t={})=>{let i=e.match(n.matchPattern);if(!i)return null;let r=i[0],o=e.match(n.parsePattern);if(!o)return null;let a=n.valueCallback?n.valueCallback(o[0]):o[0];a=t.valueCallback?t.valueCallback(a):a;let c=e.slice(r.length);return{value:a,rest:c}}}var Xse=/^(\d+)(th|st|nd|rd)?/i,Kse=/\d+/i,Qse={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Jse={any:[/^b/i,/^(a|c)/i]},ele={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tle={any:[/1/i,/2/i,/3/i,/4/i]},nle={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ile={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rle={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ole={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ale={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sle={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},SN={ordinalNumber:wN({matchPattern:Xse,parsePattern:Kse,valueCallback:n=>parseInt(n,10)}),era:B4({matchPatterns:Qse,defaultMatchWidth:"wide",parsePatterns:Jse,defaultParseWidth:"any"}),quarter:B4({matchPatterns:ele,defaultMatchWidth:"wide",parsePatterns:tle,defaultParseWidth:"any",valueCallback:n=>n+1}),month:B4({matchPatterns:nle,defaultMatchWidth:"wide",parsePatterns:ile,defaultParseWidth:"any"}),day:B4({matchPatterns:rle,defaultMatchWidth:"wide",parsePatterns:ole,defaultParseWidth:"any"}),dayPeriod:B4({matchPatterns:ale,defaultMatchWidth:"any",parsePatterns:sle,defaultParseWidth:"any"})};var ew={code:"en-US",formatDistance:yN,formatLong:xN,formatRelative:CN,localize:MN,match:SN,options:{weekStartsOn:0,firstWeekContainsDate:1}};function PN(n,e){let t=wn(n,e?.in);return dN(t,bN(t))+1}function kN(n,e){let t=wn(n,e?.in),i=+f0(t)-+uN(t);return Math.round(i/Z5)+1}function Q5(n,e){let t=wn(n,e?.in),i=t.getFullYear(),r=vl(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=Ji(e?.in||n,0);a.setFullYear(i+1,0,o),a.setHours(0,0,0,0);let c=ws(a,e),u=Ji(e?.in||n,0);u.setFullYear(i,0,o),u.setHours(0,0,0,0);let h=ws(u,e);return+t>=+c?i+1:+t>=+h?i:i-1}function ON(n,e){let t=vl(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,r=Q5(n,e),o=Ji(e?.in||n,0);return o.setFullYear(r,0,i),o.setHours(0,0,0,0),ws(o,e)}function DN(n,e){let t=wn(n,e?.in),i=+ws(t,e)-+ON(t,e);return Math.round(i/Z5)+1}function Wn(n,e){let t=n<0?"-":"",i=Math.abs(n).toString().padStart(e,"0");return t+i}var pc={y(n,e){let t=n.getFullYear(),i=t>0?t:1-t;return Wn(e==="yy"?i%100:i,e.length)},M(n,e){let t=n.getMonth();return e==="M"?String(t+1):Wn(t+1,2)},d(n,e){return Wn(n.getDate(),e.length)},a(n,e){let t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Wn(n.getHours()%12||12,e.length)},H(n,e){return Wn(n.getHours(),e.length)},m(n,e){return Wn(n.getMinutes(),e.length)},s(n,e){return Wn(n.getSeconds(),e.length)},S(n,e){let t=e.length,i=n.getMilliseconds(),r=Math.trunc(i*Math.pow(10,t-3));return Wn(r,e.length)}};var j4={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tw={G:function(n,e,t){let i=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(i,{width:"abbreviated"});case"GGGGG":return t.era(i,{width:"narrow"});case"GGGG":default:return t.era(i,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){let i=n.getFullYear(),r=i>0?i:1-i;return t.ordinalNumber(r,{unit:"year"})}return pc.y(n,e)},Y:function(n,e,t,i){let r=Q5(n,i),o=r>0?r:1-r;if(e==="YY"){let a=o%100;return Wn(a,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):Wn(o,e.length)},R:function(n,e){let t=X5(n);return Wn(t,e.length)},u:function(n,e){let t=n.getFullYear();return Wn(t,e.length)},Q:function(n,e,t){let i=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Wn(i,2);case"Qo":return t.ordinalNumber(i,{unit:"quarter"});case"QQQ":return t.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,e,t){let i=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Wn(i,2);case"qo":return t.ordinalNumber(i,{unit:"quarter"});case"qqq":return t.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,e,t){let i=n.getMonth();switch(e){case"M":case"MM":return pc.M(n,e);case"Mo":return t.ordinalNumber(i+1,{unit:"month"});case"MMM":return t.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(i,{width:"wide",context:"formatting"})}},L:function(n,e,t){let i=n.getMonth();switch(e){case"L":return String(i+1);case"LL":return Wn(i+1,2);case"Lo":return t.ordinalNumber(i+1,{unit:"month"});case"LLL":return t.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(i,{width:"wide",context:"standalone"})}},w:function(n,e,t,i){let r=DN(n,i);return e==="wo"?t.ordinalNumber(r,{unit:"week"}):Wn(r,e.length)},I:function(n,e,t){let i=kN(n);return e==="Io"?t.ordinalNumber(i,{unit:"week"}):Wn(i,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):pc.d(n,e)},D:function(n,e,t){let i=PN(n);return e==="Do"?t.ordinalNumber(i,{unit:"dayOfYear"}):Wn(i,e.length)},E:function(n,e,t){let i=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(i,{width:"short",context:"formatting"});case"EEEE":default:return t.day(i,{width:"wide",context:"formatting"})}},e:function(n,e,t,i){let r=n.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Wn(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(r,{width:"short",context:"formatting"});case"eeee":default:return t.day(r,{width:"wide",context:"formatting"})}},c:function(n,e,t,i){let r=n.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Wn(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(r,{width:"narrow",context:"standalone"});case"cccccc":return t.day(r,{width:"short",context:"standalone"});case"cccc":default:return t.day(r,{width:"wide",context:"standalone"})}},i:function(n,e,t){let i=n.getDay(),r=i===0?7:i;switch(e){case"i":return String(r);case"ii":return Wn(r,e.length);case"io":return t.ordinalNumber(r,{unit:"day"});case"iii":return t.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(i,{width:"short",context:"formatting"});case"iiii":default:return t.day(i,{width:"wide",context:"formatting"})}},a:function(n,e,t){let r=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(n,e,t){let i=n.getHours(),r;switch(i===12?r=j4.noon:i===0?r=j4.midnight:r=i/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(n,e,t){let i=n.getHours(),r;switch(i>=17?r=j4.evening:i>=12?r=j4.afternoon:i>=4?r=j4.morning:r=j4.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let i=n.getHours()%12;return i===0&&(i=12),t.ordinalNumber(i,{unit:"hour"})}return pc.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):pc.H(n,e)},K:function(n,e,t){let i=n.getHours()%12;return e==="Ko"?t.ordinalNumber(i,{unit:"hour"}):Wn(i,e.length)},k:function(n,e,t){let i=n.getHours();return i===0&&(i=24),e==="ko"?t.ordinalNumber(i,{unit:"hour"}):Wn(i,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):pc.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):pc.s(n,e)},S:function(n,e){return pc.S(n,e)},X:function(n,e,t){let i=n.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return IN(i);case"XXXX":case"XX":return m0(i);case"XXXXX":case"XXX":default:return m0(i,":")}},x:function(n,e,t){let i=n.getTimezoneOffset();switch(e){case"x":return IN(i);case"xxxx":case"xx":return m0(i);case"xxxxx":case"xxx":default:return m0(i,":")}},O:function(n,e,t){let i=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+EN(i,":");case"OOOO":default:return"GMT"+m0(i,":")}},z:function(n,e,t){let i=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+EN(i,":");case"zzzz":default:return"GMT"+m0(i,":")}},t:function(n,e,t){let i=Math.trunc(+n/1e3);return Wn(i,e.length)},T:function(n,e,t){return Wn(+n,e.length)}};function EN(n,e=""){let t=n>0?"-":"+",i=Math.abs(n),r=Math.trunc(i/60),o=i%60;return o===0?t+String(r):t+String(r)+e+Wn(o,2)}function IN(n,e){return n%60===0?(n>0?"-":"+")+Wn(Math.abs(n)/60,2):m0(n,e)}function m0(n,e=""){let t=n>0?"-":"+",i=Math.abs(n),r=Wn(Math.trunc(i/60),2),o=Wn(i%60,2);return t+r+e+o}var TN=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},LN=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},lle=(n,e)=>{let t=n.match(/(P+)(p+)?/)||[],i=t[1],r=t[2];if(!r)return TN(n,e);let o;switch(i){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",TN(i,e)).replace("{{time}}",LN(r,e))},zN={p:LN,P:lle};var cle=/^D+$/,dle=/^Y+$/,ule=["D","DD","YY","YYYY"];function AN(n){return cle.test(n)}function NN(n){return dle.test(n)}function RN(n,e,t){let i=ple(n,e,t);if(console.warn(i),ule.includes(n))throw new RangeError(i)}function ple(n,e,t){let i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${i} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var fle=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mle=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hle=/^'([^]*?)'?$/,gle=/''/g,vle=/[a-zA-Z]/;function So(n,e,t){let i=vl(),r=t?.locale??i.locale??ew,o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,c=wn(n,t?.in);if(!fN(c))throw new RangeError("Invalid time value");let u=e.match(mle).map(v=>{let y=v[0];if(y==="p"||y==="P"){let P=zN[y];return P(v,r.formatLong)}return v}).join("").match(fle).map(v=>{if(v==="''")return{isToken:!1,value:"'"};let y=v[0];if(y==="'")return{isToken:!1,value:ble(v)};if(tw[y])return{isToken:!0,value:v};if(y.match(vle))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});r.localize.preprocessor&&(u=r.localize.preprocessor(c,u));let h={firstWeekContainsDate:o,weekStartsOn:a,locale:r};return u.map(v=>{if(!v.isToken)return v.value;let y=v.value;(!t?.useAdditionalWeekYearTokens&&NN(y)||!t?.useAdditionalDayOfYearTokens&&AN(y))&&RN(y,e,String(n));let P=tw[y[0]];return P(c,y,r.localize,h)}).join("")}function ble(n){let e=n.match(hle);return e?e[1].replace(gle,"'"):n}function nw(n,e){return+wn(n)>+wn(e)}function H4(n,e){return+wn(n)<+wn(e)}function FN(n,e,t){let[i,r]=B1(t?.in,n,e);return i.getFullYear()===r.getFullYear()&&i.getMonth()===r.getMonth()}function iw(n,e,t){return Wp(n,-e,t)}function _le(n,e){if(n&1){let t=X();l(0,"label",24)(1,"input",25),T("change",function(){let r=z(t).$implicit,o=C();return A(o.setProperty(r.id.toString()))}),d(),k(2,"span",19),l(3,"div",26)(4,"p",27),m(5),d(),k(6,"img",28),d()()}if(n&2){let t=e.$implicit,i=C();p(),_("value",t.id)("checked",i.selectedPropertyId===t.id.toString()),p(4),$(t.title),p(),_("alt",ar(t.title))("src",i.getPropertyImage(t),et)}}function yle(n,e){if(n&1&&(l(0,"div",37),m(1),d()),n&2){let t=e.$implicit;p(),$(t)}}function xle(n,e){if(n&1&&(l(0,"div",41),m(1),d()),n&2){let t=C().$implicit;p(),U(" $",t.price," ")}}function Cle(n,e){if(n&1){let t=X();l(0,"div",38),T("click",function(){let r=z(t).$implicit,o=C(3);return A(o.selectDate(r.date))}),l(1,"div",39),m(2),d(),j(3,xle,2,1,"div",40),d()}if(n&2){let t=e.$implicit,i=C(3);Me("other-month",!t.inCurrentMonth)("disabled",t.isDisabled||t.isBooked)("booked",t.isBooked)("available",t.isAvailable)("not-available",!t.isAvailable&&t.inCurrentMonth&&!t.isDisabled)("selected",t.isSelected)("highlighted",t.isHighlighted),p(2),$(i.format(t.date,"d")),p(),_("ngIf",t.price&&!t.isDisabled)}}function Mle(n,e){if(n&1&&(l(0,"div",31)(1,"div",32)(2,"h3"),m(3),d()(),l(4,"div",33),j(5,yle,2,1,"div",34),d(),l(6,"div",35),j(7,Cle,4,16,"div",36),d()()),n&2){let t=e.$implicit,i=C(2);p(3),$(i.format(t.month,"MMMM")),p(2),_("ngForOf",i.weekDays),p(2),_("ngForOf",t.days)("ngForTrackBy",i.trackByDate)}}function wle(n,e){if(n&1&&(zt(0),l(1,"div",29),j(2,Mle,8,4,"div",30),d(),At()),n&2){let t=C();p(2),_("ngForOf",t.processedMonths)("ngForTrackBy",t.trackByMonth)}}function Sle(n,e){if(n&1&&(l(0,"div",37),m(1),d()),n&2){let t=e.$implicit;p(),$(t)}}function Ple(n,e){if(n&1&&(l(0,"div",41),m(1),d()),n&2){let t=C().$implicit;p(),U(" $",t.price," ")}}function kle(n,e){if(n&1){let t=X();l(0,"div",38),T("click",function(){let r=z(t).$implicit,o=C(2);return A(o.selectDate(r.date))}),l(1,"div",39),m(2),d(),j(3,Ple,2,1,"div",40),d()}if(n&2){let t=e.$implicit,i=C(2);Me("other-month",!t.inCurrentMonth)("disabled",t.isDisabled||t.isBooked)("booked",t.isBooked)("available",t.isAvailable)("not-available",!t.isAvailable&&t.inCurrentMonth&&!t.isDisabled)("selected",t.isSelected)("highlighted",t.isHighlighted),p(2),$(i.format(t.date,"d")),p(),_("ngIf",t.price&&!t.isDisabled)}}function Ole(n,e){if(n&1){let t=X();zt(0),l(1,"div",42)(2,"div",43)(3,"button",44),T("click",function(){z(t);let r=C();return A(r.previousMonth())}),$e(),l(4,"svg",45),k(5,"polyline",46),d()(),lt(),l(6,"h2"),m(7),d(),l(8,"button",44),T("click",function(){z(t);let r=C();return A(r.nextMonth())}),$e(),l(9,"svg",45),k(10,"polyline",47),d()()(),lt(),l(11,"div",33),j(12,Sle,2,1,"div",34),d(),l(13,"div",35),j(14,kle,4,16,"div",36),d()(),At()}if(n&2){let t=C();p(3),_("disabled",!t.canGoToPreviousMonth),p(4),$(t.format(t.currentMonth,"MMMM yyyy")),p(),_("disabled",!t.canGoToNextMonth),p(4),_("ngForOf",t.weekDays),p(2),_("ngForOf",t.processedCurrentMonth.days)("ngForTrackBy",t.trackByDate)}}var J5=class n{constructor(e,t,i,r){this.hostPropertiesService=e;this.router=t;this.authService=i;this.translate=r}settings={viewType:"year",selectedDates:[],availability:[],minNights:1,maxNights:365,selectionMode:"multiple"};dateSelected=new ye;settingsChanged=new ye;currentYear=new Date().getFullYear();currentMonth=new Date;weekDays=["S","M","T","W","T","F","S"];processedMonths=[];processedCurrentMonth=null;availabilityMap=new Map;selectedDatesSet=new Set;monthDaysCache=new Map;showViewDropdown=!1;tempViewType;showPropertyDropdown=!1;ngOnInit(){this.currentYear=this.currentMonth.getFullYear();let e=window.innerWidth;this.tempViewType=e<1024?"month":"year",this.settings.viewType=this.tempViewType,this.updateCaches(),this.processAllData(),this.hostId=this.authService.userId,this.loadHostProperties()}ngOnChanges(e){e.settings&&(this.updateCaches(),this.processAllData())}updateCaches(){this.availabilityMap.clear(),this.settings.availability.forEach(e=>{this.availabilityMap.set(So(e.date,"yyyy-MM-dd"),e)}),this.selectedDatesSet.clear(),this.settings.selectedDates.forEach(e=>{this.selectedDatesSet.add(So(e,"yyyy-MM-dd"))})}processAllData(){this.settings.viewType==="year"?this.processedMonths=this.generateProcessedYearMonths():this.processedCurrentMonth=this.generateProcessedMonth(this.currentMonth)}generateProcessedYearMonths(){let e=[],t=new Date,i=new Date(t.getFullYear(),0,1),r=new Date(t.getFullYear()+1,t.getMonth(),1),o=new Date(i);for(;o.getFullYear()<r.getFullYear()||o.getFullYear()===r.getFullYear()&&o.getMonth()<=r.getMonth();)e.push(this.generateProcessedMonth(new Date(o))),o.setMonth(o.getMonth()+1);return e}getCachedMonthDays(e){let t=localStorage.getItem(`month-${e}`);return t?JSON.parse(t):null}cacheMonthDays(e,t){localStorage.setItem(`month-${e}`,JSON.stringify(t))}generateProcessedMonth(e){let t=So(e,"yyyy-MM"),i=this.monthDaysCache.get(t);if(!i){let o=this.getCachedMonthDays(t);if(o)i=o.map(a=>({date:new Date(a.date),inCurrentMonth:a.inCurrentMonth}));else{let a=ws(vN(e)),c=_N(mN(e));i=gN({start:a,end:c}).map(u=>({date:u,inCurrentMonth:FN(u,e)})),this.cacheMonthDays(t,i.map(u=>({date:u.date.toISOString(),inCurrentMonth:u.inCurrentMonth})))}this.monthDaysCache.set(t,i)}let r=i.map(o=>{let a=So(o.date,"yyyy-MM-dd"),c=this.availabilityMap.get(a),u=uc(new Date),h=H4(o.date,u),v=!h&&(c?c.available:!0),y=this.selectedDatesSet.has(a),P=y||this.settings.selectionMode==="range"&&this.settings.selectedDates.length===2&&nw(o.date,this.settings.selectedDates[0])&&H4(o.date,this.settings.selectedDates[1]),S=c?c.price:null,M=c?.isBooked??!1;return{date:o.date,inCurrentMonth:o.inCurrentMonth,isDisabled:h,isAvailable:v,isSelected:y,isHighlighted:P,price:S,dateKey:a,isBooked:M}});return{month:e,days:r}}calculateIsHighlighted(e){if(this.settings.selectedDates.length!==2)return!1;let[t,i]=this.settings.selectedDates.sort((r,o)=>r.getTime()-o.getTime());return nw(e,t)&&H4(e,i)}get selectionMode(){return this.settings.selectionMode??"multiple"}setSelectionMode(e){this.settings.selectionMode=e,this.updateCaches(),this.processAllData(),this.settingsChanged.emit(this.settings)}selectDate(e){let t=uc(new Date);if(H4(e,t))return;let i=So(e,"yyyy-MM-dd");if(this.availabilityMap.get(i)?.isBooked)return;let o=this.settings.selectionMode??"multiple",a=[];if(o==="single")a=[e];else if(o==="range"){if(this.settings.selectedDates.length===0||this.settings.selectedDates.length===2)a=[e];else if(this.settings.selectedDates.length===1){let c=this.settings.selectedDates[0];H4(e,c)?a=[e,c]:a=[c,e]}}else if(o==="multiple"){let c=this.settings.selectedDates.findIndex(u=>Gp(u,e));c>-1?(a=[...this.settings.selectedDates],a.splice(c,1)):a=[...this.settings.selectedDates,e]}this.settings=Ve(ie({},this.settings),{selectedDates:a}),this.updateCaches(),this.processAllData(),this.dateSelected.emit(this.settings.selectedDates),this.settingsChanged.emit(this.settings)}previousMonth(){let e=new Date(new Date().getFullYear(),0,1),t=iw(this.currentMonth,1);(t.getFullYear()>e.getFullYear()||t.getFullYear()===e.getFullYear()&&t.getMonth()>=e.getMonth())&&(this.currentMonth=t,this.settings.viewType==="month"&&(this.processedCurrentMonth=this.generateProcessedMonth(this.currentMonth)))}nextMonth(){let e=new Date,t=new Date(e.getFullYear()+1,e.getMonth(),1),i=Wp(this.currentMonth,1);(i.getFullYear()<t.getFullYear()||i.getFullYear()===t.getFullYear()&&i.getMonth()<=t.getMonth())&&(this.currentMonth=i,this.settings.viewType==="month"&&(this.processedCurrentMonth=this.generateProcessedMonth(this.currentMonth)))}toggleViewType(){this.closeProperty(),this.showViewDropdown=!this.showViewDropdown}setViewType(e){this.tempViewType=e}closeViewDropdown(){this.showViewDropdown=!1}toggleProperty(){this.closeViewDropdown(),this.showPropertyDropdown=!this.showPropertyDropdown}setProperty(e){this.selectedPropertyId=e,this.closeProperty(),this.propertySelected.emit(e)}closeProperty(){this.showPropertyDropdown=!1}applyViewType(){this.settings.viewType=this.tempViewType,this.showViewDropdown=!1,this.processAllData(),this.settingsChanged.emit(this.settings)}format=So;trackByDate(e,t){return t.dateKey}trackByMonth(e,t){return So(t.month,"yyyy-MM")}get canGoToNextMonth(){let e=new Date,t=new Date(e.getFullYear()+1,e.getMonth(),1),i=Wp(this.currentMonth,1);return i.getFullYear()<t.getFullYear()||i.getFullYear()===t.getFullYear()&&i.getMonth()<=t.getMonth()}get canGoToPreviousMonth(){let e=new Date,t=new Date(new Date().getFullYear(),0,1),i=iw(this.currentMonth,1);return i.getFullYear()>t.getFullYear()||i.getFullYear()===t.getFullYear()&&i.getMonth()>=t.getMonth()}propertySelected=new ye;properties=[];isLoading=!0;error=null;hostId=null;selectedPropertyId=null;loadHostProperties(){if(!this.hostId){this.error=this.translate.instant("CALENDAR.ERRORS.USER_NOT_AUTHENTICATED"),this.isLoading=!1;return}this.isLoading=!0,this.error=null,this.hostPropertiesService.getPropertiesByHostId(this.hostId).subscribe({next:e=>{this.properties=e,this.properties.length>0&&(this.selectedPropertyId=this.properties[0].id.toString(),this.propertySelected.emit(this.selectedPropertyId)),console.log("properties",e),this.isLoading=!1},error:e=>{this.error=this.translate.instant("CALENDAR.ERRORS.FAILED_TO_LOAD_PROPERTIES"),this.isLoading=!1,console.error("Error loading properties:",e)}})}get selectedPropertyTitle(){return this.properties.find(t=>t.id.toString()===this.selectedPropertyId)?.title||this.translate.instant("CALENDAR.SELECT_PROPERTY")}getPropertyImage(e){let t=e.images?.find(i=>i.isCover&&!i.isDeleted);return t?.imageUrl?`${Ke.base}${t.imageUrl}`:"assets/images/deafult.png"}static \u0275fac=function(t){return new(t||n)(V(N1),V(nt),V(dt),V(Qi))};static \u0275cmp=le({type:n,selectors:[["app-calendar"]],inputs:{settings:"settings"},outputs:{dateSelected:"dateSelected",settingsChanged:"settingsChanged",propertySelected:"propertySelected"},features:[Gt],decls:53,vars:47,consts:[[1,"calendar-container"],[1,"calendar-header"],[1,"mode-tabs"],[1,"mode-tab",3,"click"],[1,"d-flex","items-center","gap-2"],[1,"view-selector-2"],[1,"view-btn",3,"click"],["viewBox","0 0 24 24","stroke","currentColor",1,"dropdown-icon"],["points","6,9 12,15 18,9"],[1,"view-dropdown-2"],[1,"dropdown-content"],["class","radio-option justify-content-between",4,"ngFor","ngForOf"],[1,"dropdown-actions"],[1,"close-btn",3,"click"],[1,"view-selector"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"dropdown-icon"],[1,"view-dropdown"],[1,"radio-option"],["type","radio","name","viewType","value","month",3,"change","checked"],[1,"radio-custom"],["type","radio","name","viewType","value","year",3,"change","checked"],[1,"apply-btn",3,"click"],[1,"calendar-grid"],[4,"ngIf"],[1,"radio-option","justify-content-between"],["type","radio","name","property",3,"change","value","checked"],[1,"d-flex","items-center","justify-content-between","gap-2"],[1,"mb-0"],["loading","lazy",1,"propertyavatar",3,"alt","src"],[1,"months-container"],["class","month-block",4,"ngFor","ngForOf","ngForTrackBy"],[1,"month-block"],[1,"month-header"],[1,"days-header"],["class","day-header",4,"ngFor","ngForOf"],[1,"days-grid"],["class","day-cell",3,"other-month","disabled","booked","available","not-available","selected","highlighted","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"day-header"],[1,"day-cell",3,"click"],[1,"day-number"],["class","day-price",4,"ngIf"],[1,"day-price"],[1,"single-month"],[1,"month-navigation"],[1,"nav-btn",3,"click","disabled"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["points","15,18 9,12 15,6"],["points","9,18 15,12 9,6"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),T("click",function(){return i.setSelectionMode("single")}),m(4),Q(5,"translate"),d(),l(6,"button",3),T("click",function(){return i.setSelectionMode("range")}),m(7),Q(8,"translate"),d(),l(9,"button",3),T("click",function(){return i.setSelectionMode("multiple")}),m(10),Q(11,"translate"),d()(),l(12,"div",4)(13,"div",5)(14,"button",6),T("click",function(){return i.toggleProperty()}),m(15),$e(),l(16,"svg",7),k(17,"polyline",8),d()(),lt(),l(18,"div",9)(19,"div",10),j(20,_le,7,6,"label",11),l(21,"div",12)(22,"button",13),T("click",function(){return i.closeProperty()}),m(23),Q(24,"translate"),d()()()()(),l(25,"div",14)(26,"button",6),T("click",function(){return i.toggleViewType()}),m(27),Q(28,"translate"),$e(),l(29,"svg",15),k(30,"polyline",8),d()(),lt(),l(31,"div",16)(32,"div",10)(33,"label",17)(34,"input",18),T("change",function(){return i.setViewType("month")}),d(),k(35,"span",19),m(36),Q(37,"translate"),d(),l(38,"label",17)(39,"input",20),T("change",function(){return i.setViewType("year")}),d(),k(40,"span",19),m(41),Q(42,"translate"),d(),l(43,"div",12)(44,"button",13),T("click",function(){return i.closeViewDropdown()}),m(45),Q(46,"translate"),d(),l(47,"button",21),T("click",function(){return i.applyViewType()}),m(48),Q(49,"translate"),d()()()()()()(),l(50,"div",22),j(51,wle,3,2,"ng-container",23)(52,Ole,15,6,"ng-container",23),d()()),t&2&&(p(3),Me("active",i.selectionMode==="single"),p(),U(" ",de(5,29,"CALENDAR.MODE.SINGLE")," "),p(2),Me("active",i.selectionMode==="range"),p(),U(" ",de(8,31,"CALENDAR.MODE.RANGE")," "),p(2),Me("active",i.selectionMode==="multiple"),p(),U(" ",de(11,33,"CALENDAR.MODE.MULTIPLE")," "),p(5),U(" ",i.selectedPropertyTitle," "),p(3),Me("show",i.showPropertyDropdown),p(2),_("ngForOf",i.properties),p(3),U(" ",de(24,35,"CALENDAR.ACTIONS.CLOSE")," "),p(3),Me("active",i.settings.viewType==="month"),p(),U(" ",de(28,37,"CALENDAR.ACTIONS.VIEW")," "),p(4),Me("show",i.showViewDropdown),p(3),_("checked",i.settings.viewType==="month"),p(2),U(" ",de(37,39,"CALENDAR.VIEW.MONTH")," "),p(3),_("checked",i.settings.viewType==="year"),p(2),U(" ",de(42,41,"CALENDAR.VIEW.YEAR")," "),p(4),U(" ",de(46,43,"CALENDAR.ACTIONS.CLOSE")," "),p(3),U(" ",de(49,45,"CALENDAR.ACTIONS.APPLY")," "),p(2),Me("year-view",i.settings.viewType==="year"),p(),_("ngIf",i.settings.viewType==="year"),p(),_("ngIf",i.settings.viewType==="month"&&i.processedCurrentMonth))},dependencies:[he,Xe,Ce,wt,Xt],styles:['.calendar-container[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;background:var(--bg-color);margin:0 auto;display:flex;flex-direction:column}@media (min-width: 1024px){.calendar-container[_ngcontent-%COMP%]{height:87vh!important}}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap-reverse;gap:1rem;padding:24px;background:var(--bg-color);position:sticky;top:0;z-index:100;border-bottom:1px solid var(--border-color);border-top:1px solid var(--border-color);flex-shrink:0}.year-display[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:var(--primary-text-color)}.view-selector[_ngcontent-%COMP%], .view-selector-2[_ngcontent-%COMP%]{position:relative}.view-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;background:var(--active);border:1px solid var(--border-color);border-radius:20px;cursor:pointer;font-size:14px;color:var(--primary-text-color);transition:all .2s ease;-webkit-border-radius:20px;-moz-border-radius:20px;-ms-border-radius:20px;-o-border-radius:20px}.view-btn[_ngcontent-%COMP%]:hover{border-color:var(--primary-text-color)}.dropdown-icon[_ngcontent-%COMP%]{width:16px;height:16px}.view-dropdown[_ngcontent-%COMP%]{position:absolute;top:114%;right:0;background:var(--active);border:1px solid var(--border-color);border-radius:12px;box-shadow:0 8px 32px var(--dropdown-shadow);padding:16px;min-width:200px;z-index:1000;opacity:0;visibility:hidden;transform:translateY(-8px);transition:all .2s ease;-webkit-transition:all .2s ease;-moz-transition:all .2s ease;-ms-transition:all .2s ease;-o-transition:all .2s ease}.view-dropdown.show[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.view-dropdown-2[_ngcontent-%COMP%]{position:absolute;top:114%;right:0;background:var(--active);border:1px solid var(--border-color);border-radius:12px;box-shadow:0 8px 32px var(--dropdown-shadow);padding:16px;min-width:200px;z-index:1000;opacity:0;visibility:hidden;transform:translateY(-8px);transition:all .2s ease;max-height:400px;overflow-y:scroll;scrollbar-width:thin;scrollbar-color:var(--secondary-text-color) var(--bg-color);width:max-content!important}.view-dropdown-2.show[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.propertyavatar[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;object-fit:cover;display:block}.radio-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:8px 0;cursor:pointer;font-size:14px;color:var(--secondary-text-color)}.radio-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}.radio-custom[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid var(--border-color);border-radius:50%;position:relative;transition:all .2s ease}.radio-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .radio-custom[_ngcontent-%COMP%]{border-color:var(--primary-text-color)}.radio-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .radio-custom[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:8px;height:8px;background:var(--primary-text-color);border-radius:50%}.dropdown-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:16px;padding-top:16px;border-top:1px solid var(--border-color)}.close-btn[_ngcontent-%COMP%], .apply-btn[_ngcontent-%COMP%]{flex:1;padding:8px 16px;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.close-btn[_ngcontent-%COMP%]{background:var(--bg-color);border:1px solid var(--border-color);color:var(--secondary-text-color)}.close-btn[_ngcontent-%COMP%]:hover{background:var(--hover-bg)}.apply-btn[_ngcontent-%COMP%]{background:var(--primary-text-color);border:1px solid var(--primary-text-color);color:var(--bg-color)}.apply-btn[_ngcontent-%COMP%]:hover{background:var(--selected-bg);border-color:var(--selected-bg)}.calendar-grid[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px;scroll-behavior:smooth;scrollbar-width:thin;scrollbar-color:var(--secondary-text-color) var(--bg-color)}.months-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:32px}.month-block[_ngcontent-%COMP%]{min-width:280px}.month-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.month-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--primary-text-color);margin:0}.discount-indicator[_ngcontent-%COMP%]{font-size:12px;color:var(--airbnb-red);text-decoration:underline}.single-month[_ngcontent-%COMP%]{margin:0 auto}.month-navigation[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.month-navigation[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:var(--primary-text-color);margin:0}.nav-btn[_ngcontent-%COMP%]{width:40px;height:40px;background:var(--bg-color);border:1px solid var(--border-color);border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.nav-btn[_ngcontent-%COMP%]:hover{border-color:var(--primary-text-color);background:var(--hover-bg)}.nav-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.days-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;margin-bottom:8px}.day-header[_ngcontent-%COMP%]{text-align:center;font-size:12px;font-weight:600;color:var(--secondary-text-color);padding:8px 4px}.days-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:2px}.day-cell[_ngcontent-%COMP%]{aspect-ratio:1;border:1px solid transparent;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;position:relative;background:var(--bg-color);min-height:40px}.day-number[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--primary-text-color);line-height:1}.day-price[_ngcontent-%COMP%]{font-size:10px;color:var(--secondary-text-color);margin-top:2px;line-height:1}.day-cell.other-month[_ngcontent-%COMP%]{opacity:.3}.day-cell.disabled[_ngcontent-%COMP%]{color:var(--disabled-color);cursor:not-allowed;background:var(--disabled-bg)}.day-cell.disabled[_ngcontent-%COMP%]   .day-price[_ngcontent-%COMP%]{display:none}.day-cell.available[_ngcontent-%COMP%]:hover{border-color:var(--primary-text-color);background:var(--hover-bg)}.day-cell.not-available[_ngcontent-%COMP%]{background-color:var(--not-available-bg)}.day-cell.not-available[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{text-decoration:line-through;color:var(--not-available-text)}.day-cell.selected.not-available[_ngcontent-%COMP%]:hover   .day-number[_ngcontent-%COMP%]{color:var(--selected-text)!important}.day-cell.selected[_ngcontent-%COMP%]{background:var(--selected-bg)!important;color:var(--selected-text);border-color:var(--selected-bg)}.day-cell.selected[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%], .day-cell.selected[_ngcontent-%COMP%]:hover   .day-number[_ngcontent-%COMP%]{color:var(--selected-text)}.day-cell.selected[_ngcontent-%COMP%]   .day-price[_ngcontent-%COMP%]{color:var(--secondary-text-color);opacity:.8}.day-cell.highlighted[_ngcontent-%COMP%]{background:var(--highlighted-bg);border-color:var(--border-color)}@media (max-width: 1024px){.months-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:24px}}@media (max-width: 768px){.calendar-header[_ngcontent-%COMP%], .calendar-grid[_ngcontent-%COMP%]{padding:16px}.months-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.month-block[_ngcontent-%COMP%]{min-width:unset}.year-display[_ngcontent-%COMP%]{font-size:24px}.day-cell[_ngcontent-%COMP%]{min-height:40px}.day-number[_ngcontent-%COMP%]{font-size:12px}.day-price[_ngcontent-%COMP%]{font-size:9px}}.nav-btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed;color:var(--secondary-text-color)}.nav-btn[_ngcontent-%COMP%]:disabled:hover{cursor:not-allowed;color:var(--secondary-text-color);background:var(--bg-color);border-color:var(--border-color)}.booked[_ngcontent-%COMP%]{background-color:var(--airbnb-red)!important;color:var(--selected-text)!important;cursor:not-allowed}.booked[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{color:var(--selected-text)!important}.mode-tabs[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.mode-tab[_ngcontent-%COMP%]{padding:6px 14px;border:1px solid var(--border-color);background:var(--active);color:var(--primary-text-color);border-radius:35px;cursor:pointer;font-weight:500;transition:all .2s ease-in-out;-webkit-border-radius:35px;-moz-border-radius:35px;-ms-border-radius:35px;-o-border-radius:35px}.mode-tab[_ngcontent-%COMP%]:hover{background:var(--hover-bg);border-color:var(--primary-text-color)}.mode-tab.active[_ngcontent-%COMP%]{background:var(--primary-text-color);color:var(--bg-color);border-color:var(--primary-text-color)}'],changeDetection:0})};function Dle(n,e){if(n&1){let t=X();l(0,"div",19)(1,"div",20)(2,"span",21),m(3),d(),l(4,"input",22),T("input",function(r){z(t);let o=C(3);return A(o.onPriceInputChange(+r.target.value))}),d()(),l(5,"p",23),m(6),Q(7,"translate"),d()()}if(n&2){let t=C(3);p(3),$(t.settings.pricing.currency),p(),_("value",t.selectedDatePrice),p(2),$(de(7,3,"SETTINGS.BLOCK.PRICE_NOTE"))}}function Ele(n,e){if(n&1){let t=X();l(0,"div",11)(1,"div",12)(2,"h4"),m(3),Q(4,"translate"),d()(),l(5,"div",13)(6,"button",14),T("click",function(){z(t);let r=C(2);return A(r.setBlockOption("open"))}),m(7),Q(8,"translate"),d(),l(9,"button",14),T("click",function(){z(t);let r=C(2);return A(r.setBlockOption("blocked"))}),m(10),Q(11,"translate"),d()(),j(12,Dle,8,5,"div",15),l(13,"div",16)(14,"button",17),T("click",function(){z(t);let r=C(2);return A(r.onClearSelection())}),m(15),Q(16,"translate"),d(),l(17,"button",18),T("click",function(){z(t);let r=C(2);return A(r.onSaveChanges())}),m(18),Q(19,"translate"),d()()()}if(n&2){let t=C(2);p(3),$(de(4,10,"SETTINGS.BLOCK.HEADER")),p(3),Me("active",t.selectedBlockOption==="open"),p(),U(" ",de(8,12,"SETTINGS.BLOCK.OPEN")," "),p(2),Me("active",t.selectedBlockOption==="blocked"),p(),U(" ",de(11,14,"SETTINGS.BLOCK.BLOCKED")," "),p(2),_("ngIf",t.selectedBlockOption==="open"),p(3),U(" ",de(16,16,"SETTINGS.BLOCK.CLEAR_SELECTION")," "),p(3),U(" ",de(19,18,"SETTINGS.BLOCK.SAVE_CHANGES")," ")}}function Ile(n,e){if(n&1&&(l(0,"div",6),j(1,Ele,20,20,"div",7),l(2,"div",8)(3,"div",9)(4,"h6"),m(5),Q(6,"translate"),d(),l(7,"ul",10)(8,"li")(9,"strong"),m(10),Q(11,"translate"),d(),m(12),Q(13,"translate"),d(),l(14,"li")(15,"strong"),m(16),Q(17,"translate"),d(),m(18),Q(19,"translate"),d(),l(20,"li"),m(21),Q(22,"translate"),d(),l(23,"li"),m(24),Q(25,"translate"),d()()()()()),n&2){let t=C();Me("active",t.activeTab==="pricing"),p(),_("ngIf",t.showBlockOptions),p(4),U("\u{1F4A1} ",de(6,10,"SETTINGS.HELP.TITLE")),p(5),$(de(11,12,"SETTINGS.HELP.OPEN")),p(2),U(" ",de(13,14,"SETTINGS.HELP.OPEN_DESC")," "),p(4),$(de(17,16,"SETTINGS.HELP.BLOCKED")),p(2),U(" ",de(19,18,"SETTINGS.HELP.BLOCKED_DESC")," "),p(3),$(de(22,20,"SETTINGS.HELP.SINGLE_OR_RANGE")),p(3),$(de(25,22,"SETTINGS.HELP.AFFECTS_SELECTED"))}}var e7=class n{constructor(e){this.cd=e}selectedBlockOption="open";selectedDatePrice=0;priceChanged=new ye;saveChanges=new ye;clearSelection=new ye;setBlockOption(e){this.selectedBlockOption=e,this.availabilityModeChanged.emit(e),console.log("Selected block option:",e)}settings={pricing:{basePrice:37,customWeekendPrice:void 0,smartPricingEnabled:!1,currency:"USD"},availability:{minNights:1,maxNights:365,advanceNotice:"same-day",sameDayNoticeTime:"12:00",preparationTime:"none",availabilityWindow:"12 months in advance",checkInDays:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],checkOutDays:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]}};showBlockOptions=!1;settingsChanged=new ye;blockOptionsToggled=new ye;activeTab="pricing";settingsUpdateSubject=new Re;destroy$=new Re;ngOnInit(){this.settingsUpdateSubject.pipe(ni(100),rt(this.destroy$)).subscribe(e=>{this.settingsChanged.emit(e)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setActiveTab(e){this.activeTab!==e&&(this.activeTab=e)}onSettingsChange(){this.selectedPropertyId&&this.settingsUpdateSubject.next(this.settings)}onPriceInputChange(e){this.selectedDatePrice=e,this.priceChanged.emit(e)}onSaveChanges(){this.saveChanges.emit()}onClearSelection(){this.clearSelection.emit()}toggleBlockOptions(){this.showBlockOptions=!this.showBlockOptions,this.cd.markForCheck(),this.blockOptionsToggled.emit(this.showBlockOptions)}closeBlockOptions(){this.showBlockOptions=!1,this.blockOptionsToggled.emit(!1)}blockNight(){console.log("Block night"),this.closeBlockOptions()}addCustomTripLength(){console.log("Add custom trip length"),this.closeBlockOptions()}addPrivateNote(){console.log("Add private note"),this.closeBlockOptions()}addCustomWeekendPrice(){this.settings.pricing.customWeekendPrice=this.settings.pricing.basePrice,this.onSettingsChange()}removeCustomWeekendPrice(){this.settings.pricing.customWeekendPrice=void 0,this.onSettingsChange()}trackByIndex(e){return e}selectedPropertyId=null;availabilityModeChanged=new ye;onAvailabilityModeChange(){this.availabilityModeChanged.emit(this.selectedBlockOption)}static \u0275fac=function(t){return new(t||n)(V(Ot))};static \u0275cmp=le({type:n,selectors:[["app-calendar-settings"]],inputs:{selectedDatePrice:"selectedDatePrice",settings:"settings",showBlockOptions:"showBlockOptions",selectedPropertyId:"selectedPropertyId"},outputs:{priceChanged:"priceChanged",saveChanges:"saveChanges",clearSelection:"clearSelection",settingsChanged:"settingsChanged",blockOptionsToggled:"blockOptionsToggled",availabilityModeChanged:"availabilityModeChanged"},decls:13,vars:12,consts:[[1,"settings-panel"],[1,"settings-header"],[1,"settings-description"],[1,"settings-tabs"],[1,"tab-btn",3,"click"],["class","tab-content pricing-tab",3,"active",4,"ngIf"],[1,"tab-content","pricing-tab"],["style","border-top: 1px solid #f0f0f0; padding-top: 20px;",4,"ngIf"],[1,"help-section"],[1,"help-card"],[1,"help-list"],[2,"border-top","1px solid #f0f0f0","padding-top","20px"],[1,"selected-dates-info","mb-3"],[1,"block-options","mb-3"],[1,"block-toggle",3,"click"],["class","price-section",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mt-3"],[1,"btn","btn-outline-dark",2,"color","var(--primary-text-color)",3,"click"],[1,"btn","btn-dark",3,"click"],[1,"price-section"],[1,"price-input-group","mt-3"],[1,"currency"],["id","selectedDatePrice","type","number","min","0","step","1",1,"price-input",3,"input","value"],[1,"price-note"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),m(3),Q(4,"translate"),d(),l(5,"p",2),m(6),Q(7,"translate"),d()(),l(8,"div",3)(9,"button",4),T("click",function(){return i.setActiveTab("pricing")}),m(10),Q(11,"translate"),d()(),j(12,Ile,26,24,"div",5),d()),t&2&&(p(3),$(de(4,6,"SETTINGS.TITLE")),p(3),U(" ",de(7,8,"SETTINGS.DESCRIPTION")," "),p(3),Me("active",i.activeTab==="pricing"),p(),U(" ",de(11,10,"SETTINGS.TABS.PRICING")," "),p(2),_("ngIf",i.activeTab==="pricing"))},dependencies:[he,Ce,Mt,wt,Xt],styles:['.settings-panel[_ngcontent-%COMP%]{background:var(--bg-color);overflow-y:auto;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;z-index:50;padding:24px;position:relative}@media (min-width: 1024px){.settings-panel[_ngcontent-%COMP%]{height:87vh!important}}.close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#717171;cursor:pointer;padding:4px;border-radius:6px;transition:all .2s ease}.close-btn[_ngcontent-%COMP%]:hover{color:#222;background:#f7f7f7}.block-options-list[_ngcontent-%COMP%]{padding:8px 0 16px}.block-option-btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:12px;padding:12px 24px;background:none;border:none;text-align:left;cursor:pointer;transition:background-color .2s ease;font-size:14px;color:#222}.block-option-btn[_ngcontent-%COMP%]:hover{background:#f7f7f7}.option-icon[_ngcontent-%COMP%]{color:#717171;flex-shrink:0}.settings-header[_ngcontent-%COMP%]{margin-bottom:24px}.settings-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;font-weight:600;color:var(--primary-text-color);margin:0 0 8px}.settings-description[_ngcontent-%COMP%]{font-size:14px;color:#717171;margin:0;line-height:1.4}.settings-tabs[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid #eee;position:relative}.tab-btn[_ngcontent-%COMP%]{flex:1;padding:12px 16px;background:none;border:none;font-size:14px;font-weight:500;color:#717171;cursor:pointer;border-bottom:2px solid transparent;position:relative;z-index:1}.tab-btn.active[_ngcontent-%COMP%]{color:#222;border-bottom-color:#222}.tab-btn[_ngcontent-%COMP%]:hover:not(.active){color:#484848;background:#00000005}.tab-btn.changing[_ngcontent-%COMP%]{pointer-events:none}.setting-section[_ngcontent-%COMP%]{margin-bottom:0;padding-bottom:24px;transition:all .2s ease}.setting-section[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.setting-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#222;margin:0 0 16px}.section-description[_ngcontent-%COMP%]{font-size:14px;color:#717171;margin:0 0 16px;line-height:1.4}.setting-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.setting-label[_ngcontent-%COMP%]{font-size:14px;color:#222;font-weight:500}.remove-btn[_ngcontent-%COMP%]{font-size:14px;color:#717171;background:none;border:none;cursor:pointer;text-decoration:underline;transition:color .2s ease}.remove-btn[_ngcontent-%COMP%]:hover{color:#222}.price-input-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.currency[_ngcontent-%COMP%]{font-size:14px;color:#717171;font-weight:500}.price-display[_ngcontent-%COMP%]{flex:1}.price-label[_ngcontent-%COMP%]{font-size:12px;color:#717171;display:block;margin-bottom:4px}.price-value[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#222}.price-input[_ngcontent-%COMP%]{background:#f7f7f7;border:1px solid #ddd;border-radius:8px;padding:12px;font-size:16px;font-weight:600;color:#222;width:100px;transition:all .2s ease}.price-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#222;background:#fff;box-shadow:0 0 0 2px #2222221a}.add-weekend-price-btn[_ngcontent-%COMP%]{background:none;border:none;color:#222;font-size:14px;font-weight:500;cursor:pointer;text-decoration:underline;padding:0;transition:color .2s ease}.add-weekend-price-btn[_ngcontent-%COMP%]:hover{color:#000}.toggle-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:48px;height:28px}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.toggle-slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ddd;border-radius:28px}.toggle-slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:20px;width:20px;left:4px;bottom:4px;background-color:#fff;border-radius:50%;box-shadow:0 2px 4px #0003}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-slider[_ngcontent-%COMP%]{background-color:#222}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-slider[_ngcontent-%COMP%]:before{transform:translate(20px)}.toggle-switch[_ngcontent-%COMP%]:hover   .toggle-slider[_ngcontent-%COMP%]{box-shadow:0 0 0 8px #0000000a}.discount-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;background:#f7f7f7;border-radius:12px;margin-bottom:12px;transition:all .2s ease}.discount-item[_ngcontent-%COMP%]:hover{background:#f0f0f0;transform:translateY(-1px)}.discount-header[_ngcontent-%COMP%]{flex:1}.discount-title[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#222;display:block;margin-bottom:2px}.discount-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#717171}.discount-value[_ngcontent-%COMP%]{text-align:right}.percentage[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#222;display:block;margin-bottom:2px}.average[_ngcontent-%COMP%]{font-size:12px;color:#717171}.more-discounts-btn[_ngcontent-%COMP%], .promotion-btn[_ngcontent-%COMP%], .custom-lengths-btn[_ngcontent-%COMP%], .availability-settings-btn[_ngcontent-%COMP%], .connect-calendar-btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;padding:16px;background:#fff;border:1px solid #ddd;border-radius:12px;cursor:pointer;text-align:left;margin-bottom:16px}.more-discounts-btn[_ngcontent-%COMP%]:hover, .promotion-btn[_ngcontent-%COMP%]:hover, .custom-lengths-btn[_ngcontent-%COMP%]:hover, .availability-settings-btn[_ngcontent-%COMP%]:hover, .connect-calendar-btn[_ngcontent-%COMP%]:hover{border-color:#222;transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.more-discounts-btn[_ngcontent-%COMP%]:active, .promotion-btn[_ngcontent-%COMP%]:active, .custom-lengths-btn[_ngcontent-%COMP%]:active, .availability-settings-btn[_ngcontent-%COMP%]:active, .connect-calendar-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.more-discounts-btn[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block}.more-discounts-btn[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-child{font-size:14px;font-weight:500;color:#222;margin-bottom:2px}.discount-types[_ngcontent-%COMP%]{font-size:12px;color:#717171}.promotion-content[_ngcontent-%COMP%]{flex:1}.promotion-title[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#222;display:block;margin-bottom:2px}.promotion-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#717171}.input-row[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:16px}.input-group[_ngcontent-%COMP%]{flex:1}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;color:#717171;display:block;margin-bottom:4px;font-weight:500}.number-input[_ngcontent-%COMP%], .select-input[_ngcontent-%COMP%], .time-input[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #ddd;border-radius:8px;font-size:14px;color:#222;background:#fff;transition:all .2s ease}.number-input[_ngcontent-%COMP%]:focus, .select-input[_ngcontent-%COMP%]:focus, .time-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#222;box-shadow:0 0 0 2px #2222221a}.number-input[_ngcontent-%COMP%]:hover, .select-input[_ngcontent-%COMP%]:hover, .time-input[_ngcontent-%COMP%]:hover{border-color:#999}.setting-item[_ngcontent-%COMP%]{margin-bottom:16px}.setting-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:#222;font-weight:500;display:block;margin-bottom:8px}.custom-lengths-btn[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .availability-settings-btn[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-child, .connect-calendar-btn[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#222}.availability-settings-btn[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:12px;color:#717171;font-weight:400;display:block;margin-top:2px}.chevron-icon[_ngcontent-%COMP%]{width:16px;height:16px;color:#717171;transition:all .2s ease}.link-icon[_ngcontent-%COMP%]{width:16px;height:16px;color:#717171;margin-right:8px}.more-discounts-btn[_ngcontent-%COMP%]:hover   .chevron-icon[_ngcontent-%COMP%], .promotion-btn[_ngcontent-%COMP%]:hover   .chevron-icon[_ngcontent-%COMP%], .custom-lengths-btn[_ngcontent-%COMP%]:hover   .chevron-icon[_ngcontent-%COMP%], .availability-settings-btn[_ngcontent-%COMP%]:hover   .chevron-icon[_ngcontent-%COMP%], .connect-calendar-btn[_ngcontent-%COMP%]:hover   .chevron-icon[_ngcontent-%COMP%]{color:#222;transform:translate(2px)}.tab-content.loading[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.setting-section.updating[_ngcontent-%COMP%]{opacity:.8}@media (max-width: 768px){.settings-panel[_ngcontent-%COMP%]{width:100%;position:relative;height:auto;border-left:none;border-top:1px solid #ebebeb;padding:16px}.input-row[_ngcontent-%COMP%]{flex-direction:column}.settings-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.block-options-panel[_ngcontent-%COMP%]{min-width:260px;margin:0 16px}.discount-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.discount-value[_ngcontent-%COMP%]{text-align:left}}.settings-panel[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.settings-panel[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f7f7f7;border-radius:3px}.settings-panel[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ddd;border-radius:3px;transition:background .2s ease}.settings-panel[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#bbb}.tab-btn[_ngcontent-%COMP%]:focus, .toggle-switch[_ngcontent-%COMP%]:focus-within, .price-input[_ngcontent-%COMP%]:focus, .number-input[_ngcontent-%COMP%]:focus, .select-input[_ngcontent-%COMP%]:focus, .time-input[_ngcontent-%COMP%]:focus{outline-offset:2px}.block-option-btn[_ngcontent-%COMP%]:focus{background:#f0f0f0;outline-offset:-2px}.block-options[_ngcontent-%COMP%]{display:flex;background:#f1f1f1;border-radius:25px;padding:3px;width:fit-content}.block-toggle[_ngcontent-%COMP%]{border:none;background:transparent;padding:4px 24px;border-radius:20px;cursor:pointer;color:#000;transition:background .3s,color .3s}.block-toggle.active[_ngcontent-%COMP%]{background-color:#222;color:#fff}.help-section[_ngcontent-%COMP%]{padding-top:20px}.help-card[_ngcontent-%COMP%]{background:var(--active);padding:16px;border-radius:6px;border:1px solid #e0e0e0}.help-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-bottom:12px;color:var(--secondary-text-color)}.help-list[_ngcontent-%COMP%]{margin:0;padding-left:20px;font-size:14px;color:#6c757d}.help-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:6px}'],changeDetection:0})};var t7=class n{constructor(e){this.http=e}apiUrl=`${Ke.baseUrl}/Calendar`;getPropertyCalendar(e,t,i){let r=`${this.apiUrl}/property/${e}`,o=[];return t&&o.push(`startDate=${t}`),i&&o.push(`endDate=${i}`),o.length>0&&(r+=`?${o.join("&")}`),this.http.get(r).pipe(Ne(a=>a.data))}updatePropertyCalendar(e,t){let i=`${this.apiUrl}/property/${e}`;return this.http.put(i,t).pipe(Ne(r=>r.data))}static \u0275fac=function(t){return new(t||n)(De(Ct))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};function Lle(n,e){n&1&&(l(0,"div",6),k(1,"div",7),l(2,"p"),m(3),Q(4,"translate"),d()()),n&2&&(p(3),$(de(4,1,"AVAILABILITY.LOADING")))}var n7=class n{constructor(e,t,i){this.cd=e;this.calendarService=t;this.translate=i}isLoading=!1;selectedPropertyId=null;showBlockOptions=!1;onPropertySelected(e){this.selectedPropertyId=e,this.loadPropertyCalendarData()}loadPropertyCalendarData(){if(!this.selectedPropertyId)return;this.isLoading=!0;let e=new Date,t=$p(e,365);this.calendarService.getPropertyCalendar(parseInt(this.selectedPropertyId),So(e,"yyyy-MM-dd"),So(t,"yyyy-MM-dd")).pipe(Kr(()=>{this.isLoading=!1,this.cd.markForCheck()})).subscribe({next:i=>{this.mapCalendarDataToAvailability(i),console.log("calendarData",i)},error:i=>{this.translate.instant("AVAILABILITY.ERRORS.LOAD_FAILED")}})}mapCalendarDataToAvailability(e){let t=new Date,i=[],r=new Map;e.forEach(o=>{let a=o.date.slice(0,10);r.set(a,o)});for(let o=0;o<365;o++){let a=$p(t,o),c=So(a,"yyyy-MM-dd"),u=r.get(c);u?i.push({date:a,available:u.isAvailable??!0,price:u.price??0,originalPrice:void 0,isBooked:u.isBooked??!1}):i.push({date:a,available:!0,price:0,originalPrice:void 0,isBooked:!1})}this.calendarSettings=Ve(ie({},this.calendarSettings),{availability:[...i]}),this.cd.detectChanges()}calendarSettings={viewType:"year",selectedDates:[],availability:[],minNights:1,maxNights:365};fullSettings={pricing:{basePrice:0,smartPricingEnabled:!1,currency:"USD"},availability:{minNights:1,maxNights:365,advanceNotice:"same-day",sameDayNoticeTime:"12:00",preparationTime:"none",availabilityWindow:"12 months in advance",checkInDays:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],checkOutDays:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]}};availabilityMode="open";selectedDatePrice=0;ngOnInit(){this.syncCalendarSettings()}syncCalendarSettings(){this.calendarSettings.minNights=this.fullSettings.availability.minNights,this.calendarSettings.maxNights=this.fullSettings.availability.maxNights}onDateSelected(e){if(this.calendarSettings.selectedDates=e,this.showBlockOptions=e.length>0,e.length>0){let t=e[0],i=this.calendarSettings.availability.find(r=>Gp(r.date,t));this.selectedDatePrice=i?.price!=null?i.price:this.fullSettings.pricing.basePrice}else this.selectedDatePrice=0;this.cd.markForCheck()}onCalendarSettingsChanged(e){this.calendarSettings=e}onFullSettingsChanged(e){this.fullSettings=e,this.syncCalendarSettings(),this.selectedPropertyId&&this.loadPropertyCalendarData()}setAvailabilityMode(e){this.availabilityMode=e,this.cd.markForCheck()}onPriceChanged(e){this.selectedDatePrice=e}clearSelection(){this.calendarSettings.selectedDates=[],this.showBlockOptions=!1,this.calendarSettings=Ve(ie({},this.calendarSettings),{selectedDates:[]}),this.cd.detectChanges()}saveChanges(){if(this.calendarSettings.selectedDates.length===0||!this.selectedPropertyId)return;let e=this.calendarSettings.selectedDates.sort((r,o)=>r.getTime()-o.getTime()),t=[],i=this.calendarSettings.selectionMode||"multiple";if(i==="single"){let r=e[0];t.push({date:So(r,"yyyy-MM-dd"),isAvailable:this.availabilityMode==="open",price:this.selectedDatePrice})}else if(i==="range"&&e.length===2){let[r,o]=e,a=new Date(r);for(;a<=o;)t.push({date:So(a,"yyyy-MM-dd"),isAvailable:this.availabilityMode==="open",price:this.selectedDatePrice}),a=$p(a,1)}else e.forEach(r=>{t.push({date:So(r,"yyyy-MM-dd"),isAvailable:this.availabilityMode==="open",price:this.selectedDatePrice})});console.log("Selection mode:",i),console.log("Selected dates:",e),console.log("Dates to update:",t),this.isLoading=!0,this.calendarService.updatePropertyCalendar(parseInt(this.selectedPropertyId),t).pipe(Kr(()=>{this.isLoading=!1,this.cd.markForCheck()})).subscribe({next:r=>{r?(console.log("Successfully updated dates:",t),console.log(this.translate.instant("AVAILABILITY.SUCCESS.UPDATE")),this.updateLocalAvailability(),this.clearSelection()):console.error("Failed to update calendar")},error:r=>{console.error("Error updating calendar:",r)}})}updateLocalAvailability(){let e=this.calendarSettings.selectedDates;if(e.length===0)return;let t=[],i=this.calendarSettings.selectionMode||"multiple";if(i==="single")t=[e[0]];else if(i==="range"&&e.length===2){let[r,o]=e.sort((c,u)=>c.getTime()-u.getTime()),a=new Date(r);for(;a<=o;)t.push(new Date(a)),a=$p(a,1)}else t=[...e];console.log("Updating local availability for dates:",t),t.forEach(r=>{let o=this.calendarSettings.availability.findIndex(a=>Gp(a.date,r));o>=0?(this.calendarSettings.availability[o].available=this.availabilityMode==="open",this.calendarSettings.availability[o].price=this.selectedDatePrice):this.calendarSettings.availability.push({date:r,available:this.availabilityMode==="open",price:this.selectedDatePrice,isBooked:!1})}),this.calendarSettings=Ve(ie({},this.calendarSettings),{availability:[...this.calendarSettings.availability]}),this.cd.detectChanges()}static \u0275fac=function(t){return new(t||n)(V(Ot),V(t7),V(Qi))};static \u0275cmp=le({type:n,selectors:[["app-availability"]],decls:6,vars:8,consts:[[1,"availability-page"],["class","loading-indicator",4,"ngIf"],[1,"calendar-area"],[3,"dateSelected","settingsChanged","propertySelected","settings"],[1,"settings-area"],[3,"settingsChanged","availabilityModeChanged","priceChanged","saveChanges","clearSelection","showBlockOptions","settings","selectedPropertyId","selectedDatePrice"],[1,"loading-indicator"],[1,"spinner"]],template:function(t,i){t&1&&(l(0,"div",0),j(1,Lle,5,3,"div",1),l(2,"div",2)(3,"app-calendar",3),T("dateSelected",function(o){return i.onDateSelected(o)})("settingsChanged",function(o){return i.onCalendarSettingsChanged(o)})("propertySelected",function(o){return i.onPropertySelected(o)}),d()(),l(4,"div",4)(5,"app-calendar-settings",5),T("settingsChanged",function(o){return i.onFullSettingsChanged(o)})("availabilityModeChanged",function(o){return i.setAvailabilityMode(o)})("priceChanged",function(o){return i.onPriceChanged(o)})("saveChanges",function(){return i.saveChanges()})("clearSelection",function(){return i.clearSelection()}),d()()()),t&2&&(p(),_("ngIf",i.isLoading),p(),Me("loading",i.isLoading),p(),_("settings",i.calendarSettings),p(2),_("showBlockOptions",i.showBlockOptions)("settings",i.fullSettings)("selectedPropertyId",i.selectedPropertyId)("selectedDatePrice",i.selectedDatePrice))},dependencies:[he,Ce,J5,e7,wt,Xt],styles:[".availability-page[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;max-width:100%;box-sizing:border-box;gap:0}@media (min-width: 1024px){.availability-page[_ngcontent-%COMP%]{align-items:flex-start!important}.calendar-area[_ngcontent-%COMP%]{flex:2}.settings-area[_ngcontent-%COMP%]{flex:1;max-width:300px}}.settings-area[_ngcontent-%COMP%]{border-top:1px solid #eee;border-left:1px solid #eee;overflow-y:auto}.selected-nights-panel[_ngcontent-%COMP%]{margin-top:24px;background-color:#f8f9fa;border:1px solid #e9ecef;padding:20px;border-radius:12px;width:100%}.availability-toggle[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:24px}.toggle-btn[_ngcontent-%COMP%]{flex:1;padding:12px 16px;border:1px solid #dee2e6;background:#f8f9fa;cursor:pointer;border-radius:8px;font-weight:500;transition:all .2s ease}.toggle-btn.active[_ngcontent-%COMP%]{background:#222;color:#fff;border-color:#222}.toggle-btn[_ngcontent-%COMP%]:hover:not(.active){background:#e9ecef}.panel-actions[_ngcontent-%COMP%]{margin-top:24px}.save-btn[_ngcontent-%COMP%]{width:100%;background-color:#ff385c;color:#fff;padding:14px;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:background-color .2s ease}.save-btn[_ngcontent-%COMP%]:hover{background-color:#e31c5f}.discount-btn[_ngcontent-%COMP%], .similar-listings-btn[_ngcontent-%COMP%], .private-note-btn[_ngcontent-%COMP%], .add-note-btn[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;background:none;border:none;padding:16px 0;font-size:14px;color:#222;cursor:pointer;border-bottom:1px solid #f1f3f5;transition:color .2s ease}.discount-btn[_ngcontent-%COMP%]:hover, .similar-listings-btn[_ngcontent-%COMP%]:hover, .private-note-btn[_ngcontent-%COMP%]:hover, .add-note-btn[_ngcontent-%COMP%]:hover{color:#ff385c}.chevron-icon[_ngcontent-%COMP%], .location-icon[_ngcontent-%COMP%]{width:16px;height:16px;stroke:#717171;transition:stroke .2s ease}.discount-btn[_ngcontent-%COMP%]:hover   .chevron-icon[_ngcontent-%COMP%], .similar-listings-btn[_ngcontent-%COMP%]:hover   .chevron-icon[_ngcontent-%COMP%], .private-note-btn[_ngcontent-%COMP%]:hover   .chevron-icon[_ngcontent-%COMP%], .add-note-btn[_ngcontent-%COMP%]:hover   .chevron-icon[_ngcontent-%COMP%]{stroke:#ff385c}@media (max-width: 1024px){.availability-page[_ngcontent-%COMP%]{flex-direction:column}.calendar-area[_ngcontent-%COMP%]{flex:none!important;min-height:auto}.settings-area[_ngcontent-%COMP%]{flex:none;max-width:none;min-width:auto;border-left:none;border-top:1px solid #e9ecef;min-height:400px;box-shadow:0 -1px 3px #0000000d}}@media (max-width: 768px){.calendar-area[_ngcontent-%COMP%], .settings-area[_ngcontent-%COMP%]{padding:16px}}.loading-indicator[_ngcontent-%COMP%]{position:fixed;inset:0;background:#ffffffe6;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:1000}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:16px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.calendar-area.loading[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.price-edit-section[_ngcontent-%COMP%]{margin:16px 0;padding:16px;background:#f8f9fa;border-radius:8px}.price-input-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.price-input-group[_ngcontent-%COMP%]   .price-input[_ngcontent-%COMP%]{flex:1;padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:16px;width:100px}"]})};var zle=n=>({noscroll:n}),i7=class n{constructor(e){this.router=e}noScrollRoute=!1;ngOnInit(){this.checkIfNoScrollRoute()}checkIfNoScrollRoute(){this.noScrollRoute=this.router.url.startsWith("/Messages")||this.router.url.startsWith("/hostsettings/Messages")||this.router.url.startsWith("/hostsettings/availability")}ngAfterViewInit(){this.router.events.subscribe(()=>{this.checkIfNoScrollRoute()})}static \u0275fac=function(t){return new(t||n)(V(nt))};static \u0275cmp=le({type:n,selectors:[["app-host"]],decls:3,vars:3,consts:[[3,"ngClass"]],template:function(t,i){t&1&&(l(0,"div",0),k(1,"app-hostheader")(2,"router-outlet"),d()),t&2&&_("ngClass",nn(1,zle,i.noScrollRoute))},dependencies:[pl,ms,he,Bt],styles:[".noscroll[_ngcontent-%COMP%]{overflow:hidden;inset:0}@media (min-width: 1023px){.noscroll[_ngcontent-%COMP%]{max-height:100vh!important;position:fixed!important}}"]})};var VN=n=>({active:n}),Ale=()=>({padding:"4px"});function Nle(n,e){if(n&1&&(l(0,"span",7),m(1),d()),n&2){let t,i=C();_("ngStyle",Kt(2,Ale)),p(),$((i.user==null||(t=i.user.charAt(0))==null?null:t.toUpperCase())||"K")}}function Rle(n,e){if(n&1&&k(0,"img",8),n&2){let t=C();_("src",t.img,et)}}function Fle(n,e){if(n&1&&k(0,"img",20),n&2){let t=C(2);_("src",t.img,et)}}function Vle(n,e){if(n&1&&(l(0,"span",21),m(1),d()),n&2){let t,i=C(2);p(),$((i.user==null||(t=i.user.charAt(0))==null?null:t.toUpperCase())||"K")}}function Ble(n,e){if(n&1&&(l(0,"p"),k(1,"i",22),m(2),d()),n&2){let t=C(2);p(2),U(" ",t.country)}}function jle(n,e){if(n&1&&(l(0,"div",9)(1,"h1"),m(2),Q(3,"translate"),l(4,"a",10),m(5),Q(6,"translate"),d()(),l(7,"div",11)(8,"div",12),j(9,Fle,1,1,"img",13)(10,Vle,2,1,"span",14),l(11,"span",15),m(12),d(),l(13,"span"),m(14),d()(),l(15,"div",16),j(16,Ble,3,1,"p",17),k(17,"br")(18,"hr"),l(19,"a",18),k(20,"i",19),l(21,"span"),m(22),Q(23,"translate"),d()()()()()),n&2){let t,i=C();p(2),U(" ",de(3,10,"profile.aboutMe")," "),p(2),_("routerLink",Ws("/update-profile/",i.userId)),p(),$(de(6,12,"profile.edit")),p(4),_("ngIf",i.ifImg),p(),_("ngIf",!i.ifImg),p(2),$(`${i.user==null||(t=i.user.charAt(0))==null?null:t.toUpperCase()}${i.user==null?null:i.user.slice(1)}`),p(2),$(i.roles),p(2),_("ngIf",i.country),p(6),U(" ",de(23,14,"profile.yourReviews")," ")}}function Hle(n,e){n&1&&(l(0,"div",31)(1,"div",32),k(2,"div",33),d(),l(3,"p",34),m(4,"Loading your bookings..."),d()())}function Ule(n,e){if(n&1){let t=X();l(0,"div",35)(1,"div",36),k(2,"i",37),l(3,"h3",38),m(4),Q(5,"translate"),d(),l(6,"p",39),m(7),d(),l(8,"button",40),T("click",function(){z(t);let r=C(2);return A(r.refreshBookings())}),k(9,"i",41),m(10),Q(11,"translate"),d()()()}if(n&2){let t=C(2);p(4),U(" ",de(5,3,"profile.somethingWentWrong")," "),p(3),$(t.error),p(3),U(" ",de(11,5,"profile.tryAgain")," ")}}function $le(n,e){n&1&&(l(0,"div",45)(1,"div",46),k(2,"i",47),d(),l(3,"h3",48),m(4),Q(5,"translate"),d(),l(6,"p",49),m(7),Q(8,"translate"),d(),l(9,"a",50),m(10),Q(11,"translate"),d()()),n&2&&(p(4),$(de(5,3,"profile.noTripsYet")),p(3),U(" ",de(8,5,"profile.timeToDustOff")," "),p(3),U(" ",de(11,7,"profile.startSearching")," "))}function Wle(n,e){if(n&1&&(l(0,"div",92)(1,"span",93),m(2),Q(3,"number"),Q(4,"translate"),d()()),n&2){let t=C().$implicit,i=C(4);p(2),Nt(" $",Vt(3,2,t.totalPrice/i.getNightCount(t.checkInDate,t.checkOutDate),"1.0-0")," ",de(4,5,"profile.perNight")," ")}}function Gle(n,e){if(n&1&&(l(0,"div",53)(1,"div",54)(2,"div",55),m(3),d(),l(4,"div",56),k(5,"i"),l(6,"span"),m(7),d()()(),l(8,"div",57)(9,"div",58),k(10,"div",59),l(11,"div",60),k(12,"i",61),l(13,"span",62),m(14),d()()()(),l(15,"div",63)(16,"div",64)(17,"h3",65),m(18),d(),l(19,"p",66),k(20,"i",67),m(21),d()(),l(22,"div",68)(23,"div",69)(24,"div",70)(25,"span",71),m(26),Q(27,"translate"),d(),l(28,"span",72),m(29),d()(),l(30,"div",73),k(31,"i",74),d(),l(32,"div",70)(33,"span",71),m(34),Q(35,"translate"),d(),l(36,"span",72),m(37),d()()(),l(38,"div",75)(39,"div",76)(40,"div",77),k(41,"i",78),d(),l(42,"div",79)(43,"span",80),m(44),Q(45,"translate"),d(),l(46,"span",81),m(47),d()()(),l(48,"div",76)(49,"div",77),k(50,"i",82),d(),l(51,"div",79)(52,"span",80),m(53),Q(54,"translate"),d(),l(55,"span",81),m(56),d()()(),l(57,"div",76)(58,"div",77),k(59,"i",83),d(),l(60,"div",79)(61,"span",80),m(62),Q(63,"translate"),d(),l(64,"span",81),m(65),d()()()()(),l(66,"div",84)(67,"div",85)(68,"div",86)(69,"div",87)(70,"span",88),m(71),Q(72,"translate"),d(),l(73,"span",89),m(74),Q(75,"number"),d()(),j(76,Wle,5,7,"div",90),d()(),k(77,"div",91),d()()()),n&2){let t=e.$implicit,i=C(4);p(3),U(" ",i.getBookingTypeLabel(t)," "),p(),_("ngClass",i.getBookingStatusClass(t.bookingStatus)),p(),cn(i.getBookingStatusIcon(t.bookingStatus)),p(2),$(t.bookingStatus),p(7),$(t.city),p(4),$(t.propertyTitle),p(3),Nt(" ",t.city,", ",t.country," "),p(5),$(de(27,22,"profile.checkIn")),p(3),$(i.formatDateWithYear(t.checkInDate)),p(5),$(de(35,24,"profile.checkOut")),p(3),$(i.formatDateWithYear(t.checkOutDate)),p(7),$(de(45,26,"profile.guests")),p(3),$(t.numberOfGuests),p(6),$(de(54,28,"profile.nights")),p(3),$(i.getNightCount(t.checkInDate,t.checkOutDate)),p(6),$(de(63,30,"profile.bookingId")),p(3),U("#",t.id.toString().slice(-6)),p(6),$(de(72,32,"profile.totalPaid")),p(3),U("$",Vt(75,34,t.totalPrice,"1.0-0")),p(2),_("ngIf",i.getNightCount(t.checkInDate,t.checkOutDate)>0)}}function Yle(n,e){if(n&1&&(l(0,"div",51),j(1,Gle,78,37,"div",52),d()),n&2){let t=C(3);p(),_("ngForOf",t.bookings)("ngForTrackBy",t.trackByBookingId)}}function qle(n,e){if(n&1&&(l(0,"div",42),j(1,$le,12,9,"div",43)(2,Yle,2,2,"div",44),d()),n&2){let t=C(2);p(),_("ngIf",t.bookings.length===0),p(),_("ngIf",t.bookings.length>0)}}function Zle(n,e){if(n&1&&(l(0,"div",23)(1,"div",24)(2,"div",25)(3,"h1",26),m(4),Q(5,"translate"),d(),l(6,"p",27),m(7),Q(8,"translate"),d()(),j(9,Hle,5,0,"div",28)(10,Ule,12,7,"div",29)(11,qle,3,2,"div",30),d()()),n&2){let t=C();p(4),$(de(5,5,"profile.yourTravels")),p(3),U(" ",de(8,7,"profile.manageYourReservations")," "),p(2),_("ngIf",t.isLoading),p(),_("ngIf",t.error&&!t.isLoading),p(),_("ngIf",!t.isLoading&&!t.error)}}var r7=class n{constructor(e,t,i,r,o){this.userService=e;this.router=t;this.userBookingService=i;this.datePipe=r;this.translate=o}selectedSection="aboutMe";authService=q(dt);userId=this.authService.userId;roles=this.authService.role;handleImgService=q(Nr);user=(()=>{let e=localStorage.getItem("user");return e?JSON.parse(e)?.firstName??JSON.parse(e)?.userName:""})();ifImg=(()=>{let e=localStorage.getItem("user");return e?JSON.parse(e)?.profilePictureURL??"":""})();img=(()=>{let e=localStorage.getItem("user");return this.handleImgService.handleImage(e?JSON.parse(e)?.profilePictureURL??"":"")})();country=(()=>{let e=localStorage.getItem("user");return e?JSON.parse(e)?.country??"":""})();bookings=[];isLoading=!0;error=null;currentDate=new Date;ngOnInit(){this.loadUserBookings()}loadUserBookings(){if(this.isLoading=!0,this.error=null,this.userId=this.authService.userId,!this.userId){this.error="User ID is not available.",this.isLoading=!1;return}this.userBookingService.getBookingsByUserId(this.userId).subscribe({next:e=>{this.bookings=this.sortBookings(e),this.isLoading=!1},error:e=>{this.error=e.message,this.isLoading=!1,console.error("Error loading bookings:",e)}})}sortBookings(e){return e.sort((t,i)=>new Date(i.checkInDate).getTime()-new Date(t.checkInDate).getTime())}formatDate(e){try{let t=new Date(e);return this.datePipe.transform(t,"MMM d, yyyy")||e}catch{return e}}formatShortDate(e){try{let t=new Date(e);return this.datePipe.transform(t,"MMM d")||e}catch{return e}}formatDateWithYear(e){try{let t=new Date(e);return this.datePipe.transform(t,"MMM d, yyyy")||e}catch{return e}}formatShortDateWithYear(e){try{let t=new Date(e);return this.datePipe.transform(t,"MMM d, yy")||e}catch{return e}}getBookingStatusClass(e){return{completed:"status-completed",confirmed:"status-confirmed",pending:"status-pending",cancelled:"status-cancelled"}[e.toLowerCase()]||"status-default"}getBookingStatusIcon(e){return{completed:"bi-check-circle-fill",confirmed:"bi-calendar-check-fill",pending:"bi-clock-fill",cancelled:"bi-x-circle-fill"}[e.toLowerCase()]||"bi-circle-fill"}isUpcomingBooking(e){try{return new Date(e)>this.currentDate}catch{return!1}}isPastBooking(e){try{return new Date(e)<this.currentDate}catch{return!1}}getBookingTypeLabel(e){return this.isUpcomingBooking(e.checkInDate)?this.translate.instant("profile.status.upcoming"):this.isPastBooking(e.checkOutDate)?this.translate.instant("profile.status.past"):this.translate.instant("profile.status.current")}getNightCount(e,t){try{let i=new Date(e),o=new Date(t).getTime()-i.getTime();return Math.ceil(o/(1e3*3600*24))}catch{return 0}}refreshBookings(){this.loadUserBookings()}trackByBookingId(e,t){return t.id}getPricePerNight(e,t,i){let r=this.getNightCount(t,i);return r>0?e/r:0}static \u0275fac=function(t){return new(t||n)(V(cr),V(nt),V(z4),V(mi),V(Qi))};static \u0275cmp=le({type:n,selectors:[["app-profile"]],features:[Vn([mi])],decls:22,vars:19,consts:[[1,"profile"],[3,"click","ngClass"],["class","letter",3,"ngStyle",4,"ngIf"],["alt","user-img","class","user-img","loading","lazy",3,"src",4,"ngIf"],[1,"bi","bi-bag"],["class","about-me",4,"ngIf"],["class","travels",4,"ngIf"],[1,"letter",3,"ngStyle"],["alt","user-img","loading","lazy",1,"user-img",3,"src"],[1,"about-me"],["href","#",3,"routerLink"],[1,"user-info"],[1,"user-img"],["alt","user-img","loading","lazy",3,"src",4,"ngIf"],["class","initial-letter",4,"ngIf"],[1,"name"],[1,"user-details"],[4,"ngIf"],["href","#","routerLink","/your-reviews"],[1,"bi","bi-chat-right-text"],["alt","user-img","loading","lazy",3,"src"],[1,"initial-letter"],[1,"bi","bi-geo-alt"],[1,"travels"],[1,"bookings-container"],[1,"bookings-header"],[1,"page-title"],[1,"page-subtitle"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","bookings-content",4,"ngIf"],[1,"loading-state"],[1,"loading-spinner"],[1,"spinner"],[1,"loading-text"],[1,"error-state"],[1,"error-card"],[1,"bi","bi-exclamation-triangle","error-icon"],[1,"error-title"],[1,"error-message"],[1,"btn-retry",3,"click"],[1,"bi","bi-arrow-clockwise"],[1,"bookings-content"],["class","empty-state",4,"ngIf"],["class","bookings-grid",4,"ngIf"],[1,"empty-state"],[1,"empty-illustration"],[1,"bi","bi-compass"],[1,"empty-title"],[1,"empty-message"],["routerLink","/",1,"btn-start-searching"],[1,"bookings-grid"],["class","booking-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"booking-card"],[1,"booking-header"],[1,"booking-type"],[1,"booking-status",3,"ngClass"],[1,"property-image"],[1,"image-placeholder"],[1,"image-gradient"],[1,"image-content"],[1,"bi","bi-building"],[1,"image-text"],[1,"booking-details"],[1,"property-info"],[1,"property-title"],[1,"property-location"],[1,"bi","bi-geo-alt-fill"],[1,"stay-details"],[1,"date-range"],[1,"date-item"],[1,"date-label"],[1,"date-value"],[1,"date-separator"],[1,"bi","bi-arrow-right"],[1,"booking-meta-grid"],[1,"meta-card"],[1,"meta-icon"],[1,"bi","bi-people-fill"],[1,"meta-content"],[1,"meta-label"],[1,"meta-value"],[1,"bi","bi-moon-fill"],[1,"bi","bi-hash"],[1,"booking-footer"],[1,"price-section"],[1,"price-breakdown"],[1,"price-item"],[1,"price-label"],[1,"price-value"],["class","price-per-night",4,"ngIf"],[1,"booking-actions"],[1,"price-per-night"],[1,"price-per-night-text"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"nav")(2,"ul")(3,"li")(4,"h1"),m(5),Q(6,"translate"),d()(),l(7,"li")(8,"a",1),T("click",function(){return i.selectedSection="aboutMe"}),j(9,Nle,2,3,"span",2)(10,Rle,1,1,"img",3),l(11,"span"),m(12),Q(13,"translate"),d()()(),l(14,"li")(15,"a",1),T("click",function(){return i.selectedSection="travels"}),k(16,"i",4),m(17),Q(18,"translate"),d()()()(),l(19,"main"),j(20,jle,24,16,"div",5)(21,Zle,12,9,"div",6),d()()),t&2&&(p(5),$(de(6,9,"profile.title")),p(3),_("ngClass",nn(15,VN,i.selectedSection==="aboutMe")),p(),_("ngIf",i.ifImg===""),p(),_("ngIf",i.ifImg),p(2),$(de(13,11,"profile.aboutMe")),p(3),_("ngClass",nn(17,VN,i.selectedSection==="travels")),p(2),U(" ",de(18,13,"profile.travels")," "),p(3),_("ngIf",i.selectedSection==="aboutMe"),p(),_("ngIf",i.selectedSection==="travels"))},dependencies:[he,Bt,Xe,Ce,_o,wt,Mt,Ni,Hi,sa,Xt],styles:[".profile[_ngcontent-%COMP%]{display:flex;min-height:100vh;flex-direction:row}nav[_ngcontent-%COMP%]{flex:1;padding:40px 20px;border-right:1px solid #ddd;display:flex;flex-direction:column;align-items:center;min-width:250px}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;width:70%;padding:0;margin:20px 0}nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px;cursor:pointer;text-decoration:none;display:flex;align-items:center;gap:10px;border-radius:15px;flex-wrap:wrap}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;object-fit:contain;transition:transform .3s ease-in-out}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:10px;font-size:1.2rem;transition:all .3s ease-in-out;text-decoration:none}.letter[_ngcontent-%COMP%]{background-color:var(--primary-text-color);color:var(--bg-color);border-radius:50%;height:32px;width:32px;display:flex;align-items:center;justify-content:center;font-weight:700}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:var(--bg)}main[_ngcontent-%COMP%]{flex:2;padding:50px;min-width:0}.about-me[_ngcontent-%COMP%], .travels[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}.about-me[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .travels[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:2rem;gap:8px;font-weight:700;flex-wrap:wrap}.about-me[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .travels[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9rem;background-color:var(--bg);padding:7px 10px;border-radius:5px;white-space:nowrap}.user-info[_ngcontent-%COMP%]{padding:50px}.user-info[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;margin:auto auto 30px;box-shadow:0 2px 20px var(--shadow-color);border-radius:10px;width:min(350px,100%);height:250px}.user-info[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;object-fit:contain}.user-info[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]   .initial-letter[_ngcontent-%COMP%]{background-color:var(--primary-text-color);color:var(--bg-color);border-radius:50%;height:120px;width:120px;display:flex;align-items:center;justify-content:center;font-size:4rem;font-weight:700}.user-info[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;text-align:center}.user-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:1.2rem;min-height:60px;padding:20px 0}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}.bookings-container[_ngcontent-%COMP%]{max-width:1120px;margin:0 auto;padding:24px 20px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:var(--bg-color);transition:background-color .3s ease;width:100%;box-sizing:border-box}.bookings-header[_ngcontent-%COMP%]{margin-bottom:32px}.page-title[_ngcontent-%COMP%]{font-size:clamp(1.5rem,4vw,2rem);font-weight:600;color:var(--primary-text-color);margin:0 0 8px;letter-spacing:-.02em;transition:color .3s ease;line-height:1.2}.page-subtitle[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-size:clamp(14px,2vw,16px);margin:0;font-weight:400;transition:color .3s ease}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 20px}.loading-spinner[_ngcontent-%COMP%]{margin-bottom:16px}.spinner[_ngcontent-%COMP%]{width:32px;height:32px;border:3px solid var(--light-grey-bg);border-top:3px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-size:16px;margin:0;transition:color .3s ease;text-align:center}.error-state[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:40px 20px}.error-card[_ngcontent-%COMP%]{text-align:center;max-width:400px;width:100%;padding:40px 24px;border-radius:12px;border:1px solid var(--border-color);background:var(--bg-color);transition:all .3s ease}.error-icon[_ngcontent-%COMP%]{font-size:48px;color:var(--airbnb-red);margin-bottom:16px}.error-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--primary-text-color);margin:0 0 8px;transition:color .3s ease}.error-message[_ngcontent-%COMP%]{color:var(--secondary-text-color);margin:0 0 24px;line-height:1.4;transition:color .3s ease}.btn-retry[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;background:var(--airbnb-red);color:#fff;border:none;padding:12px 24px;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease;min-height:44px}.btn-retry[_ngcontent-%COMP%]:hover{background:var(--airbnb-dark-red);transform:translateY(-1px)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:80px 20px}.empty-illustration[_ngcontent-%COMP%]{margin-bottom:24px}.empty-illustration[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:clamp(48px,8vw,64px);color:var(--airbnb-red);opacity:.7}.empty-title[_ngcontent-%COMP%]{font-size:clamp(18px,3vw,22px);font-weight:600;color:var(--primary-text-color);margin:0 0 8px;transition:color .3s ease}.empty-message[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-size:clamp(14px,2vw,16px);max-width:400px;margin:0 auto 32px;transition:color .3s ease;line-height:1.5}.btn-start-searching[_ngcontent-%COMP%]{display:inline-block;background:var(--airbnb-red);color:#fff;text-decoration:none;padding:14px 32px;border-radius:8px;font-weight:600;transition:all .2s ease;min-height:44px;box-sizing:border-box}.bookings-grid[_ngcontent-%COMP%]{display:grid;gap:24px;grid-template-columns:1fr}.booking-card[_ngcontent-%COMP%]{background:var(--bg-color);border:1px solid var(--border-color);border-radius:12px;overflow:hidden;transition:all .2s ease;box-shadow:0 2px 8px var(--shadow-color);width:100%;box-sizing:border-box}.booking-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:16px 20px 0;gap:12px;flex-wrap:wrap}.booking-type[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--secondary-text-color);text-transform:uppercase;letter-spacing:.5px;transition:color .3s ease;flex-shrink:0}.booking-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:6px 12px;border-radius:20px;font-size:14px;font-weight:500;white-space:nowrap;flex-shrink:0}.status-completed[_ngcontent-%COMP%]{background:#0f7b0f26;color:#22c55e;border:1px solid rgba(15,123,15,.3)}.status-confirmed[_ngcontent-%COMP%]{background:#0066cc26;color:#3b82f6;border:1px solid rgba(0,102,204,.3)}.status-pending[_ngcontent-%COMP%]{background:#f57c0026;color:#f59e0b;border:1px solid rgba(245,124,0,.3)}.status-cancelled[_ngcontent-%COMP%]{background:#d9302526;color:#ef4444;border:1px solid rgba(217,48,37,.3)}.status-default[_ngcontent-%COMP%]{background:var(--light-grey-bg);color:var(--secondary-text-color);border:1px solid var(--border-color);transition:all .3s ease}.property-image[_ngcontent-%COMP%]{margin:16px 20px 0;height:200px;border-radius:8px;overflow:hidden;position:relative}.image-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(135deg,var(--airbnb-red) 0%,var(--airbnb-dark-red) 50%,#d1195b 100%);position:relative;overflow:hidden}.image-gradient[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(45deg,#ffffff1a,#ffffff0d,#0000001a)}.image-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:#ffffffe6}.image-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:clamp(32px,6vw,48px);margin-bottom:8px;display:block}.image-text[_ngcontent-%COMP%]{font-size:clamp(12px,2vw,16px);font-weight:600;text-transform:uppercase;letter-spacing:1px}.booking-details[_ngcontent-%COMP%]{padding:20px}.property-info[_ngcontent-%COMP%]{margin-bottom:16px}.property-title[_ngcontent-%COMP%]{font-size:clamp(16px,3vw,18px);font-weight:600;color:var(--primary-text-color);margin:0 0 4px;line-height:1.3;transition:color .3s ease;word-wrap:break-word}.property-location[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;color:var(--secondary-text-color);font-size:14px;margin:0;transition:color .3s ease;flex-wrap:wrap}.property-location[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;color:var(--airbnb-red);flex-shrink:0}.stay-details[_ngcontent-%COMP%]{margin-bottom:20px}.date-range[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:20px;padding:16px;background:var(--light-grey-bg);border-radius:8px;transition:background-color .3s ease;flex-wrap:wrap}.date-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;flex:1;min-width:120px}.date-label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--secondary-text-color);text-transform:uppercase;letter-spacing:.5px;transition:color .3s ease}.date-value[_ngcontent-%COMP%]{font-size:clamp(14px,2vw,16px);font-weight:600;color:var(--primary-text-color);transition:color .3s ease}.date-separator[_ngcontent-%COMP%]{color:var(--secondary-text-color);padding:0 8px;transition:color .3s ease;flex-shrink:0}.booking-meta-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:14px}.meta-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:14px;background:var(--active);border-radius:10px;border:1px solid var(--border-color);box-shadow:0 2px 4px var(--shadow-color);transition:all .2s ease;min-width:0}.meta-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--airbnb-red) 0%,var(--airbnb-dark-red) 100%);color:#fff;width:28px;height:28px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:12px;flex-shrink:0;box-shadow:0 2px 4px #ff385c4d}.meta-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px;min-width:0;flex:1}.meta-label[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text-color);font-weight:500;text-transform:uppercase;letter-spacing:.5px;transition:color .3s ease}.meta-value[_ngcontent-%COMP%]{font-size:14px;color:var(--primary-text-color);font-weight:600;transition:color .3s ease;word-wrap:break-word}.booking-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;padding-top:20px;border-top:1px solid var(--border-color);transition:border-color .3s ease;gap:16px;flex-wrap:wrap}.price-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;flex:1;min-width:120px}.price-breakdown[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.price-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.price-label[_ngcontent-%COMP%]{font-size:14px;color:var(--secondary-text-color);transition:color .3s ease}.price-value[_ngcontent-%COMP%]{font-size:clamp(18px,3vw,20px);font-weight:700;color:var(--primary-text-color);transition:color .3s ease}.price-per-night[_ngcontent-%COMP%]{margin-top:4px}.price-per-night-text[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text-color);background:var(--light-grey-bg);padding:4px 8px;border-radius:4px;transition:all .3s ease;display:inline-block}.booking-actions[_ngcontent-%COMP%]{display:flex;gap:12px;flex-shrink:0;flex-wrap:wrap}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:12px 18px;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;text-decoration:none;border:none;min-height:44px;white-space:nowrap;box-sizing:border-box}.btn-primary[_ngcontent-%COMP%]{background:var(--airbnb-red);color:#fff}.btn-secondary[_ngcontent-%COMP%]{background:transparent;color:var(--primary-text-color);border:1px solid var(--primary-text-color);transition:all .2s ease}@media (min-width: 992px) and (max-width: 1199px){.bookings-container[_ngcontent-%COMP%]{max-width:960px;padding:20px 16px}.booking-details[_ngcontent-%COMP%]{padding:18px}.property-image[_ngcontent-%COMP%]{margin:16px 18px 0}}@media (max-width: 991px){.profile[_ngcontent-%COMP%]{flex-direction:column}nav[_ngcontent-%COMP%]{border-right:none;border-bottom:1px solid #ddd;padding:20px;min-width:auto}main[_ngcontent-%COMP%]{padding:30px 20px}.user-info[_ngcontent-%COMP%]{padding:30px 20px}.bookings-container[_ngcontent-%COMP%]{padding:20px 16px}.booking-meta-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.profile[_ngcontent-%COMP%]{flex-direction:column}nav[_ngcontent-%COMP%]{padding:15px;align-items:stretch}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:12px;justify-content:flex-start}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.1rem;margin-left:8px}main[_ngcontent-%COMP%]{padding:20px 16px}.user-info[_ngcontent-%COMP%]{padding:20px 16px}.user-info[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]{width:100%;max-width:300px;height:220px}.user-info[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]   .initial-letter[_ngcontent-%COMP%]{font-size:2.5rem;padding:8px 25px}.bookings-container[_ngcontent-%COMP%]{padding:16px 12px}.booking-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px;padding:16px 16px 0}.property-image[_ngcontent-%COMP%]{margin:16px 16px 0;height:180px}.booking-details[_ngcontent-%COMP%]{padding:16px}.date-range[_ngcontent-%COMP%]{flex-direction:column;gap:12px;text-align:center}.date-item[_ngcontent-%COMP%]{align-items:center;text-align:center;min-width:auto}.date-separator[_ngcontent-%COMP%]{display:none}.booking-meta-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:12px}.booking-footer[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:16px}.booking-actions[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{flex:1;text-align:center;justify-content:center;min-width:0}}@media (max-width: 480px){nav[_ngcontent-%COMP%]{padding:10px}nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem}.letter[_ngcontent-%COMP%]{width:28px;height:28px;font-size:.9rem}main[_ngcontent-%COMP%]{padding:15px 12px}.user-info[_ngcontent-%COMP%]{padding:15px 12px}.user-info[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]{height:200px}.user-info[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.user-info[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]   .initial-letter[_ngcontent-%COMP%]{font-size:2rem;padding:6px 20px}.user-info[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.3rem}.user-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.1rem;min-height:50px}.bookings-container[_ngcontent-%COMP%]{padding:12px 8px;margin-top:60px}.booking-actions[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.booking-meta-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:10px}.meta-card[_ngcontent-%COMP%]{padding:12px}.meta-icon[_ngcontent-%COMP%]{width:26px;height:26px;font-size:11px}.booking-footer[_ngcontent-%COMP%]{text-align:center}.price-section[_ngcontent-%COMP%]{align-items:center}}@media (max-width: 320px){.bookings-container[_ngcontent-%COMP%]{padding:8px 4px}.booking-card[_ngcontent-%COMP%]{margin:0 2px}.booking-details[_ngcontent-%COMP%]{padding:12px}.property-image[_ngcontent-%COMP%]{margin:12px;height:160px}.meta-card[_ngcontent-%COMP%]{padding:10px;gap:8px}.booking-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .booking-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{padding:10px 12px;font-size:13px}}@media (max-height: 500px) and (orientation: landscape){.user-info[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]{height:180px}.user-info[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.empty-state[_ngcontent-%COMP%]{padding:40px 20px}.property-image[_ngcontent-%COMP%]{height:140px}}@media (-webkit-min-device-pixel-ratio: 2),(min-resolution: 192dpi){.booking-card[_ngcontent-%COMP%]{box-shadow:0 1px 4px var(--shadow-color)}.meta-card[_ngcontent-%COMP%]{box-shadow:0 1px 2px var(--shadow-color)}}@media print{.booking-actions[_ngcontent-%COMP%], .btn-retry[_ngcontent-%COMP%], .btn-start-searching[_ngcontent-%COMP%]{display:none}.booking-card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #ddd;break-inside:avoid;margin-bottom:20px}.bookings-container[_ngcontent-%COMP%]{padding:0}}"]})};var Xle=["uploadDialog"],Kle=["cropCanvas"],Qle=["cropContainer"];function Jle(n,e){if(n&1&&k(0,"img",38),n&2){let t=C();_("src",t.previewImageUrl,et)}}function ece(n,e){if(n&1&&k(0,"img",39),n&2){let t=C();_("src",t.img,et)}}function tce(n,e){if(n&1&&(l(0,"span",40),m(1),d()),n&2){let t,i=C();p(),U(" ",(i.user==null||(t=i.user.charAt(0))==null?null:t.toUpperCase())||"K"," ")}}var Yp=class n{constructor(e,t,i){this.userService=e;this.router=t;this.snackBar=i}authService=q(dt);showToast(e,t,i){this.snackBar.open(e,"Close",{duration:3e3,horizontalPosition:i,verticalPosition:t,panelClass:["custom-snackbar"]})}userId=this.authService.userId||"";firstName=(()=>{let e=localStorage.getItem("user");return e?JSON.parse(e)?.firstName??"":""})();lastName=(()=>{let e=localStorage.getItem("user");return e?JSON.parse(e)?.lastName??"":""})();phoneNumber=(()=>{let e=localStorage.getItem("user");return e?JSON.parse(e)?.phoneNumber??"":""})();country=(()=>{let e=localStorage.getItem("user");return e?JSON.parse(e)?.country??"":""})();birthDate=()=>{let e=localStorage.getItem("user");return e?JSON.parse(e)?.birthDate??"":""};bio=(()=>{let e=localStorage.getItem("user");return e?JSON.parse(e)?.bio??"":""})();handleImgService=q(Nr);user=(()=>{let e=localStorage.getItem("user");return e?JSON.parse(e)?.firstName??JSON.parse(e)?.userName:""})();ifImg=(()=>{let e=localStorage.getItem("user");return e?JSON.parse(e)?.profilePictureURL??"":""})();img=(()=>{let e=localStorage.getItem("user");return this.handleImgService.handleImage(e?JSON.parse(e)?.profilePictureURL??"":"")})();onUpdateProfile(){let e={firstName:this.firstName,lastName:this.lastName,phoneNumber:this.phoneNumber,country:this.country,birthDate:this.birthDate,bio:this.bio};if(!this.firstName){this.showToast("Please enter your first name","bottom","left");return}if(!this.lastName){this.showToast("Please enter your last name","bottom","left");return}if(!this.phoneNumber){this.showToast("Please enter your phone number","bottom","left");return}if(!this.country){this.showToast("Please enter your country","bottom","left");return}if(!this.birthDate){this.showToast("Please enter your birth date","bottom","left");return}if(!this.bio){this.showToast("Please enter your bio","bottom","left");return}this.userService.updateProfile(this.userId,e).subscribe({next:t=>{this.showToast("Profile updated successfully","bottom","left"),this.userService.getProfile(this.userId).subscribe({next:i=>{console.log(i),localStorage.setItem("email",i.email),localStorage.setItem("user",JSON.stringify(i)),this.router.navigate(["/profile/"+this.userId])},error:i=>{console.error(i)}})},error:t=>{this.showToast("Profile update failed","bottom","left"),console.error(t)}})}uploadDialog;cropCanvas;cropContainer;selectedFile=null;previewImageUrl=null;croppedImageBlob=null;isDragging=!1;cropArea={x:0,y:0,width:200,height:200};imageElement=null;containerBounds=null;onFileSelected(e){let i=e.target.files?.[0];i&&(this.selectedFile=i,this.previewImageUrl=URL.createObjectURL(i),this.uploadDialog?.nativeElement?.showModal(),setTimeout(()=>{this.initializeCropper()},100))}initializeCropper(){!this.previewImageUrl||!this.cropContainer||(this.imageElement=new Image,this.imageElement.onload=()=>{this.setupCropArea(),this.drawCroppedImage()},this.imageElement.src=this.previewImageUrl)}setupCropArea(){if(!this.cropContainer||!this.imageElement)return;let e=this.cropContainer.nativeElement,t=e.offsetWidth,i=e.offsetHeight,r=this.imageElement.naturalWidth/this.imageElement.naturalHeight,o=t/i,a,c,u=0,h=0;r>o?(a=t,c=t/r,h=(i-c)/2):(c=i,a=i*r,u=(t-a)/2),this.imageDisplayProps={width:a,height:c,offsetX:u,offsetY:h};let v=Math.min(200,a*.6,c*.6);this.cropArea={x:u+(a-v)/2,y:h+(c-v)/2,width:v,height:v},this.containerBounds=e.getBoundingClientRect(),this.drawCroppedImage()}imageDisplayProps=null;onMouseDown(e){if(!this.containerBounds||!this.imageDisplayProps)return;let t=this.cropContainer.nativeElement.getBoundingClientRect(),i=e.clientX-t.left,r=e.clientY-t.top;i>=this.cropArea.x&&i<=this.cropArea.x+this.cropArea.width&&r>=this.cropArea.y&&r<=this.cropArea.y+this.cropArea.height&&(this.isDragging=!0,this.cropArea.offsetX=i-this.cropArea.x,this.cropArea.offsetY=r-this.cropArea.y,e.preventDefault())}onMouseMove(e){if(!this.isDragging||!this.containerBounds||!this.imageDisplayProps)return;let t=this.cropContainer.nativeElement.getBoundingClientRect(),i=e.clientX-t.left-(this.cropArea.offsetX||0),r=e.clientY-t.top-(this.cropArea.offsetY||0),o=this.imageDisplayProps.offsetX,a=this.imageDisplayProps.offsetY,c=this.imageDisplayProps.offsetX+this.imageDisplayProps.width-this.cropArea.width,u=this.imageDisplayProps.offsetY+this.imageDisplayProps.height-this.cropArea.height;this.cropArea.x=Math.max(o,Math.min(i,c)),this.cropArea.y=Math.max(a,Math.min(r,u)),this.drawCroppedImage(),e.preventDefault()}drawCroppedImage(){if(!this.cropCanvas||!this.imageElement||!this.imageDisplayProps)return;let e=this.cropCanvas.nativeElement,t=e.getContext("2d");if(!t)return;let i=200;e.width=i,e.height=i;let r=this.cropArea.x-this.imageDisplayProps.offsetX,o=this.cropArea.y-this.imageDisplayProps.offsetY,a=this.imageElement.naturalWidth/this.imageDisplayProps.width,c=this.imageElement.naturalHeight/this.imageDisplayProps.height,u=r*a,h=o*c,v=this.cropArea.width*a,y=this.cropArea.height*c,P=Math.max(0,Math.min(u,this.imageElement.naturalWidth-v)),S=Math.max(0,Math.min(h,this.imageElement.naturalHeight-y)),M=Math.min(v,this.imageElement.naturalWidth-P),O=Math.min(y,this.imageElement.naturalHeight-S);t.fillStyle="#ffffff",t.fillRect(0,0,i,i),t.drawImage(this.imageElement,P,S,M,O,0,0,i,i),e.toBlob(R=>{this.croppedImageBlob=R},"image/jpeg",.9)}zoomOut(){if(!this.imageDisplayProps)return;let e=Math.min(this.imageDisplayProps.width,this.imageDisplayProps.height)*.8,t=Math.min(this.cropArea.width+20,e),i=t-this.cropArea.width;this.cropArea.x-=i/2,this.cropArea.y-=i/2,this.cropArea.width=t,this.cropArea.height=t,this.constrainCropArea(),this.drawCroppedImage()}zoomIn(){if(!this.imageDisplayProps)return;let t=Math.max(this.cropArea.width-20,100),i=t-this.cropArea.width;this.cropArea.x-=i/2,this.cropArea.y-=i/2,this.cropArea.width=t,this.cropArea.height=t,this.constrainCropArea(),this.drawCroppedImage()}constrainCropArea(){if(!this.imageDisplayProps)return;let e=this.imageDisplayProps.offsetX,t=this.imageDisplayProps.offsetY,i=this.imageDisplayProps.offsetX+this.imageDisplayProps.width-this.cropArea.width,r=this.imageDisplayProps.offsetY+this.imageDisplayProps.height-this.cropArea.height;this.cropArea.x=Math.max(e,Math.min(this.cropArea.x,i)),this.cropArea.y=Math.max(t,Math.min(this.cropArea.y,r))}onMouseUp(){this.isDragging=!1}confirmUpload(){if(this.croppedImageBlob){let e=new File([this.croppedImageBlob],"cropped-profile.jpg",{type:"image/jpeg"});this.userService.uploadProfileImage({userId:this.userId,file:e}).subscribe({next:t=>{this.userService.getProfile(this.userId).subscribe({next:i=>{console.log(i),localStorage.setItem("email",i.email),localStorage.setItem("user",JSON.stringify(i)),this.router.navigate(["/profile/"+this.userId])},error:i=>{console.error(i)}}),this.closeDialog()},error:t=>{console.error("Image upload failed:",t)}})}}closeDialog(){this.uploadDialog?.nativeElement?.close(),this.previewImageUrl=null,this.selectedFile=null,this.croppedImageBlob=null,this.isDragging=!1}static \u0275fac=function(t){return new(t||n)(V(cr),V(nt),V(vn))};static \u0275cmp=le({type:n,selectors:[["app-update-profile"]],viewQuery:function(t,i){if(t&1&&(en(Xle,5),en(Kle,5),en(Qle,5)),t&2){let r;qt(r=Zt())&&(i.uploadDialog=r.first),qt(r=Zt())&&(i.cropCanvas=r.first),qt(r=Zt())&&(i.cropContainer=r.first)}},decls:64,vars:58,consts:[["uploadDialog",""],["cropContainer",""],["cropCanvas",""],["profileForm","ngForm"],[1,"profile-container"],[1,"custom-dialog"],[1,"crop-section"],[1,"image-cropper-container"],[1,"crop-container",3,"mousedown","mousemove","mouseup","mouseleave"],["class","original-img","draggable","false","loading","lazy",3,"src",4,"ngIf"],[1,"crop-overlay"],[1,"crop-handle"],[1,"zoom-controls"],["type","button","title","Zoom Out",1,"zoom-btn",3,"click"],["type","button","title","Zoom In",1,"zoom-btn",3,"click"],[1,"preview-section"],["width","200","height","200",1,"preview-canvas"],[1,"dialog-buttons"],[1,"upload-btn",3,"click","disabled"],[1,"cancel-btn",3,"click"],[1,"profile-form",3,"ngSubmit"],[1,"user-img"],["alt","user-img","loading","lazy",3,"src",4,"ngIf"],["class","initial-letter",4,"ngIf"],[1,"upload-btn-container"],["for","profileImage",1,"upload-label"],[1,"bi","bi-camera-fill"],["type","file","id","profileImage","accept","image/*","hidden","",3,"change"],[1,"form-fields"],[1,"form-data"],["type","text","id","firstName","name","firstName",3,"ngModelChange","placeholder","ngModel"],["type","text","id","lastName","name","lastName",3,"ngModelChange","placeholder","ngModel"],["type","text","id","phoneNumber","name","phoneNumber",3,"ngModelChange","placeholder","ngModel"],["type","text","id","country","name","country",3,"ngModelChange","placeholder","ngModel"],["type","date","id","birthDate","name","birthDate",3,"ngModelChange","placeholder","ngModel"],["name","bio","id","bio",3,"ngModelChange","placeholder","ngModel"],[1,"button-container"],["type","submit",3,"disabled"],["draggable","false","loading","lazy",1,"original-img",3,"src"],["alt","user-img","loading","lazy",3,"src"],[1,"initial-letter"]],template:function(t,i){if(t&1){let r=X();l(0,"div",4)(1,"dialog",5,0)(3,"h3"),m(4),Q(5,"translate"),d(),l(6,"div",6)(7,"div",7)(8,"div",8,1),T("mousedown",function(a){return z(r),A(i.onMouseDown(a))})("mousemove",function(a){return z(r),A(i.onMouseMove(a))})("mouseup",function(){return z(r),A(i.onMouseUp())})("mouseleave",function(){return z(r),A(i.onMouseUp())}),j(10,Jle,1,1,"img",9),l(11,"div",10),k(12,"div",11),d()(),l(13,"div",12)(14,"button",13),T("click",function(){return z(r),A(i.zoomIn())}),l(15,"span"),m(16,"+"),d()(),l(17,"button",14),T("click",function(){return z(r),A(i.zoomOut())}),l(18,"span"),m(19,"-"),d()()()(),l(20,"div",15),k(21,"canvas",16,2),d()(),l(23,"div",17)(24,"button",18),T("click",function(){return z(r),A(i.confirmUpload())}),m(25),Q(26,"translate"),d(),l(27,"button",19),T("click",function(){return z(r),A(i.closeDialog())}),m(28),Q(29,"translate"),d()()(),l(30,"form",20,3),T("ngSubmit",function(){return z(r),A(i.onUpdateProfile())}),l(32,"div",21),j(33,ece,1,1,"img",22)(34,tce,2,1,"span",23),l(35,"div",24)(36,"label",25),k(37,"i",26),m(38),Q(39,"translate"),d(),l(40,"input",27),T("change",function(a){return z(r),A(i.onFileSelected(a))}),d()()(),l(41,"div",28)(42,"div",29)(43,"input",30),Q(44,"translate"),mt("ngModelChange",function(a){return z(r),_t(i.firstName,a)||(i.firstName=a),A(a)}),d()(),l(45,"div",29)(46,"input",31),Q(47,"translate"),mt("ngModelChange",function(a){return z(r),_t(i.lastName,a)||(i.lastName=a),A(a)}),d()(),l(48,"div",29)(49,"input",32),Q(50,"translate"),mt("ngModelChange",function(a){return z(r),_t(i.phoneNumber,a)||(i.phoneNumber=a),A(a)}),d()(),l(51,"div",29)(52,"input",33),Q(53,"translate"),mt("ngModelChange",function(a){return z(r),_t(i.country,a)||(i.country=a),A(a)}),d()(),l(54,"div",29)(55,"input",34),Q(56,"translate"),mt("ngModelChange",function(a){return z(r),_t(i.birthDate,a)||(i.birthDate=a),A(a)}),d()(),l(57,"div",29)(58,"textarea",35),Q(59,"translate"),mt("ngModelChange",function(a){return z(r),_t(i.bio,a)||(i.bio=a),A(a)}),d()()(),l(60,"div",36)(61,"button",37),m(62),Q(63,"translate"),d()()()()}if(t&2){let r=qi(31);p(4),$(de(5,36,"profile.previewImage")),p(6),_("ngIf",i.previewImageUrl),p(),xt("left",i.cropArea.x,"px")("top",i.cropArea.y,"px")("width",i.cropArea.width,"px")("height",i.cropArea.height,"px"),p(13),_("disabled",!i.croppedImageBlob),p(),U(" ",de(26,38,"profile.upload")," "),p(3),U(" ",de(29,40,"profile.cancel")," "),p(5),_("ngIf",i.ifImg),p(),_("ngIf",!i.ifImg),p(4),U(" ",de(39,42,"profile.uploadImage")," "),p(5),_("placeholder",ar(de(44,44,"profile.firstName"))),ft("ngModel",i.firstName),p(3),_("placeholder",ar(de(47,46,"profile.lastName"))),ft("ngModel",i.lastName),p(3),_("placeholder",ar(de(50,48,"profile.phoneNumber"))),ft("ngModel",i.phoneNumber),p(3),_("placeholder",ar(de(53,50,"profile.country"))),ft("ngModel",i.country),p(3),_("placeholder",ar(de(56,52,"profile.birthDate"))),ft("ngModel",i.birthDate),p(3),_("placeholder",ar(de(59,54,"profile.bio"))),ft("ngModel",i.bio),p(3),_("disabled",r.invalid),p(),U(" ",de(63,56,"profile.submit")," ")}},dependencies:[he,Ce,wt,Mt,mn,Rt,Dt,fn,kn,wr,Xt],styles:['.profile-container[_ngcontent-%COMP%]{display:flex;height:100vh}.profile-form[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 110px);position:relative;display:flex;align-items:center;justify-content:center;gap:15px;flex-wrap:wrap}.form-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:15px}.profile-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:400px;padding:10px;font-size:1.2rem;color:#000;border-radius:5px;border:1px solid black}.profile-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:400px;padding:10px;height:100px;font-size:1.2rem;color:#000;border-radius:5px;border:1px solid black;resize:none}.button-container[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:0;border-top:1px solid var(--border-color)}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 25px;margin:20px 150px 0;border-radius:5px;font-size:1.2rem;color:var(--bg-color);background-color:var(--primary-text-color);cursor:pointer}.user-img[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;border-radius:10px;width:350px;height:250px}.user-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px;height:250px;border-radius:50%;object-fit:contain}.user-img[_ngcontent-%COMP%]   .initial-letter[_ngcontent-%COMP%]{background-color:var(--primary-text-color);color:var(--bg-color);border-radius:50%;height:250px;width:250px;display:flex;align-items:center;justify-content:center;font-size:5.5rem;font-weight:700}.user-img[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%]{position:absolute;bottom:0;left:50%;transform:translate(-50%);background-color:var(--active);padding:5px 15px;border-radius:55px;cursor:pointer;box-shadow:0 2px 10px var(--shadow-color);font-size:1.1em}.custom-dialog[_ngcontent-%COMP%]{padding:50px;background-color:var(--primary-text-color);color:var(--bg-color);border-radius:20px;box-shadow:0 10px 40px var(--shadow-color);max-width:750px;width:90vw;max-height:90vh;overflow-y:auto;border:none}.custom-dialog[_ngcontent-%COMP%]::backdrop{background:#000000b3}.custom-dialog[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:25px;text-align:center;font-size:1.5rem;font-weight:700}.crop-section[_ngcontent-%COMP%]{display:flex;gap:25px;align-items:flex-start;margin-bottom:25px}.image-cropper-container[_ngcontent-%COMP%]{position:relative;flex:1}.crop-container[_ngcontent-%COMP%]{position:relative;width:350px;height:350px;border:3px solid var(--shadow-color);border-radius:15px;overflow:hidden;cursor:crosshair;background:var(--bg-color)}.original-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;display:block;pointer-events:none}.crop-overlay[_ngcontent-%COMP%]{position:absolute;border:3px solid var(--airbnb-dark-red);background:#dc267f26;cursor:move;border-radius:50%;box-shadow:0 0 0 2px #ffffffe6}.crop-overlay[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:3px;border:2px dashed var(--bg-color);border-radius:50%;opacity:.8}.crop-handle[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;background:var(--airbnb-dark-red);border:3px solid var(--bg-color);border-radius:50%;cursor:move;box-shadow:0 3px 10px var(--shadow-color)}.zoom-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;margin-top:15px}.zoom-btn[_ngcontent-%COMP%]{width:44px;height:44px;border:none;border-radius:50%;background-color:var(--shadow-color);font-size:20px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.preview-section[_ngcontent-%COMP%]{flex-shrink:0;display:flex;flex-direction:column;align-items:center}.preview-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:15px;text-align:center;font-size:1.2rem;font-weight:600}.preview-canvas[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:50%;border:4px solid var(--shadow-color);background:var(--bg-color);display:block}.dialog-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin-top:25px}.dialog-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 28px;border-radius:8px;font-size:1.1rem;font-weight:600;cursor:pointer;border:none;transition:all .3s ease}.upload-btn[_ngcontent-%COMP%]:hover:not(:disabled){opacity:.9;transform:translateY(-2px)}.upload-btn[_ngcontent-%COMP%]:disabled{background-color:var(--shadow-color);cursor:not-allowed;opacity:.6}.upload-btn[_ngcontent-%COMP%]{background-color:var(--airbnb-dark-red);color:#fff}.cancel-btn[_ngcontent-%COMP%]:hover{opacity:.8}@media (max-width: 768px){.custom-dialog[_ngcontent-%COMP%]{padding:20px;width:95vw;max-height:95vh}.crop-section[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:20px}.crop-container[_ngcontent-%COMP%]{width:300px;height:300px}.preview-canvas[_ngcontent-%COMP%]{width:150px;height:150px}.dialog-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:15px}.dialog-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;max-width:200px;margin:0 auto}}@media (max-width: 480px){.crop-container[_ngcontent-%COMP%]{width:250px;height:250px}.preview-canvas[_ngcontent-%COMP%]{width:120px;height:120px}.zoom-btn[_ngcontent-%COMP%]{width:36px;height:36px;font-size:16px}}']})};function nce(n,e){n&1&&(l(0,"div",3),m(1," No reviews found. "),d())}function ice(n,e){n&1&&(zt(0),k(1,"i",12),At())}function rce(n,e){if(n&1&&(l(0,"p",13)(1,"strong"),m(2,"Private:"),d(),m(3),d()),n&2){let t=C().$implicit;p(3),U(" ",t.privateComment," ")}}function oce(n,e){if(n&1&&(l(0,"div",4)(1,"div",5)(2,"div",6),j(3,ice,2,0,"ng-container",7),d(),l(4,"div",8),m(5),Q(6,"date"),d()(),l(7,"p",9),m(8),d(),j(9,rce,4,1,"p",10),l(10,"div",11)(11,"div")(12,"strong"),m(13,"Cleanliness:"),d(),m(14),d(),l(15,"div")(16,"strong"),m(17,"Accuracy:"),d(),m(18),d(),l(19,"div")(20,"strong"),m(21,"Communication:"),d(),m(22),d(),l(23,"div")(24,"strong"),m(25,"Location:"),d(),m(26),d(),l(27,"div")(28,"strong"),m(29,"Check-In:"),d(),m(30),d(),l(31,"div")(32,"strong"),m(33,"Value:"),d(),m(34),d()()()),n&2){let t=e.$implicit,i=C();p(3),_("ngForOf",i.getStars(t.rating)),p(2),$(Vt(6,10,t.createdAt,"mediumDate")),p(3),U("\u201C",t.comment,"\u201D"),p(),_("ngIf",t.privateComment),p(5),U(" ",t.cleanliness),p(4),U(" ",t.accuracy),p(4),U(" ",t.communication),p(4),U(" ",t.location),p(4),U(" ",t.checkIn),p(4),U(" ",t.value)}}var o7=class n{constructor(e){this.reviewService=e}authService=q(dt);userId=this.authService.userId||"";reviews=[];ngOnInit(){this.getReviews(),console.log(this.reviews)}getReviews(){this.reviewService.getReviewsByUserId(this.userId).subscribe({next:e=>{this.reviews=e,console.log(e)},error:e=>{console.log(e)}})}getStars(e){return Array(e).fill(0)}static \u0275fac=function(t){return new(t||n)(V(ul))};static \u0275cmp=le({type:n,selectors:[["app-your-reviews"]],decls:5,vars:2,consts:[[1,"reviews-container"],["class","no-reviews text-lg",4,"ngIf"],["class","review-card",4,"ngFor","ngForOf"],[1,"no-reviews","text-lg"],[1,"review-card"],[1,"stars-date"],[1,"stars"],[4,"ngFor","ngForOf"],[1,"review-date"],[1,"comment"],["class","private-comment",4,"ngIf"],[1,"ratings"],[1,"fa","fa-star","text-warning"],[1,"private-comment"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"h2"),m(2,"Your Reviews"),d(),j(3,nce,2,0,"div",1)(4,oce,35,13,"div",2),d()),t&2&&(p(3),_("ngIf",i.reviews.length===0),p(),_("ngForOf",i.reviews))},dependencies:[he,Xe,Ce,mi],styles:[".reviews-container[_ngcontent-%COMP%]{padding:20px;border-radius:12px}h2[_ngcontent-%COMP%]{text-align:center;font-size:1.8rem}.no-reviews[_ngcontent-%COMP%]{text-align:center;padding:20px;font-style:italic}.review-card[_ngcontent-%COMP%]{border:1px solid var(--border-color);padding:15px;border-radius:10px;margin-bottom:15px;box-shadow:0 2px 8px #0000000d;background-color:var(--active)}.comment[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;margin-top:10px}.private-comment[_ngcontent-%COMP%]{font-style:italic;margin-top:5px;background-color:#ffca281a;padding:8px;border-left:4px solid #ffca28;border-radius:5px}.ratings[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:8px;margin-top:10px;font-size:.9rem}.stars-date[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.stars[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fbc02d;margin-right:2px}.review-date[_ngcontent-%COMP%]{font-size:.85rem}"]})};var U4=class n{constructor(e){this.http=e}hubConnection;baseUrl=`${Ke.baseUrl}/Notification`;HubUrl=`${Ke.base}/notificationHub`;notificationSubject=new Re;newNotification$=this.notificationSubject.asObservable();unReadCount=0;startConnection(e){this.hubConnection=new p0().withUrl(this.HubUrl,{accessTokenFactory:()=>e,withCredentials:!0}).withAutomaticReconnect().build(),this.hubConnection.start().then(()=>console.log("SignalR connected.")).catch(t=>console.error("Error:",t)),this.hubConnection.on("ReceiveNotification",t=>{console.log("Notification Received:",t),this.notificationSubject.next(t)}),this.hubConnection.onclose(t=>{console.log("SignalR connection closed:",t)}),this.hubConnection.onreconnecting(t=>{console.log("SignalR reconnecting:",t)}),this.hubConnection.onreconnected(t=>{console.log("SignalR reconnected:",t)})}stopConnection(){this.hubConnection&&this.hubConnection.stop()}createNotification(e){return this.http.post(`${this.baseUrl}`,e).pipe(Ne(t=>{if(!t.isSuccess||!t.data)throw new Error(t.message||"Failed to create notification");return t.data}))}getNotificationsByUserId(e){return this.http.get(`${this.baseUrl}/${e}`).pipe(Ne(t=>{if(!t.isSuccess||!t.data)throw new Error(t.message||"Failed to fetch notifications");return t.data}))}setNotificationRead(e){return this.http.put(`${this.baseUrl}/${e}/read`,{}).pipe(Ne(t=>{if(!t.isSuccess)throw new Error(t.message||"Failed to mark as read")}))}deleteNotification(e){return this.http.delete(`${this.baseUrl}/${e}`).pipe(Ne(t=>{if(!t.isSuccess)throw new Error(t.message||"Failed to delete notification")}))}ngOnDestroy(){this.stopConnection()}static \u0275fac=function(t){return new(t||n)(De(Ct))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};function ace(n,e){if(n&1&&(l(0,"span",11),m(1),Q(2,"translate"),d()),n&2){let t=C();p(),Nt("",t.unreadCount," ",de(2,2,"notifications.unread"))}}function sce(n,e){n&1&&(l(0,"div",12),k(1,"app-loader",13),d()),n&2&&(p(),_("loadingText","Loading notifications...")("showText",!0))}function lce(n,e){if(n&1&&(l(0,"div",14),m(1),d()),n&2){let t=C();p(),U(" ",t.error," ")}}function cce(n,e){n&1&&(l(0,"div",15),m(1),Q(2,"translate"),d()),n&2&&(p(),U(" ",de(2,1,"notifications.noNotifications")," "))}function dce(n,e){if(n&1){let t=X();l(0,"button",23),T("click",function(r){z(t);let o=C().$implicit;return C().markAsRead(o),A(r.stopPropagation())}),m(1),Q(2,"translate"),d()}n&2&&(p(),U(" ",de(2,1,"notifications.markAsRead")," "))}function uce(n,e){if(n&1){let t=X();l(0,"div",16),T("click",function(){let r=z(t).$implicit,o=C();return A(o.markAsRead(r))}),l(1,"div",17)(2,"div",18),m(3),d(),l(4,"div",19),m(5),d()(),l(6,"div",20),j(7,dce,3,3,"button",21),l(8,"button",22),T("click",function(r){let o=z(t).$implicit;return C().deleteNotification(o),A(r.stopPropagation())}),m(9),Q(10,"translate"),d()()()}if(n&2){let t=e.$implicit,i=C();Me("unread",!t.isRead),p(3),$(t.message),p(2),$(i.getFormattedDate(t.createdAt)),p(2),_("ngIf",!t.isRead),p(2),U(" ",de(10,6,"notifications.delete")," ")}}var a7=class n{constructor(e,t,i){this.notificationService=e;this.authService=t;this.cdr=i}notifications=[];subscriptions=new jn;loading=!1;error=null;ngOnInit(){this.loadNotifications(),this.subscribeToNewNotifications()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.notificationService.stopConnection()}loadNotifications(){let e=this.authService.userId||"",t=this.authService.accessToken||"";this.loading=!0,this.error=null,this.notificationService.startConnection(t);let i=this.notificationService.getNotificationsByUserId(e).subscribe({next:r=>{this.notifications=r,this.updateUnreadCount(),this.loading=!1,this.cdr.detectChanges()},error:r=>{console.error("Error loading notifications:",r),this.error="Failed to load notifications",this.loading=!1,this.cdr.detectChanges()}});this.subscriptions.add(i)}subscribeToNewNotifications(){let e=this.notificationService.newNotification$.subscribe(t=>{console.log("New notification received in component:",t),t&&t.id?this.notifications.find(r=>r.id===t.id)||(this.notifications.unshift(t),this.updateUnreadCount(),this.cdr.detectChanges()):(console.warn("Received notification without ID:",t),this.refreshNotifications())});this.subscriptions.add(e)}refreshNotifications(){let e=this.authService.userId||"",t=this.notificationService.getNotificationsByUserId(e).subscribe({next:i=>{this.notifications=i,this.updateUnreadCount(),this.cdr.detectChanges()},error:i=>{console.error("Error refreshing notifications:",i)}});this.subscriptions.add(t)}updateUnreadCount(){this.notificationService.unReadCount=this.notifications.filter(e=>!e.isRead).length,localStorage.setItem("unReadCount",this.notificationService.unReadCount.toString())}markAsRead(e){if(!e.id||e.isRead)return;let t=this.notificationService.setNotificationRead(e.id).subscribe({next:()=>{e.isRead=!0,this.updateUnreadCount(),this.cdr.detectChanges()},error:i=>{console.error("Error marking notification as read:",i)}});this.subscriptions.add(t)}deleteNotification(e){if(!e.id)return;let t=this.notificationService.deleteNotification(e.id).subscribe({next:()=>{this.notifications=this.notifications.filter(i=>i.id!==e.id),this.updateUnreadCount(),this.cdr.detectChanges()},error:i=>{console.error("Error deleting notification:",i)}});this.subscriptions.add(t)}markAllAsRead(){this.notifications.filter(t=>!t.isRead&&t.id).forEach(t=>{t.id&&this.markAsRead(t)})}clearAllNotifications(){this.notifications.filter(t=>t.id).forEach(t=>{t.id&&this.deleteNotification(t)})}get unreadCount(){return this.notifications.filter(e=>!e.isRead).length}getFormattedDate(e){return e?new Date(e).toLocaleString():""}refreshManually(){this.refreshNotifications()}static \u0275fac=function(t){return new(t||n)(V(U4),V(dt),V(Ot))};static \u0275cmp=le({type:n,selectors:[["app-notifications"]],decls:18,vars:16,consts:[[1,"notifications-container"],[1,"notifications-header"],[1,"header-actions"],["class","unread-count",4,"ngIf"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"btn","btn-danger",3,"click","disabled"],[1,"notifications-content"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],["class","no-notifications",4,"ngIf"],["class","notification-item",3,"unread","click",4,"ngFor","ngForOf"],[1,"unread-count"],[1,"loading"],[3,"loadingText","showText"],[1,"error"],[1,"no-notifications"],[1,"notification-item",3,"click"],[1,"notification-content"],[1,"notification-message"],[1,"notification-date"],[1,"notification-actions"],["class","btn btn-sm btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"btn","btn-sm","btn-primary",3,"click"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),m(3),Q(4,"translate"),d(),l(5,"div",2),j(6,ace,3,4,"span",3),l(7,"button",4),T("click",function(){return i.markAllAsRead()}),m(8),Q(9,"translate"),d(),l(10,"button",5),T("click",function(){return i.clearAllNotifications()}),m(11),Q(12,"translate"),d()()(),l(13,"div",6),j(14,sce,2,2,"div",7)(15,lce,2,1,"div",8)(16,cce,3,3,"div",9)(17,uce,11,8,"div",10),d()()),t&2&&(p(3),$(de(4,10,"notifications.title")),p(3),_("ngIf",i.unreadCount>0),p(),_("disabled",i.unreadCount===0),p(),U(" ",de(9,12,"notifications.markAllAsRead")," "),p(2),_("disabled",i.notifications.length===0),p(),U(" ",de(12,14,"notifications.clearAll")," "),p(3),_("ngIf",i.loading),p(),_("ngIf",i.error),p(),_("ngIf",!i.loading&&!i.error&&i.notifications.length===0),p(),_("ngForOf",i.notifications))},dependencies:[he,Xe,Ce,wt,Zd,Xt],styles:[".notifications-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px;direction:rtl}.notifications-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:2px solid var(--border-color)}.notifications-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5em}.header-actions[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.unread-count[_ngcontent-%COMP%]{background-color:var(--airbnb-red);color:#fff;padding:4px 8px;border-radius:12px;font-size:12px;font-weight:700}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .3s}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{background-color:var(--secondary-text-color);color:#fff}.btn-danger[_ngcontent-%COMP%]{background-color:var(--airbnb-red);color:#fff}.btn[_ngcontent-%COMP%]:hover:not(:disabled){opacity:.8}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-sm[_ngcontent-%COMP%]{padding:4px 8px;font-size:12px}.notifications-content[_ngcontent-%COMP%]{min-height:200px}.loading[_ngcontent-%COMP%], .error[_ngcontent-%COMP%], .no-notifications[_ngcontent-%COMP%]{text-align:center;padding:40px}.error[_ngcontent-%COMP%]{color:var(--airbnb-red)}.notification-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px;margin-bottom:10px;background-color:var(--bg);border-radius:8px;cursor:pointer;transition:all .3s}.notification-item[_ngcontent-%COMP%]:hover{background-color:var(--light-grey-bg)}.notification-item.unread[_ngcontent-%COMP%]{border-left:4px solid var(--airbnb-dark-red)}.notification-content[_ngcontent-%COMP%]{flex:1}.notification-message[_ngcontent-%COMP%]{font-weight:500;margin-bottom:5px}.notification-date[_ngcontent-%COMP%]{font-size:12px}.notification-actions[_ngcontent-%COMP%]{display:flex;gap:8px}@media (max-width: 768px){.notifications-header[_ngcontent-%COMP%]{flex-direction:column;gap:15px;align-items:flex-start}.header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}.notification-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}.notification-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}}"]})};function pce(n,e){if(n&1&&(l(0,"div",7),m(1),d()),n&2){let t=C();p(),U(" ",t.errorMessage," ")}}function fce(n,e){if(n&1&&(l(0,"div",8),m(1),d()),n&2){let t=C();p(),U(" ",t.successMessage," ")}}function mce(n,e){n&1&&(l(0,"div",9)(1,"div",10)(2,"span",11),m(3,"Loading..."),d()()())}function hce(n,e){n&1&&(l(0,"div",43),m(1," Please provide an overall rating. "),d())}function gce(n,e){if(n&1&&(l(0,"div",22)(1,"div",23)(2,"label",24),m(3,"Overall Rating"),d(),k(4,"app-star-component",25),j(5,hce,2,0,"div",26),d()(),l(6,"div",22)(7,"h4",27),m(8,"Rate Your Experience in These Areas"),d(),l(9,"p",28),m(10," You've given your host an overall rating. Let them know how they did in these areas too so they have a better idea of what went well and how they can improve. "),d(),l(11,"div",29)(12,"div",30)(13,"label",24),k(14,"i",31),m(15,"Cleanliness "),d(),k(16,"app-star-component",32),d(),l(17,"div",30)(18,"label",24),k(19,"i",33),m(20,"Accuracy "),d(),k(21,"app-star-component",34),d(),l(22,"div",30)(23,"label",24),k(24,"i",35),m(25,"Communication "),d(),k(26,"app-star-component",36),d(),l(27,"div",30)(28,"label",24),k(29,"i",37),m(30,"Check-In "),d(),k(31,"app-star-component",38),d(),l(32,"div",30)(33,"label",24),k(34,"i",39),m(35,"Location "),d(),k(36,"app-star-component",40),d(),l(37,"div",30)(38,"label",24),k(39,"i",41),m(40,"Value "),d(),k(41,"app-star-component",42),d()()()),n&2){let t=C(2);p(4),_("fontSize","24px")("starColor","#FF385C"),p(),_("ngIf",t.getRating.invalid&&t.getRating.touched)}}function vce(n,e){n&1&&(l(0,"div"),m(1," Review comment is required "),d())}function bce(n,e){n&1&&(l(0,"div"),m(1," Review must be at least 10 characters long "),d())}function _ce(n,e){if(n&1&&(l(0,"div",51),j(1,vce,2,0,"div",52)(2,bce,2,0,"div",52),d()),n&2){let t=C(3);p(),_("ngIf",t.getComment.errors==null?null:t.getComment.errors.required),p(),_("ngIf",t.getComment.errors==null?null:t.getComment.errors.minlength)}}function yce(n,e){if(n&1&&(l(0,"div",44)(1,"div",22)(2,"h4"),m(3),d(),l(4,"label",45),m(5,"Your Review"),d(),l(6,"p",46),m(7," Give other travelers a heads-up about what they can expect. After the review period ends, we'll publish this on the host's listing. "),d(),k(8,"textarea",47),j(9,_ce,3,2,"div",48),d(),l(10,"div",22)(11,"h4"),m(12),d(),l(13,"label",49),m(14,"Private Comment (Optional)"),d(),l(15,"p",46),m(16," Say thanks or offer suggestions. This is just for the host\u2014other guests won't see it. "),d(),k(17,"textarea",50),d()()),n&2){let t=C(2);p(3),U(" Write a Public Review for ",t.propertyName||"this property"," "),p(5),Me("is-invalid",t.getComment.invalid&&t.getComment.touched),p(),_("ngIf",t.getComment.invalid&&t.getComment.touched),p(3),U("Leave a Private Note for ",t.propertyName||"the host")}}function xce(n,e){if(n&1&&(l(0,"div",22)(1,"div",53),k(2,"div",54),d(),l(3,"small",46),m(4),d()()),n&2){let t=C(2);p(2),xt("width",t.currentStep/t.totalSteps*100,"%"),an("aria-valuenow",t.currentStep)("aria-valuemax",t.totalSteps),p(2),Nt("Step ",t.currentStep," of ",t.totalSteps)}}function Cce(n,e){if(n&1){let t=X();l(0,"button",16),T("click",function(){z(t);let r=C(2);return A(r.previousStep())}),k(1,"i",17),m(2,"Previous "),d()}}function Mce(n,e){if(n&1){let t=X();l(0,"button",55),T("click",function(){z(t);let r=C(2);return A(r.nextStep())}),m(1," Next"),k(2,"i",56),d()}if(n&2){let t=C(2);_("disabled",!t.isCurrentStepValid())}}function wce(n,e){n&1&&k(0,"span",59)}function Sce(n,e){if(n&1&&(l(0,"button",57),j(1,wce,1,0,"span",58),m(2),d()),n&2){let t=C(2);_("disabled",!t.reviewForm.valid||t.isLoading),p(),_("ngIf",t.isLoading),p(),U(" ",t.mode==="edit"?"Update Review":"Submit Review"," ")}}function Pce(n,e){if(n&1){let t=X();l(0,"form",12),T("ngSubmit",function(){z(t);let r=C();return A(r.reviewHandler())}),yr(1,gce,42,3),j(2,yce,18,5,"div",13)(3,xce,5,6,"div",14),l(4,"div",15)(5,"button",16),T("click",function(){z(t);let r=C();return A(r.goBack())}),k(6,"i",17),m(7,"Return "),d(),l(8,"div",18),j(9,Cce,3,0,"button",19)(10,Mce,3,1,"button",20)(11,Sce,3,3,"button",21),d()()()}if(n&2){let t=C();_("formGroup",t.reviewForm),p(),xr(t.currentStep===1?1:-1),p(),_("ngIf",t.currentStep===2),p(),_("ngIf",t.mode!=="view"),p(6),_("ngIf",t.currentStep>1&&t.mode!=="view"),p(),_("ngIf",t.currentStep<t.totalSteps&&t.mode!=="view"),p(),_("ngIf",t.currentStep===t.totalSteps&&t.mode!=="view")}}var s7=class n{constructor(e,t,i,r){this.reviewService=e;this.activatedRoute=t;this.router=i;this.authService=r}reviewId=0;propertyId=0;mode="add";propertyName="";currentStep=1;totalSteps=2;isLoading=!1;errorMessage="";successMessage="";userId="";ngOnInit(){this.userId=this.authService.userId;let t=this.router.getCurrentNavigation()?.extras?.state?.reviewData;this.activatedRoute.queryParams.subscribe({next:i=>{i.propertyId&&(this.propertyId=Number(i.propertyId),this.mode=i.mode||"add")}}),this.activatedRoute.paramMap.subscribe({next:i=>{let r=i.get("id");r&&r!=="0"?(this.reviewId=Number(r),this.mode="edit",t?this.populateForm(t):this.loadExistingReview()):this.resetForm()},error:i=>console.log(i)})}populateForm(e){this.reviewForm.patchValue({comment:e.comment,privateComment:e.privateComment||"",rating:e.rating,cleanliness:e.cleanliness||0,accuracy:e.accuracy||0,communication:e.communication||0,checkIn:e.checkIn||0,location:e.location||0,value:e.value||0}),this.propertyId=e.propertyId||0}reviewForm=new Qs({comment:new Ri("",[ht.required,ht.minLength(3)]),privateComment:new Ri(""),rating:new Ri(0,[ht.required,ht.min(1),ht.max(5)]),cleanliness:new Ri(0,[ht.required,ht.min(1),ht.max(5)]),accuracy:new Ri(0,[ht.required,ht.min(1),ht.max(5)]),communication:new Ri(0,[ht.required,ht.min(1),ht.max(5)]),checkIn:new Ri(0,[ht.required,ht.min(1),ht.max(5)]),location:new Ri(0,[ht.required,ht.min(1),ht.max(5)]),value:new Ri(0,[ht.required,ht.min(1),ht.max(5)])});get getComment(){return this.reviewForm.controls.comment}get getPrivateNote(){return this.reviewForm.controls.privateComment}get getRating(){return this.reviewForm.controls.rating}get getCleanliness(){return this.reviewForm.controls.cleanliness}get getAccuracy(){return this.reviewForm.controls.accuracy}get getCommunication(){return this.reviewForm.controls.communication}get getCheckIn(){return this.reviewForm.controls.checkIn}get getLocation(){return this.reviewForm.controls.location}get getValue(){return this.reviewForm.controls.value}resetForm(){this.reviewForm.patchValue({comment:"",privateComment:"",rating:0,cleanliness:0,accuracy:0,communication:0,checkIn:0,location:0,value:0})}loadExistingReview(){if(!this.userId){this.errorMessage="User not authenticated";return}this.isLoading=!0,this.reviewService.getReviewById(this.reviewId).subscribe({next:e=>{this.populateForm(e),this.isLoading=!1},error:e=>{console.log(e),this.errorMessage="Failed to load review data",this.isLoading=!1}})}isCurrentStepValid(){return this.currentStep===1?this.getRating.valid&&(this.getRating.value??0)>0&&this.getCleanliness.valid&&(this.getCleanliness.value??0)>0&&this.getAccuracy.valid&&(this.getAccuracy.value??0)>0&&this.getCommunication.valid&&(this.getCommunication.value??0)>0&&this.getCheckIn.valid&&(this.getCheckIn.value??0)>0&&this.getLocation.valid&&(this.getLocation.value??0)>0&&this.getValue.valid&&(this.getValue.value??0)>0:this.currentStep===2?this.getComment.valid:!1}nextStep(){this.isCurrentStepValid()&&this.currentStep<this.totalSteps&&this.currentStep++}previousStep(){this.currentStep>1&&this.currentStep--}reviewHandler(){if(!this.userId){this.errorMessage="User not authenticated. Please log in.";return}if(!this.reviewForm.valid){this.markFormGroupTouched();return}this.isLoading=!0,this.errorMessage="",this.successMessage="";let e={propertyId:this.propertyId,comment:this.getComment.value??"",privateComment:this.getPrivateNote.value??"",rating:this.getRating.value??0,cleanliness:this.getCleanliness.value??0,accuracy:this.getAccuracy.value??0,communication:this.getCommunication.value??0,checkIn:this.getCheckIn.value??0,location:this.getLocation.value??0,value:this.getValue.value??0,userId:this.userId};if(this.mode==="add")console.log("Submitting review data:",e),this.reviewService.addReview(e).subscribe({next:t=>{console.log("Review added successfully:",t),this.isLoading=!1,this.successMessage="Review submitted successfully!",setTimeout(()=>{console.log("Navigating to:",`/property/${this.propertyId}`),this.router.navigate([`/property/${this.propertyId}`])},1500)},error:t=>{console.error("Error details:",t),this.isLoading=!1,this.errorMessage="Failed to submit review. Please try again."}});else if(this.mode==="edit"){let t=Ve(ie({},e),{id:this.reviewId});this.reviewService.updateReview(this.reviewId,t).subscribe({next:()=>{this.isLoading=!1,this.successMessage="Review updated successfully!",setTimeout(()=>{this.router.navigate(["/property",this.propertyId])},500)},error:i=>{console.log(i),this.isLoading=!1,this.errorMessage="Failed to update review. Please try again."}})}}markFormGroupTouched(){Object.values(this.reviewForm.controls).forEach(e=>{e.markAsTouched()})}goBack(){this.propertyId?this.router.navigate([`/property/${this.propertyId}`]):this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||n)(V(ul),V(qn),V(nt),V(dt))};static \u0275cmp=le({type:n,selectors:[["app-review-form"]],decls:7,vars:4,consts:[[1,"mt-5","d-flex","justify-content-center","align-items-center","min-vh-100","bg-light"],[1,"p-4","rounded-4","shadow-lg","bg-white",2,"width","100%","max-width","600px"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],["class","alert alert-danger mb-3",4,"ngIf"],["class","alert alert-success mb-3",4,"ngIf"],["class","text-center py-4",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-danger","mb-3"],[1,"alert","alert-success","mb-3"],[1,"text-center","py-4"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[3,"ngSubmit","formGroup"],["class","step-content",4,"ngIf"],["class","mb-4",4,"ngIf"],[1,"d-flex","justify-content-between","mt-4"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-arrow-left","me-1"],[1,"d-flex","gap-2"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["type","button","class","btn btn-dark",3,"disabled","click",4,"ngIf"],["type","submit","class","btn btn-dark",3,"disabled",4,"ngIf"],[1,"mb-4"],[1,"mb-3"],[1,"form-label"],["formControlName","rating",3,"fontSize","starColor"],["class","text-danger mt-1 small",4,"ngIf"],[1,"mb-2"],[1,"text-muted","mb-4"],[1,"row"],[1,"col-md-12","mb-3"],[1,"bi","bi-sparkles","me-2","text-primary"],["formControlName","cleanliness"],[1,"bi","bi-check-circle","me-2","text-success"],["formControlName","accuracy"],[1,"bi","bi-chat-square-dots","me-2","text-info"],["formControlName","communication"],[1,"bi","bi-key","me-2","text-warning"],["formControlName","checkIn"],[1,"bi","bi-geo-alt","me-2","text-danger"],["formControlName","location"],[1,"bi","bi-tag","me-2","text-secondary"],["formControlName","value"],[1,"text-danger","mt-1","small"],[1,"step-content"],["for","comment",1,"form-label"],[1,"text-muted"],["id","comment","formControlName","comment","rows","4","placeholder","Write a public review",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","privatecomment",1,"form-label"],["id","privatecomment","formControlName","privateComment","placeholder","Thank you!","rows","3",1,"form-control"],[1,"invalid-feedback"],[4,"ngIf"],[1,"progress"],["role","progressbar","aria-valuemin","0",1,"progress-bar","bg-dark"],["type","button",1,"btn","btn-dark",3,"click","disabled"],[1,"bi","bi-arrow-right","ms-1"],["type","submit",1,"btn","btn-dark",3,"disabled"],["class","spinner-border spinner-border-sm me-1","role","status","aria-hidden","true",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-1"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2),j(3,pce,2,1,"div",3)(4,fce,2,1,"div",4)(5,mce,4,0,"div",5)(6,Pce,12,7,"form",6),d()()()),t&2&&(p(3),_("ngIf",i.errorMessage),p(),_("ngIf",i.successMessage),p(),_("ngIf",i.isLoading),p(),_("ngIf",!i.isLoading))},dependencies:[Ii,mn,Rt,Dt,fn,Zi,xo,he,Ce,A1],styles:[".step-content[_ngcontent-%COMP%]{min-height:400px;animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translate(10px)}to{opacity:1;transform:translate(0)}}.progress[_ngcontent-%COMP%]{height:8px;border-radius:4px;background-color:#e9ecef}.progress-bar[_ngcontent-%COMP%]{background-color:#212529;border-radius:4px;transition:width .3s ease}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#495057;margin-bottom:.5rem}.text-muted[_ngcontent-%COMP%]{color:#6c757d!important;font-size:.9rem;line-height:1.4}h4[_ngcontent-%COMP%]{color:#212529;font-weight:600;margin-bottom:1rem}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.text-danger[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.875rem}"]})};var kce=(n,e,t,i)=>({"badge-easy":n,"badge-medium":e,"badge-hard":t,"badge-very-hard":i});function Oce(n,e){if(n&1&&(l(0,"div",7),m(1),d()),n&2){let t=C();p(),$(t.caption)}}function Dce(n,e){n&1&&(l(0,"div",8),k(1,"span",9),d())}function Ece(n,e){if(n&1&&k(0,"i",19),n&2){let t=C().$implicit,i=C(2);cn(i.getSortIcon(t))}}function Ice(n,e){if(n&1){let t=X();l(0,"div",15),T("click",function(){let r=z(t).$implicit,o=C(2);return A(o.onSort(r))}),l(1,"div",16)(2,"span",17),m(3),d(),j(4,Ece,1,2,"i",18),d()()}if(n&2){let t=e.$implicit;Me("sortable",t.sortable)("sorted",t.sortDirection)("asc",t.sortDirection==="asc")("desc",t.sortDirection==="desc"),p(3),$(t.label),p(),_("ngIf",t.sortable)}}function Tce(n,e){n&1&&(l(0,"div",20),m(1," Actions "),d())}function Lce(n,e){if(n&1&&(l(0,"span"),m(1),Q(2,"date"),d()),n&2){let t=C().$implicit,i=C().$implicit;p(),$(Vt(2,1,i[t.field],"short"))}}function zce(n,e){if(n&1&&(l(0,"span"),m(1),d()),n&2){let t=C().$implicit,i=C().$implicit;cn(i[t.field]?"status-active":"status-inactive"),p(),U(" ",i[t.field]?"Active":"Inactive"," ")}}function Ace(n,e){if(n&1&&(l(0,"span"),m(1),d()),n&2){let t=C().$implicit,i=C().$implicit;cn(i[t.field]?"status-inactive":"status-active"),p(),U(" ",i[t.field]?"Deleted":"Active"," ")}}function Nce(n,e){if(n&1&&(l(0,"span"),m(1),d()),n&2){let t=C().$implicit,i=C().$implicit;cn(i[t.field]?"status-active":"status-inactive"),p(),U(" ",i[t.field]?"Active":"Inactive"," ")}}function Rce(n,e){if(n&1&&(l(0,"span"),m(1),d()),n&2){let t=C().$implicit,i=C().$implicit;cn(i[t.field]==1?"status-pending":i[t.field]==2?"status-accepted":"status-rejected"),p(),U(" ",i[t.field]==1?"Pending":i[t.field]==2?"Accepted":"Rejected"," ")}}function Fce(n,e){if(n&1&&(l(0,"span",29),m(1),d()),n&2){let t=C().$implicit,i=C().$implicit;_("ngClass",Md(2,kce,i[t.field]==="Easy",i[t.field]==="Medium",i[t.field]==="Hard",i[t.field]==="Very Hard")),p(),U(" ",i[t.field]," ")}}function Vce(n,e){if(n&1&&(l(0,"span"),m(1),d()),n&2){let t=C().$implicit,i=C().$implicit;p(),$(i[t.field])}}function Bce(n,e){if(n&1&&(l(0,"div",23),zt(1,24),j(2,Lce,3,4,"span",25)(3,zce,2,3,"span",26)(4,Ace,2,3,"span",26)(5,Nce,2,3,"span",26)(6,Rce,2,3,"span",26)(7,Fce,2,7,"span",27)(8,Vce,2,1,"span",28),At(),d()),n&2){let t=e.$implicit;p(),_("ngSwitch",t.pipe),p(),_("ngSwitchCase","date"),p(),_("ngSwitchCase","boolean"),p(),_("ngSwitchCase","deletedStatus"),p(),_("ngSwitchCase","active"),p(),_("ngSwitchCase","acceptStatus"),p(),_("ngSwitchCase","confidence")}}function jce(n,e){n&1&&k(0,"i"),n&2&&cn("bi bi-toggle-on fw-bolder")}function Hce(n,e){n&1&&k(0,"i"),n&2&&cn("bi bi-toggle-off fw-bolder")}function Uce(n,e){if(n&1&&k(0,"i"),n&2){let t=C().$implicit;cn(t.icon)}}function $ce(n,e){if(n&1){let t=X();l(0,"button",31),T("click",function(){let r=z(t).$implicit,o=C(2).$implicit,a=C(2);return A(a.handleActionClick(r.type,o))}),j(1,jce,1,2,"i",32)(2,Hce,1,2,"i",32)(3,Uce,1,2,"i",32),d()}if(n&2){let t=e.$implicit,i=C(2).$implicit;xt("color",t.color||"#007bff"),_("title",t.tooltip||t.type),p(),_("ngIf",t.type=="activationStatus"&&i.isActive),p(),_("ngIf",t.type=="activationStatus"&&!i.isActive),p(),_("ngIf",t.type!="activationStatus")}}function Wce(n,e){if(n&1&&(l(0,"div",20),j(1,$ce,4,6,"button",30),d()),n&2){let t=C(3);p(),_("ngForOf",t.actions)}}function Gce(n,e){if(n&1&&(l(0,"div",21),j(1,Bce,9,7,"div",22)(2,Wce,2,1,"div",12),d()),n&2){let t=e.index,i=C(2);xt("animation-delay",t*100,"ms"),p(),_("ngForOf",i.columns),p(),_("ngIf",i.actions.length>0)}}function Yce(n,e){n&1&&(l(0,"div",33),m(1," No data available "),d())}function qce(n,e){if(n&1&&(l(0,"div")(1,"div",10),j(2,Ice,5,10,"div",11)(3,Tce,2,0,"div",12),d(),j(4,Gce,3,4,"div",13)(5,Yce,2,0,"div",14),d()),n&2){let t=C();p(2),_("ngForOf",t.columns),p(),_("ngIf",t.actions.length>0),p(),_("ngForOf",t.displayData),p(),_("ngIf",t.displayData.length===0)}}function Zce(n,e){if(n&1&&(l(0,"span"),m(1),d()),n&2){let t=C(2);p(),jo(" Showing ",(t.currentPage-1)*t.paginationInfo.itemsPerPage+1," - ",t.Math.min(t.currentPage*t.paginationInfo.itemsPerPage,t.totalItems)," of ",t.totalItems," items ")}}function Xce(n,e){if(n&1&&(l(0,"span"),m(1),d()),n&2){let t=C(2);p(),jo(" Showing ",(t.currentPage-1)*t.paginationInfo.itemsPerPage+1," - ",t.Math.min(t.currentPage*t.paginationInfo.itemsPerPage,t.data.length)," of ",t.data.length," items ")}}function Kce(n,e){if(n&1){let t=X();zt(0),l(1,"button",46),T("click",function(){let r=z(t).$implicit,o=C(2);return A(o.goToPage(r))}),m(2),d(),At()}if(n&2){let t=e.$implicit,i=C(2);p(),Me("active",i.currentPage===t),p(),U(" ",t," ")}}function Qce(n,e){if(n&1){let t=X();l(0,"div",34)(1,"div",35),j(2,Zce,2,3,"span",5)(3,Xce,2,3,"span",5),d(),l(4,"div",36)(5,"button",37),T("click",function(){z(t);let r=C();return A(r.goToPage(1))}),k(6,"i",38),d(),l(7,"button",39),T("click",function(){z(t);let r=C();return A(r.changePage(-1))}),k(8,"i",40),d(),j(9,Kce,3,3,"ng-container",41),l(10,"button",42),T("click",function(){z(t);let r=C();return A(r.changePage(1))}),k(11,"i",43),d(),l(12,"button",44),T("click",function(){z(t);let r=C();return A(r.goToPage(r.totalPages))}),k(13,"i",45),d()()()}if(n&2){let t=C();p(2),_("ngIf",t.useBackendPagination),p(),_("ngIf",!t.useBackendPagination),p(2),_("disabled",t.currentPage===1),p(2),_("disabled",t.currentPage===1),p(2),_("ngForOf",t.getVisiblePages()),p(),_("disabled",t.currentPage===t.totalPages),p(2),_("disabled",t.currentPage===t.totalPages)}}var $a=class n{columns=[];data=[];actions=[];loading=!1;striped=!1;hoverable=!0;caption="";paginationInfo={currentPage:1,totalPages:1,totalItems:0,itemsPerPage:5};useBackendPagination=!1;currentSort=null;actionClick=new ye;pageChange=new ye;sortChange=new ye;nameClick=new ye;clientCurrentPage=1;document=q(Tt);ngOnChanges(e){console.log(" data is",this.data),e.data&&(console.log("\u{1F50D} Table received data:",this.data),console.log("\u{1F50D} Table data length:",this.data?.length),console.log("\u{1F50D} Table columns:",this.columns),console.log("\u{1F50D} Loading state:",this.loading),console.log("\u{1F50D} Backend pagination:",this.useBackendPagination),console.log("\u{1F50D} Pagination info:",this.paginationInfo)),e.currentSort&&this.updateColumnSortStates()}get isDarkMode(){return this.document.body.classList.contains("dark-mode")}get displayData(){if(this.useBackendPagination)return this.data||[];{let e=(this.clientCurrentPage-1)*this.paginationInfo.itemsPerPage;return(this.data||[]).slice(e,e+this.paginationInfo.itemsPerPage)}}get currentPage(){return this.useBackendPagination?this.paginationInfo.currentPage:this.clientCurrentPage}get totalPages(){return this.useBackendPagination?this.paginationInfo.totalPages:Math.ceil((this.data?.length||0)/this.paginationInfo.itemsPerPage)}get totalItems(){return this.useBackendPagination?this.paginationInfo.totalItems:this.data?.length||0}changePage(e){let t=this.currentPage+e;t>0&&t<=this.totalPages&&(this.useBackendPagination?this.pageChange.emit(t):this.clientCurrentPage=t)}goToPage(e){e>0&&e<=this.totalPages&&(this.useBackendPagination?this.pageChange.emit(e):this.clientCurrentPage=e)}onSort(e){if(!e.sortable)return;let t="asc";this.currentSort?.field===e.field&&(t=this.currentSort.direction==="asc"?"desc":"asc"),this.sortChange.emit({field:e.field,direction:t})}updateColumnSortStates(){this.columns.forEach(e=>{this.currentSort?.field===e.field?e.sortDirection=this.currentSort.direction:e.sortDirection=null})}getSortIcon(e){return e.sortable?e.sortDirection==="asc"?"fas fa-sort-up":e.sortDirection==="desc"?"fas fa-sort-down":"fas fa-sort":""}handleActionClick(e,t){this.actionClick.emit({type:e,row:t})}getVisiblePages(){let e=this.currentPage,t=this.totalPages,i=5;if(t<=i)return Array.from({length:t},(a,c)=>c+1);let r=Math.max(1,e-Math.floor(i/2)),o=Math.min(t,r+i-1);return Array.from({length:o-r+1},(a,c)=>r+c)}formatCellValue(e,t){if(e==null)return"";switch(t){case"boolean":return e?"Active":"Inactive";case"date":return new Date(e).toLocaleString();default:return e}}Math=Math;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=le({type:n,selectors:[["app-table"]],inputs:{columns:"columns",data:"data",actions:"actions",loading:"loading",striped:"striped",hoverable:"hoverable",caption:"caption",paginationInfo:"paginationInfo",useBackendPagination:"useBackendPagination",currentSort:"currentSort"},outputs:{actionClick:"actionClick",pageChange:"pageChange",sortChange:"sortChange",nameClick:"nameClick"},features:[Gt],decls:7,vars:6,consts:[[1,"table-wrapper"],["class","caption",4,"ngIf"],[1,"scroll-container"],[1,"table-body-wrapper",2,"position","relative","min-height","150px"],["class","table-loader-overlay",4,"ngIf"],[4,"ngIf"],["class","pagination-wrapper",4,"ngIf"],[1,"caption"],[1,"table-loader-overlay"],[1,"spinner"],[1,"table-row","header"],["class","table-cell",3,"sortable","sorted","asc","desc","click",4,"ngFor","ngForOf"],["class","table-cell actions",4,"ngIf"],["class","table-row",3,"animationDelay",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],[1,"table-cell",3,"click"],[1,"header-content"],[1,"header-text"],["class","sort-icon",3,"class",4,"ngIf"],[1,"sort-icon"],[1,"table-cell","actions"],[1,"table-row"],["class","table-cell",4,"ngFor","ngForOf"],[1,"table-cell"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"class",4,"ngSwitchCase"],[3,"ngClass",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass"],["class","action-btn",3,"title","color","click",4,"ngFor","ngForOf"],[1,"action-btn",3,"click","title"],[3,"class",4,"ngIf"],[1,"no-data"],[1,"pagination-wrapper"],[1,"pagination-info"],[1,"pagination","center"],["title","First page",1,"pagination-btn",3,"click","disabled"],[1,"fas","fa-angle-double-left"],["title","Previous page",1,"pagination-btn",3,"click","disabled"],[1,"fas","fa-chevron-left"],[4,"ngFor","ngForOf"],["title","Next page",1,"pagination-btn",3,"click","disabled"],[1,"fas","fa-chevron-right"],["title","Last page",1,"pagination-btn",3,"click","disabled"],[1,"fas","fa-angle-double-right"],[1,"pagination-btn","page-number",3,"click"]],template:function(t,i){t&1&&(l(0,"div",0),j(1,Oce,2,1,"div",1),l(2,"div",2)(3,"div",3),j(4,Dce,2,0,"div",4)(5,qce,6,4,"div",5),d()(),j(6,Qce,14,7,"div",6),d()),t&2&&(Me("dark-mode",i.isDarkMode),p(),_("ngIf",i.caption),p(3),_("ngIf",i.loading),p(),_("ngIf",!i.loading),p(),_("ngIf",i.totalPages>1||i.totalItems>i.paginationInfo.itemsPerPage))},dependencies:[he,Bt,Xe,Ce,aa,ps,yy,mi],styles:[".table-wrapper[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:1rem;box-shadow:0 4px 12px #0000000d;overflow-x:auto;font-family:sans-serif}.caption[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;margin-bottom:1rem}.table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:1rem;padding:1rem;background-color:#f9fafb;border-radius:.75rem;margin-bottom:.5rem;opacity:0;transform:translateY(10px);animation:_ngcontent-%COMP%_fadeInRow .4s ease forwards}@keyframes _ngcontent-%COMP%_fadeInRow{to{opacity:1;transform:translateY(0)}}.table-row.header[_ngcontent-%COMP%]{font-weight:700;background-color:#f5f5f5;cursor:pointer}.table-cell[_ngcontent-%COMP%]{text-align:center;font-size:.95rem;color:#333}.actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem}.action-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;font-size:1.1rem;transition:transform .2s ease}.action-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.no-data[_ngcontent-%COMP%]{text-align:center;color:#888;font-style:italic;padding:2rem}.loader-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:2rem}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:1rem}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f97316;color:#fff;padding:6px 12px;border:none;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .3s ease}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.95rem;color:#333}.table-wrapper.dark-mode[_ngcontent-%COMP%]{background:#1e1e1e;color:#fff}.table-wrapper.dark-mode[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{background-color:#2a2a2a}.table-wrapper.dark-mode[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%], .table-wrapper.dark-mode[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ddd}.table-wrapper.dark-mode[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{color:#aaa}.pagination.center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.4rem;margin-top:1.5rem;flex-wrap:wrap}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:transparent;padding:4px 12px;font-weight:700;color:#555;border-radius:50px;cursor:pointer;transition:all .3s ease;-webkit-border-radius:50px;-moz-border-radius:50px;-ms-border-radius:50px;-o-border-radius:50px}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .pagination[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.table-loader-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#ffffffb3;display:flex;align-items:center;justify-content:center;z-index:1}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #ccc;border-top:4px solid #4caf50;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.status-active[_ngcontent-%COMP%]{color:#28a745;font-weight:600;background-color:#d4edda;border:1px solid #c3e6cb;border-radius:12px;padding:2px 8px;font-size:12px;text-align:center;display:inline-block;min-width:60px}.status-inactive[_ngcontent-%COMP%]{color:#dc3545;font-weight:600;background-color:#f8d7da;border:1px solid #f5c6cb;border-radius:12px;padding:2px 8px;font-size:12px;text-align:center;display:inline-block;min-width:60px}.status-pending[_ngcontent-%COMP%]{color:#c7cd09;font-weight:600;background-color:#fbfbf6;border:1px solid #f5c6cb;border-radius:12px;padding:2px 8px;font-size:12px;text-align:center;display:inline-block;min-width:60px}.status-accepted[_ngcontent-%COMP%]{color:#28a745;font-weight:600;background-color:#d4edda;border:1px solid #dafbb8;border-radius:12px;padding:2px 8px;font-size:12px;text-align:center;display:inline-block;min-width:60px}.status-rejected[_ngcontent-%COMP%]{color:#dc3545;font-weight:600;background-color:#fd9fa7;border:1px solid #f5c6cb;border-radius:12px;padding:2px 8px;font-size:12px;text-align:center;display:inline-block;min-width:60px}.dark-mode[_ngcontent-%COMP%]   .status-active[_ngcontent-%COMP%]{background-color:#28a74533;border-color:#28a7454d}.dark-mode[_ngcontent-%COMP%]   .status-inactive[_ngcontent-%COMP%]{background-color:#dc354533;border-color:#dc35454d}.badge-easy[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534;padding:4px 8px;border-radius:6px;font-weight:500}.badge-medium[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e;padding:4px 8px;border-radius:6px;font-weight:500}.badge-hard[_ngcontent-%COMP%]{background-color:#fde68a;color:#92400e;padding:4px 8px;border-radius:6px;font-weight:500}.badge-very-hard[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b;padding:4px 8px;border-radius:6px;font-weight:500}"]})};var bl=class n{constructor(e){this.http=e}apiUrl=`${Ke.baseUrl}/User`;getAllUsers(){return this.http.get(`${this.apiUrl}/get-all-users`)}getUserProfile(e){return this.http.get(`${this.apiUrl}/profile/${e}`)}static \u0275fac=function(t){return new(t||n)(De(Ct))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};function Jce(n,e){n&1&&(l(0,"div",33)(1,"div",34),k(2,"i",35),l(3,"p"),m(4,"Loading user details..."),d()()())}function e1e(n,e){if(n&1){let t=X();l(0,"img",48),T("error",function(r){z(t);let o=C(3);return A(o.onImageError(r))}),d()}if(n&2){let t=C(3);_("src",t.selectedUser.profilePictureURL,et)("alt",t.selectedUser.firstName+" "+t.selectedUser.lastName)}}function t1e(n,e){if(n&1&&(l(0,"div",49)(1,"span",50),m(2),d()()),n&2){let t=C(3);p(2),$(t.getUserInitials(t.selectedUser))}}function n1e(n,e){if(n&1&&(l(0,"div",51)(1,"label",45),m(2,"Bio"),d(),l(3,"span",52),m(4),d()()),n&2){let t=C(3);p(4),$(t.selectedUser.bio)}}function i1e(n,e){if(n&1&&(l(0,"div",36)(1,"div",37)(2,"div",38),j(3,e1e,1,2,"img",39)(4,t1e,3,1,"ng-template",null,0,Ta),d(),l(6,"div",40)(7,"h4",41),m(8),d(),l(9,"p",42),m(10),d()()(),l(11,"div",43)(12,"div",44)(13,"label",45),m(14,"User ID"),d(),l(15,"span",46),m(16),d()(),l(17,"div",44)(18,"label",45),m(19,"Username"),d(),l(20,"span",46),m(21),d()(),l(22,"div",44)(23,"label",45),m(24,"Phone Number"),d(),l(25,"span",46),m(26),d()(),l(27,"div",44)(28,"label",45),m(29,"Country"),d(),l(30,"span",46),m(31),d()(),l(32,"div",44)(33,"label",45),m(34,"Birth Date"),d(),l(35,"span",46),m(36),Q(37,"date"),d()(),j(38,n1e,5,1,"div",47),d()()),n&2){let t=qi(5),i=C(2);p(3),_("ngIf",i.hasProfilePicture(i.selectedUser))("ngIfElse",t),p(5),Nt(" ",i.selectedUser.firstName," ",i.selectedUser.lastName," "),p(2),$(i.selectedUser.email),p(6),$(i.selectedUser.userId),p(5),$(i.selectedUser.userName||"Not provided"),p(5),$(i.selectedUser.phoneNumber||"Not provided"),p(5),$(i.selectedUser.country||"Not specified"),p(5),U(" ",i.selectedUser.birthDate?Vt(37,11,i.selectedUser.birthDate,"mediumDate"):"Not provided"," "),p(2),_("ngIf",i.selectedUser.bio)}}function r1e(n,e){if(n&1){let t=X();l(0,"div",53)(1,"button",54),T("click",function(){z(t);let r=C(2);return A(r.closeUserDetails())}),k(2,"i",29),m(3," Close "),d()()}}function o1e(n,e){if(n&1){let t=X();l(0,"div",23),T("click",function(){z(t);let r=C();return A(r.closeUserDetails())}),l(1,"div",24),T("click",function(r){return z(t),A(r.stopPropagation())}),l(2,"div",25)(3,"h3",26),k(4,"i",27),m(5," User Details "),d(),l(6,"button",28),T("click",function(){z(t);let r=C();return A(r.closeUserDetails())}),k(7,"i",29),d()(),j(8,Jce,5,0,"div",30)(9,i1e,39,14,"div",31)(10,r1e,4,0,"div",32),d()()}if(n&2){let t=C();p(8),_("ngIf",t.loadingUserDetails),p(),_("ngIf",t.selectedUser&&!t.loadingUserDetails),p(),_("ngIf",!t.loadingUserDetails)}}function a1e(n,e){n&1&&(l(0,"div",55)(1,"div",34),k(2,"i",35),l(3,"p"),m(4,"Loading users..."),d()()())}var c7=class n{constructor(e){this.userService=e}users=[];loading=!1;loadingUserDetails=!1;selectedUser=null;showUserDetails=!1;destroy$=new Re;columns=[{label:"Name",field:"fullName",sortable:!0},{label:"Email",field:"email",sortable:!0},{label:"Phone",field:"phoneNumber",sortable:!1},{label:"Country",field:"country",sortable:!0},{label:"Status",field:"isConfirmed",pipe:"boolean",sortable:!0},{label:"Join Date",field:"createAt",pipe:"date",sortable:!0}];actions=[{icon:"fas fa-eye",tooltip:"View Details",type:"view",color:"#007bff"},{icon:"fas fa-trash",tooltip:"Delete User",type:"delete",color:"#dc3545"}];paginationInfo={currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10};ngOnInit(){this.loadUsers()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadUsers(){this.loading=!0,this.userService.getAllUsers().pipe(rt(this.destroy$)).subscribe({next:e=>{this.users=this.transformUsersForTable(e),this.updatePaginationInfo(e.length),this.loading=!1},error:e=>{console.error("Error loading users:",e),this.loading=!1}})}transformUsersForTable(e){return e.map(t=>Ve(ie({},t),{fullName:this.getFullName(t.firstName,t.lastName),phoneNumber:t.phoneNumber||"N/A",country:t.country||"N/A"}))}getFullName(e,t){return`${e||""} ${t||""}`.trim()||"N/A"}updatePaginationInfo(e){this.paginationInfo=Ve(ie({},this.paginationInfo),{totalItems:e,totalPages:Math.ceil(e/this.paginationInfo.itemsPerPage)})}onActionClick(e){let{type:t,row:i}=e;switch(t){case"view":this.viewUserDetails(i.id);break;case"delete":this.deleteUser(i);break;default:console.warn("Unknown action type:",t)}}viewUserDetails(e){if(!e){console.error("User ID is required");return}this.loadingUserDetails=!0,this.userService.getUserProfile(e).pipe(rt(this.destroy$)).subscribe({next:t=>{this.selectedUser=t,this.showUserDetails=!0,this.loadingUserDetails=!1},error:t=>{console.error("Error loading user details:",t),this.loadingUserDetails=!1}})}deleteUser(e){if(!e){console.error("User data is required for deletion");return}let t=e.fullName||"this user";confirm(`Are you sure you want to delete ${t}?`)&&console.log("Delete user:",e)}closeUserDetails(){this.showUserDetails=!1,this.selectedUser=null,this.loadingUserDetails=!1}onPageChange(e){e<1||e>this.paginationInfo.totalPages||(this.paginationInfo.currentPage=e)}onSortChange(e){console.log("Sort change:",e)}get activeUsersCount(){return this.users.filter(e=>e.isConfirmed).length}get pendingUsersCount(){return this.users.filter(e=>!e.isConfirmed).length}hasProfilePicture(e){return!!(e.profilePictureURL&&e.profilePictureURL.trim())}getUserInitials(e){let t=e.firstName||"",i=e.lastName||"";return`${t.charAt(0)}${i.charAt(0)}`.toUpperCase()||"U"}refreshUsers(){this.loadUsers()}trackByUserId(e,t){return t.id}onImageError(e){let t=e.target;t&&(t.style.display="none")}static \u0275fac=function(t){return new(t||n)(V(bl))};static \u0275cmp=le({type:n,selectors:[["app-users"]],decls:41,vars:14,consts:[["defaultAvatar",""],[1,"users-container"],[1,"users-header"],[1,"header-content"],[1,"page-title"],[1,"fas","fa-users","title-icon"],[1,"page-subtitle"],[1,"header-actions"],[1,"btn","btn-primary",3,"click","disabled"],[1,"fas","fa-sync-alt"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-content"],[1,"stat-number"],[1,"stat-label"],[1,"stat-icon"],[1,"fas","fa-users"],[1,"fas","fa-user-check"],[1,"fas","fa-user-clock"],[1,"table-section"],["caption","All Registered Users",3,"actionClick","pageChange","sortChange","columns","data","actions","loading","paginationInfo","useBackendPagination"],["class","modal-overlay",3,"click",4,"ngIf"],["class","loading-overlay",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"fas","fa-user-circle"],["aria-label","Close modal",1,"modal-close",3,"click"],[1,"fas","fa-times"],["class","modal-loading",4,"ngIf"],["class","modal-content",4,"ngIf"],["class","modal-footer",4,"ngIf"],[1,"modal-loading"],[1,"loading-spinner"],[1,"fas","fa-spinner","fa-spin"],[1,"modal-content"],[1,"user-profile"],[1,"profile-avatar"],["loading","lazy","class","avatar-image",3,"src","alt","error",4,"ngIf","ngIfElse"],[1,"profile-info"],[1,"profile-name"],[1,"profile-email"],[1,"details-grid"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],["class","detail-item full-width",4,"ngIf"],["loading","lazy",1,"avatar-image",3,"error","src","alt"],[1,"default-avatar"],[1,"avatar-initials"],[1,"detail-item","full-width"],[1,"detail-value","bio"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"loading-overlay"]],template:function(t,i){t&1&&(l(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),k(4,"i",5),m(5," Users Management "),d(),l(6,"p",6),m(7,"Manage and monitor all registered users"),d()(),l(8,"div",7)(9,"button",8),T("click",function(){return i.refreshUsers()}),k(10,"i",9),m(11," Refresh "),d()()(),l(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),m(16),d(),l(17,"div",14),m(18,"Total Users"),d()(),l(19,"div",15),k(20,"i",16),d()(),l(21,"div",11)(22,"div",12)(23,"div",13),m(24),d(),l(25,"div",14),m(26,"Active Users"),d()(),l(27,"div",15),k(28,"i",17),d()(),l(29,"div",11)(30,"div",12)(31,"div",13),m(32),d(),l(33,"div",14),m(34,"Pending Users"),d()(),l(35,"div",15),k(36,"i",18),d()()(),l(37,"div",19)(38,"app-table",20),T("actionClick",function(o){return i.onActionClick(o)})("pageChange",function(o){return i.onPageChange(o)})("sortChange",function(o){return i.onSortChange(o)}),d()(),j(39,o1e,11,3,"div",21)(40,a1e,5,0,"div",22),d()),t&2&&(p(9),_("disabled",i.loading),p(),Me("fa-spin",i.loading),p(6),$(i.paginationInfo.totalItems),p(8),$(i.activeUsersCount),p(8),$(i.pendingUsersCount),p(6),_("columns",i.columns)("data",i.users)("actions",i.actions)("loading",i.loading)("paginationInfo",i.paginationInfo)("useBackendPagination",!1),p(),_("ngIf",i.showUserDetails),p(),_("ngIf",i.loading))},dependencies:[he,Ce,$a,mi],styles:['.users-container[_ngcontent-%COMP%]{padding:2rem;background:#f8fafc;min-height:100vh;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.users-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem;padding:1.5rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:2rem;font-weight:700;color:#1a202c;margin:0 0 .5rem}.title-icon[_ngcontent-%COMP%]{margin-right:.75rem;color:#3b82f6}.page-subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:1.1rem;margin:0}.header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease}.btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#2563eb;transform:translateY(-1px)}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 2px 8px #0000001a;display:flex;align-items:center;justify-content:space-between;transition:transform .2s ease,box-shadow .2s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #00000026}.stat-content[_ngcontent-%COMP%]{flex:1}.stat-number[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#1a202c;margin-bottom:.25rem}.stat-label[_ngcontent-%COMP%]{color:#64748b;font-size:.9rem;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.stat-icon[_ngcontent-%COMP%]{font-size:2.5rem;color:#3b82f6;opacity:.8}.table-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 20px 60px #0000004d;max-width:600px;width:100%;max-height:90vh;overflow:hidden;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 2rem;border-bottom:1px solid #e2e8f0;background:#f8fafc}.modal-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.5rem;font-weight:700;color:#1a202c;margin:0}.modal-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.75rem;color:#3b82f6}.modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.25rem;color:#64748b;cursor:pointer;padding:.5rem;border-radius:6px;transition:all .2s ease}.modal-close[_ngcontent-%COMP%]:hover{background:#e2e8f0;color:#1a202c}.modal-content[_ngcontent-%COMP%]{padding:2rem;max-height:60vh;overflow-y:auto}.user-profile[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:1px solid #e2e8f0}.profile-avatar[_ngcontent-%COMP%]{margin-right:1.5rem}.avatar-image[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;object-fit:cover;border:3px solid #e2e8f0}.default-avatar[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:#e2e8f0;display:flex;align-items:center;justify-content:center;font-size:2rem;color:#64748b}.profile-info[_ngcontent-%COMP%]{flex:1}.profile-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1a202c;margin:0 0 .5rem}.profile-email[_ngcontent-%COMP%]{color:#64748b;font-size:1.1rem;margin:0}.details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.detail-item.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.detail-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px;margin-bottom:.5rem}.detail-value[_ngcontent-%COMP%]{font-size:1rem;color:#1a202c;padding:.75rem;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0}.detail-value.bio[_ngcontent-%COMP%]{line-height:1.6;min-height:60px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding:1.5rem 2rem;border-top:1px solid #e2e8f0;background:#f8fafc}.btn-secondary[_ngcontent-%COMP%]{background:#e2e8f0;color:#64748b}.btn-secondary[_ngcontent-%COMP%]:hover{background:#cbd5e1;color:#475569}.loading-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#f8fafce6;display:flex;align-items:center;justify-content:center;z-index:999;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.loading-spinner[_ngcontent-%COMP%]{text-align:center;color:#3b82f6}.loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin:0}.avatar-initials[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#64748b}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.btn[_ngcontent-%COMP%]:disabled:hover{transform:none!important;background:inherit}.fa-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fa-spin 1s infinite linear}@keyframes _ngcontent-%COMP%_fa-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInOut{0%{opacity:0;transform:translateY(-30px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}.stat-card[_ngcontent-%COMP%]:hover   .stat-icon[_ngcontent-%COMP%]{transform:scale(1.1);transition:transform .2s ease}.btn[_ngcontent-%COMP%]:not(:disabled):hover{box-shadow:0 4px 12px #3b82f64d}.btn[_ngcontent-%COMP%]:focus, .modal-close[_ngcontent-%COMP%]:focus{outline:2px solid #3b82f6;outline-offset:2px}.table-section[_ngcontent-%COMP%]{position:relative;overflow:hidden}.table-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#3b82f6,#1d4ed8)}@media (max-width: 768px){.users-container[_ngcontent-%COMP%]{padding:1rem}.users-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-container[_ngcontent-%COMP%]{margin:1rem;max-width:calc(100vw - 2rem)}.modal-content[_ngcontent-%COMP%]{padding:1.5rem}.user-profile[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.profile-avatar[_ngcontent-%COMP%]{margin-right:0;margin-bottom:1rem}.details-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.modal-loading[_ngcontent-%COMP%]{padding:3rem 2rem;text-align:center;min-height:200px;display:flex;align-items:center;justify-content:center}.modal-loading[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{color:#3b82f6}.modal-loading[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.modal-loading[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin:0;color:#64748b}']})};var j1=class n{constructor(e){this.http=e}apiUrl=`${Ke.baseUrl}/Booking`;getAllBookings(){return this.http.get(`${this.apiUrl}`).pipe(Ne(e=>(console.log("API Response:",e),e&&e.data&&Array.isArray(e.data)?e.data:Array.isArray(e)?e:[])))}getBookingById(e){return this.http.get(`${this.apiUrl}/${e}`)}getBookingsByUserId(e){return this.http.get(`${this.apiUrl}/UserBooking/${e}`).pipe(Ne(t=>t&&t.data&&Array.isArray(t.data)?t.data:Array.isArray(t)?t:[]))}static \u0275fac=function(t){return new(t||n)(De(Ct))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};function s1e(n,e){if(n&1&&(l(0,"span",29),k(1,"i",30),m(2),d()),n&2){let t=e.row,i=C();xt("background-color",i.getStatusColor(t.bookingStatus)),p(2),U(" ",t.bookingStatus," ")}}function l1e(n,e){if(n&1&&(l(0,"div",40)(1,"div",41)(2,"div",29),k(3,"i",30),m(4),d(),l(5,"div",42)(6,"div",43),k(7,"i",16),l(8,"span"),m(9),d()()()(),l(10,"div",44)(11,"h4"),k(12,"i",45),m(13," Guest Information"),d()(),l(14,"div",46)(15,"div",47)(16,"label",48),m(17,"Guest Name"),d(),l(18,"span",49),m(19),d()(),l(20,"div",47)(21,"label",48),m(22,"User ID"),d(),l(23,"span",49),m(24),d()(),l(25,"div",47)(26,"label",48),m(27,"Phone Number"),d(),l(28,"span",49),m(29),d()(),l(30,"div",47)(31,"label",48),m(32,"Country"),d(),l(33,"span",49),m(34),d()()(),l(35,"div",44)(36,"h4"),k(37,"i",50),m(38," Property Information"),d()(),l(39,"div",46)(40,"div",47)(41,"label",48),m(42,"Property Title"),d(),l(43,"span",49),m(44),d()(),l(45,"div",47)(46,"label",48),m(47,"Property ID"),d(),l(48,"span",49),m(49),d()(),l(50,"div",47)(51,"label",48),m(52,"City"),d(),l(53,"span",49),m(54),d()(),l(55,"div",47)(56,"label",48),m(57,"Country"),d(),l(58,"span",49),m(59),d()()(),l(60,"div",44)(61,"h4"),k(62,"i",51),m(63," Booking Details"),d()(),l(64,"div",46)(65,"div",47)(66,"label",48),m(67,"Check-in Date"),d(),l(68,"span",49),m(69),Q(70,"date"),d()(),l(71,"div",47)(72,"label",48),m(73,"Check-out Date"),d(),l(74,"span",49),m(75),Q(76,"date"),d()(),l(77,"div",47)(78,"label",48),m(79,"Number of Guests"),d(),l(80,"span",49),m(81),d()(),l(82,"div",47)(83,"label",48),m(84,"Total Price"),d(),l(85,"span",52),m(86),Q(87,"number"),d()()()()),n&2){let t=C(2);p(2),xt("background-color",t.getStatusColor(t.selectedBooking.bookingStatus)),p(2),U(" ",t.selectedBooking.bookingStatus," "),p(5),U("",t.getDaysDifference(t.selectedBooking.checkInDate,t.selectedBooking.checkOutDate)," nights"),p(10),Nt(" ",t.selectedBooking.firstName," ",t.selectedBooking.lastName," "),p(5),$(t.selectedBooking.userId),p(5),$(t.selectedBooking.phoneNumber||"Not provided"),p(5),$(t.selectedBooking.userCountry||"Not specified"),p(10),$(t.selectedBooking.propertyTitle),p(5),U("#",t.selectedBooking.propertyId),p(5),$(t.selectedBooking.city),p(5),$(t.selectedBooking.country),p(10),$(Vt(70,17,t.selectedBooking.checkInDate,"fullDate")),p(6),$(Vt(76,20,t.selectedBooking.checkOutDate,"fullDate")),p(6),$(t.selectedBooking.numberOfGuests),p(5),U("$",Vt(87,23,t.selectedBooking.totalPrice,"1.2-2"))}}function c1e(n,e){if(n&1){let t=X();l(0,"div",31),T("click",function(){z(t);let r=C();return A(r.closeBookingDetails())}),l(1,"div",32),T("click",function(r){return z(t),A(r.stopPropagation())}),l(2,"div",33)(3,"h3",34),k(4,"i",18),m(5),d(),l(6,"button",35),T("click",function(){z(t);let r=C();return A(r.closeBookingDetails())}),k(7,"i",36),d()(),j(8,l1e,88,26,"div",37),l(9,"div",38)(10,"button",39),T("click",function(){z(t);let r=C();return A(r.closeBookingDetails())}),k(11,"i",36),m(12," Close "),d()()()()}if(n&2){let t=C();p(5),U(" Booking Details #",t.selectedBooking==null?null:t.selectedBooking.id," "),p(3),_("ngIf",t.selectedBooking)}}function d1e(n,e){n&1&&(l(0,"div",53)(1,"div",54),k(2,"i",55),l(3,"p"),m(4,"Loading bookings..."),d()()())}var d7=class n{constructor(e){this.bookingService=e}bookings=[];loading=!1;selectedBooking=null;showBookingDetails=!1;destroy$=new Re;columns=[{label:"Booking ID",field:"id",sortable:!0},{label:"Guest Name",field:"guestName",sortable:!0},{label:"Property",field:"propertyTitle",sortable:!0},{label:"Check-in",field:"checkInDate",pipe:"date",sortable:!0},{label:"Check-out",field:"checkOutDate",pipe:"date",sortable:!0},{label:"Status",field:"bookingStatus",sortable:!0},{label:"Total Price",field:"totalPrice",pipe:"currency",sortable:!0}];actions=[{icon:"fas fa-eye",tooltip:"View Details",type:"view",color:"#007bff"}];paginationInfo={currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10};ngOnInit(){this.loadBookings()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadBookings(){this.loading=!0,this.bookingService.getAllBookings().pipe(rt(this.destroy$)).subscribe({next:e=>{console.log("Received bookings:",e),Array.isArray(e)?(this.bookings=this.transformBookingsForTable(e),this.updatePaginationInfo(e.length)):(console.error("Bookings is not an array:",e),this.bookings=[],this.updatePaginationInfo(0)),this.loading=!1},error:e=>{console.error("Error loading bookings:",e),this.bookings=[],this.updatePaginationInfo(0),this.loading=!1}})}transformBookingsForTable(e){return Array.isArray(e)?e.map(t=>Ve(ie({},t),{guestName:this.getGuestName(t.firstName,t.lastName),checkInDate:t.checkInDate,checkOutDate:t.checkOutDate})):(console.error("Expected array but received:",typeof e,e),[])}getGuestName(e,t){return`${e||""} ${t||""}`.trim()||"N/A"}updatePaginationInfo(e){this.paginationInfo=Ve(ie({},this.paginationInfo),{totalItems:e,totalPages:Math.ceil(e/this.paginationInfo.itemsPerPage)})}onActionClick(e){let{type:t,row:i}=e;switch(t){case"view":this.viewBookingDetails(i);break;default:console.warn("Unknown action type:",t)}}viewBookingDetails(e){this.selectedBooking=e,this.showBookingDetails=!0}closeBookingDetails(){this.showBookingDetails=!1,this.selectedBooking=null}onPageChange(e){e<1||e>this.paginationInfo.totalPages||(this.paginationInfo.currentPage=e)}onSortChange(e){console.log("Sort change:",e)}get totalBookingsCount(){return this.bookings.length}get pendingBookingsCount(){return this.bookings.filter(e=>e.bookingStatus?.toLowerCase()==="pending").length}get completedBookingsCount(){return this.bookings.filter(e=>e.bookingStatus?.toLowerCase()==="completed").length}get cancelledBookingsCount(){return this.bookings.filter(e=>e.bookingStatus?.toLowerCase()==="cancelled").length}get confirmedBookingsCount(){return this.bookings.filter(e=>e.bookingStatus?.toLowerCase()==="confirmed").length}get totalRevenue(){return this.bookings.filter(e=>e.bookingStatus?.toLowerCase()==="confirmed").reduce((e,t)=>e+t.totalPrice,0)}get pendingRevenue(){return this.bookings.filter(e=>e.bookingStatus?.toLowerCase()==="pending").reduce((e,t)=>e+t.totalPrice,0)}get confirmedRevenue(){return this.bookings.filter(e=>e.bookingStatus?.toLowerCase()==="confirmed").reduce((e,t)=>e+t.totalPrice,0)}get cancelledRevenue(){return this.bookings.filter(e=>e.bookingStatus?.toLowerCase()==="cancelled").reduce((e,t)=>e+t.totalPrice,0)}refreshBookings(){this.loadBookings()}trackByBookingId(e,t){return t.id}getStatusColor(e){switch(e?.toLowerCase()){case"completed":return"#28a745";case"pending":return"#ffc107";case"cancelled":return"#dc3545";case"confirmed":return"#17a2b8";default:return"#6c757d"}}getStatusBadgeClass(e){switch(e?.toLowerCase()){case"completed":return"status-badge status-completed";case"pending":return"status-badge status-pending";case"cancelled":return"status-badge status-cancelled";case"confirmed":return"status-badge status-confirmed";default:return"status-badge status-default"}}getStatusIcon(e){switch(e?.toLowerCase()){case"completed":return"fas fa-check-circle";case"pending":return"fas fa-clock";case"cancelled":return"fas fa-times-circle";case"confirmed":return"fas fa-calendar-check";default:return"fas fa-circle"}}getDaysDifference(e,t){let i=new Date(e),o=new Date(t).getTime()-i.getTime();return Math.ceil(o/(1e3*3600*24))}static \u0275fac=function(t){return new(t||n)(V(j1))};static \u0275cmp=le({type:n,selectors:[["app-bookings"]],decls:80,vars:24,consts:[["statusTemplate",""],[1,"bookings-container"],[1,"bookings-header"],[1,"header-content"],[1,"page-title"],[1,"fas","fa-calendar-check","title-icon"],[1,"page-subtitle"],[1,"header-actions"],[1,"btn","btn-primary",3,"click","disabled"],[1,"fas","fa-sync-alt"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-content"],[1,"stat-number"],[1,"stat-label"],[1,"stat-icon"],[1,"fas","fa-calendar-alt"],[1,"fas","fa-check-circle"],[1,"fas","fa-calendar-check"],[1,"fas","fa-clock"],[1,"fas","fa-times-circle"],[1,"stat-card","pending-revenue"],[1,"stat-sublabel"],[1,"fas","fa-hourglass-half"],[1,"stat-card","total-revenue"],[1,"fas","fa-dollar-sign"],["caption","All Property Bookings",3,"actionClick","pageChange","sortChange","columns","data","actions","loading","paginationInfo","useBackendPagination"],["class","modal-overlay",3,"click",4,"ngIf"],["class","loading-overlay",4,"ngIf"],[1,"status-badge"],[1,"fas","fa-circle","status-icon"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"modal-title"],["aria-label","Close modal",1,"modal-close",3,"click"],[1,"fas","fa-times"],["class","modal-content",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"modal-content"],[1,"booking-status-header"],[1,"booking-dates"],[1,"date-info"],[1,"section-header"],[1,"fas","fa-user"],[1,"details-grid"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"fas","fa-building"],[1,"fas","fa-info-circle"],[1,"detail-value","price-highlight"],[1,"loading-overlay"],[1,"loading-spinner"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){if(t&1){let r=X();l(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),k(4,"i",5),m(5," Bookings Management "),d(),l(6,"p",6),m(7,"Monitor and manage all property bookings"),d()(),l(8,"div",7)(9,"button",8),T("click",function(){return z(r),A(i.refreshBookings())}),k(10,"i",9),m(11," Refresh "),d()()(),l(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),m(16),d(),l(17,"div",14),m(18,"Total Bookings"),d()(),l(19,"div",15),k(20,"i",16),d()(),l(21,"div",11)(22,"div",12)(23,"div",13),m(24),d(),l(25,"div",14),m(26,"Completed"),d()(),l(27,"div",15),k(28,"i",17),d()(),l(29,"div",11)(30,"div",12)(31,"div",13),m(32),d(),l(33,"div",14),m(34,"Confirmed"),d()(),l(35,"div",15),k(36,"i",18),d()(),l(37,"div",11)(38,"div",12)(39,"div",13),m(40),d(),l(41,"div",14),m(42,"Pending"),d()(),l(43,"div",15),k(44,"i",19),d()(),l(45,"div",11)(46,"div",12)(47,"div",13),m(48),d(),l(49,"div",14),m(50,"Cancelled"),d()(),l(51,"div",15),k(52,"i",20),d()(),l(53,"div",21)(54,"div",12)(55,"div",13),m(56),Q(57,"number"),d(),l(58,"div",14),m(59,"Pending Revenue"),d(),l(60,"div",22),m(61,"Potential Income"),d()(),l(62,"div",15),k(63,"i",23),d()(),l(64,"div",24)(65,"div",12)(66,"div",13),m(67),Q(68,"number"),d(),l(69,"div",14),m(70,"Total Revenue"),d(),l(71,"div",22),m(72,"Completed Bookings"),d()(),l(73,"div",15),k(74,"i",25),d()()(),l(75,"app-table",26),T("actionClick",function(a){return z(r),A(i.onActionClick(a))})("pageChange",function(a){return z(r),A(i.onPageChange(a))})("sortChange",function(a){return z(r),A(i.onSortChange(a))}),j(76,s1e,3,3,"ng-template",null,0,Ta),d(),j(78,c1e,13,2,"div",27)(79,d1e,5,0,"div",28),d()}t&2&&(p(9),_("disabled",i.loading),p(),Me("fa-spin",i.loading),p(6),$(i.totalBookingsCount),p(8),$(i.completedBookingsCount),p(8),$(i.confirmedBookingsCount),p(8),$(i.pendingBookingsCount),p(8),$(i.cancelledBookingsCount),p(8),U("$",Vt(57,18,i.pendingRevenue,"1.0-0")),p(11),U("$",Vt(68,21,i.totalRevenue,"1.0-0")),p(8),_("columns",i.columns)("data",i.bookings)("actions",i.actions)("loading",i.loading)("paginationInfo",i.paginationInfo)("useBackendPagination",!1),p(3),_("ngIf",i.showBookingDetails),p(),_("ngIf",i.loading))},dependencies:[he,Ce,$a,sa,mi],styles:['.bookings-container[_ngcontent-%COMP%]{padding:2rem;background:#f8fafc;min-height:100vh;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.bookings-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem;padding:1.5rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:2rem;font-weight:700;color:#1a202c;margin:0 0 .5rem}.title-icon[_ngcontent-%COMP%]{margin-right:.75rem;color:#3b82f6}.page-subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:1.1rem;margin:0}.header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease}.btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#2563eb;transform:translateY(-1px)}.btn-success[_ngcontent-%COMP%]{background:#10b981;color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background:#059669}.btn-warning[_ngcontent-%COMP%]{background:#f59e0b;color:#fff}.btn-warning[_ngcontent-%COMP%]:hover{background:#d97706}.btn-danger[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background:#dc2626}.btn-secondary[_ngcontent-%COMP%]{background:#e2e8f0;color:#64748b}.btn-secondary[_ngcontent-%COMP%]:hover{background:#cbd5e1;color:#475569}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 2px 8px #0000001a;display:flex;align-items:center;justify-content:space-between;transition:transform .2s ease,box-shadow .2s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #00000026}.stat-number[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#1a202c;margin-bottom:.25rem}.stat-label[_ngcontent-%COMP%]{color:#64748b;font-size:.9rem;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.stat-icon[_ngcontent-%COMP%]{font-size:2.5rem;color:#3b82f6;opacity:.8}.table-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden;position:relative}.table-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#3b82f6,#1d4ed8)}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 20px 60px #0000004d;max-width:800px;width:100%;max-height:90vh;overflow:hidden;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 2rem;border-bottom:1px solid #e2e8f0;background:#f8fafc}.modal-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.5rem;font-weight:700;color:#1a202c;margin:0}.modal-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.75rem;color:#3b82f6}.modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.25rem;color:#64748b;cursor:pointer;padding:.5rem;border-radius:6px;transition:all .2s ease}.modal-close[_ngcontent-%COMP%]:hover{background:#e2e8f0;color:#1a202c}.modal-content[_ngcontent-%COMP%]{padding:2rem;max-height:60vh;overflow-y:auto}.booking-status-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding:1rem;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0}.status-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:20px;color:#fff;font-weight:600;font-size:.9rem}.status-icon[_ngcontent-%COMP%]{font-size:.7rem}.booking-dates[_ngcontent-%COMP%]{display:flex;align-items:center;color:#64748b}.date-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:500}.section-header[_ngcontent-%COMP%]{margin:2rem 0 1rem;padding-bottom:.5rem;border-bottom:2px solid #e2e8f0}.section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.2rem;font-weight:600;color:#1a202c;margin:0}.section-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#3b82f6}.details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:1.5rem}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.detail-item.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.detail-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px;margin-bottom:.5rem}.detail-value[_ngcontent-%COMP%]{font-size:1rem;color:#1a202c;padding:.75rem;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0}.detail-value.price-highlight[_ngcontent-%COMP%]{background:#ecfdf5;border-color:#10b981;color:#059669;font-weight:700;font-size:1.1rem}.quick-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:2rem;padding:1.5rem;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0}.quick-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;justify-content:center}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding:1.5rem 2rem;border-top:1px solid #e2e8f0;background:#f8fafc}.loading-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#f8fafce6;display:flex;align-items:center;justify-content:center;z-index:999;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.loading-spinner[_ngcontent-%COMP%]{text-align:center;color:#3b82f6}.loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin:0}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.btn[_ngcontent-%COMP%]:disabled:hover{transform:none!important;background:inherit}.fa-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fa-spin 1s infinite linear}@keyframes _ngcontent-%COMP%_fa-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInOut{0%{opacity:0;transform:translateY(-30px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}.stat-card[_ngcontent-%COMP%]:hover   .stat-icon[_ngcontent-%COMP%]{transform:scale(1.1);transition:transform .2s ease}.btn[_ngcontent-%COMP%]:not(:disabled):hover{box-shadow:0 4px 12px #3b82f64d}.btn[_ngcontent-%COMP%]:focus, .modal-close[_ngcontent-%COMP%]:focus{outline:2px solid #3b82f6;outline-offset:2px}.status-badge.pending[_ngcontent-%COMP%]{background:#f59e0b}.status-badge.confirmed[_ngcontent-%COMP%]{background:#10b981}.status-badge.cancelled[_ngcontent-%COMP%]{background:#ef4444}.status-badge.completed[_ngcontent-%COMP%]{background:#06b6d4}@media (max-width: 768px){.bookings-container[_ngcontent-%COMP%]{padding:1rem}.bookings-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-container[_ngcontent-%COMP%]{margin:1rem;max-width:calc(100vw - 2rem)}.modal-content[_ngcontent-%COMP%]{padding:1.5rem}.details-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.quick-actions[_ngcontent-%COMP%]{flex-direction:column}.quick-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:none}.booking-status-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.stat-card[_ngcontent-%COMP%]:nth-child(4)   .stat-icon[_ngcontent-%COMP%]{color:#10b981}.stat-card[_ngcontent-%COMP%]:nth-child(4)   .stat-number[_ngcontent-%COMP%]{color:#059669}.table-section[_ngcontent-%COMP%]{transition:box-shadow .2s ease}.table-section[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #00000026}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;margin-bottom:2rem}@media (min-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (min-width: 1200px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(6,1fr)}}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 4px #0000001a;display:flex;align-items:center;justify-content:space-between;min-height:100px}.stat-content[_ngcontent-%COMP%]{flex:1}.stat-number[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333;margin-bottom:.5rem}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#666;text-transform:uppercase;letter-spacing:.5px}.stat-icon[_ngcontent-%COMP%]{font-size:2rem;opacity:.3;margin-left:1rem}.stat-card.pending-revenue[_ngcontent-%COMP%]{border-left:4px solid #ffc107;background:linear-gradient(135deg,#fff3cd,#fff)}.stat-card.total-revenue[_ngcontent-%COMP%]{border-left:4px solid #28a745;background:linear-gradient(135deg,#d4edda,#fff)}.stat-sublabel[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d;font-style:italic;margin-top:2px}.stat-card.total-revenue[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{color:#28a745;font-weight:700}.stat-card.pending-revenue[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{color:#856404}']})};var u1e=n=>({active:n});function p1e(n,e){if(n&1&&k(0,"img",44),n&2){let t=C();_("src",`${t.imageBaseUrl}${t.imageUrl}`,et)}}function f1e(n,e){n&1&&(l(0,"span"),m(1," Property will be visible to guests and accepting new bookings. "),d())}function m1e(n,e){n&1&&(l(0,"span"),m(1," Property will be hidden from search results and stop accepting new bookings. "),d())}function h1e(n,e){if(n&1){let t=X();l(0,"button",45),T("click",function(){z(t);let r=C();return A(r.onConfirm())}),k(1,"i",46),m(2,"Confirm Changes "),d()}}var u7=class n{currentProperty;confirm=new ye;close=new ye;imageUrl="";newStatus=!1;imageBaseUrl=Ke.base;ngOnInit(){console.log("from ActivateModal OnInit"),this.currentProperty&&(this.newStatus=this.currentProperty?.isActive??!1,this.currentProperty.images&&this.currentProperty.images.length>0&&(this.imageUrl=this.currentProperty.images[0].imageUrl))}ngOnChanges(e){console.log("changes",e)}toggleStatus(){this.newStatus=!this.newStatus}onConfirm(){this.confirm.emit(this.newStatus)}onClose(){this.close.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=le({type:n,selectors:[["app-property-activate-modal"]],inputs:{currentProperty:"currentProperty"},outputs:{confirm:"confirm",close:"close"},features:[Gt],decls:61,vars:10,consts:[["id","statusModal",1,"modal","show",2,"display","block"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","property-modal"],[1,"modal-header"],["id","statusModalLabel",1,"modal-title"],[1,"fas","fa-toggle-on","me-2","icon-bounce"],["type","button",1,"btn-close","btn-close-white"],[1,"modal-body"],[1,"property-card"],[1,"d-flex","align-items-center","mb-3"],["loading","lazy","id","modalPropertyImage","class","property-image","alt","Property",3,"src",4,"ngIf"],["id","modalPropertyName",1,"mb-1"],["id","modalPropertyId",1,"text-muted","mb-1"],[1,"text-muted","mb-0"],[1,"fas","fa-map-marker-alt","me-1"],["id","modalPropertyLocation"],[1,"ms-auto","text-end"],["id","modalPropertyPrice",1,"text-primary","mb-0"],[1,"text-muted"],[1,"text-center"],[1,"mb-3"],[1,"d-flex","align-items-center","justify-content-center","mb-3"],["id","inactiveText",1,"status-text","text-inactive"],["id","statusToggle",1,"custom-toggle",3,"click","ngClass"],[1,"toggle-slider"],["id","activeText",1,"status-text","text-active"],["id","statusDescription",1,"text-muted"],["id","impactWarning",1,"impact-warning"],[1,"d-flex","align-items-center"],[1,"fas","fa-exclamation-triangle","text-warning","me-2"],["id","impactText",1,"mb-0","mt-1"],[4,"ngIf"],[1,"action-buttons"],["type","button",1,"btn-cancel",3,"click"],[1,"fas","fa-times","me-2"],["type","button","class","btn-confirm","id","confirmBtn",3,"click",4,"ngIf"],[1,"toast-container","position-fixed","top-0","end-0","p-3"],["id","successToast","role","alert","aria-live","assertive","aria-atomic","true",1,"toast"],[1,"toast-header","bg-success","text-white"],[1,"fas","fa-check-circle","me-2"],[1,"me-auto"],["type","button","data-bs-dismiss","toast","aria-label","Close",1,"btn-close","btn-close-white"],["id","toastMessage",1,"toast-body"],[1,"bg-danger"],["loading","lazy","id","modalPropertyImage","alt","Property",1,"property-image",3,"src"],["type","button","id","confirmBtn",1,"btn-confirm",3,"click"],[1,"fas","fa-check","me-2"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),k(5,"i",5),m(6," Property Status Management "),d(),k(7,"button",6),d(),l(8,"div",7)(9,"div",8)(10,"div",9),j(11,p1e,1,1,"img",10),l(12,"div")(13,"h6",11),m(14),d(),l(15,"p",12),m(16),d(),l(17,"p",13),k(18,"i",14)(19,"span",15),d()(),l(20,"div",16)(21,"h5",17),m(22),d(),l(23,"small",18),m(24,"per night"),d()()()(),l(25,"div",19)(26,"h6",20),m(27,"Current Status"),d(),l(28,"div",21)(29,"span",22),m(30,"Inactive"),d(),l(31,"div",23),T("click",function(){return i.toggleStatus()}),k(32,"div",24),d(),l(33,"span",25),m(34,"Active"),d()(),k(35,"p",26),d(),l(36,"div",27)(37,"div",28),k(38,"i",29),l(39,"div")(40,"strong"),m(41,"Status Change Impact"),d(),l(42,"p",30),j(43,f1e,2,0,"span",31)(44,m1e,2,0,"span",31),d()()()(),l(45,"div",32)(46,"button",33),T("click",function(){return i.onClose()}),k(47,"i",34),m(48,"Cancel "),d(),j(49,h1e,3,0,"button",35),d()()()()(),l(50,"div",36)(51,"div",37)(52,"div",38),k(53,"i",39),l(54,"strong",40),m(55,"Success"),d(),k(56,"button",41),d(),l(57,"div",42),m(58," Property status updated successfully! "),d()()(),l(59,"div",43),m(60,"dsiaopfhdiousajfiodsa fdoishjaf"),d()),t&2&&(p(11),_("ngIf",i.imageUrl),p(3),U(" ",i.currentProperty==null?null:i.currentProperty.title," "),p(2),U(" ",i.currentProperty==null?null:i.currentProperty.id," "),p(6),U(" ",i.currentProperty==null?null:i.currentProperty.price," "),p(9),_("ngClass",nn(8,u1e,i.newStatus)),p(12),_("ngIf",i.newStatus),p(),_("ngIf",!i.newStatus),p(5),_("ngIf",i.newStatus!=(i.currentProperty==null?null:i.currentProperty.isActive)))},dependencies:[he,Bt,Ce],styles:['.status-btn[_ngcontent-%COMP%]{border:none;border-radius:25px;padding:8px 20px;font-weight:600;transition:all .3s ease;position:relative;overflow:hidden}.status-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;background:#fff3;border-radius:50%;transform:translate(-50%,-50%);transition:width .6s,height .6s}.status-btn[_ngcontent-%COMP%]:hover:before{width:300px;height:300px}.btn-activate[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--success-green) 0%,#4ecdc4 100%);color:#fff}.btn-deactivate[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--warning-orange) 0%,#ff6b6b 100%);color:#fff}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:scale(.8) translateY(-100px);transition:all .4s cubic-bezier(.68,-.55,.265,1.55)}.modal.show[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:scale(1) translateY(0)}.property-modal[_ngcontent-%COMP%]{border:none;border-radius:20px;overflow:hidden;box-shadow:0 20px 60px #0000004d}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--airbnb-red) 0%,#ff6b8a 100%);color:#fff;border:none;padding:1.5rem}.modal-body[_ngcontent-%COMP%]{padding:2rem;background:#fff}.property-card[_ngcontent-%COMP%]{background:var(--light-gray);border-radius:15px;padding:1.5rem;margin-bottom:1.5rem;border-left:5px solid var(--airbnb-red);transition:all .3s ease}.property-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 20px #0000001a}.status-indicator[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;display:inline-block;margin-right:8px;animation:_ngcontent-%COMP%_pulse 2s infinite}.status-active[_ngcontent-%COMP%]{background:var(--success-green)}.status-inactive[_ngcontent-%COMP%]{background:var(--warning-orange)}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #00a699b3}70%{box-shadow:0 0 0 10px #00a69900}to{box-shadow:0 0 #00a69900}}.toggle-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:2rem 0}.custom-toggle[_ngcontent-%COMP%]{position:relative;width:80px;height:40px;background:#ddd;border-radius:25px;cursor:pointer;transition:all .4s ease;margin:0 1rem}.custom-toggle.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ed6767)!important}.toggle-slider[_ngcontent-%COMP%]{position:absolute;top:4px;left:4px;width:32px;height:32px;background:#fff;border-radius:50%;transition:all .4s cubic-bezier(.68,-.55,.265,1.55);box-shadow:0 2px 10px #0003}.custom-toggle.active[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]{transform:translate(40px)}.status-text[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;transition:all .3s ease}.text-inactive[_ngcontent-%COMP%]{color:var(--warning-orange)}.text-active[_ngcontent-%COMP%]{color:var(--success-green)}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;margin-top:2rem}.btn-confirm[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ed6767,#df4251);border:none;border-radius:25px;padding:12px 30px;color:#fff;font-weight:600;transition:all .3s ease;position:relative;overflow:hidden}.btn-cancel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#495057);border:none;border-radius:25px;padding:12px 30px;color:#fff;font-weight:600;transition:all .3s ease}.btn-confirm[_ngcontent-%COMP%]:hover, .btn-cancel[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #0003;color:#fff}.icon-bounce[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce 1s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_bounce{0%{transform:translateY(0)}to{transform:translateY(-5px)}}.property-image[_ngcontent-%COMP%]{width:80px;height:60px;object-fit:cover;border-radius:10px;margin-right:1rem}.impact-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff3cd,#ffeaa7);border-left:4px solid var(--warning-orange);border-radius:10px;padding:1rem;margin:1rem 0}']})};function g1e(n,e){if(n&1){let t=X();l(0,"div",36)(1,"button",37),T("click",function(){z(t);let r=C(2);return A(r.acceptProperty())}),m(2,"Accept"),d(),l(3,"button",38),T("click",function(){z(t);let r=C(2);return A(r.rejectProperty())}),m(4,"Reject"),d()()}}function v1e(n,e){if(n&1){let t=X();l(0,"div",24),T("scroll",function(r){return z(t),A(r.stopImmediatePropagation())})("click",function(){z(t);let r=C();return A(r.closePropertyDetails())}),l(1,"div",25),T("click",function(r){return z(t),A(r.stopPropagation())})("scroll",function(r){return z(t),A(r.stopImmediatePropagation())}),l(2,"div",26),k(3,"app-property-info",27),d(),l(4,"div",28)(5,"div",29)(6,"div",30)(7,"div",31),k(8,"i",32),m(9),d()()(),j(10,g1e,5,0,"div",33),l(11,"button",34),T("click",function(){z(t);let r=C();return A(r.closePropertyDetails())}),k(12,"i",35),m(13," Close "),d()()()()}if(n&2){let t=C();p(3),_("isPreview",!0)("previewPropertyId",t.previewPropertyId),p(4),xt("background-color",t.getStatusColor(t.selectedProperty==null?null:t.selectedProperty.status)),p(2),U(" ",t.propertyStatusName," "),p(),_("ngIf",t.propertyStatusName=="Pending")}}function b1e(n,e){n&1&&(l(0,"div",39)(1,"div",40),k(2,"i",41),l(3,"p"),m(4,"Loading users..."),d()()())}function _1e(n,e){if(n&1){let t=X();l(0,"app-property-activate-modal",42),T("confirm",function(r){z(t);let o=C();return A(o.onActivationSatusConfirm(r))})("close",function(){z(t);let r=C();return A(r.onHideActivationStatusModal())}),d()}if(n&2){let t=C();_("currentProperty",t.seletctedPropertyForActivateStatus)}}var p7=class n{constructor(e,t){this.propertyService=e;this.confirm=t}showActivationModal=!1;properties=[];loading=!1;selectedProperty=null;seletctedPropertyForActivateStatus;showUserDetails=!1;previewPropertyId;currentSort={field:"title",direction:"asc"};destroy$=new Re;columns=[{label:"#",field:"id",sortable:!0},{label:"Title",field:"title",sortable:!1},{label:"Country",field:"country",sortable:!1},{label:"Status",field:"status",pipe:"acceptStatus",sortable:!1},{label:"Active",field:"isActive",pipe:"active",sortable:!0},{label:"Average Rate",field:"averageRating",sortable:!0}];actions=[{icon:"fas fa-eye",tooltip:"View Details",type:"view",color:"#007bff"},{icon:"bi bi-ban",tooltip:"Toggle Active status",type:"activationStatus",color:"#00"}];paginationInfo={currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10};ngOnInit(){this.loadProperties()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadProperties(){this.loading=!0,this.propertyService.getAllForDashboard().pipe(rt(this.destroy$)).subscribe({next:e=>{this.properties=e,console.log("properties loaded: ",e),this.updatePaginationInfo(e.length),this.loading=!1},error:e=>{console.error("Error loading users:",e),this.loading=!1}})}getFullName(e,t){return`${e||""} ${t||""}`.trim()||"N/A"}updatePaginationInfo(e){this.paginationInfo=Ve(ie({},this.paginationInfo),{totalItems:e,totalPages:Math.ceil(e/this.paginationInfo.itemsPerPage)})}onActionClick(e){let{type:t,row:i}=e;switch(console.log("actionCliked",e),t){case"view":this.viewUserDetails(i.id);break;case"edit":this.editProperty(i);break;case"delete":this.deleteProperty(i);break;case"activationStatus":this.handleActivationStatus(i);break;default:console.warn("Unknown action type:",t)}}viewUserDetails(e){if(!e){console.error("User ID is required");return}this.previewPropertyId=e,this.propertyService.getByIdWithCoverFor3ssam(e).pipe(rt(this.destroy$)).subscribe({next:t=>{console.log("userProfile",t),this.selectedProperty=t,this.showUserDetails=!0,this.loading=!1},error:t=>{console.error("Error loading user details:",t),this.loading=!1}})}getStatusColor(e){if(!e)return"";switch(o0[e].toLowerCase()){case"accepted":return"#28a745";case"pending":return"#ffc107";case"rejected":return"#dc3545";case"confirmed":return"#17a2b8";default:return"#6c757d"}}get propertyStatusName(){if(!this.selectedProperty)return"";let e=o0[this.selectedProperty.status];return e.charAt(0).toUpperCase()+e.slice(1)}editProperty(e){if(!e){console.error("User data is required for editing");return}console.log("Edit user:",e)}deleteProperty(e){if(!e){console.error("User data is required for deletion");return}let t=e.fullName||"this user";confirm(`Are you sure you want to delete ${t}?`)&&console.log("Delete user:",e)}closePropertyDetails(){this.showUserDetails=!1,this.selectedProperty=null}onPageChange(e){e<1||e>this.paginationInfo.totalPages||(this.paginationInfo.currentPage=e)}onSortChange(e){switch(console.log("Sort change:",e),this.currentSort=e,e.field){case"id":e.direction=="asc"?this.properties=this.properties.sort((t,i)=>(t.id??0)-(i.id??0)):this.properties=this.properties.sort((t,i)=>(i.id??0)-(t.id??0));break;case"averageRating":e.direction=="asc"?this.properties=this.properties.sort((t,i)=>t.averageRating-i.averageRating):this.properties=this.properties.sort((t,i)=>i.averageRating-t.averageRating);break;case"isDeleted":e.direction=="asc"?this.properties=this.properties.sort((t,i)=>t.isDeleted?-1:1):this.properties=this.properties.sort((t,i)=>i.isDeleted?-1:1),console.log("this.currentSort",this.currentSort);break}}get acceptedPropertyCount(){return this.properties.filter(e=>e.status==2).length}get pendingPropertyCount(){return this.properties.filter(e=>e.status==1).length}get rejectedPropertyCount(){return this.properties.filter(e=>e.status==3).length}get deletedPropertyCount(){return this.properties.filter(e=>e.isDeleted).length}hasProfilePicture(e){return!!(e.profilePictureURL&&e.profilePictureURL.trim())}getUserInitials(e){let t=e.firstName||"",i=e.lastName||"";return`${t.charAt(0)}${i.charAt(0)}`.toUpperCase()||"U"}refreshUsers(){this.loadProperties()}trackByUserId(e,t){return t.id}onImageError(e){let t=e.target;t&&(t.style.display="none")}acceptProperty(){this.selectedProperty?.id&&this.propertyService.accept(this.selectedProperty?.id).subscribe({next:e=>{this.confirm.success("Property Accepted","");let t=this.properties.find(i=>i.id==this.selectedProperty?.id);t&&(t.status=2),this.selectedProperty&&(this.selectedProperty.status=2)},error:e=>{e?.data?.message?this.confirm.fail(e.data.message,""):this.confirm.fail("something went wrong, try again!","")}})}rejectProperty(){this.selectedProperty?.id&&this.propertyService.reject(this.selectedProperty?.id).subscribe({next:e=>{this.confirm.success("Property Rejected","");let t=this.properties.find(i=>i.id==this.selectedProperty?.id);t&&(t.status=3),this.selectedProperty&&(this.selectedProperty.status=3)},error:e=>{e?.data?.message?this.confirm.fail(e.data.message,""):this.confirm.fail("something went wrong, try again!","")}})}handleActivationStatus(e){!e||!e.id||(console.log("handleActivationStatus",e),this.showActivationModal=!0,this.seletctedPropertyForActivateStatus=this.properties.find(t=>t.id==e.id)??null)}onActivationSatusConfirm(e){if(console.log("onActivationSatusConfirm"),!this.seletctedPropertyForActivateStatus||!this.seletctedPropertyForActivateStatus.id){this.showActivationModal=!1;return}e!=this.seletctedPropertyForActivateStatus?.isActive&&(e?this.propertyService.activate(this.seletctedPropertyForActivateStatus.id).subscribe({next:t=>{if(t.isSuccess){if(this.confirm.success(t.data,""),this.showActivationModal=!1,this.seletctedPropertyForActivateStatus){this.seletctedPropertyForActivateStatus.isActive=e;let i=this.properties.find(r=>r.id==this.seletctedPropertyForActivateStatus?.id);i&&(i.isActive=e)}return}this.confirm.fail(t.data)},error:t=>{this.showActivationModal=!1,this.confirm.fail(t.data)}}):this.propertyService.deactivate(this.seletctedPropertyForActivateStatus.id).subscribe({next:t=>{if(this.showActivationModal=!1,t.isSuccess){if(this.confirm.success(t.data,""),this.seletctedPropertyForActivateStatus){this.seletctedPropertyForActivateStatus.isActive=e;let i=this.properties.find(r=>r.id==this.seletctedPropertyForActivateStatus?.id);i&&(i.isActive=e)}return}this.confirm.fail(t.data)},error:t=>{this.showActivationModal=!1,this.confirm.fail(t.data)}}))}onHideActivationStatusModal(){this.showActivationModal=!1}static \u0275fac=function(t){return new(t||n)(V(Cn),V(Ui))};static \u0275cmp=le({type:n,selectors:[["app-property"]],decls:59,vars:18,consts:[[1,"users-container"],[1,"users-header"],[1,"header-content"],[1,"page-title"],[1,"stat-icon"],[1,"fas","fa-home"],[1,"page-subtitle"],[1,"header-actions"],[1,"btn","btn-primary",3,"click","disabled"],[1,"fas","fa-sync-alt"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-content"],[1,"stat-number"],[1,"stat-label"],[1,"fas","fa-city"],[1,"fas","fa-house-flag"],[1,"fas","fa-house-circle-exclamation"],[1,"fas","fa-house-circle-xmark"],[1,"table-section"],["caption","All Registered Users",3,"actionClick","pageChange","sortChange","currentSort","columns","data","actions","loading","paginationInfo","useBackendPagination"],["class","modal-overlay",3,"scroll","click",4,"ngIf"],["class","loading-overlay",4,"ngIf"],[3,"currentProperty","confirm","close",4,"ngIf"],[1,"modal-overlay",3,"scroll","click"],[1,"modal-container",3,"click","scroll"],[1,"modal-content"],[3,"isPreview","previewPropertyId"],[1,"modal-footer","d-flex","justify-content-between","align-items-center","p-3"],[1,"d-flex"],[1,"d-flex","col-12"],[1,"status-badge"],[1,"fas","fa-circle","status-icon"],["class","mx-auto",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times"],[1,"mx-auto"],[1,"btn","btn-success","me-4",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"loading-overlay"],[1,"loading-spinner"],[1,"fas","fa-spinner","fa-spin"],[3,"confirm","close","currentProperty"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3)(4,"div",4),k(5,"i",5),d(),m(6," Property Management "),d(),l(7,"p",6),m(8,"Manage and monitor all Property"),d()(),l(9,"div",7)(10,"button",8),T("click",function(){return i.refreshUsers()}),k(11,"i",9),m(12," Refresh "),d()()(),l(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),m(17),d(),l(18,"div",14),m(19,"Total Property"),d()(),l(20,"div",4),k(21,"i",15),d()(),l(22,"div",11)(23,"div",12)(24,"div",13),m(25),d(),l(26,"div",14),m(27,"Accepted Property"),d()(),l(28,"div",4),k(29,"i",5),d()(),l(30,"div",11)(31,"div",12)(32,"div",13),m(33),d(),l(34,"div",14),m(35,"Pending Property"),d()(),l(36,"div",4),k(37,"i",16),d()(),l(38,"div",11)(39,"div",12)(40,"div",13),m(41),d(),l(42,"div",14),m(43,"Rejected Property"),d()(),l(44,"div",4),k(45,"i",17),d()(),l(46,"div",11)(47,"div",12)(48,"div",13),m(49),d(),l(50,"div",14),m(51,"Deleted Property"),d()(),l(52,"div",4),k(53,"i",18),d()()(),l(54,"div",19)(55,"app-table",20),T("actionClick",function(o){return i.onActionClick(o)})("pageChange",function(o){return i.onPageChange(o)})("sortChange",function(o){return i.onSortChange(o)}),d()(),j(56,v1e,14,6,"div",21)(57,b1e,5,0,"div",22),d(),j(58,_1e,1,1,"app-property-activate-modal",23)),t&2&&(p(10),_("disabled",i.loading),p(),Me("fa-spin",i.loading),p(6),$(i.paginationInfo.totalItems),p(8),$(i.acceptedPropertyCount),p(8),$(i.pendingPropertyCount),p(8),$(i.rejectedPropertyCount),p(8),$(i.deletedPropertyCount),p(6),_("currentSort",i.currentSort)("columns",i.columns)("data",i.properties)("actions",i.actions)("loading",i.loading)("paginationInfo",i.paginationInfo)("useBackendPagination",!1),p(),_("ngIf",i.showUserDetails),p(),_("ngIf",i.loading),p(),_("ngIf",i.showActivationModal))},dependencies:[he,Ce,$a,A4,u7],styles:['.users-container[_ngcontent-%COMP%]{padding:2rem;background:#f8fafc;min-height:100vh;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.users-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem;padding:1.5rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:2rem;font-weight:700;color:#1a202c;margin:0 0 .5rem}.title-icon[_ngcontent-%COMP%]{margin-right:.75rem;color:#3b82f6}.page-subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:1.1rem;margin:0}.header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease}.btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#2563eb;transform:translateY(-1px)}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 2px 8px #0000001a;display:flex;align-items:center;justify-content:space-between;transition:transform .2s ease,box-shadow .2s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #00000026}.stat-content[_ngcontent-%COMP%]{flex:1}.stat-number[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#1a202c;margin-bottom:.25rem}.stat-label[_ngcontent-%COMP%]{color:#64748b;font-size:.9rem;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.stat-icon[_ngcontent-%COMP%]{font-size:2.5rem;color:#3b82f6;opacity:.8}.table-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.modal-overlay[_ngcontent-%COMP%]{font-size:.8rem!important;position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 20px 60px #0000004d;max-width:1200px;width:100%;max-height:90vh;overflow:hidden;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 2rem;border-bottom:1px solid #e2e8f0;background:#f8fafc}.modal-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.5rem;font-weight:700;color:#1a202c;margin:0}.modal-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.75rem;color:#3b82f6}.modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.25rem;color:#64748b;cursor:pointer;padding:.5rem;border-radius:6px;transition:all .2s ease}.modal-close[_ngcontent-%COMP%]:hover{background:#e2e8f0;color:#1a202c}.modal-content[_ngcontent-%COMP%]{padding:2rem;max-height:80vh;overflow-y:auto}.user-profile[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:1px solid #e2e8f0}.profile-avatar[_ngcontent-%COMP%]{margin-right:1.5rem}.avatar-image[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;object-fit:cover;border:3px solid #e2e8f0}.default-avatar[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:#e2e8f0;display:flex;align-items:center;justify-content:center;font-size:2rem;color:#64748b}.profile-info[_ngcontent-%COMP%]{flex:1}.profile-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1a202c;margin:0 0 .5rem}.profile-email[_ngcontent-%COMP%]{color:#64748b;font-size:1.1rem;margin:0}.details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.detail-item.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.detail-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px;margin-bottom:.5rem}.detail-value[_ngcontent-%COMP%]{font-size:1rem;color:#1a202c;padding:.75rem;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0}.detail-value.bio[_ngcontent-%COMP%]{line-height:1.6;min-height:60px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding:1.5rem 2rem;border-top:1px solid #e2e8f0;background:#ebedfc;z-index:10000000!important}.btn-secondary[_ngcontent-%COMP%]{background:#e2e8f0;color:#64748b}.btn-secondary[_ngcontent-%COMP%]:hover{background:#cbd5e1;color:#475569}.loading-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#f8fafce6;display:flex;align-items:center;justify-content:center;z-index:999;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.loading-spinner[_ngcontent-%COMP%]{text-align:center;color:#3b82f6}.loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin:0}.avatar-initials[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#64748b}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.btn[_ngcontent-%COMP%]:disabled:hover{transform:none!important;background:inherit}.fa-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fa-spin 1s infinite linear}@keyframes _ngcontent-%COMP%_fa-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInOut{0%{opacity:0;transform:translateY(-30px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}.stat-card[_ngcontent-%COMP%]:hover   .stat-icon[_ngcontent-%COMP%]{transform:scale(1.1);transition:transform .2s ease}.btn[_ngcontent-%COMP%]:not(:disabled):hover{box-shadow:0 4px 12px #3b82f64d}.btn[_ngcontent-%COMP%]:focus, .modal-close[_ngcontent-%COMP%]:focus{outline:2px solid #3b82f6;outline-offset:2px}.table-section[_ngcontent-%COMP%]{position:relative;overflow:hidden}.table-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#3b82f6,#1d4ed8)}@media (max-width: 768px){.users-container[_ngcontent-%COMP%]{padding:1rem}.users-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-container[_ngcontent-%COMP%]{margin:1rem;max-width:calc(100vw - 2rem)}.modal-content[_ngcontent-%COMP%]{padding:1.5rem}.user-profile[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.profile-avatar[_ngcontent-%COMP%]{margin-right:0;margin-bottom:1rem}.details-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.status-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:20px;color:#fff;font-weight:600;font-size:.9rem}.status-icon[_ngcontent-%COMP%]{font-size:.7rem}']})};function y1e(n,e){n&1&&(l(0,"div",35)(1,"div",36),k(2,"i",37),l(3,"p"),m(4,"Loading dashboard data..."),d()()())}var f7=class n{constructor(e,t,i){this.userService=e;this.bookingService=t;this.propertyService=i}totalUsers=0;totalBookings=0;activeUsers=0;pendingBookings=0;completedBookings=0;totalRevenue=0;websiteProfit=0;hostProfit=0;totalProperties=0;acceptedProperties=0;pendingProperties=0;rejectedProperties=0;deletedProperties=0;averagePropertyRating=0;loading=!1;destroy$=new Re;ngOnInit(){this.loadDashboardData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadDashboardData(){this.loading=!0,this.loadUsersData(),this.loadBookingsData(),this.loadPropertiesData()}loadUsersData(){this.userService.getAllUsers().pipe(rt(this.destroy$)).subscribe({next:e=>{this.processUsersData(e)},error:e=>{console.error("Error loading users data:",e),this.totalUsers=0,this.activeUsers=0}})}loadBookingsData(){this.bookingService.getAllBookings().pipe(rt(this.destroy$)).subscribe({next:e=>{this.processBookingsData(e),this.checkLoadingComplete()},error:e=>{console.error("Error loading bookings data:",e),this.totalBookings=0,this.pendingBookings=0,this.completedBookings=0,this.totalRevenue=0,this.websiteProfit=0,this.hostProfit=0,this.checkLoadingComplete()}})}loadPropertiesData(){this.propertyService.getAllForDashboard().pipe(rt(this.destroy$)).subscribe({next:e=>{this.processPropertiesData(e),this.checkLoadingComplete()},error:e=>{console.error("Error loading properties data:",e),this.totalProperties=0,this.acceptedProperties=0,this.pendingProperties=0,this.rejectedProperties=0,this.deletedProperties=0,this.averagePropertyRating=0,this.checkLoadingComplete()}})}processUsersData(e){Array.isArray(e)?(this.totalUsers=e.length,this.activeUsers=e.filter(t=>t.isConfirmed).length):(console.error("Users data is not an array:",e),this.totalUsers=0,this.activeUsers=0)}processBookingsData(e){if(Array.isArray(e)){this.totalBookings=e.length,this.pendingBookings=e.filter(i=>i.bookingStatus?.toLowerCase()==="pending").length,this.completedBookings=e.filter(i=>i.bookingStatus?.toLowerCase()==="confirmed").length;let t=e.filter(i=>i.bookingStatus?.toLowerCase()==="confirmed");this.totalRevenue=t.reduce((i,r)=>i+(r.totalPrice||0),0),this.websiteProfit=this.totalRevenue*.1,this.hostProfit=this.totalRevenue*.9}else console.error("Bookings data is not an array:",e),this.totalBookings=0,this.pendingBookings=0,this.completedBookings=0,this.totalRevenue=0,this.websiteProfit=0,this.hostProfit=0}processPropertiesData(e){if(Array.isArray(e)){this.totalProperties=e.length,this.acceptedProperties=e.filter(i=>i.status===2).length,this.pendingProperties=e.filter(i=>i.status===1).length,this.rejectedProperties=e.filter(i=>i.status===3).length,this.deletedProperties=e.filter(i=>i.isDeleted).length;let t=e.filter(i=>i.averageRating&&i.averageRating>0);t.length>0?this.averagePropertyRating=t.reduce((i,r)=>i+(r.averageRating||0),0)/t.length:this.averagePropertyRating=0}else console.error("Properties data is not an array:",e),this.totalProperties=0,this.acceptedProperties=0,this.pendingProperties=0,this.rejectedProperties=0,this.deletedProperties=0,this.averagePropertyRating=0}checkLoadingComplete(){this.loading=!1}refreshDashboard(){this.loadDashboardData()}formatCurrency(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}getPercentage(e,t){return t>0?Math.round(e/t*100):0}formatRating(e){return e>0?e.toFixed(1):"0.0"}getPropertyStatusColor(e){switch(e.toLowerCase()){case"accepted":return"#28a745";case"pending":return"#ffc107";case"rejected":return"#dc3545";default:return"#6c757d"}}static \u0275fac=function(t){return new(t||n)(V(bl),V(j1),V(Cn))};static \u0275cmp=le({type:n,selectors:[["app-dashboard"]],decls:147,vars:22,consts:[[1,"dashboard-container"],["class","loading-overlay",4,"ngIf"],[1,"dashboard-header"],[1,"header-content"],[1,"page-title"],[1,"fas","fa-tachometer-alt","title-icon"],[1,"page-subtitle"],[1,"header-actions"],[1,"btn","btn-primary",3,"click","disabled"],[1,"fas","fa-sync-alt"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-content"],[1,"stat-number"],[1,"stat-label"],[1,"stat-details"],[1,"detail-text"],[1,"stat-icon"],[1,"fas","fa-users"],[1,"fas","fa-user-check"],[1,"fas","fa-building"],[1,"stat-card","accepted-properties-card"],[1,"fas","fa-check-circle"],[1,"stat-card","pending-properties-card"],[1,"fas","fa-clock"],[1,"stat-card","rating-card"],[1,"fas","fa-star",2,"color","#ffc107"],[1,"fas","fa-star"],[1,"fas","fa-calendar-check"],[1,"stat-card","revenue-card"],[1,"fas","fa-dollar-sign"],[1,"stat-card","website-profit-card"],[1,"fas","fa-percentage"],[1,"stat-card","host-profit-card"],[1,"fas","fa-home"],[1,"loading-overlay"],[1,"loading-spinner"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){t&1&&(l(0,"div",0),j(1,y1e,5,0,"div",1),l(2,"div",2)(3,"div",3)(4,"h1",4),k(5,"i",5),m(6," Dashboard Overview "),d(),l(7,"p",6),m(8,"Welcome to your admin dashboard"),d()(),l(9,"div",7)(10,"button",8),T("click",function(){return i.refreshDashboard()}),k(11,"i",9),m(12," Refresh "),d()()(),l(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),m(17),d(),l(18,"div",14),m(19,"Total Users"),d(),l(20,"div",15)(21,"span",16),m(22),d()()(),l(23,"div",17),k(24,"i",18),d()(),l(25,"div",11)(26,"div",12)(27,"div",13),m(28),d(),l(29,"div",14),m(30,"Active Users"),d(),l(31,"div",15)(32,"span",16),m(33),d()()(),l(34,"div",17),k(35,"i",19),d()(),l(36,"div",11)(37,"div",12)(38,"div",13),m(39),d(),l(40,"div",14),m(41,"Total Properties"),d(),l(42,"div",15)(43,"span",16),m(44),d()()(),l(45,"div",17),k(46,"i",20),d()(),l(47,"div",21)(48,"div",12)(49,"div",13),m(50),d(),l(51,"div",14),m(52,"Accepted Properties"),d(),l(53,"div",15)(54,"span",16),m(55),d()()(),l(56,"div",17),k(57,"i",22),d()(),l(58,"div",23)(59,"div",12)(60,"div",13),m(61),d(),l(62,"div",14),m(63,"Pending Properties"),d(),l(64,"div",15)(65,"span",16),m(66,"Awaiting approval"),d()()(),l(67,"div",17),k(68,"i",24),d()(),l(69,"div",25)(70,"div",12)(71,"div",13),m(72),d(),l(73,"div",14),m(74,"Avg Property Rating"),d(),l(75,"div",15)(76,"span",16),k(77,"i",26),m(78," Overall rating "),d()()(),l(79,"div",17),k(80,"i",27),d()(),l(81,"div",11)(82,"div",12)(83,"div",13),m(84),d(),l(85,"div",14),m(86,"Total Bookings"),d(),l(87,"div",15)(88,"span",16),m(89),d()()(),l(90,"div",17),k(91,"i",28),d()(),l(92,"div",11)(93,"div",12)(94,"div",13),m(95),d(),l(96,"div",14),m(97,"Pending Bookings"),d(),l(98,"div",15)(99,"span",16),m(100),d()()(),l(101,"div",17),k(102,"i",24),d()(),l(103,"div",11)(104,"div",12)(105,"div",13),m(106),d(),l(107,"div",14),m(108,"Confirmed Bookings"),d(),l(109,"div",15)(110,"span",16),m(111),d()()(),l(112,"div",17),k(113,"i",22),d()(),l(114,"div",29)(115,"div",12)(116,"div",13),m(117),d(),l(118,"div",14),m(119,"Total Revenue"),d(),l(120,"div",15)(121,"span",16),m(122),d()()(),l(123,"div",17),k(124,"i",30),d()(),l(125,"div",31)(126,"div",12)(127,"div",13),m(128),d(),l(129,"div",14),m(130,"Website Profit (10%)"),d(),l(131,"div",15)(132,"span",16),m(133,"Platform commission"),d()()(),l(134,"div",17),k(135,"i",32),d()(),l(136,"div",33)(137,"div",12)(138,"div",13),m(139),d(),l(140,"div",14),m(141,"Host Profit (90%)"),d(),l(142,"div",15)(143,"span",16),m(144,"Host earnings"),d()()(),l(145,"div",17),k(146,"i",34),d()()()()),t&2&&(p(),_("ngIf",i.loading),p(9),_("disabled",i.loading),p(7),$(i.totalUsers),p(5),U("",i.activeUsers," active"),p(6),$(i.activeUsers),p(5),U("",i.getPercentage(i.activeUsers,i.totalUsers),"% of total"),p(6),$(i.totalProperties),p(5),U("",i.acceptedProperties," accepted"),p(6),$(i.acceptedProperties),p(5),U("",i.getPercentage(i.acceptedProperties,i.totalProperties),"% approved"),p(6),$(i.pendingProperties),p(11),$(i.formatRating(i.averagePropertyRating)),p(12),$(i.totalBookings),p(5),U("",i.completedBookings," completed"),p(6),$(i.pendingBookings),p(5),U("",i.getPercentage(i.pendingBookings,i.totalBookings),"% of total"),p(6),$(i.completedBookings),p(5),U("",i.getPercentage(i.completedBookings,i.totalBookings),"% success rate"),p(6),$(i.formatCurrency(i.totalRevenue)),p(5),U("From ",i.completedBookings," bookings"),p(6),$(i.formatCurrency(i.websiteProfit)),p(11),$(i.formatCurrency(i.hostProfit)))},dependencies:[he,Ce],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:2rem;background:#f8fafc;min-height:100vh;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem;padding:1.5rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:2rem;font-weight:700;color:#1a202c;margin:0 0 .5rem}.title-icon[_ngcontent-%COMP%]{margin-right:.75rem;color:#3b82f6}.page-subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:1.1rem;margin:0}.header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease}.btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#2563eb;transform:translateY(-1px)}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 2px 8px #0000001a;display:flex;align-items:center;justify-content:space-between;transition:transform .2s ease,box-shadow .2s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #00000026}.stat-content[_ngcontent-%COMP%]{flex:1}.stat-number[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#1a202c;margin-bottom:.25rem}.stat-label[_ngcontent-%COMP%]{color:#64748b;font-size:.9rem;font-weight:500;text-transform:uppercase;letter-spacing:.5px;margin-bottom:.5rem}.stat-details[_ngcontent-%COMP%]{margin-top:.5rem}.detail-text[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem;font-weight:500}.stat-icon[_ngcontent-%COMP%]{font-size:2.5rem;color:#3b82f6;opacity:.8}.revenue-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.revenue-card[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%], .revenue-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%], .revenue-card[_ngcontent-%COMP%]   .detail-text[_ngcontent-%COMP%]{color:#fff}.revenue-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{color:#ffffffe6}.website-profit-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#11998e,#38ef7d);color:#fff}.website-profit-card[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%], .website-profit-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%], .website-profit-card[_ngcontent-%COMP%]   .detail-text[_ngcontent-%COMP%]{color:#fff}.website-profit-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{color:#ffffffe6}.host-profit-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fc4a1a,#f7b733);color:#fff}.host-profit-card[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%], .host-profit-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%], .host-profit-card[_ngcontent-%COMP%]   .detail-text[_ngcontent-%COMP%]{color:#fff}.host-profit-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{color:#ffffffe6}.quick-actions[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;padding:2rem;margin-top:2rem}.actions-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.actions-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.5rem;font-weight:700;color:#1a202c;margin:0}.actions-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.75rem;color:#3b82f6}.actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem;background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;cursor:pointer;transition:all .2s ease;text-align:left}.action-btn[_ngcontent-%COMP%]:hover{background:#3b82f6;color:#fff;transform:translateY(-1px);box-shadow:0 4px 12px #3b82f64d}.action-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:1rem;color:#3b82f6;transition:color .2s ease}.action-btn[_ngcontent-%COMP%]:hover   .action-icon[_ngcontent-%COMP%]{color:#fff}.action-content[_ngcontent-%COMP%]{flex:1}.action-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1a202c;margin-bottom:.25rem;transition:color .2s ease}.action-subtitle[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;transition:color .2s ease}.action-btn[_ngcontent-%COMP%]:hover   .action-title[_ngcontent-%COMP%], .action-btn[_ngcontent-%COMP%]:hover   .action-subtitle[_ngcontent-%COMP%]{color:#fff}.loading-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#f8fafce6;display:flex;align-items:center;justify-content:center;z-index:999;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.loading-spinner[_ngcontent-%COMP%]{text-align:center;color:#3b82f6}.loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin:0}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.btn[_ngcontent-%COMP%]:disabled:hover{transform:none!important;background:inherit}.fa-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fa-spin 1s infinite linear}@keyframes _ngcontent-%COMP%_fa-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.stat-card[_ngcontent-%COMP%]:hover   .stat-icon[_ngcontent-%COMP%]{transform:scale(1.1);transition:transform .2s ease}.btn[_ngcontent-%COMP%]:not(:disabled):hover{box-shadow:0 4px 12px #3b82f64d}.btn[_ngcontent-%COMP%]:focus, .action-btn[_ngcontent-%COMP%]:focus{outline:2px solid #3b82f6;outline-offset:2px}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:1rem}.dashboard-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.stats-grid[_ngcontent-%COMP%], .actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.stat-number[_ngcontent-%COMP%], .stat-icon[_ngcontent-%COMP%]{font-size:2rem}}"]})};function x1e(n,e){n&1&&(l(0,"div",111)(1,"div",112),k(2,"i",113),l(3,"p"),m(4,"Loading analytics data..."),d()()())}function C1e(n,e){if(n&1&&(l(0,"div",114),k(1,"div",115),l(2,"div",116),m(3),d()()),n&2){let t=e.$implicit,i=C();p(),xt("height",t.revenue/i.getMaxRevenue()*100,"%"),_("title",i.formatCurrency(t.revenue)),p(2),$(t.month)}}function M1e(n,e){if(n&1&&(l(0,"div",70),k(1,"span",117),l(2,"span",118),m(3),d(),l(4,"span",119),m(5),d()()),n&2){let t=e.$implicit;p(),xt("background-color",t.color),p(2),$(t.label),p(2),$(t.value)}}function w1e(n,e){if(n&1&&(l(0,"div",70),k(1,"span",117),l(2,"span",118),m(3),d(),l(4,"span",119),m(5),d()()),n&2){let t=e.$implicit;p(),xt("background-color",t.color),p(2),$(t.label),p(2),$(t.value)}}function S1e(n,e){if(n&1&&(l(0,"div",120)(1,"div",121),m(2),d(),l(3,"div",122),k(4,"div",123),d(),l(5,"div",124),m(6),d()()),n&2){let t=e.$implicit,i=C();p(2),$(t.label),p(2),xt("width",t.value/i.getTotalUsersCount()*100,"%")("background-color",t.color),p(2),$(t.value)}}function P1e(n,e){if(n&1&&(l(0,"div",125)(1,"div",126),m(2),d(),l(3,"div",127)(4,"div",128),m(5),d(),l(6,"div",129),m(7),d()(),l(8,"div",130),k(9,"div",131),d()()),n&2){let t=e.$implicit,i=e.index,r=C();p(2),$(i+1),p(3),$(t.label),p(2),U("",t.value," bookings"),p(2),xt("width",r.getPercentageWidth(t.value,r.analytics.topCities),"%")("background-color",t.color)}}function k1e(n,e){if(n&1&&(l(0,"div",125)(1,"div",126),m(2),d(),l(3,"div",127)(4,"div",128),m(5),d(),l(6,"div",129),m(7),d()(),l(8,"div",130),k(9,"div",131),d()()),n&2){let t=e.$implicit,i=e.index,r=C();p(2),$(i+1),p(3),$(t.label),p(2),U("",t.value," bookings"),p(2),xt("width",r.getPercentageWidth(t.value,r.analytics.topCountries),"%")("background-color",t.color)}}var m7=class n{constructor(e,t,i){this.userService=e;this.bookingService=t;this.propertyService=i}loading=!1;chartLoading=!1;users=[];bookings=[];properties=[];websiteProfit=0;hostProfit=0;totalCompletedBookings=0;analytics={totalRevenue:0,monthlyRevenue:0,yearlyRevenue:0,averageBookingValue:0,revenueGrowth:0,occupancyRate:0,averageStayDuration:0,bookingConversionRate:0,customerRetentionRate:0,userGrowthRate:0,propertyGrowthRate:0,bookingGrowthRate:0,topCities:[],topCountries:[]};monthlyRevenueData=[];bookingStatusData=[];propertyStatusData=[];userActivityData=[];selectedPeriod="monthly";periodOptions=[{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"yearly",label:"Yearly"}];currentDate=new Date;destroy$=new Re;ngOnInit(){this.loadAnalyticsData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadAnalyticsData(){this.loading=!0,Promise.all([this.loadUsersData(),this.loadBookingsData(),this.loadPropertiesData()]).then(()=>{this.calculateAnalytics(),this.prepareChartData(),this.loading=!1}).catch(e=>{console.error("Error loading analytics data:",e),this.loading=!1})}loadUsersData(){return new Promise((e,t)=>{this.userService.getAllUsers().pipe(rt(this.destroy$)).subscribe({next:i=>{this.users=Array.isArray(i)?i:[],e()},error:i=>{console.error("Error loading users:",i),this.users=[],e()}})})}loadBookingsData(){return new Promise((e,t)=>{this.bookingService.getAllBookings().pipe(rt(this.destroy$)).subscribe({next:i=>{this.bookings=Array.isArray(i)?i:[],e()},error:i=>{console.error("Error loading bookings:",i),this.bookings=[],e()}})})}loadPropertiesData(){return new Promise((e,t)=>{this.propertyService.getAllForDashboard().pipe(rt(this.destroy$)).subscribe({next:i=>{this.properties=Array.isArray(i)?i:[],e()},error:i=>{console.error("Error loading properties:",i),this.properties=[],e()}})})}calculateAnalytics(){this.calculateFinancialMetrics(),this.calculatePerformanceMetrics(),this.calculateGrowthMetrics(),this.calculateGeographicMetrics()}calculateFinancialMetrics(){let e=this.bookings.filter(v=>v.bookingStatus?.toLowerCase()==="confirmed");this.totalCompletedBookings=e.length,this.analytics.totalRevenue=e.reduce((v,y)=>v+(y.totalPrice||0),0),this.websiteProfit=this.analytics.totalRevenue*.1,this.hostProfit=this.analytics.totalRevenue*.9;let t=this.currentDate.getMonth(),i=this.currentDate.getFullYear(),r=e.filter(v=>{let y=new Date(v.checkInDate);return y.getMonth()===t&&y.getFullYear()===i});this.analytics.monthlyRevenue=r.reduce((v,y)=>v+(y.totalPrice||0),0);let o=e.filter(v=>new Date(v.checkInDate).getFullYear()===i);this.analytics.yearlyRevenue=o.reduce((v,y)=>v+(y.totalPrice||0),0),this.analytics.averageBookingValue=e.length>0?this.analytics.totalRevenue/e.length:0;let a=t===0?11:t-1,c=t===0?i-1:i,h=e.filter(v=>{let y=new Date(v.checkInDate);return y.getMonth()===a&&y.getFullYear()===c}).reduce((v,y)=>v+(y.totalPrice||0),0);this.analytics.revenueGrowth=h>0?(this.analytics.monthlyRevenue-h)/h*100:0}calculatePerformanceMetrics(){let e=this.properties.length*365,t=this.bookings.reduce((u,h)=>{let v=new Date(h.checkInDate),P=(new Date(h.checkOutDate).getTime()-v.getTime())/(1e3*60*60*24);return u+P},0);this.analytics.occupancyRate=e>0?t/e*100:0;let i=this.bookings.reduce((u,h)=>{let v=new Date(h.checkInDate),P=(new Date(h.checkOutDate).getTime()-v.getTime())/(1e3*60*60*24);return u+P},0);this.analytics.averageStayDuration=this.bookings.length>0?i/this.bookings.length:0;let r=this.bookings.filter(u=>u.bookingStatus?.toLowerCase()==="confirmed").length;this.analytics.bookingConversionRate=this.bookings.length>0?r/this.bookings.length*100:0;let o=this.bookings.reduce((u,h)=>(u[h.userId]=(u[h.userId]||0)+1,u),{}),a=Object.values(o).filter(u=>u>1).length,c=Object.keys(o).length;this.analytics.customerRetentionRate=c>0?a/c*100:0}calculateGrowthMetrics(){let e=new Date;e.setDate(e.getDate()-30);let t=new Date;t.setDate(t.getDate()-60),this.analytics.userGrowthRate=5.2,this.analytics.propertyGrowthRate=3.8;let i=this.bookings.filter(o=>new Date(o.checkInDate)>=e).length,r=this.bookings.filter(o=>{let a=new Date(o.checkInDate);return a>=t&&a<e}).length;this.analytics.bookingGrowthRate=r>0?(i-r)/r*100:0}calculateGeographicMetrics(){let e=this.bookings.reduce((i,r)=>(r.city&&(i[r.city]=(i[r.city]||0)+1),i),{});this.analytics.topCities=Object.entries(e).sort(([,i],[,r])=>r-i).slice(0,5).map(([i,r])=>({label:i,value:r,color:this.getRandomColor()}));let t=this.bookings.reduce((i,r)=>(r.country&&(i[r.country]=(i[r.country]||0)+1),i),{});this.analytics.topCountries=Object.entries(t).sort(([,i],[,r])=>r-i).slice(0,5).map(([i,r])=>({label:i,value:r,color:this.getRandomColor()}))}prepareChartData(){this.prepareMonthlyRevenueData(),this.prepareBookingStatusData(),this.preparePropertyStatusData(),this.prepareUserActivityData()}prepareMonthlyRevenueData(){let e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=this.currentDate.getFullYear();this.monthlyRevenueData=e.map((i,r)=>{let o=this.bookings.filter(c=>{let u=new Date(c.checkInDate);return u.getMonth()===r&&u.getFullYear()===t&&c.bookingStatus?.toLowerCase()==="confirmed"}),a=o.reduce((c,u)=>c+(u.totalPrice||0),0);return{month:i,revenue:a,bookings:o.length,users:new Set(o.map(c=>c.userId)).size,properties:new Set(o.map(c=>c.propertyId)).size}})}prepareBookingStatusData(){let e=this.bookings.reduce((i,r)=>{let o=r.bookingStatus||"Unknown";return i[o]=(i[o]||0)+1,i},{}),t={completed:"#28a745",pending:"#ffc107",cancelled:"#dc3545",confirmed:"#17a2b8"};this.bookingStatusData=Object.entries(e).map(([i,r])=>({label:i.charAt(0).toUpperCase()+i.slice(1),value:r,color:t[i.toLowerCase()]||"#6c757d"}))}preparePropertyStatusData(){let e={Accepted:this.properties.filter(i=>i.status===2).length,Pending:this.properties.filter(i=>i.status===1).length,Rejected:this.properties.filter(i=>i.status===3).length,Deleted:this.properties.filter(i=>i.isDeleted).length},t={Accepted:"#28a745",Pending:"#ffc107",Rejected:"#dc3545",Deleted:"#6c757d"};this.propertyStatusData=Object.entries(e).map(([i,r])=>({label:i,value:r,color:t[i]}))}prepareUserActivityData(){let e=this.users.filter(i=>i.isConfirmed).length,t=this.users.length-e;this.userActivityData=[{label:"Active Users",value:e,color:"#28a745"},{label:"Inactive Users",value:t,color:"#6c757d"}]}formatCurrency(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}formatPercentage(e){return`${e>=0?"+":""}${e.toFixed(1)}%`}formatNumber(e){return new Intl.NumberFormat("en-US").format(Math.round(e))}getMaxRevenue(){return Math.max(...this.monthlyRevenueData.map(e=>e.revenue),1)}getTotalUsersCount(){return Math.max(this.users.length,1)}getTodayRevenue(){let t=new Date().toISOString().split("T")[0];return this.bookings.filter(r=>new Date(r.checkInDate).toISOString().split("T")[0]===t&&r.bookingStatus?.toLowerCase()==="confirmed").reduce((r,o)=>r+(o.totalPrice||0),0)}getActiveUsersCount(){return this.users.filter(e=>e.isConfirmed).length}getPendingBookingsCount(){return this.bookings.filter(e=>e.bookingStatus?.toLowerCase()==="pending").length}getAvailablePropertiesCount(){return this.properties.filter(e=>e.status===2&&!e.isDeleted).length}getPercentageWidth(e,t){if(!t||t.length===0)return 0;let i=t[0]?.value||1;return e/i*100}getRevenuePerUser(){return this.analytics.totalRevenue/(this.users.length||1)}getRevenuePerProperty(){return this.analytics.totalRevenue/(this.properties.length||1)}getBookingFrequency(){return(this.bookings.length/(this.users.length||1)).toFixed(1)}getPlatformEfficiency(){return(this.analytics.totalRevenue*.1/(this.users.length||1)).toFixed(0)}getTotalCompletedBookings(){return this.totalCompletedBookings}getWebsiteProfit(){return this.websiteProfit}getHostProfit(){return this.hostProfit}getRandomColor(){let e=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#06b6d4","#84cc16","#f97316","#ec4899","#6366f1"];return e[Math.floor(Math.random()*e.length)]}refreshAnalytics(){this.loadAnalyticsData()}exportAnalytics(){let e={timestamp:new Date().toISOString(),period:this.selectedPeriod,financialMetrics:{totalRevenue:this.analytics.totalRevenue,monthlyRevenue:this.analytics.monthlyRevenue,yearlyRevenue:this.analytics.yearlyRevenue,averageBookingValue:this.analytics.averageBookingValue,revenueGrowth:this.analytics.revenueGrowth,websiteProfit:this.websiteProfit,hostProfit:this.hostProfit,totalCompletedBookings:this.totalCompletedBookings},performanceMetrics:{occupancyRate:this.analytics.occupancyRate,averageStayDuration:this.analytics.averageStayDuration,bookingConversionRate:this.analytics.bookingConversionRate,customerRetentionRate:this.analytics.customerRetentionRate},growthMetrics:{userGrowthRate:this.analytics.userGrowthRate,propertyGrowthRate:this.analytics.propertyGrowthRate,bookingGrowthRate:this.analytics.bookingGrowthRate},geographicData:{topCities:this.analytics.topCities,topCountries:this.analytics.topCountries},monthlyData:this.monthlyRevenueData}}static \u0275fac=function(t){return new(t||n)(V(bl),V(j1),V(Cn))};static \u0275cmp=le({type:n,selectors:[["app-analytics"]],decls:296,vars:60,consts:[[1,"analytics-container"],["class","loading-overlay",4,"ngIf"],[1,"analytics-header"],[1,"header-content"],[1,"page-title"],[1,"fas","fa-chart-bar","title-icon"],[1,"page-subtitle"],[1,"header-actions"],[1,"btn","btn-primary",3,"click","disabled"],[1,"fas","fa-sync-alt"],[1,"analytics-section"],[1,"section-header"],[1,"section-title"],[1,"fas","fa-dollar-sign"],[1,"revenue-overview-card"],[1,"revenue-main"],[1,"revenue-primary"],[1,"revenue-amount"],[1,"revenue-label"],[1,"revenue-subtitle"],[1,"revenue-breakdown"],[1,"profit-item","website-profit"],[1,"profit-amount"],[1,"profit-label"],[1,"profit-subtitle"],[1,"profit-item","host-profit"],[1,"financial-grid"],[1,"financial-card","monthly-revenue"],[1,"card-header"],[1,"card-icon"],[1,"fas","fa-calendar-alt"],[1,"card-title"],[1,"card-value"],[1,"card-subtitle"],[1,"growth-indicator"],[1,"fas"],[1,"financial-card","avg-booking"],[1,"fas","fa-receipt"],[1,"financial-card","yearly-revenue"],[1,"fas","fa-chart-pie"],[1,"fas","fa-tachometer-alt"],[1,"performance-grid"],[1,"performance-card"],[1,"performance-header"],[1,"performance-label"],[1,"performance-value"],[1,"progress-bar"],[1,"progress-fill"],[1,"fas","fa-trending-up"],[1,"growth-grid"],[1,"growth-card"],[1,"growth-header"],[1,"growth-icon"],[1,"fas","fa-users"],[1,"growth-info"],[1,"growth-title"],[1,"growth-period"],[1,"growth-value"],[1,"growth-percentage"],[1,"growth-chart"],[1,"mini-chart"],[1,"chart-line"],[1,"fas","fa-building"],[1,"fas","fa-calendar-check"],[1,"charts-section"],[1,"charts-grid"],[1,"chart-container"],[1,"chart-header"],[1,"chart-title"],[1,"chart-legend"],[1,"legend-item"],[1,"legend-color","revenue-color"],[1,"chart-content"],[1,"line-chart"],[1,"chart-grid"],["class","chart-bar-container",4,"ngFor","ngForOf"],[1,"pie-chart"],[1,"pie-legend"],["class","legend-item",4,"ngFor","ngForOf"],[1,"donut-chart"],[1,"donut-legend"],[1,"bar-chart"],["class","bar-item",4,"ngFor","ngForOf"],[1,"fas","fa-globe"],[1,"geographic-grid"],[1,"geographic-container"],[1,"geographic-header"],[1,"geographic-title"],[1,"geographic-list"],["class","geographic-item",4,"ngFor","ngForOf"],[1,"fas","fa-brain"],[1,"insights-grid"],[1,"insight-card"],[1,"insight-header"],[1,"fas","fa-user-dollar"],[1,"insight-title"],[1,"insight-value"],[1,"insight-description"],[1,"fas","fa-home-dollar"],[1,"fas","fa-calendar-week"],[1,"fas","fa-chart-area"],[1,"fas","fa-broadcast-tower"],[1,"realtime-grid"],[1,"realtime-card"],[1,"realtime-indicator","active"],[1,"realtime-content"],[1,"realtime-value"],[1,"realtime-label"],[1,"realtime-indicator","pending"],[1,"realtime-indicator","available"],[1,"realtime-indicator","revenue"],[1,"loading-overlay"],[1,"loading-spinner"],[1,"fas","fa-chart-line","fa-spin"],[1,"chart-bar-container"],[1,"chart-bar",3,"title"],[1,"chart-label"],[1,"legend-color"],[1,"legend-label"],[1,"legend-value"],[1,"bar-item"],[1,"bar-label"],[1,"bar-container"],[1,"bar-fill"],[1,"bar-value"],[1,"geographic-item"],[1,"geographic-rank"],[1,"geographic-info"],[1,"geographic-name"],[1,"geographic-count"],[1,"geographic-bar"],[1,"geographic-fill"]],template:function(t,i){t&1&&(l(0,"div",0),j(1,x1e,5,0,"div",1),l(2,"div",2)(3,"div",3)(4,"h1",4),k(5,"i",5),m(6," Analytics Dashboard "),d(),l(7,"p",6),m(8,"Comprehensive insights and performance metrics"),d()(),l(9,"div",7)(10,"button",8),T("click",function(){return i.refreshAnalytics()}),k(11,"i",9),m(12," Refresh "),d()()(),l(13,"div",10)(14,"div",11)(15,"h2",12),k(16,"i",13),m(17," Financial Analytics "),d()(),l(18,"div",14)(19,"div",15)(20,"div",16)(21,"div",17),m(22),d(),l(23,"div",18),m(24,"Total Revenue"),d(),l(25,"div",19),m(26),d()()(),l(27,"div",20)(28,"div",21)(29,"div",22),m(30),d(),l(31,"div",23),m(32,"Website Profit (10%)"),d(),l(33,"div",24),m(34,"Platform commission"),d()(),l(35,"div",25)(36,"div",22),m(37),d(),l(38,"div",23),m(39,"Host Profit (90%)"),d(),l(40,"div",24),m(41,"Host earnings"),d()()()(),l(42,"div",26)(43,"div",27)(44,"div",28)(45,"div",29),k(46,"i",30),d(),l(47,"div",31),m(48,"Monthly Revenue"),d()(),l(49,"div",32),m(50),d(),l(51,"div",33)(52,"span",34),k(53,"i",35),m(54),d(),m(55," vs last month "),d()(),l(56,"div",36)(57,"div",28)(58,"div",29),k(59,"i",37),d(),l(60,"div",31),m(61,"Avg Booking Value"),d()(),l(62,"div",32),m(63),d(),l(64,"div",33),m(65,"Per booking average"),d()(),l(66,"div",38)(67,"div",28)(68,"div",29),k(69,"i",39),d(),l(70,"div",31),m(71,"Year to Date"),d()(),l(72,"div",32),m(73),d(),l(74,"div",33),m(75),d()()()(),l(76,"div",10)(77,"div",11)(78,"h2",12),k(79,"i",40),m(80," Performance Metrics "),d()(),l(81,"div",41)(82,"div",42)(83,"div",43)(84,"span",44),m(85,"Occupancy Rate"),d(),l(86,"span",45),m(87),d()(),l(88,"div",46),k(89,"div",47),d()(),l(90,"div",42)(91,"div",43)(92,"span",44),m(93,"Avg Stay Duration"),d(),l(94,"span",45),m(95),d()(),l(96,"div",46),k(97,"div",47),d()(),l(98,"div",42)(99,"div",43)(100,"span",44),m(101,"Conversion Rate"),d(),l(102,"span",45),m(103),d()(),l(104,"div",46),k(105,"div",47),d()(),l(106,"div",42)(107,"div",43)(108,"span",44),m(109,"Retention Rate"),d(),l(110,"span",45),m(111),d()(),l(112,"div",46),k(113,"div",47),d()()()(),l(114,"div",10)(115,"div",11)(116,"h2",12),k(117,"i",48),m(118," Growth Analytics "),d()(),l(119,"div",49)(120,"div",50)(121,"div",51)(122,"div",52),k(123,"i",53),d(),l(124,"div",54)(125,"div",55),m(126,"User Growth"),d(),l(127,"div",56),m(128,"Last 30 days"),d()()(),l(129,"div",57)(130,"span",58),m(131),d()(),l(132,"div",59)(133,"div",60),k(134,"div",61),d()()(),l(135,"div",50)(136,"div",51)(137,"div",52),k(138,"i",62),d(),l(139,"div",54)(140,"div",55),m(141,"Property Growth"),d(),l(142,"div",56),m(143,"Last 30 days"),d()()(),l(144,"div",57)(145,"span",58),m(146),d()(),l(147,"div",59)(148,"div",60),k(149,"div",61),d()()(),l(150,"div",50)(151,"div",51)(152,"div",52),k(153,"i",63),d(),l(154,"div",54)(155,"div",55),m(156,"Booking Growth"),d(),l(157,"div",56),m(158,"Last 30 days"),d()()(),l(159,"div",57)(160,"span",58),m(161),d()(),l(162,"div",59)(163,"div",60),k(164,"div",61),d()()()()(),l(165,"div",64)(166,"div",65)(167,"div",66)(168,"div",67)(169,"h3",68),m(170,"Monthly Revenue Trend"),d(),l(171,"div",69)(172,"span",70),k(173,"span",71),m(174," Revenue "),d()()(),l(175,"div",72)(176,"div",73)(177,"div",74),j(178,C1e,4,4,"div",75),d()()()(),l(179,"div",66)(180,"div",67)(181,"h3",68),m(182,"Booking Status Distribution"),d()(),l(183,"div",72)(184,"div",76)(185,"div",77),j(186,M1e,6,4,"div",78),d()()()(),l(187,"div",66)(188,"div",67)(189,"h3",68),m(190,"Property Status Overview"),d()(),l(191,"div",72)(192,"div",79)(193,"div",80),j(194,w1e,6,4,"div",78),d()()()(),l(195,"div",66)(196,"div",67)(197,"h3",68),m(198,"User Activity Status"),d()(),l(199,"div",72)(200,"div",81),j(201,S1e,7,6,"div",82),d()()()()(),l(202,"div",10)(203,"div",11)(204,"h2",12),k(205,"i",83),m(206," Geographic Analytics "),d()(),l(207,"div",84)(208,"div",85)(209,"div",86)(210,"h3",87),m(211,"Top Cities"),d()(),l(212,"div",88),j(213,P1e,10,7,"div",89),d()(),l(214,"div",85)(215,"div",86)(216,"h3",87),m(217,"Top Countries"),d()(),l(218,"div",88),j(219,k1e,10,7,"div",89),d()()()(),l(220,"div",10)(221,"div",11)(222,"h2",12),k(223,"i",90),m(224," Advanced Insights "),d()(),l(225,"div",91)(226,"div",92)(227,"div",93),k(228,"i",94),l(229,"span",95),m(230,"Revenue per User"),d()(),l(231,"div",96),m(232),d(),l(233,"div",97),m(234," Average revenue generated per registered user "),d()(),l(235,"div",92)(236,"div",93),k(237,"i",98),l(238,"span",95),m(239,"Revenue per Property"),d()(),l(240,"div",96),m(241),d(),l(242,"div",97),m(243," Average revenue generated per property "),d()(),l(244,"div",92)(245,"div",93),k(246,"i",99),l(247,"span",95),m(248,"Booking Frequency"),d()(),l(249,"div",96),m(250),d(),l(251,"div",97),m(252," Average bookings per user "),d()(),l(253,"div",92)(254,"div",93),k(255,"i",100),l(256,"span",95),m(257,"Platform Efficiency"),d()(),l(258,"div",96),m(259),d(),l(260,"div",97),m(261," Platform commission per user "),d()()()(),l(262,"div",10)(263,"div",11)(264,"h2",12),k(265,"i",101),m(266," Real-time Metrics "),d()(),l(267,"div",102)(268,"div",103),k(269,"div",104),l(270,"div",105)(271,"div",106),m(272),d(),l(273,"div",107),m(274,"Active Users"),d()()(),l(275,"div",103),k(276,"div",108),l(277,"div",105)(278,"div",106),m(279),d(),l(280,"div",107),m(281,"Pending Bookings"),d()()(),l(282,"div",103),k(283,"div",109),l(284,"div",105)(285,"div",106),m(286),d(),l(287,"div",107),m(288,"Available Properties"),d()()(),l(289,"div",103),k(290,"div",110),l(291,"div",105)(292,"div",106),m(293),d(),l(294,"div",107),m(295,"Today's Revenue"),d()()()()()()),t&2&&(p(),_("ngIf",i.loading),p(9),_("disabled",i.loading),p(12),$(i.formatCurrency(i.analytics.totalRevenue)),p(4),U("From ",i.getTotalCompletedBookings()," bookings"),p(4),$(i.formatCurrency(i.getWebsiteProfit())),p(7),$(i.formatCurrency(i.getHostProfit())),p(13),$(i.formatCurrency(i.analytics.monthlyRevenue)),p(2),Me("positive",i.analytics.revenueGrowth>0)("negative",i.analytics.revenueGrowth<0),p(),Me("fa-arrow-up",i.analytics.revenueGrowth>0)("fa-arrow-down",i.analytics.revenueGrowth<0),p(),U(" ",i.formatPercentage(i.analytics.revenueGrowth)," "),p(9),$(i.formatCurrency(i.analytics.averageBookingValue)),p(10),$(i.formatCurrency(i.analytics.yearlyRevenue)),p(2),U("",i.currentDate.getFullYear()," earnings"),p(12),U("",i.analytics.occupancyRate.toFixed(1),"%"),p(2),xt("width",i.analytics.occupancyRate,"%"),p(6),U("",i.analytics.averageStayDuration.toFixed(1)," days"),p(2),xt("width",i.analytics.averageStayDuration/14*100,"%"),p(6),U("",i.analytics.bookingConversionRate.toFixed(1),"%"),p(2),xt("width",i.analytics.bookingConversionRate,"%"),p(6),U("",i.analytics.customerRetentionRate.toFixed(1),"%"),p(2),xt("width",i.analytics.customerRetentionRate,"%"),p(17),Me("positive",i.analytics.userGrowthRate>0),p(),U(" ",i.formatPercentage(i.analytics.userGrowthRate)," "),p(3),Me("positive",i.analytics.userGrowthRate>0),p(11),Me("positive",i.analytics.propertyGrowthRate>0),p(),U(" ",i.formatPercentage(i.analytics.propertyGrowthRate)," "),p(3),Me("positive",i.analytics.propertyGrowthRate>0),p(11),Me("positive",i.analytics.bookingGrowthRate>0),p(),U(" ",i.formatPercentage(i.analytics.bookingGrowthRate)," "),p(3),Me("positive",i.analytics.bookingGrowthRate>0),p(14),_("ngForOf",i.monthlyRevenueData),p(8),_("ngForOf",i.bookingStatusData),p(8),_("ngForOf",i.propertyStatusData),p(7),_("ngForOf",i.userActivityData),p(12),_("ngForOf",i.analytics.topCities),p(6),_("ngForOf",i.analytics.topCountries),p(13),U(" ",i.formatCurrency(i.getRevenuePerUser())," "),p(9),U(" ",i.formatCurrency(i.getRevenuePerProperty())," "),p(9),U(" ",i.getBookingFrequency()," "),p(9),U(" ",i.getPlatformEfficiency(),"$ "),p(13),$(i.getActiveUsersCount()),p(7),$(i.getPendingBookingsCount()),p(7),$(i.getAvailablePropertiesCount()),p(7),$(i.formatCurrency(i.getTodayRevenue())))},dependencies:[he,Xe,Ce],styles:[`.analytics-container[_ngcontent-%COMP%]{padding:2rem;background:#f8fafc;min-height:100vh;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.loading-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#f8fafcf2;display:flex;align-items:center;justify-content:center;z-index:999;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.loading-spinner[_ngcontent-%COMP%]{text-align:center;color:#3b82f6}.loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;color:#3b82f6}.loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin:0}.analytics-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem;padding:2rem;background:#fff;border-radius:16px;box-shadow:0 4px 12px #00000014}.header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:2.25rem;font-weight:800;color:#1a202c;margin:0 0 .5rem}.title-icon[_ngcontent-%COMP%]{margin-right:1rem;color:#3b82f6;font-size:2rem}.page-subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:1.125rem;margin:0;font-weight:500}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.period-selector[_ngcontent-%COMP%]{position:relative}.period-select[_ngcontent-%COMP%]{padding:.75rem 1rem;border:2px solid #e2e8f0;border-radius:8px;background:#fff;color:#374151;font-weight:500;cursor:pointer;transition:all .2s ease}.period-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease;font-size:.875rem}.btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb;transform:translateY(-1px);box-shadow:0 4px 12px #3b82f64d}.btn-secondary[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151;border:1px solid #d1d5db}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#e5e7eb;transform:translateY(-1px)}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.analytics-section[_ngcontent-%COMP%]{margin-bottom:3rem}.section-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.75rem;font-weight:700;color:#1a202c;margin:0}.section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.75rem;color:#3b82f6}.financial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem}.financial-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:16px;box-shadow:0 4px 12px #00000014;transition:transform .2s ease,box-shadow .2s ease;position:relative;overflow:hidden}.financial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#3b82f6,#8b5cf6)}.financial-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 20px #00000026}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:1rem}.card-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;background:linear-gradient(135deg,#3b82f6,#8b5cf6);display:flex;align-items:center;justify-content:center;margin-right:1rem}.card-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:1.25rem}.card-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px}.card-value[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;color:#1a202c;margin-bottom:.5rem;line-height:1}.card-subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem;display:flex;align-items:center;gap:.5rem}.growth-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-weight:600;font-size:.875rem}.growth-indicator.positive[_ngcontent-%COMP%]{color:#10b981}.growth-indicator.negative[_ngcontent-%COMP%]{color:#ef4444}.primary-revenue[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.primary-revenue[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .primary-revenue[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%], .primary-revenue[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{color:#fff}.monthly-revenue[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#10b981,#34d399)}.avg-booking[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#f59e0b,#fbbf24)}.yearly-revenue[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#8b5cf6,#a78bfa)}.performance-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.performance-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 2px 8px #00000014}.performance-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.performance-label[_ngcontent-%COMP%]{font-weight:600;color:#374151}.performance-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#3b82f6}.progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#f3f4f6;border-radius:4px;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#3b82f6,#8b5cf6);transition:width .8s ease;border-radius:4px}.charts-section[_ngcontent-%COMP%]{margin-bottom:3rem}.charts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:2rem}.chart-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 12px #00000014;overflow:hidden}.chart-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid #f3f4f6;display:flex;justify-content:space-between;align-items:center}.chart-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1a202c;margin:0}.chart-legend[_ngcontent-%COMP%]{display:flex;gap:1rem}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#64748b}.legend-color[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:2px}.revenue-color[_ngcontent-%COMP%]{background:#3b82f6}.chart-content[_ngcontent-%COMP%]{padding:1.5rem;min-height:300px}.line-chart[_ngcontent-%COMP%]{height:250px;position:relative}.chart-grid[_ngcontent-%COMP%]{display:flex;align-items:end;height:200px;gap:.5rem}.chart-bar-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;height:100%}.chart-bar[_ngcontent-%COMP%]{width:100%;background:linear-gradient(180deg,#3b82f6,#1d4ed8);border-radius:4px 4px 0 0;transition:all .3s ease;min-height:4px}.chart-bar[_ngcontent-%COMP%]:hover{background:linear-gradient(180deg,#2563eb,#1e40af);transform:scaleY(1.05)}.chart-label[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.75rem;color:#64748b;font-weight:500}.pie-chart[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:250px}.pie-legend[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.pie-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.5rem;border-radius:8px;transition:background-color .2s ease}.pie-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]:hover{background:#f8fafc}.legend-label[_ngcontent-%COMP%]{font-weight:500;color:#374151;flex:1}.legend-value[_ngcontent-%COMP%]{font-weight:600;color:#1a202c;background:#f3f4f6;padding:.25rem .5rem;border-radius:4px;font-size:.875rem}.bar-chart[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.bar-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.bar-label[_ngcontent-%COMP%]{font-weight:500;color:#374151;min-width:120px}.bar-container[_ngcontent-%COMP%]{flex:1;height:24px;background:#f3f4f6;border-radius:12px;overflow:hidden}.bar-fill[_ngcontent-%COMP%]{height:100%;border-radius:12px;transition:width .8s ease}.bar-value[_ngcontent-%COMP%]{font-weight:600;color:#1a202c;min-width:60px;text-align:right}.geographic-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:2rem}.geographic-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 12px #00000014;overflow:hidden}.geographic-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid #f3f4f6}.geographic-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1a202c;margin:0}.geographic-list[_ngcontent-%COMP%]{padding:1rem}.geographic-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;border-radius:8px;transition:background-color .2s ease}.geographic-item[_ngcontent-%COMP%]:hover{background:#f8fafc}.geographic-rank[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:#3b82f6;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.875rem}.geographic-info[_ngcontent-%COMP%]{flex:1}.geographic-name[_ngcontent-%COMP%]{font-weight:600;color:#1a202c;margin-bottom:.25rem}.geographic-count[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.geographic-bar[_ngcontent-%COMP%]{width:100px;height:6px;background:#f3f4f6;border-radius:3px;overflow:hidden}.geographic-fill[_ngcontent-%COMP%]{height:100%;border-radius:3px;transition:width .8s ease}.growth-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.growth-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:16px;box-shadow:0 4px 12px #00000014;transition:transform .2s ease}.growth-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.growth-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:1.5rem}.growth-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;background:linear-gradient(135deg,#10b981,#34d399);display:flex;align-items:center;justify-content:center;margin-right:1rem}.growth-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:1.25rem}.growth-info[_ngcontent-%COMP%]{flex:1}.growth-title[_ngcontent-%COMP%]{font-weight:600;color:#1a202c;margin-bottom:.25rem}.growth-period[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.growth-value[_ngcontent-%COMP%]{margin-bottom:1rem}.growth-percentage[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;color:#ef4444}.growth-percentage.positive[_ngcontent-%COMP%]{color:#10b981}.growth-chart[_ngcontent-%COMP%]{height:60px;display:flex;align-items:end}.mini-chart[_ngcontent-%COMP%]{width:100%;height:40px;position:relative}.chart-line[_ngcontent-%COMP%]{width:100%;height:4px;background:#ef4444;border-radius:2px;position:absolute;bottom:0}.chart-line.positive[_ngcontent-%COMP%]{background:linear-gradient(90deg,#10b981,#34d399)}.insights-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.insight-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 2px 8px #00000014;text-align:center;transition:transform .2s ease,box-shadow .2s ease}.insight-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #0000001f}.insight-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem;color:#3b82f6}.insight-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.insight-title[_ngcontent-%COMP%]{font-weight:600;color:#374151}.insight-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;color:#1a202c;margin-bottom:.5rem}.insight-description[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;line-height:1.4}.realtime-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem}.realtime-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 2px 8px #00000014;display:flex;align-items:center;gap:1rem;transition:transform .2s ease}.realtime-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.realtime-indicator[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;animation:_ngcontent-%COMP%_pulse 2s infinite}.realtime-indicator.active[_ngcontent-%COMP%]{background:#10b981}.realtime-indicator.pending[_ngcontent-%COMP%]{background:#f59e0b}.realtime-indicator.available[_ngcontent-%COMP%]{background:#3b82f6}.realtime-indicator.revenue[_ngcontent-%COMP%]{background:#8b5cf6}.realtime-content[_ngcontent-%COMP%]{flex:1}.realtime-value[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:800;color:#1a202c;line-height:1}.realtime-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:500;margin-top:.25rem}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}@keyframes _ngcontent-%COMP%_fa-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.fa-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fa-spin 1s infinite linear}@media (max-width: 1024px){.analytics-header[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem}.header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.charts-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.analytics-container[_ngcontent-%COMP%]{padding:1rem}.analytics-header[_ngcontent-%COMP%]{padding:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:1.75rem!important}.financial-grid[_ngcontent-%COMP%], .performance-grid[_ngcontent-%COMP%], .geographic-grid[_ngcontent-%COMP%], .growth-grid[_ngcontent-%COMP%], .insights-grid[_ngcontent-%COMP%], .realtime-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.chart-container[_ngcontent-%COMP%]{min-width:0}.charts-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.header-actions[_ngcontent-%COMP%]{flex-direction:column;width:100%;gap:.75rem}.btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.period-select[_ngcontent-%COMP%]{width:100%}.card-value[_ngcontent-%COMP%]{font-size:2rem}.chart-content[_ngcontent-%COMP%]{padding:1rem}.geographic-item[_ngcontent-%COMP%]{padding:.75rem}.growth-card[_ngcontent-%COMP%], .financial-card[_ngcontent-%COMP%]{padding:1.5rem}.insight-card[_ngcontent-%COMP%]{padding:1.25rem}}@media (max-width: 480px){.analytics-container[_ngcontent-%COMP%]{padding:.75rem}.analytics-header[_ngcontent-%COMP%]{padding:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.5rem!important}.card-value[_ngcontent-%COMP%]{font-size:1.75rem}.insight-value[_ngcontent-%COMP%], .realtime-value[_ngcontent-%COMP%]{font-size:1.5rem}.growth-percentage[_ngcontent-%COMP%]{font-size:1.75rem}.section-title[_ngcontent-%COMP%]{font-size:1.5rem}.chart-title[_ngcontent-%COMP%]{font-size:1.125rem}.financial-card[_ngcontent-%COMP%], .growth-card[_ngcontent-%COMP%], .insight-card[_ngcontent-%COMP%]{padding:1.25rem}.chart-content[_ngcontent-%COMP%]{min-height:250px}.line-chart[_ngcontent-%COMP%]{height:200px}.chart-grid[_ngcontent-%COMP%]{height:150px}}@media print{.analytics-container[_ngcontent-%COMP%]{background:#fff;padding:0}.loading-overlay[_ngcontent-%COMP%]{display:none!important}.btn[_ngcontent-%COMP%]{display:none}.financial-card[_ngcontent-%COMP%], .chart-container[_ngcontent-%COMP%], .geographic-container[_ngcontent-%COMP%], .growth-card[_ngcontent-%COMP%], .insight-card[_ngcontent-%COMP%], .realtime-card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #e5e7eb;break-inside:avoid}.primary-revenue[_ngcontent-%COMP%]{background:#fff!important;color:#000!important}.primary-revenue[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .primary-revenue[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%], .primary-revenue[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{color:#000!important}}.revenue-overview-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><radialGradient id="a" cx="50%" cy="50%" r="50%"><stop offset="0%" style="stop-color:rgba(255,255,255,0.1)"/><stop offset="100%" style="stop-color:rgba(255,255,255,0)"/></radialGradient></defs><circle cx="200" cy="200" r="180" fill="url(%23a)"/><circle cx="800" cy="800" r="120" fill="url(%23a)"/></svg>');opacity:.1;pointer-events:none}@media (prefers-color-scheme: dark){.revenue-overview-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1f2937,#374151);box-shadow:0 20px 40px #0000004d}.profit-item[_ngcontent-%COMP%]{background:#ffffff1a;border:1px solid rgba(255,255,255,.15)}.profit-item[_ngcontent-%COMP%]:hover{background:#ffffff26}}@media (max-width: 768px){.revenue-overview-card[_ngcontent-%COMP%]{padding:24px;margin-bottom:20px}.revenue-amount[_ngcontent-%COMP%]{font-size:2.5rem}.revenue-breakdown[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.profit-item[_ngcontent-%COMP%]{padding:20px}.profit-amount[_ngcontent-%COMP%]{font-size:1.5rem}}@media (max-width: 480px){.revenue-amount[_ngcontent-%COMP%]{font-size:2rem}.profit-amount[_ngcontent-%COMP%]{font-size:1.25rem}.revenue-label[_ngcontent-%COMP%]{font-size:1.1rem}.profit-label[_ngcontent-%COMP%]{font-size:.9rem}}.revenue-overview-card.loading[_ngcontent-%COMP%]{opacity:.7}.revenue-overview-card.loading[_ngcontent-%COMP%]   .revenue-amount[_ngcontent-%COMP%], .revenue-overview-card.loading[_ngcontent-%COMP%]   .profit-amount[_ngcontent-%COMP%]{background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.revenue-overview-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:16px;padding:32px;margin-bottom:24px;color:#fff;box-shadow:0 20px 40px #667eea4d;position:relative;overflow:hidden}.revenue-overview-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><radialGradient id="a" cx="50%" cy="50%" r="50%"><stop offset="0%" style="stop-color:rgba(255,255,255,0.1)"/><stop offset="100%" style="stop-color:rgba(255,255,255,0)"/></radialGradient></defs><circle cx="200" cy="200" r="180" fill="url(%23a)"/><circle cx="800" cy="800" r="120" fill="url(%23a)"/></svg>');opacity:.1;pointer-events:none}.revenue-main[_ngcontent-%COMP%]{position:relative;z-index:2;margin-bottom:32px}.revenue-primary[_ngcontent-%COMP%]{text-align:center}.revenue-amount[_ngcontent-%COMP%]{font-size:3.5rem;font-weight:700;margin-bottom:8px;text-shadow:0 2px 4px rgba(0,0,0,.1)}.revenue-label[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin-bottom:4px;opacity:.9}.revenue-subtitle[_ngcontent-%COMP%]{font-size:1rem;opacity:.8}.revenue-breakdown[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:24px;position:relative;z-index:2}.profit-item[_ngcontent-%COMP%]{background:#ffffff26;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:12px;padding:24px;text-align:center;transition:all .3s ease}.profit-item[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-2px)}.profit-amount[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:8px;text-shadow:0 1px 2px rgba(0,0,0,.1)}.profit-label[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin-bottom:4px;opacity:.95}.profit-subtitle[_ngcontent-%COMP%]{font-size:.875rem;opacity:.8}.website-profit[_ngcontent-%COMP%]{position:relative}.website-profit[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#10b981,#059669);border-radius:12px 12px 0 0}.host-profit[_ngcontent-%COMP%]{position:relative}.host-profit[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#3b82f6,#1d4ed8);border-radius:12px 12px 0 0}.financial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}.financial-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;box-shadow:0 4px 6px #0000001a;transition:all .3s ease;border:1px solid #e5e7eb}.financial-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #00000026}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:16px}.card-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;margin-right:16px;font-size:20px;color:#fff}.monthly-revenue[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.avg-booking[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.yearly-revenue[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.card-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#374151}.card-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#111827;margin-bottom:8px}.card-subtitle[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;display:flex;align-items:center}.growth-indicator[_ngcontent-%COMP%]{display:inline-flex;align-items:center;font-weight:600;margin-right:4px}`]})};function O1e(n,e){n&1&&(l(0,"div",35)(1,"div",36),k(2,"i",37),l(3,"p"),m(4,"Loading violation details..."),d()()())}function D1e(n,e){if(n&1&&(l(0,"div",48)(1,"label",46),m(2,"Admin Notes"),d(),l(3,"span",51),m(4),d()()),n&2){let t=C(3);p(4),$(t.selectedViolation.adminNotes)}}function E1e(n,e){if(n&1&&(l(0,"div",38)(1,"div",39)(2,"div",40)(3,"div",41)(4,"h4"),m(5),d(),l(6,"span",42),m(7),d()(),l(8,"div",43),m(9),Q(10,"date"),d()()(),l(11,"div",44)(12,"div",45)(13,"label",46),m(14,"Property"),d(),l(15,"span",47),m(16),d()(),l(17,"div",45)(18,"label",46),m(19,"Property ID"),d(),l(20,"span",47),m(21),d()(),l(22,"div",45)(23,"label",46),m(24,"User"),d(),l(25,"span",47),m(26),d()(),l(27,"div",45)(28,"label",46),m(29,"User Email"),d(),l(30,"span",47),m(31),d()(),l(32,"div",45)(33,"label",46),m(34,"Location"),d(),l(35,"span",47),m(36),d()(),l(37,"div",45)(38,"label",46),m(39,"Status"),d(),l(40,"span",47)(41,"span",42),m(42),d()()(),l(43,"div",48)(44,"label",46),m(45,"Violation Reason"),d(),l(46,"span",49),m(47),d()(),j(48,D1e,5,1,"div",50),d()()),n&2){let t=C(2);p(5),U("Violation #",t.selectedViolation.id),p(),xt("background-color",t.getStatusColor(t.selectedViolation.status)),p(),U(" ",t.getStatusLabel(t.selectedViolation.status)," "),p(2),U(" ",Vt(10,17,t.selectedViolation.createdAt,"medium")," "),p(7),$(t.selectedViolation.propertyTitle),p(5),$(t.selectedViolation.propertyId),p(5),Nt("",t.selectedViolation.firstName," ",t.selectedViolation.lastName),p(5),$(t.selectedViolation.userEmail),p(5),Nt("",t.selectedViolation.city,", ",t.selectedViolation.country),p(5),xt("background-color",t.getStatusColor(t.selectedViolation.status)),p(),U(" ",t.getStatusLabel(t.selectedViolation.status)," "),p(5),$(t.selectedViolation.reason),p(),_("ngIf",t.selectedViolation.adminNotes)}}function I1e(n,e){if(n&1){let t=X();l(0,"div",52)(1,"button",53),T("click",function(){z(t);let r=C(2);return A(r.closeViolationDetails())}),k(2,"i",31),m(3," Close "),d()()}}function T1e(n,e){if(n&1){let t=X();l(0,"div",26),T("click",function(){z(t);let r=C();return A(r.closeViolationDetails())}),l(1,"div",27),T("click",function(r){return z(t),A(r.stopPropagation())}),l(2,"div",28)(3,"h3",29),k(4,"i",15),m(5," Violation Details "),d(),l(6,"button",30),T("click",function(){z(t);let r=C();return A(r.closeViolationDetails())}),k(7,"i",31),d()(),j(8,O1e,5,0,"div",32)(9,E1e,49,20,"div",33)(10,I1e,4,0,"div",34),d()()}if(n&2){let t=C();p(8),_("ngIf",t.loadingViolationDetails),p(),_("ngIf",t.selectedViolation&&!t.loadingViolationDetails),p(),_("ngIf",!t.loadingViolationDetails)}}function L1e(n,e){if(n&1&&(l(0,"option",62),m(1),d()),n&2){let t=e.$implicit;_("value",t.value),p(),U(" ",t.label," ")}}function z1e(n,e){if(n&1){let t=X();l(0,"div",26),T("click",function(){z(t);let r=C();return A(r.closeEditModal())}),l(1,"div",27),T("click",function(r){return z(t),A(r.stopPropagation())}),l(2,"div",28)(3,"h3",29),k(4,"i",54),m(5),d(),l(6,"button",30),T("click",function(){z(t);let r=C();return A(r.closeEditModal())}),k(7,"i",31),d()(),l(8,"div",38)(9,"form",55),T("ngSubmit",function(){z(t);let r=C();return A(r.saveViolation())}),l(10,"div",56)(11,"label",57),m(12,"Status"),d(),l(13,"select",58),mt("ngModelChange",function(r){z(t);let o=C();return _t(o.editForm.status,r)||(o.editForm.status=r),A(r)}),j(14,L1e,2,2,"option",59),d()(),l(15,"div",56)(16,"label",57),m(17,"Admin Notes"),d(),l(18,"textarea",60),mt("ngModelChange",function(r){z(t);let o=C();return _t(o.editForm.adminNotes,r)||(o.editForm.adminNotes=r),A(r)}),m(19,"            "),d()()()(),l(20,"div",52)(21,"button",7),T("click",function(){z(t);let r=C();return A(r.saveViolation())}),k(22,"i",61),m(23," Save Changes "),d(),l(24,"button",53),T("click",function(){z(t);let r=C();return A(r.closeEditModal())}),k(25,"i",31),m(26," Cancel "),d()()()()}if(n&2){let t=C();p(5),U(" Edit Violation #",t.editForm.id," "),p(8),ft("ngModel",t.editForm.status),p(),_("ngForOf",t.getStatusOptions()),p(4),ft("ngModel",t.editForm.adminNotes),p(3),_("disabled",t.loading),p(),Me("fa-spin",t.loading)}}function A1e(n,e){n&1&&(l(0,"div",63)(1,"div",36),k(2,"i",37),l(3,"p"),m(4,"Loading violations..."),d()()())}var h7=class n{constructor(e,t){this.violationService=e;this.cdr=t;this._statusOptions=this.violationService.getStatusOptions()}violations=[];loading=!1;loadingViolationDetails=!1;selectedViolation=null;showViolationDetails=!1;showEditModal=!1;_pendingViolationsCount=0;_solvedViolationsCount=0;_dismissedViolationsCount=0;editForm={id:0,adminNotes:"",status:"Pending"};destroy$=new Re;columns=[{label:"ID",field:"id",sortable:!0},{label:"Property",field:"propertyTitle",sortable:!0},{label:"User",field:"userFullName",sortable:!0},{label:"Location",field:"location",sortable:!1},{label:"Status",field:"status",sortable:!0,pipe:"status"},{label:"Date",field:"createdAt",pipe:"date",sortable:!0}];actions=[{icon:"fas fa-eye",tooltip:"View Details",type:"view",color:"#007bff"},{icon:"fas fa-edit",tooltip:"Edit Violation",type:"edit",color:"#28a745"}];paginationInfo={currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10};_statusOptions=[];ngOnInit(){this.loadViolations()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadViolations(){this.loading=!0,this.violationService.getAllViolations().pipe(rt(this.destroy$),Kr(()=>{this.loading=!1,this.cdr.detectChanges()})).subscribe({next:e=>{this.violations=this.transformViolationsForTable(e),this.updatePaginationInfo(e.length),this.calculateViolationCounts()},error:e=>{console.error("Error loading violations:",e)}})}transformViolationsForTable(e){return e.map(t=>Ve(ie({},t),{userFullName:this.getFullName(t.firstName,t.lastName),location:`${t.city}, ${t.country}`,statusColor:this.violationService.getStatusColor(t.status)}))}getFullName(e,t){return`${e||""} ${t||""}`.trim()||"N/A"}updatePaginationInfo(e){this.paginationInfo=Ve(ie({},this.paginationInfo),{totalItems:e,totalPages:Math.ceil(e/this.paginationInfo.itemsPerPage)})}calculateViolationCounts(){this._pendingViolationsCount=this.violations.filter(e=>e.status==="Pending").length,this._solvedViolationsCount=this.violations.filter(e=>e.status==="Solved").length,this._dismissedViolationsCount=this.violations.filter(e=>e.status==="Dismissed").length}onActionClick(e){let{type:t,row:i}=e;switch(t){case"view":this.viewViolationDetails(i.id);break;case"edit":this.editViolation(i);break;default:console.warn("Unknown action type:",t)}this.cdr.detectChanges()}viewViolationDetails(e){if(!e){console.error("Violation ID is required");return}this.loadingViolationDetails=!0,this.violationService.getViolationById(e).pipe(rt(this.destroy$),Kr(()=>{this.loadingViolationDetails=!1,this.cdr.detectChanges()})).subscribe({next:t=>{this.selectedViolation=t,this.showViolationDetails=!0},error:t=>{console.error("Error loading violation details:",t)}})}editViolation(e){this.selectedViolation=e,this.editForm={id:e.id,adminNotes:e.adminNotes||"",status:e.status},this.showEditModal=!0,this.cdr.detectChanges()}saveViolation(){if(!this.editForm.id){console.error("Violation ID is required");return}this.loading=!0,this.violationService.updateViolation(this.editForm.id,this.editForm).pipe(rt(this.destroy$),Kr(()=>{this.loading=!1,this.cdr.detectChanges()})).subscribe({next:e=>{console.log("Violation updated successfully:",e),this.closeEditModal(),setTimeout(()=>{this.loadViolations()},100)},error:e=>{console.error("Error updating violation:",e)}})}closeViolationDetails(){this.showViolationDetails=!1,this.selectedViolation=null,this.loadingViolationDetails=!1,this.cdr.detectChanges()}closeEditModal(){this.showEditModal=!1,this.selectedViolation=null,this.editForm={id:0,adminNotes:"",status:"Pending"},this.cdr.detectChanges()}onPageChange(e){e<1||e>this.paginationInfo.totalPages||(this.paginationInfo.currentPage=e,this.cdr.detectChanges())}onSortChange(e){console.log("Sort change:",e)}get pendingViolationsCount(){return this._pendingViolationsCount}get solvedViolationsCount(){return this._solvedViolationsCount}get dismissedViolationsCount(){return this._dismissedViolationsCount}refreshViolations(){this.loadViolations()}trackByViolationId(e,t){return t.id}getStatusOptions(){return this._statusOptions}getStatusColor(e){return this.violationService.getStatusColor(e)}getStatusLabel(e){return this.violationService.getStatusLabel(e)}static \u0275fac=function(t){return new(t||n)(V(S4),V(Ot))};static \u0275cmp=le({type:n,selectors:[["app-violations"]],decls:50,vars:16,consts:[[1,"violations-container"],[1,"violations-header"],[1,"header-content"],[1,"page-title"],[1,"fas","fa-exclamation-triangle","title-icon"],[1,"page-subtitle"],[1,"header-actions"],[1,"btn","btn-primary",3,"click","disabled"],[1,"fas","fa-sync-alt"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-content"],[1,"stat-number"],[1,"stat-label"],[1,"stat-icon"],[1,"fas","fa-exclamation-triangle"],[1,"stat-icon",2,"color","#fbbf24"],[1,"fas","fa-clock"],[1,"stat-icon",2,"color","#10b981"],[1,"fas","fa-check-circle"],[1,"stat-icon",2,"color","#ef4444"],[1,"fas","fa-times-circle"],[1,"table-section"],["caption","All Property Violations",3,"actionClick","pageChange","sortChange","columns","data","actions","loading","paginationInfo","useBackendPagination"],["class","modal-overlay",3,"click",4,"ngIf"],["class","loading-overlay",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"modal-title"],["aria-label","Close modal",1,"modal-close",3,"click"],[1,"fas","fa-times"],["class","modal-loading",4,"ngIf"],["class","modal-content",4,"ngIf"],["class","modal-footer",4,"ngIf"],[1,"modal-loading"],[1,"loading-spinner"],[1,"fas","fa-spinner","fa-spin"],[1,"modal-content"],[1,"violation-info"],[1,"info-header"],[1,"violation-id"],[1,"status-badge"],[1,"violation-date"],[1,"details-grid"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"detail-item","full-width"],[1,"detail-value","violation-reason"],["class","detail-item full-width",4,"ngIf"],[1,"detail-value","admin-notes"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-edit"],[1,"edit-form",3,"ngSubmit"],[1,"form-group"],[1,"form-label"],["name","status","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","adminNotes","placeholder","Add notes about this violation...","rows","5",1,"form-control","textarea",3,"ngModelChange","ngModel"],[1,"fas","fa-save"],[3,"value"],[1,"loading-overlay"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),k(4,"i",4),m(5," Violations Management "),d(),l(6,"p",5),m(7,"Monitor and manage property violations"),d()(),l(8,"div",6)(9,"button",7),T("click",function(){return i.refreshViolations()}),k(10,"i",8),m(11," Refresh "),d()()(),l(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12),m(16),d(),l(17,"div",13),m(18,"Total Violations"),d()(),l(19,"div",14),k(20,"i",15),d()(),l(21,"div",10)(22,"div",11)(23,"div",12),m(24),d(),l(25,"div",13),m(26,"Pending"),d()(),l(27,"div",16),k(28,"i",17),d()(),l(29,"div",10)(30,"div",11)(31,"div",12),m(32),d(),l(33,"div",13),m(34,"Solved"),d()(),l(35,"div",18),k(36,"i",19),d()(),l(37,"div",10)(38,"div",11)(39,"div",12),m(40),d(),l(41,"div",13),m(42,"Dismissed"),d()(),l(43,"div",20),k(44,"i",21),d()()(),l(45,"div",22)(46,"app-table",23),T("actionClick",function(o){return i.onActionClick(o)})("pageChange",function(o){return i.onPageChange(o)})("sortChange",function(o){return i.onSortChange(o)}),d()(),j(47,T1e,11,3,"div",24)(48,z1e,27,7,"div",24)(49,A1e,5,0,"div",25),d()),t&2&&(p(9),_("disabled",i.loading),p(),Me("fa-spin",i.loading),p(6),$(i.paginationInfo.totalItems),p(8),$(i.pendingViolationsCount),p(8),$(i.solvedViolationsCount),p(8),$(i.dismissedViolationsCount),p(6),_("columns",i.columns)("data",i.violations)("actions",i.actions)("loading",i.loading)("paginationInfo",i.paginationInfo)("useBackendPagination",!1),p(),_("ngIf",i.showViolationDetails),p(),_("ngIf",i.showEditModal),p(),_("ngIf",i.loading&&!i.showEditModal))},dependencies:[he,Xe,Ce,Mt,mn,c1,d1,Rt,Js,Dt,fn,gs,kn,wr,$a,mi],styles:['.violations-container[_ngcontent-%COMP%]{padding:2rem;background:#f8fafc;min-height:100vh;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.violations-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem;padding:1.5rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:2rem;font-weight:700;color:#1a202c;margin:0 0 .5rem}.title-icon[_ngcontent-%COMP%]{margin-right:.75rem;color:#f59e0b}.page-subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:1.1rem;margin:0}.header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease}.btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#2563eb;transform:translateY(-1px)}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 2px 8px #0000001a;display:flex;align-items:center;justify-content:space-between;transition:transform .2s ease,box-shadow .2s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #00000026}.stat-content[_ngcontent-%COMP%]{flex:1}.stat-number[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#1a202c;margin-bottom:.25rem}.stat-label[_ngcontent-%COMP%]{color:#64748b;font-size:.9rem;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.stat-icon[_ngcontent-%COMP%]{font-size:2.5rem;color:#f59e0b;opacity:.8}.table-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden;position:relative}.table-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#3b82f6,#1d4ed8)}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 20px 60px #0000004d;max-width:700px;width:100%;max-height:90vh;overflow:hidden;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 2rem;border-bottom:1px solid #e2e8f0;background:#f8fafc}.modal-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.5rem;font-weight:700;color:#1a202c;margin:0}.modal-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.75rem;color:#f59e0b}.modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.25rem;color:#64748b;cursor:pointer;padding:.5rem;border-radius:6px;transition:all .2s ease}.modal-close[_ngcontent-%COMP%]:hover{background:#e2e8f0;color:#1a202c}.modal-content[_ngcontent-%COMP%]{padding:2rem;max-height:60vh;overflow-y:auto}.violation-info[_ngcontent-%COMP%]{margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:1px solid #e2e8f0}.info-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.violation-id[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1a202c;margin:0 0 .5rem}.violation-date[_ngcontent-%COMP%]{color:#64748b;font-size:.9rem;font-weight:500}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;border-radius:20px;color:#fff;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.detail-item.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.detail-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px;margin-bottom:.5rem}.detail-value[_ngcontent-%COMP%]{font-size:1rem;color:#1a202c;padding:.75rem;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0}.detail-value.violation-reason[_ngcontent-%COMP%], .detail-value.admin-notes[_ngcontent-%COMP%]{line-height:1.6;min-height:80px;white-space:pre-wrap}.edit-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.5rem;text-transform:uppercase;letter-spacing:.5px}.form-control[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #d1d5db;border-radius:8px;font-size:1rem;transition:border-color .2s ease,box-shadow .2s ease;background:#fff}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-control.textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px;font-family:inherit}.form-control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:pointer}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding:1.5rem 2rem;border-top:1px solid #e2e8f0;background:#f8fafc}.btn-secondary[_ngcontent-%COMP%]{background:#e2e8f0;color:#64748b}.btn-secondary[_ngcontent-%COMP%]:hover{background:#cbd5e1;color:#475569}.loading-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#f8fafce6;display:flex;align-items:center;justify-content:center;z-index:999;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.loading-spinner[_ngcontent-%COMP%]{text-align:center;color:#3b82f6}.loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin:0;color:#64748b}.modal-loading[_ngcontent-%COMP%]{padding:3rem 2rem;text-align:center;min-height:200px;display:flex;align-items:center;justify-content:center}.modal-loading[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{color:#3b82f6}.modal-loading[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.modal-loading[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin:0;color:#64748b}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.btn[_ngcontent-%COMP%]:disabled:hover{transform:none!important;background:inherit}.fa-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fa-spin 1s infinite linear}@keyframes _ngcontent-%COMP%_fa-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.stat-card[_ngcontent-%COMP%]:hover   .stat-icon[_ngcontent-%COMP%]{transform:scale(1.1);transition:transform .2s ease}.btn[_ngcontent-%COMP%]:not(:disabled):hover{box-shadow:0 4px 12px #3b82f64d}.btn[_ngcontent-%COMP%]:focus, .modal-close[_ngcontent-%COMP%]:focus, .form-control[_ngcontent-%COMP%]:focus{outline:2px solid #3b82f6;outline-offset:2px}.status-pending[_ngcontent-%COMP%]{background-color:#fbbf24}.status-solved[_ngcontent-%COMP%]{background-color:#10b981}.status-dismissed[_ngcontent-%COMP%]{background-color:#ef4444}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInOut{0%{opacity:0;transform:translateY(-30px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}@media (max-width: 768px){.violations-container[_ngcontent-%COMP%]{padding:1rem}.violations-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-container[_ngcontent-%COMP%]{margin:1rem;max-width:calc(100vw - 2rem)}.modal-content[_ngcontent-%COMP%]{padding:1.5rem}.info-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.details-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-footer[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}.violation-reason[_ngcontent-%COMP%]{background:#fef3c7;border-left:4px solid #f59e0b}.admin-notes[_ngcontent-%COMP%]{background:#dbeafe;border-left:4px solid #3b82f6}.table-cell-status[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.form-control.error[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}.form-control.success[_ngcontent-%COMP%]{border-color:#10b981;box-shadow:0 0 0 3px #10b9811a}.modal-overlay.closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalFadeOut .2s ease-in forwards}.modal-container.closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideOut .2s ease-in forwards}@keyframes _ngcontent-%COMP%_modalFadeOut{0%{opacity:1}to{opacity:0}}@keyframes _ngcontent-%COMP%_modalSlideOut{0%{opacity:1;transform:translateY(0) scale(1)}to{opacity:0;transform:translateY(-20px) scale(.95)}}']})};var g7=class n{constructor(e){this.http=e}apiUrl=`${Ke.baseUrl}/payments`;getAllPayments(e=1,t=10){let i=new Ei().set("page",e.toString()).set("pageSize",t.toString());return this.http.get(`${this.apiUrl}/payments`,{params:i})}transferToHost(e){return this.http.post(`${this.apiUrl}/transfer/${e}`,{})}getPaymentDetails(e){return this.http.get(`${this.apiUrl}/payment/${e}`)}static \u0275fac=function(t){return new(t||n)(De(Ct))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};function R1e(n,e){n&1&&(l(0,"div",59)(1,"div",60),k(2,"i",61),l(3,"span"),m(4,"This payment is ready to be transferred to the host."),d()()())}function F1e(n,e){if(n&1&&(l(0,"div",37)(1,"div",38)(2,"div",39)(3,"div",40)(4,"span",41),m(5,"Payment ID:"),d(),l(6,"span",42),m(7),d()(),l(8,"div",43)(9,"span",44),m(10),d(),l(11,"span",44),m(12),d()()()(),l(13,"div",45)(14,"div",46)(15,"h4",47),k(16,"i",48),m(17," Booking Information "),d(),l(18,"div",49)(19,"label",50),m(20,"Booking ID"),d(),l(21,"span",51),m(22),d()(),l(23,"div",49)(24,"label",50),m(25,"Payment Date"),d(),l(26,"span",51),m(27),Q(28,"date"),d()()(),l(29,"div",46)(30,"h4",47),k(31,"i",52),m(32," Parties Involved "),d(),l(33,"div",49)(34,"label",50),m(35,"Guest Name"),d(),l(36,"span",51),m(37),d()(),l(38,"div",49)(39,"label",50),m(40,"Host Name"),d(),l(41,"span",51),m(42),d()(),l(43,"div",49)(44,"label",50),m(45,"Host ID"),d(),l(46,"span",51),m(47),d()(),l(48,"div",49)(49,"label",50),m(50,"Host Account Status"),d(),l(51,"span",51)(52,"span",44),m(53),d()()()(),l(54,"div",46)(55,"h4",47),k(56,"i",53),m(57," Financial Breakdown "),d(),l(58,"div",49)(59,"label",50),m(60,"Total Amount"),d(),l(61,"span",54),m(62),Q(63,"number"),d()(),l(64,"div",49)(65,"label",50),m(66,"Platform Fee"),d(),l(67,"span",55),m(68),Q(69,"number"),d()(),l(70,"div",49)(71,"label",50),m(72,"Host Amount"),d(),l(73,"span",56),m(74),Q(75,"number"),d()()(),l(76,"div",46)(77,"h4",47),k(78,"i",57),m(79," Transaction Status "),d(),l(80,"div",49)(81,"label",50),m(82,"Payment Status"),d(),l(83,"span",51)(84,"span",44),m(85),d()()(),l(86,"div",49)(87,"label",50),m(88,"Transfer Status"),d(),l(89,"span",51)(90,"span",44),m(91),d()()()()(),j(92,R1e,5,0,"div",58),d()),n&2){let t=C(2);p(7),U("#",t.selectedPayment.paymentId),p(2),cn(t.getStatusBadgeClass(t.selectedPayment.paymentStatus)),p(),U(" ",t.selectedPayment.paymentStatus," "),p(),cn(t.getStatusBadgeClass(t.selectedPayment.transferStatus)),p(),U(" ",t.selectedPayment.transferStatus," "),p(10),U("#",t.selectedPayment.bookingId),p(5),$(Vt(28,25,t.selectedPayment.paymentDate,"medium")),p(10),$(t.selectedPayment.guestName),p(5),$(t.selectedPayment.hostName),p(5),$(t.selectedPayment.hostId||"N/A"),p(5),cn(t.selectedPayment.hostAccountCompleted?"badge-success":"badge-warning"),p(),U(" ",t.selectedPayment.hostAccountCompleted?"Completed":"Incomplete"," "),p(9),U("$",Vt(63,28,t.selectedPayment.amount,"1.2-2")),p(6),U("$",Vt(69,31,t.selectedPayment.platformFee,"1.2-2")),p(6),U("$",Vt(75,34,t.selectedPayment.hostAmount,"1.2-2")),p(10),cn(t.getStatusBadgeClass(t.selectedPayment.paymentStatus)),p(),U(" ",t.selectedPayment.paymentStatus," "),p(5),cn(t.getStatusBadgeClass(t.selectedPayment.transferStatus)),p(),U(" ",t.selectedPayment.transferStatus," "),p(),_("ngIf",t.selectedPayment.paymentStatus==="Succeeded"&&t.selectedPayment.transferStatus==="NotTransferred"&&t.selectedPayment.hostAccountCompleted)}}function V1e(n,e){if(n&1&&(l(0,"button",62),k(1,"i",63),m(2," Transfer to Host "),d()),n&2){let t=C(2);_("disabled",t.transferringPayment)}}function B1e(n,e){if(n&1){let t=X();l(0,"div",26),T("click",function(){z(t);let r=C();return A(r.closePaymentDetails())}),l(1,"div",27),T("click",function(r){return z(t),A(r.stopPropagation())}),l(2,"div",28)(3,"h3",29),k(4,"i",30),m(5," Payment Details "),d(),l(6,"button",31),T("click",function(){z(t);let r=C();return A(r.closePaymentDetails())}),k(7,"i",32),d()(),j(8,F1e,93,37,"div",33),l(9,"div",34)(10,"button",35),T("click",function(){z(t);let r=C();return A(r.closePaymentDetails())}),k(11,"i",32),m(12," Close "),d(),j(13,V1e,3,1,"button",36),d()()()}if(n&2){let t=C();p(8),_("ngIf",t.selectedPayment),p(5),_("ngIf",(t.selectedPayment==null?null:t.selectedPayment.paymentStatus)==="Succeeded"&&(t.selectedPayment==null?null:t.selectedPayment.transferStatus)==="NotTransferred"&&(t.selectedPayment==null?null:t.selectedPayment.hostAccountCompleted))}}function j1e(n,e){if(n&1&&(l(0,"div",88),k(1,"i",89),l(2,"span"),m(3),d()()),n&2){let t=C(4);p(3),U('Payment status must be "Succeeded" (Current: ',t.selectedPayment.paymentStatus,")")}}function H1e(n,e){if(n&1&&(l(0,"div",88),k(1,"i",89),l(2,"span"),m(3),d()()),n&2){let t=C(4);p(3),U("Payment has already been processed (Status: ",t.selectedPayment.transferStatus,")")}}function U1e(n,e){n&1&&(l(0,"div",88),k(1,"i",89),l(2,"span"),m(3,"Host account setup is incomplete"),d()())}function $1e(n,e){if(n&1&&(l(0,"div",86),j(1,j1e,4,1,"div",87)(2,H1e,4,1,"div",87)(3,U1e,4,0,"div",87),d()),n&2){let t=C(3);p(),_("ngIf",t.selectedPayment.paymentStatus!=="Succeeded"),p(),_("ngIf",t.selectedPayment.transferStatus!=="NotTransferred"),p(),_("ngIf",!t.selectedPayment.hostAccountCompleted)}}function W1e(n,e){n&1&&(l(0,"div",90)(1,"div",91)(2,"div",92),k(3,"div",93),d(),l(4,"p"),m(5,"Processing transfer..."),d()()())}function G1e(n,e){if(n&1&&(l(0,"div",74)(1,"div",75)(2,"div",76),k(3,"i",61),d(),l(4,"div",77)(5,"h4"),m(6,"You are about to transfer funds"),d(),l(7,"p"),m(8,"This action cannot be undone. Please review the details carefully."),d()()(),j(9,$1e,4,3,"div",78),l(10,"div",79)(11,"div",80)(12,"span",81),m(13,"Payment ID:"),d(),l(14,"span",82),m(15),d()(),l(16,"div",80)(17,"span",81),m(18,"Booking ID:"),d(),l(19,"span",82),m(20),d()(),l(21,"div",80)(22,"span",81),m(23,"Host:"),d(),l(24,"span",82),m(25),d()(),l(26,"div",80)(27,"span",81),m(28,"Guest:"),d(),l(29,"span",82),m(30),d()(),l(31,"div",83)(32,"span",81),m(33,"Transfer Amount:"),d(),l(34,"span",84),m(35),Q(36,"number"),d()(),l(37,"div",80)(38,"span",81),m(39,"Platform Fee:"),d(),l(40,"span",82),m(41),Q(42,"number"),d()()(),j(43,W1e,6,0,"div",85),d()),n&2){let t=C(2);p(9),_("ngIf",!t.canTransferPayment(t.selectedPayment)),p(6),U("#",t.selectedPayment.paymentId),p(5),U("#",t.selectedPayment.bookingId),p(5),$(t.selectedPayment.hostName),p(5),$(t.selectedPayment.guestName),p(5),U("$",Vt(36,8,t.selectedPayment.hostAmount,"1.2-2")),p(6),U("$",Vt(42,11,t.selectedPayment.platformFee,"1.2-2")),p(2),_("ngIf",t.transferringPayment)}}function Y1e(n,e){n&1&&k(0,"i",94)}function q1e(n,e){n&1&&k(0,"i",63)}function Z1e(n,e){if(n&1){let t=X();l(0,"div",26),T("click",function(){z(t);let r=C();return A(r.closeTransferModal())}),l(1,"div",64),T("click",function(r){return z(t),A(r.stopPropagation())}),l(2,"div",65)(3,"h3",29),k(4,"i",66),m(5," Confirm Transfer "),d(),l(6,"button",67),T("click",function(){z(t);let r=C();return A(r.closeTransferModal())}),k(7,"i",32),d()(),j(8,G1e,44,14,"div",68),l(9,"div",69)(10,"button",70),T("click",function(){z(t);let r=C();return A(r.closeTransferModal())}),k(11,"i",32),m(12," Cancel "),d(),l(13,"button",71),T("click",function(){z(t);let r=C();return A(r.transferToHost(r.selectedPayment))}),j(14,Y1e,1,0,"i",72)(15,q1e,1,0,"i",73),m(16),d()()()()}if(n&2){let t=C();p(6),_("disabled",t.transferringPayment),p(2),_("ngIf",t.selectedPayment),p(2),_("disabled",t.transferringPayment),p(3),_("disabled",t.transferringPayment||!t.canTransferPayment(t.selectedPayment)),p(),_("ngIf",t.transferringPayment),p(),_("ngIf",!t.transferringPayment),p(),U(" ",t.transferringPayment?"Transferring...":"Confirm Transfer"," ")}}function X1e(n,e){if(n&1){let t=X();l(0,"div",95),T("click",function(){z(t);let r=C();return A(r.closeMessageModal())}),l(1,"div",96),T("click",function(r){return z(t),A(r.stopPropagation())}),l(2,"div",97)(3,"div",98),k(4,"i",16),d(),l(5,"h3",99),m(6,"Transfer Successful!"),d(),l(7,"p",100),m(8),d(),l(9,"button",101),T("click",function(){z(t);let r=C();return A(r.closeMessageModal())}),k(10,"i",102),m(11," Great! "),d()()()()}if(n&2){let t=C();p(8),$(t.modalMessage)}}function K1e(n,e){if(n&1){let t=X();l(0,"div",103),T("click",function(){z(t);let r=C();return A(r.closeMessageModal())}),l(1,"div",104),T("click",function(r){return z(t),A(r.stopPropagation())}),l(2,"div",105)(3,"div",106),k(4,"i",107),d(),l(5,"h3",108),m(6,"Transfer Failed"),d(),l(7,"p",109),m(8),d(),l(9,"button",110),T("click",function(){z(t);let r=C();return A(r.closeMessageModal())}),k(10,"i",32),m(11," Close "),d()()()()}if(n&2){let t=C();p(8),$(t.modalMessage)}}function Q1e(n,e){n&1&&(l(0,"div",111)(1,"div",112),k(2,"i",94),l(3,"p"),m(4,"Loading payments..."),d()()())}var v7=class n{constructor(e){this.paymentService=e}payments=[];loading=!1;loadingPaymentDetails=!1;selectedPayment=null;showPaymentDetails=!1;showTransferModal=!1;transferringPayment=!1;destroy$=new Re;columns=[{label:"Payment ID",field:"paymentId",sortable:!0},{label:"Guest",field:"guestName",sortable:!0},{label:"Host",field:"hostName",sortable:!0},{label:"Amount",field:"amount",pipe:"currency",sortable:!0},{label:"Payment Status",field:"paymentStatus",sortable:!0},{label:"Transfer Status",field:"transferStatus",sortable:!0},{label:"Payment Date",field:"paymentDate",pipe:"date",sortable:!0}];actions=[{icon:"fas fa-eye",tooltip:"View Details",type:"view",color:"#007bff"},{icon:"fas fa-hand-holding-usd",tooltip:"Transfer to Host",type:"transfer",color:"#28a745"}];paginationInfo={currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10};ngOnInit(){this.loadPayments()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadPayments(){this.loading=!0,this.paymentService.getAllPayments(this.paginationInfo.currentPage,this.paginationInfo.itemsPerPage).pipe(rt(this.destroy$)).subscribe({next:e=>{this.payments=e.items,this.updatePaginationInfo(e.metaData),this.loading=!1},error:e=>{console.error("Error loading payments:",e),this.loading=!1}})}updatePaginationInfo(e){this.paginationInfo={currentPage:e.page,totalPages:Math.ceil(e.total/e.pageSize),totalItems:e.total,itemsPerPage:e.pageSize}}onActionClick(e){let{type:t,row:i}=e;switch(t){case"view":this.viewPaymentDetails(i);break;case"transfer":this.showTransferConfirmation(i);break;default:console.warn("Unknown action type:",t)}}viewPaymentDetails(e){this.selectedPayment=e,this.showPaymentDetails=!0}showTransferConfirmation(e){this.selectedPayment=e,this.showTransferModal=!0}transferToHost(e){this.transferringPayment=!0,this.paymentService.transferToHost(e.paymentId).pipe(rt(this.destroy$)).subscribe({next:t=>{this.transferringPayment=!1,this.showTransferModal=!1,t.success?(this.showSuccessModal("Transfer completed successfully!"),this.loadPayments()):this.showErrorModal(`Transfer failed: ${t.message}`)},error:t=>{console.error("Error transferring payment:",t),this.transferringPayment=!1,this.showTransferModal=!1,this.showErrorModal("Transfer failed. Please try again.")}})}closeTransferModal(){this.showTransferModal=!1,this.selectedPayment=null,this.transferringPayment=!1}showSuccessMessage=!1;showErrorMessage=!1;modalMessage="";showSuccessModal(e){this.modalMessage=e,this.showSuccessMessage=!0,setTimeout(()=>{this.showSuccessMessage=!1},3e3)}showErrorModal(e){this.modalMessage=e,this.showErrorMessage=!0}closeMessageModal(){this.showSuccessMessage=!1,this.showErrorMessage=!1,this.modalMessage=""}closePaymentDetails(){this.showPaymentDetails=!1,this.selectedPayment=null}onPageChange(e){e<1||e>this.paginationInfo.totalPages||(this.paginationInfo.currentPage=e,this.loadPayments())}onSortChange(e){console.log("Sort change:",e)}refreshPayments(){this.loadPayments()}get totalPaymentsCount(){return this.paginationInfo.totalItems}get completedPaymentsCount(){return this.payments.filter(e=>e.paymentStatus==="Succeeded").length}get pendingTransfersCount(){return this.payments.filter(e=>e.paymentStatus==="Succeeded"&&e.transferStatus==="NotTransferred").length}get transferredPaymentsCount(){return this.payments.filter(e=>e.transferStatus==="Transferred").length}get totalRevenue(){return this.payments.reduce((e,t)=>e+t.amount,0)}get totalPlatformFees(){return this.payments.reduce((e,t)=>e+t.platformFee,0)}getStatusBadgeClass(e){switch(e.toLowerCase()){case"succeeded":return"badge-success";case"processing":return"badge-warning";case"failed":return"badge-danger";case"transferred":return"badge-success";case"nottransferred":return"badge-warning";case"pendingtransfer":return"badge-info";case"transferfailed":return"badge-danger";default:return"badge-secondary"}}trackByPaymentId(e,t){return t.paymentId}canTransferPayment(e){return e.paymentStatus==="Succeeded"&&(e.transferStatus==="PendingTransfer"||e.transferStatus==="TransferFailed")&&e.hostAccountCompleted}static \u0275fac=function(t){return new(t||n)(V(g7))};static \u0275cmp=le({type:n,selectors:[["app-payments"]],decls:62,vars:25,consts:[[1,"payments-container"],[1,"payments-header"],[1,"header-content"],[1,"page-title"],[1,"fas","fa-money-check-alt","title-icon"],[1,"page-subtitle"],[1,"header-actions"],[1,"btn","btn-primary",3,"click","disabled"],[1,"fas","fa-sync-alt"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-content"],[1,"stat-number"],[1,"stat-label"],[1,"stat-icon"],[1,"fas","fa-credit-card"],[1,"fas","fa-check-circle"],[1,"fas","fa-clock"],[1,"fas","fa-dollar-sign"],[1,"fas","fa-percentage"],[1,"table-section"],["caption","All Payment Transactions",3,"actionClick","pageChange","sortChange","columns","data","actions","loading","paginationInfo","useBackendPagination"],["class","modal-overlay",3,"click",4,"ngIf"],["class","modal-overlay success-overlay",3,"click",4,"ngIf"],["class","modal-overlay error-overlay",3,"click",4,"ngIf"],["class","loading-overlay",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-container","payment-modal",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"fas","fa-receipt"],["aria-label","Close modal",1,"modal-close",3,"click"],[1,"fas","fa-times"],["class","modal-content",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],["class","btn btn-success",3,"disabled",4,"ngIf"],[1,"modal-content"],[1,"payment-summary"],[1,"summary-header"],[1,"payment-id"],[1,"label"],[1,"value"],[1,"payment-badges"],[1,"badge"],[1,"details-grid"],[1,"detail-section"],[1,"section-title"],[1,"fas","fa-calendar-check"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"fas","fa-users"],[1,"fas","fa-calculator"],[1,"detail-value","amount-highlight"],[1,"detail-value","fee-highlight"],[1,"detail-value","host-amount-highlight"],[1,"fas","fa-info-circle"],["class","transfer-section",4,"ngIf"],[1,"transfer-section"],[1,"transfer-warning"],[1,"fas","fa-exclamation-triangle"],[1,"btn","btn-success",3,"disabled"],[1,"fas","fa-hand-holding-usd"],[1,"modal-container","transfer-modal",3,"click"],[1,"modal-header","transfer-header"],[1,"fas","fa-hand-holding-usd","transfer-icon"],["aria-label","Close modal",1,"modal-close",3,"click","disabled"],["class","modal-content transfer-content",4,"ngIf"],[1,"modal-footer","transfer-footer"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"btn","btn-success","transfer-confirm-btn",3,"click","disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],["class","fas fa-hand-holding-usd",4,"ngIf"],[1,"modal-content","transfer-content"],[1,"transfer-confirmation-warning"],[1,"warning-icon"],[1,"warning-content"],["class","validation-errors",4,"ngIf"],[1,"transfer-details"],[1,"transfer-item"],[1,"transfer-label"],[1,"transfer-value"],[1,"transfer-item","highlight"],[1,"transfer-value","amount"],["class","transfer-animation",4,"ngIf"],[1,"validation-errors"],["class","error-item",4,"ngIf"],[1,"error-item"],[1,"fas","fa-times-circle"],[1,"transfer-animation"],[1,"transfer-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"fas","fa-spinner","fa-spin"],[1,"modal-overlay","success-overlay",3,"click"],[1,"modal-container","success-modal",3,"click"],[1,"success-content"],[1,"success-icon"],[1,"success-title"],[1,"success-message"],[1,"btn","btn-success",3,"click"],[1,"fas","fa-check"],[1,"modal-overlay","error-overlay",3,"click"],[1,"modal-container","error-modal",3,"click"],[1,"error-content"],[1,"error-icon"],[1,"fas","fa-exclamation-circle"],[1,"error-title"],[1,"error-message"],[1,"btn","btn-danger",3,"click"],[1,"loading-overlay"],[1,"loading-spinner"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),k(4,"i",4),m(5," Payment Management "),d(),l(6,"p",5),m(7,"Monitor and manage all payment transactions"),d()(),l(8,"div",6)(9,"button",7),T("click",function(){return i.refreshPayments()}),k(10,"i",8),m(11," Refresh "),d()()(),l(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12),m(16),d(),l(17,"div",13),m(18,"Total Payments"),d()(),l(19,"div",14),k(20,"i",15),d()(),l(21,"div",10)(22,"div",11)(23,"div",12),m(24),d(),l(25,"div",13),m(26,"Completed"),d()(),l(27,"div",14),k(28,"i",16),d()(),l(29,"div",10)(30,"div",11)(31,"div",12),m(32),d(),l(33,"div",13),m(34,"Pending Transfers"),d()(),l(35,"div",14),k(36,"i",17),d()(),l(37,"div",10)(38,"div",11)(39,"div",12),m(40),Q(41,"number"),d(),l(42,"div",13),m(43,"Total Revenue"),d()(),l(44,"div",14),k(45,"i",18),d()(),l(46,"div",10)(47,"div",11)(48,"div",12),m(49),Q(50,"number"),d(),l(51,"div",13),m(52,"Platform Fees"),d()(),l(53,"div",14),k(54,"i",19),d()()(),l(55,"div",20)(56,"app-table",21),T("actionClick",function(o){return i.onActionClick(o)})("pageChange",function(o){return i.onPageChange(o)})("sortChange",function(o){return i.onSortChange(o)}),d()(),j(57,B1e,14,2,"div",22)(58,Z1e,17,7,"div",22)(59,X1e,12,1,"div",23)(60,K1e,12,1,"div",24)(61,Q1e,5,0,"div",25),d()),t&2&&(p(9),_("disabled",i.loading),p(),Me("fa-spin",i.loading),p(6),$(i.totalPaymentsCount),p(8),$(i.completedPaymentsCount),p(8),$(i.pendingTransfersCount),p(8),U("$",Vt(41,19,i.totalRevenue,"1.2-2")),p(9),U("$",Vt(50,22,i.totalPlatformFees,"1.2-2")),p(7),_("columns",i.columns)("data",i.payments)("actions",i.actions)("loading",i.loading)("paginationInfo",i.paginationInfo)("useBackendPagination",!0),p(),_("ngIf",i.showPaymentDetails),p(),_("ngIf",i.showTransferModal),p(),_("ngIf",i.showSuccessMessage),p(),_("ngIf",i.showErrorMessage),p(),_("ngIf",i.loading))},dependencies:[he,Ce,$a,sa,mi],styles:['.payments-container[_ngcontent-%COMP%]{padding:2rem;background:#f8fafc;min-height:100vh;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.payments-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem;padding:1.5rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:2rem;font-weight:700;color:#1a202c;margin:0 0 .5rem}.title-icon[_ngcontent-%COMP%]{margin-right:.75rem;color:#3b82f6}.page-subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:1.1rem;margin:0}.header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease}.btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#2563eb;transform:translateY(-1px)}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.5rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 2px 8px #0000001a;display:flex;align-items:center;justify-content:space-between;transition:transform .2s ease,box-shadow .2s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #00000026}.stat-content[_ngcontent-%COMP%]{flex:1}.stat-number[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#1a202c;margin-bottom:.25rem}.stat-label[_ngcontent-%COMP%]{color:#64748b;font-size:.9rem;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.stat-icon[_ngcontent-%COMP%]{font-size:2.5rem;color:#3b82f6;opacity:.8}.table-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden;position:relative}.table-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#3b82f6,#1d4ed8)}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 20px 60px #0000004d;max-width:800px;width:100%;max-height:90vh;overflow:hidden;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.payment-modal[_ngcontent-%COMP%]{max-width:900px}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 2rem;border-bottom:1px solid #e2e8f0;background:#f8fafc}.modal-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.5rem;font-weight:700;color:#1a202c;margin:0}.modal-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.75rem;color:#3b82f6}.modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.25rem;color:#64748b;cursor:pointer;padding:.5rem;border-radius:6px;transition:all .2s ease}.modal-close[_ngcontent-%COMP%]:hover{background:#e2e8f0;color:#1a202c}.modal-content[_ngcontent-%COMP%]{padding:2rem;max-height:60vh;overflow-y:auto}.payment-summary[_ngcontent-%COMP%]{margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:2px solid #e2e8f0}.summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}.payment-id[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.payment-id[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#64748b}.payment-id[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1a202c}.payment-badges[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap}.details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:2rem}.detail-section[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:1.5rem;border:1px solid #e2e8f0}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.2rem;font-weight:700;color:#1a202c;margin:0 0 1.5rem;padding-bottom:.75rem;border-bottom:2px solid #e2e8f0}.section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.75rem;color:#3b82f6}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.detail-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.detail-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px;margin-bottom:.5rem}.detail-value[_ngcontent-%COMP%]{font-size:1rem;color:#1a202c;padding:.75rem;background:#fff;border-radius:8px;border:1px solid #e2e8f0;font-weight:500}.amount-highlight[_ngcontent-%COMP%]{background:#dbeafe!important;border-color:#3b82f6!important;color:#1e40af!important;font-weight:700!important;font-size:1.1rem!important}.fee-highlight[_ngcontent-%COMP%]{background:#fef3c7!important;border-color:#f59e0b!important;color:#92400e!important;font-weight:600!important}.host-amount-highlight[_ngcontent-%COMP%]{background:#ede9fe!important;border-color:#8b5cf6!important;color:#5b21b6!important;font-weight:700!important;font-size:1.1rem!important}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.375rem .75rem;border-radius:6px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.badge-success[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af;border:1px solid #bfdbfe}.badge-warning[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e;border:1px solid #fde68a}.badge-danger[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b;border:1px solid #fecaca}.badge-info[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af;border:1px solid #bfdbfe}.badge-secondary[_ngcontent-%COMP%]{background:#f1f5f9;color:#475569;border:1px solid #e2e8f0}.transfer-section[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;background:#fef3c7;border:1px solid #fde68a;border-radius:12px}.transfer-warning[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;color:#92400e;font-weight:600}.transfer-warning[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;color:#f59e0b}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding:1.5rem 2rem;border-top:1px solid #e2e8f0;background:#f8fafc}.btn-secondary[_ngcontent-%COMP%]{background:#e2e8f0;color:#64748b}.btn-secondary[_ngcontent-%COMP%]:hover{background:#cbd5e1;color:#475569}.btn-success[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background:#2563eb;transform:translateY(-1px)}.btn-success[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.loading-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#f8fafce6;display:flex;align-items:center;justify-content:center;z-index:999;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.loading-spinner[_ngcontent-%COMP%]{text-align:center;color:#3b82f6}.loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin:0}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.btn[_ngcontent-%COMP%]:disabled:hover{transform:none!important;background:inherit}.fa-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fa-spin 1s infinite linear}@keyframes _ngcontent-%COMP%_fa-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.stat-card[_ngcontent-%COMP%]:hover   .stat-icon[_ngcontent-%COMP%]{transform:scale(1.1);transition:transform .2s ease}.btn[_ngcontent-%COMP%]:not(:disabled):hover{box-shadow:0 4px 12px #3b82f64d}.btn[_ngcontent-%COMP%]:focus, .modal-close[_ngcontent-%COMP%]:focus{outline:2px solid #3b82f6;outline-offset:2px}@media (max-width: 768px){.payments-container[_ngcontent-%COMP%]{padding:1rem}.payments-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-container[_ngcontent-%COMP%]{margin:1rem;max-width:calc(100vw - 2rem)}.modal-content[_ngcontent-%COMP%]{padding:1.5rem}.details-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.summary-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.payment-badges[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}}.table-action-disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInOut{0%{opacity:0;transform:translateY(-30px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.transfer-modal[_ngcontent-%COMP%]{max-width:600px}.transfer-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff}.transfer-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%], .transfer-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{color:#fff}.transfer-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:hover{background:#fff3;color:#fff}.transfer-icon[_ngcontent-%COMP%]{color:#fbbf24!important;font-size:1.75rem!important}.transfer-content[_ngcontent-%COMP%]{padding:2rem!important}.transfer-confirmation-warning[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:1.5rem;background:#fef3c7;border:1px solid #fde68a;border-radius:12px;margin-bottom:2rem}.warning-icon[_ngcontent-%COMP%]{flex-shrink:0}.warning-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#f59e0b}.warning-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#92400e;font-weight:700;font-size:1.1rem}.warning-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#92400e;font-size:.9rem}.transfer-details[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:1.5rem;border:1px solid #e2e8f0}.transfer-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0;border-bottom:1px solid #e2e8f0}.transfer-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.transfer-item.highlight[_ngcontent-%COMP%]{background:#dbeafe;margin:0 -1.5rem;padding:1rem 1.5rem;border-radius:8px;border:1px solid #3b82f6}.transfer-label[_ngcontent-%COMP%]{font-weight:600;color:#64748b;font-size:.9rem}.transfer-value[_ngcontent-%COMP%]{font-weight:600;color:#1a202c}.transfer-value.amount[_ngcontent-%COMP%]{font-size:1.25rem;color:#1e40af;font-weight:700}.transfer-footer[_ngcontent-%COMP%]{background:#f8fafc;border-top:2px solid #e2e8f0}.transfer-confirm-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);border:none;box-shadow:0 4px 12px #3b82f666;font-weight:700}.transfer-confirm-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#2563eb,#1e40af);transform:translateY(-2px);box-shadow:0 6px 16px #3b82f680}.transfer-animation[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;background:#dbeafe;border-radius:12px;text-align:center}.transfer-progress[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#bfdbfe;border-radius:4px;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#3b82f6,#1d4ed8);border-radius:4px;animation:_ngcontent-%COMP%_progressFill 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_progressFill{0%{width:0%}50%{width:70%}to{width:100%}}.transfer-progress[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#1e40af;font-weight:600;font-size:1rem}.success-overlay[_ngcontent-%COMP%]{background:#3b82f61a}.success-modal[_ngcontent-%COMP%]{max-width:400px;border:3px solid #3b82f6}.success-content[_ngcontent-%COMP%]{padding:3rem 2rem;text-align:center}.success-icon[_ngcontent-%COMP%]{margin-bottom:1.5rem}.success-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#3b82f6;animation:_ngcontent-%COMP%_successPulse .6s ease-out}@keyframes _ngcontent-%COMP%_successPulse{0%{transform:scale(0);opacity:0}50%{transform:scale(1.2)}to{transform:scale(1);opacity:1}}.success-title[_ngcontent-%COMP%]{color:#1e40af;font-size:1.5rem;font-weight:700;margin:0 0 1rem}.success-message[_ngcontent-%COMP%]{color:#2563eb;font-size:1rem;margin:0 0 2rem;line-height:1.5}.error-overlay[_ngcontent-%COMP%]{background:#ef44441a}.error-modal[_ngcontent-%COMP%]{max-width:400px;border:3px solid #ef4444}.error-content[_ngcontent-%COMP%]{padding:3rem 2rem;text-align:center}.error-icon[_ngcontent-%COMP%]{margin-bottom:1.5rem}.error-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#ef4444;animation:_ngcontent-%COMP%_errorShake .6s ease-out}@keyframes _ngcontent-%COMP%_errorShake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.error-title[_ngcontent-%COMP%]{color:#991b1b;font-size:1.5rem;font-weight:700;margin:0 0 1rem}.error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:1rem;margin:0 0 2rem;line-height:1.5}.btn-danger[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background:#dc2626}@media (max-width: 768px){.transfer-modal[_ngcontent-%COMP%], .success-modal[_ngcontent-%COMP%], .error-modal[_ngcontent-%COMP%]{max-width:calc(100vw - 2rem);margin:1rem}.transfer-confirmation-warning[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.transfer-item[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;text-align:center}.success-content[_ngcontent-%COMP%], .error-content[_ngcontent-%COMP%]{padding:2rem 1.5rem}}.validation-errors[_ngcontent-%COMP%]{background-color:#f8d7da;border:1px solid #f5c6cb;border-left:4px solid #dc3545;border-radius:6px;padding:15px;margin-bottom:20px}.error-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px;color:#721c24;font-size:14px}.error-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.error-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#dc3545;margin-right:8px;font-size:16px}.btn[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;pointer-events:none}.transfer-confirm-btn[disabled][_ngcontent-%COMP%]{background-color:#6c757d!important;border-color:#6c757d!important}']})};function J1e(n,e){if(n&1){let t=X();l(0,"li",23),T("click",function(){let r=z(t).$implicit,o=C();return A(o.onMenuSectionClick(r))}),l(1,"a",24)(2,"div",25),k(3,"i"),d(),l(4,"span",26),m(5),d(),k(6,"div",27),d()()}if(n&2){let t=e.$implicit;Me("active",t.isActive),p(3),cn(t.icon),p(2),$(t.name)}}function e2e(n,e){n&1&&(l(0,"div",28),k(1,"app-dashboard"),d())}function t2e(n,e){n&1&&(l(0,"div",28),k(1,"app-users"),d())}function n2e(n,e){n&1&&(l(0,"div",28),k(1,"app-property"),d())}function i2e(n,e){n&1&&(l(0,"div",28),k(1,"app-bookings"),d())}function r2e(n,e){n&1&&(l(0,"div",28),k(1,"app-payments"),d())}function o2e(n,e){n&1&&(l(0,"div",28),k(1,"app-analytics"),d())}function a2e(n,e){n&1&&(l(0,"div",28),k(1,"app-violations"),d())}var qp=class n{constructor(e,t){this.router=e;this.authService=t}activeSection="dashboard";adminSections=[{id:"dashboard",name:"Dashboard",icon:"fas fa-tachometer-alt",isActive:!0},{id:"users",name:"Users",icon:"fas fa-users",isActive:!1},{id:"properties",name:"Properties",icon:"fas fa-building",isActive:!1},{id:"bookings",name:"Bookings",icon:"fas fa-calendar-check",isActive:!1},{id:"payments",name:"Payments",icon:"fas fa-money-check-alt",isActive:!1},{id:"analytics",name:"Analytics",icon:"fas fa-chart-bar",isActive:!1},{id:"violations",name:"Violations",icon:"fas fa-exclamation-triangle",isActive:!1}];ngOnInit(){this.setActiveSection("dashboard")}setActiveSection(e){this.adminSections.forEach(i=>i.isActive=!1);let t=this.adminSections.find(i=>i.id===e);t&&(t.isActive=!0,this.activeSection=e)}onMenuSectionClick(e){this.setActiveSection(e.id)}isActiveSection(e){return this.activeSection===e}getActiveSection(){return this.adminSections.find(e=>e.isActive)}toggleMobileSidebar(){let e=document.querySelector(".sidebar-container");e&&e.classList.toggle("mobile-open")}trackBySection(e,t){return t.id}logout(){this.authService.clear(),this.router.navigate([""])}static \u0275fac=function(t){return new(t||n)(V(nt),V(dt))};static \u0275cmp=le({type:n,selectors:[["app-AdminDashboard"]],decls:33,vars:9,consts:[[1,"admin-dashboard"],[1,"sidebar-container"],[1,"sidebar"],[1,"sidebar-header"],[1,"brand-logo"],[1,"fas","fa-home","brand-icon"],[1,"brand-text"],[1,"sidebar-nav"],[1,"nav-list"],["class","nav-item",3,"active","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"sidebar-footer"],[1,"user-info"],[1,"user-avatar"],[1,"fas","fa-user-circle"],[1,"user-details"],[1,"user-name"],[1,"user-role"],[1,"logout-section"],["title","Logout",1,"logout-btn",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"logout-text"],[1,"main-content"],["class","content-section",4,"ngIf"],[1,"nav-item",3,"click"],[1,"nav-link"],[1,"nav-icon"],[1,"nav-text"],[1,"nav-indicator"],[1,"content-section"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),k(5,"i",5),l(6,"span",6),m(7,"Admin Dashboard"),d()()(),l(8,"nav",7)(9,"ul",8),j(10,J1e,7,5,"li",9),d()(),l(11,"div",10)(12,"div",11)(13,"div",12),k(14,"i",13),d(),l(15,"div",14)(16,"span",15),m(17,"Admin"),d(),l(18,"span",16),m(19,"Dashboard"),d()()(),l(20,"div",17)(21,"button",18),T("click",function(){return i.logout()}),k(22,"i",19),l(23,"span",20),m(24,"Logout"),d()()()()()(),l(25,"div",21),j(26,e2e,2,0,"div",22)(27,t2e,2,0,"div",22)(28,n2e,2,0,"div",22)(29,i2e,2,0,"div",22)(30,r2e,2,0,"div",22)(31,o2e,2,0,"div",22)(32,a2e,2,0,"div",22),d()()),t&2&&(p(10),_("ngForOf",i.adminSections)("ngForTrackBy",i.trackBySection),p(16),_("ngIf",i.activeSection==="dashboard"),p(),_("ngIf",i.activeSection==="users"),p(),_("ngIf",i.activeSection==="properties"),p(),_("ngIf",i.activeSection==="bookings"),p(),_("ngIf",i.activeSection==="payments"),p(),_("ngIf",i.activeSection==="analytics"),p(),_("ngIf",i.activeSection==="violations"))},dependencies:[he,Xe,Ce,c7,d7,f7,p7,m7,h7,v7],styles:[".admin-dashboard[_ngcontent-%COMP%]{display:flex;min-height:100vh;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background:#f8fafc}.sidebar-container[_ngcontent-%COMP%]{width:280px;background:#1a202c;box-shadow:2px 0 8px #0000001a;position:relative;z-index:100}.sidebar[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column;position:sticky;top:0}.sidebar-header[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-bottom:1px solid #2d3748}.brand-logo[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff}.brand-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:#3b82f6;margin-right:.75rem}.brand-text[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700}.sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:1rem 0}.nav-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.nav-item[_ngcontent-%COMP%]{margin:.25rem 0;position:relative}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem 1.5rem;color:#a0aec0;text-decoration:none;cursor:pointer;transition:all .2s ease;position:relative}.nav-item[_ngcontent-%COMP%]:hover   .nav-link[_ngcontent-%COMP%]{color:#fff;background:#3b82f61a}.nav-item.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#fff;background:#3b82f633}.nav-item.active[_ngcontent-%COMP%]   .nav-indicator[_ngcontent-%COMP%]{position:absolute;right:0;top:0;bottom:0;width:3px;background:#3b82f6}.nav-icon[_ngcontent-%COMP%]{width:20px;margin-right:.75rem;text-align:center}.nav-text[_ngcontent-%COMP%]{font-weight:500}.sidebar-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid #2d3748}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;color:#a0aec0}.user-avatar[_ngcontent-%COMP%]{font-size:2rem;margin-right:.75rem;color:#3b82f6}.user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.user-name[_ngcontent-%COMP%]{font-weight:600;color:#fff}.user-role[_ngcontent-%COMP%]{font-size:.875rem;color:#a0aec0}.main-content[_ngcontent-%COMP%]{flex:1;background:#f8fafc;overflow-x:hidden}.content-section[_ngcontent-%COMP%]{width:100%;min-height:100vh}.dashboard-overview[_ngcontent-%COMP%]{padding:2rem}.overview-header[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:center}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:2.5rem;font-weight:700;color:#1a202c;margin:0 0 1rem}.section-subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:1.2rem;margin:0}.overview-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:2rem;margin-top:2rem}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:12px;box-shadow:0 2px 8px #0000001a;display:flex;align-items:center;justify-content:space-between;transition:transform .2s ease,box-shadow .2s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 25px #00000026}.stat-content[_ngcontent-%COMP%]{flex:1}.stat-number[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:#1a202c;margin-bottom:.5rem}.stat-label[_ngcontent-%COMP%]{color:#64748b;font-size:1rem;font-weight:500}.stat-icon[_ngcontent-%COMP%]{font-size:3rem;color:#3b82f6;opacity:.8}.placeholder-content[_ngcontent-%COMP%]{padding:2rem;text-align:center}.placeholder-header[_ngcontent-%COMP%]{margin-bottom:3rem}.placeholder-message[_ngcontent-%COMP%]{background:#fff;padding:3rem;border-radius:12px;box-shadow:0 2px 8px #0000001a}.placeholder-icon[_ngcontent-%COMP%]{font-size:4rem;color:#3b82f6;margin-bottom:1.5rem}.placeholder-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;color:#1a202c;margin-bottom:1rem}.placeholder-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:1.1rem}@media (max-width: 1024px){.sidebar-container[_ngcontent-%COMP%]{width:250px}}@media (max-width: 768px){.admin-dashboard[_ngcontent-%COMP%]{flex-direction:column}.sidebar-container[_ngcontent-%COMP%]{width:100%;height:auto;position:relative}.sidebar[_ngcontent-%COMP%]{height:auto;position:relative}.sidebar-nav[_ngcontent-%COMP%]{padding:.5rem 0}.nav-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.nav-item[_ngcontent-%COMP%]{flex:1;min-width:120px}.nav-link[_ngcontent-%COMP%]{padding:.75rem;justify-content:center;text-align:center}.nav-text[_ngcontent-%COMP%], .sidebar-footer[_ngcontent-%COMP%]{display:none}.main-content[_ngcontent-%COMP%]{min-height:calc(100vh - 200px)}.overview-stats[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.stat-card[_ngcontent-%COMP%]{padding:1.5rem}.stat-number[_ngcontent-%COMP%], .stat-icon[_ngcontent-%COMP%]{font-size:2.5rem}}.sidebar-container.mobile-open[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000;background:#00000080}.sidebar-container.mobile-open[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:280px;height:100vh;background:#1a202c}*[_ngcontent-%COMP%]{box-sizing:border-box}.nav-link[_ngcontent-%COMP%], .stat-card[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{transition:all .2s ease}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.logout-section[_ngcontent-%COMP%]{margin-top:16px;padding-top:16px;border-top:1px solid #e0e0e0}.logout-btn[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;padding:12px 16px;background:transparent;border:none;border-radius:8px;color:#666;font-size:14px;cursor:pointer;transition:all .3s ease;text-align:left}.logout-btn[_ngcontent-%COMP%]:active{transform:translate(2px)}.logout-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:12px;font-size:16px}.logout-text[_ngcontent-%COMP%]{font-weight:500}@media (prefers-color-scheme: dark){.logout-section[_ngcontent-%COMP%]{border-top-color:#333}.logout-btn[_ngcontent-%COMP%]{color:#ccc}.logout-btn[_ngcontent-%COMP%]:hover{background-color:#2a2a2a;color:#ff6b6b}}@media (max-width: 768px){.logout-btn[_ngcontent-%COMP%]{padding:10px 12px;font-size:13px}.logout-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:14px}}"]})};function s2e(n,e){n&1&&(l(0,"div",6),k(1,"div",7),l(2,"p"),m(3),Q(4,"translate"),d()()),n&2&&(p(3),$(de(4,1,"WALLET.LOADING")))}function l2e(n,e){if(n&1){let t=X();l(0,"div",8)(1,"div",9)(2,"i",10),m(3,"\u26A0\uFE0F"),d(),l(4,"span"),m(5),d()(),l(6,"button",11),T("click",function(){z(t);let r=C();return A(r.loadPayments())}),m(7),Q(8,"translate"),d()()}if(n&2){let t=C();p(5),$(t.error),p(2),U(" ",de(8,2,"WALLET.RETRY")," ")}}function c2e(n,e){if(n&1&&(l(0,"div",32)(1,"div",33),m(2),Q(3,"translate"),d(),l(4,"div",33),m(5),Q(6,"translate"),d(),l(7,"div",33),m(8),d(),l(9,"div",33)(10,"span",34),m(11),Q(12,"translate"),d()(),l(13,"div",33),m(14),d()()),n&2){let t=e.$implicit,i=C(4);p(2),Nt(" ",de(3,6,"WALLET.PENDING_TRANSACTIONS.BOOKING_PREFIX"),"",t.bookingId," "),p(3),U(" ",de(6,8,"WALLET.PENDING_TRANSACTIONS.PAYMENT_RECEIVED")," "),p(3),$(i.formatAmount(t.hostAmount)),p(3),U(" ",de(12,10,"WALLET.PENDING_TRANSACTIONS.STATUS_PENDING")," "),p(3),$(i.formatDate(t.paymentDate))}}function d2e(n,e){if(n&1){let t=X();l(0,"div",35)(1,"button",36),T("click",function(){z(t);let r=C(4);return A(r.toggleShowAllPending())}),m(2),Q(3,"translate"),Q(4,"translate"),d()()}if(n&2){let t=C(4);p(2),U(" ",t.showAllPending?de(3,1,"WALLET.ACTIONS.SHOW_LESS"):de(4,3,"WALLET.ACTIONS.SHOW_MORE")," ")}}function u2e(n,e){if(n&1&&(l(0,"div",27)(1,"div",28)(2,"div",29),m(3),Q(4,"translate"),d(),l(5,"div",29),m(6),Q(7,"translate"),d(),l(8,"div",29),m(9),Q(10,"translate"),d(),l(11,"div",29),m(12),Q(13,"translate"),d(),l(14,"div",29),m(15),Q(16,"translate"),d()(),j(17,c2e,15,12,"div",30)(18,d2e,5,5,"div",31),d()),n&2){let t=C(3);p(3),U(" ",de(4,7,"WALLET.PENDING_TRANSACTIONS.TABLE.BOOKING_ID")," "),p(3),U(" ",de(7,9,"WALLET.PENDING_TRANSACTIONS.TABLE.MILESTONE")," "),p(3),U(" ",de(10,11,"WALLET.PENDING_TRANSACTIONS.TABLE.AMOUNT")," "),p(3),U(" ",de(13,13,"WALLET.PENDING_TRANSACTIONS.TABLE.STATUS")," "),p(3),U(" ",de(16,15,"WALLET.PENDING_TRANSACTIONS.TABLE.CREATED_AT")," "),p(2),_("ngForOf",t.getDisplayedPendingPayments()),p(),_("ngIf",t.pendingPayments.length>5)}}function p2e(n,e){n&1&&(l(0,"div",37)(1,"p"),m(2),Q(3,"translate"),d()()),n&2&&(p(2),$(de(3,1,"WALLET.PENDING_TRANSACTIONS.NO_TRANSACTIONS")))}function f2e(n,e){if(n&1&&(l(0,"div",22)(1,"div",23)(2,"h2"),m(3),Q(4,"translate"),d(),l(5,"div",24)(6,"div",25),m(7),Q(8,"translate"),d()()(),j(9,u2e,19,17,"div",26)(10,p2e,4,3,"ng-template",null,1,Ta),d()),n&2){let t=qi(11),i=C(2);p(3),$(de(4,4,"WALLET.PENDING_TRANSACTIONS.TITLE")),p(4),U(" ",de(8,6,"WALLET.PENDING_TRANSACTIONS.TAB")," "),p(2),_("ngIf",i.pendingPayments.length>0)("ngIfElse",t)}}function m2e(n,e){n&1&&(l(0,"span"),m(1),Q(2,"translate"),d()),n&2&&(p(),U(" ",de(2,1,"WALLET.STRIPE_ACCOUNT.COMPLETE_SETUP")," "))}function h2e(n,e){n&1&&(l(0,"span"),k(1,"div",42),m(2),Q(3,"translate"),d()),n&2&&(p(2),U(" ",de(3,1,"WALLET.STRIPE_ACCOUNT.REDIRECTING")," "))}function g2e(n,e){if(n&1){let t=X();l(0,"div",38)(1,"div",39)(2,"h3"),m(3),Q(4,"translate"),d(),l(5,"p"),m(6),Q(7,"translate"),d(),l(8,"button",40),T("click",function(){z(t);let r=C(2);return A(r.createStripeAccount())}),j(9,m2e,3,3,"span",41)(10,h2e,4,3,"span",41),d()()()}if(n&2){let t=C(2);p(3),$(de(4,5,"WALLET.STRIPE_ACCOUNT.SETUP_TITLE")),p(3),$(de(7,7,"WALLET.STRIPE_ACCOUNT.SETUP_DESCRIPTION")),p(2),_("disabled",t.isCreatingAccount),p(),_("ngIf",!t.isCreatingAccount),p(),_("ngIf",t.isCreatingAccount)}}function v2e(n,e){if(n&1&&(l(0,"div",32)(1,"div",33),m(2),Q(3,"translate"),d(),l(4,"div",33),m(5),d(),l(6,"div",33),m(7),d()()),n&2){let t=e.$implicit,i=C(3);p(2),Nt(" ",de(3,4,"WALLET.PENDING_TRANSACTIONS.BOOKING_PREFIX"),"",t.bookingId," "),p(3),$(i.formatAmount(t.hostAmount)),p(2),$(i.formatDate(t.paymentDate))}}function b2e(n,e){if(n&1){let t=X();l(0,"div",35)(1,"button",36),T("click",function(){z(t);let r=C(3);return A(r.toggleShowAllTransferred())}),m(2),Q(3,"translate"),Q(4,"translate"),d()()}if(n&2){let t=C(3);p(2),U(" ",t.showAllTransferred?de(3,1,"WALLET.ACTIONS.SHOW_LESS"):de(4,3,"WALLET.ACTIONS.SHOW_MORE")," ")}}function _2e(n,e){if(n&1&&(l(0,"div",43)(1,"div",28)(2,"div",29),m(3),Q(4,"translate"),d(),l(5,"div",29),m(6),Q(7,"translate"),d(),l(8,"div",29),m(9),Q(10,"translate"),d()(),j(11,v2e,8,6,"div",30)(12,b2e,5,5,"div",31),d()),n&2){let t=C(2);p(3),U(" ",de(4,5,"WALLET.BALANCE.TABLE.BOOKING_ID")," "),p(3),U(" ",de(7,7,"WALLET.BALANCE.TABLE.AMOUNT")," "),p(3),U(" ",de(10,9,"WALLET.BALANCE.TABLE.TRANSFERRED_AT")," "),p(2),_("ngForOf",t.getDisplayedTransferredPayments()),p(),_("ngIf",t.transferredPayments.length>5)}}function y2e(n,e){n&1&&(l(0,"div",37)(1,"p"),m(2),Q(3,"translate"),d()()),n&2&&(p(2),$(de(3,1,"WALLET.BALANCE.NO_TRANSACTIONS")))}function x2e(n,e){if(n&1&&(l(0,"div",12),j(1,f2e,12,8,"div",13)(2,g2e,11,9,"div",14),l(3,"div",15)(4,"div",16)(5,"div",17)(6,"h3"),m(7),Q(8,"translate"),d(),l(9,"div",18),m(10),d()(),l(11,"div",19)(12,"h3",20),m(13),Q(14,"translate"),d(),j(15,_2e,13,11,"div",21)(16,y2e,4,3,"ng-template",null,0,Ta),d()()()()),n&2){let t=qi(17),i=C();p(),_("ngIf",i.shouldShowPendingSection),p(),_("ngIf",i.needsToCreateStripeAccount),p(5),$(de(8,7,"WALLET.BALANCE.TITLE")),p(3),$(i.formatAmount(i.totalBalance)),p(3),U(" ",de(14,9,"WALLET.BALANCE.TRANSACTIONS_TITLE")," "),p(2),_("ngIf",i.transferredPayments.length>0)("ngIfElse",t)}}var b7=class n{constructor(e,t){this.paymentService=e;this.authService=t}pendingPayments=[];transferredPayments=[];totalBalance=0;isLoading=!1;error=null;showAllPending=!1;showAllTransferred=!1;isCreatingAccount=!1;currentUserId=null;userEmail="";needsToCreateStripeAccount=!1;shouldShowPendingSection=!1;ngOnInit(){this.currentUserId=this.authService.userId,this.userEmail=localStorage.getItem("email")||"",this.currentUserId&&(this.checkStripeAccountStatus(this.currentUserId),this.loadPayments())}checkStripeAccountStatus(e){this.paymentService.checkStripeAccountStatus(e).subscribe({next:t=>{this.needsToCreateStripeAccount=!t.accountCompleted},error:t=>{console.error("Error checking Stripe account status:",t),this.error="Unable to verify Stripe account status."}})}loadPayments(){this.currentUserId&&(this.isLoading=!0,this.error=null,this.paymentService.getHostPayments(this.currentUserId).subscribe({next:e=>{if(e.success){console.log("PendingPaymentsResponse",e),this.pendingPayments=e.payments.filter(i=>(i.status===3||i.status===1)&&i.transferStatus===2),this.transferredPayments=e.payments.filter(i=>i.transferStatus===3);let t=this.pendingPayments.filter(i=>i.transferStatus===2);this.shouldShowPendingSection=this.pendingPayments.length>0,this.totalBalance=this.transferredPayments.reduce((i,r)=>{let o=r.hostAmount??0;return i+o},0)}else this.error=e.message||"Failed to load payments";this.isLoading=!1},error:e=>{console.error("Error loading payments:",e),this.error="Failed to load payments. Please try again.",this.isLoading=!1}}))}createStripeAccount(){if(!this.currentUserId){this.error="User not authenticated";return}!this.userEmail&&(this.userEmail=prompt("Please enter your email address:")||"",!this.userEmail)||(this.isCreatingAccount=!0,this.error=null,this.paymentService.createStripeAccount(this.userEmail,this.currentUserId).subscribe({next:e=>{e.success&&e.url?(console.log("Redirect",e),window.location.href=e.url):this.error=e.message||"Failed to create Stripe account",this.isCreatingAccount=!1},error:e=>{console.error("Error creating Stripe account:",e),this.error=e.error?.message||"Failed to create Stripe account. Please try again.",this.isCreatingAccount=!1}}))}toggleShowAllPending(){this.showAllPending=!this.showAllPending}toggleShowAllTransferred(){this.showAllTransferred=!this.showAllTransferred}getDisplayedPendingPayments(){return this.showAllPending?this.pendingPayments:this.pendingPayments.slice(0,5)}getDisplayedTransferredPayments(){return this.showAllTransferred?this.transferredPayments:this.transferredPayments.slice(0,5)}formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}formatAmount(e){return typeof e!="number"?"$0.00 USD":`$${(e/100).toFixed(2)} USD`}getStatusText(e){switch(e){case 1:return"Pending";case 2:return"Processing";case 3:return"Succeeded";case 4:return"Failed";case 5:return"Canceled";case 6:return"Refunded";case 7:return"Requires Action";default:return"Unknown"}}getTransferStatusText(e){switch(e){case 1:return"Not Transferred";case 2:return"Pending Transfer";case 3:return"Transferred";case 4:return"Transfer Failed";default:return"Unknown"}}triggerTransfer(e){this.paymentService.transferToHost(e).subscribe({next:t=>{t.success?this.loadPayments():this.error=t.message||"Transfer failed"},error:t=>{console.error("Transfer error:",t),this.error="Transfer failed. Please try again."}})}static \u0275fac=function(t){return new(t||n)(V(P4),V(dt))};static \u0275cmp=le({type:n,selectors:[["app-host-wallet"]],decls:4,vars:3,consts:[["noBalanceTransactions",""],["noPendingPayments",""],[1,"wallet-container"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","wallet-content",4,"ngIf"],[1,"loading-container"],[1,"spinner"],[1,"error-container"],[1,"error-message"],[1,"error-icon"],[1,"retry-btn",3,"click"],[1,"wallet-content"],["class","payments-section",4,"ngIf"],["class","create-account-section",4,"ngIf"],[1,"balance-section"],[1,"balance-header"],[1,"total-balance"],[1,"balance-amount"],[1,"balance-transactions"],[2,"text-align","center"],["class","transactions-table",4,"ngIf","ngIfElse"],[1,"payments-section"],[1,"section-header"],[1,"tab-controls"],[1,"tab-btn","active"],["class","payments-table",4,"ngIf","ngIfElse"],[1,"payments-table"],[1,"table-header"],[1,"header-col"],["class","table-row",4,"ngFor","ngForOf"],["class","show-more",4,"ngIf"],[1,"table-row"],[1,"col"],[1,"status-badge","pending"],[1,"show-more"],[1,"show-more-btn",3,"click"],[1,"no-transactions"],[1,"create-account-section"],[1,"account-prompt"],[1,"create-account-btn",3,"click","disabled"],[4,"ngIf"],[1,"btn-spinner"],[1,"transactions-table"]],template:function(t,i){t&1&&(l(0,"div",2),j(1,s2e,5,3,"div",3)(2,l2e,9,4,"div",4)(3,x2e,18,11,"div",5),d()),t&2&&(p(),_("ngIf",i.isLoading),p(),_("ngIf",i.error),p(),_("ngIf",!i.isLoading&&!i.error))},dependencies:[he,Xe,Ce,wt,Xt],styles:[".wallet-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:50px}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #e3e3e3;border-top:4px solid var(--airbnb-red);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:40px}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f8d7da;color:#721c24;padding:15px 20px;border-radius:8px;margin-bottom:20px;border:1px solid #f5c6cb}.error-icon[_ngcontent-%COMP%]{margin-right:10px;font-size:18px}.retry-btn[_ngcontent-%COMP%]{background-color:var(--airbnb-red);color:#fff;border:none;padding:10px 20px;border-radius:6px;cursor:pointer;font-size:14px;transition:background-color .2s}.retry-btn[_ngcontent-%COMP%]:hover{background-color:var(--airbnb-dark-red)}.wallet-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px}.payments-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:25px;-webkit-border-radius:12px;-moz-border-radius:12px;-ms-border-radius:12px;-o-border-radius:12px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#333;margin:0}.tab-controls[_ngcontent-%COMP%]{display:flex;gap:10px}.tab-btn[_ngcontent-%COMP%]{background:var(--airbnb-red);color:#fff;border:none;padding:10px 20px;border-radius:30px;font-size:14px;font-weight:500;-webkit-border-radius:30px;-moz-border-radius:30px;-ms-border-radius:30px;-o-border-radius:30px}.payments-table[_ngcontent-%COMP%], .transactions-table[_ngcontent-%COMP%]{width:100%}.table-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr;gap:15px;padding:15px 0;border-bottom:2px solid #e5e7eb;margin-bottom:10px}.transactions-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr}.header-col[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:.5px}.table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr;gap:15px;padding:15px 0;border-bottom:1px solid #e3eeee;align-items:center}.transactions-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr}.col[_ngcontent-%COMP%]{font-size:14px;color:#374151}.status-badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;font-size:12px;font-weight:500;text-transform:uppercase}.status-badge.pending[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.status-badge.released[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.show-more[_ngcontent-%COMP%]{text-align:center;padding-top:20px}.show-more-btn[_ngcontent-%COMP%]{background:none;color:var(--airbnb-red);border:1px solid var(--airbnb-dark-red);padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;transition:all .2s}.show-more-btn[_ngcontent-%COMP%]:hover{background:var(--airbnb-dark-red);color:#fff}.create-account-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--airbnb-red) 0%,var(--airbnb-dark-red) 100%);color:#fff;border-radius:12px;padding:30px;text-align:center}.account-prompt[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;margin:0 0 15px;font-weight:600}.account-prompt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:0 0 25px;opacity:.9;line-height:1.6}.create-account-btn[_ngcontent-%COMP%]{background:#fff;color:var(--airbnb-red);border:none;padding:15px 30px;border-radius:8px;cursor:pointer;font-size:16px;font-weight:600;transition:all .3s;display:inline-flex;align-items:center;gap:10px;min-width:200px;justify-content:center}.create-account-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #0003}.create-account-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.btn-spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid var(--airbnb-red);border-top:2px solid transparent;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.balance-section[_ngcontent-%COMP%]{border-radius:12px;padding:25px;background-color:#f8f9fa;border:1px solid #eee}.balance-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:300px 1fr;gap:40px}.total-balance[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .balance-transactions[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#333;margin:0 0 20px}.balance-amount[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#10b981;margin-bottom:20px}.withdrawal-info[_ngcontent-%COMP%]{margin-top:15px}.withdrawal-text[_ngcontent-%COMP%]{font-size:14px;color:#ef4444;margin:0 0 15px;line-height:1.5}.withdraw-btn[_ngcontent-%COMP%]{background:#e5e7eb;color:#9ca3af;border:none;padding:10px 20px;border-radius:6px;cursor:not-allowed;font-size:14px;font-weight:500}.no-transactions[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#6b7280;font-size:16px}@media (max-width: 768px){.wallet-container[_ngcontent-%COMP%]{padding:15px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:10px}.header-col[_ngcontent-%COMP%], .col[_ngcontent-%COMP%]{padding:5px 0}.balance-header[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:30px}.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:15px}}"]})};var C2e=["reviewsContainer"],M2e=["listingsContainer"],w2e=n=>({"dark-mode":n}),jN=()=>[1,2,3,4];function S2e(n,e){n&1&&(l(0,"div",18)(1,"div",19)(2,"span",20),m(3,"Loading..."),d()(),l(4,"h5",21),m(5,"Loading profile..."),d(),l(6,"p",22),m(7,"Please wait while we fetch the user information"),d()())}function P2e(n,e){if(n&1){let t=X();l(0,"div",23)(1,"h4",24),m(2,"Error"),d(),l(3,"p"),m(4),d(),l(5,"button",25),T("click",function(){z(t);let r=C();return A(r.retryLoadData())}),k(6,"i",26),m(7," Retry "),d()()}if(n&2){let t=C();p(4),$(t.error)}}function k2e(n,e){if(n&1&&k(0,"app-profile-card",42),n&2){let t=C(3);_("firstName",(t.userProfile.user==null?null:t.userProfile.user.firstName)||t.userProfile.firstName)("lastName",(t.userProfile.user==null?null:t.userProfile.user.lastName)||t.userProfile.lastName)("country",t.userProfile.country)("profileImageUrl",(t.userProfile.user==null?null:t.userProfile.user.profilePictureURL)||t.userProfile.profilePictureURL)("userId",t.userProfile.id)("userType",t.isHost?"Host":"Guest")("stats",t.isHost?t.hostStats:t.guestStats)("showHeartBadge",t.isHost&&t.hostStats&&t.hostStats.averageRating>=4.8)("imageBaseUrl",t.imageBaseUrl)("imageErrors",t.imageErrors)("clickable",!1)("onImageErrorCallback",t.onImageError.bind(t))}}function O2e(n,e){if(n&1&&(l(0,"div",38)(1,"div",39),k(2,"i",43),d(),l(3,"div",44),m(4),d()()),n&2){let t=C(3);p(4),U("My work: ",t.userProfile.bio)}}function D2e(n,e){if(n&1&&(l(0,"div",38)(1,"div",39),k(2,"i",45),d(),l(3,"div",44),m(4),d()()),n&2){let t=C(3);p(4),$(t.getBirthDecade())}}function E2e(n,e){if(n&1&&(l(0,"div",38)(1,"div",39),k(2,"i",46),d(),l(3,"div",44),m(4),d()()),n&2){let t=C(3);p(4),U("Lives in ",t.userProfile.country)}}function I2e(n,e){if(n&1&&(l(0,"div",33),j(1,k2e,1,12,"app-profile-card",34),l(2,"div",35)(3,"h3",36),m(4),d(),j(5,O2e,5,1,"div",37)(6,D2e,5,1,"div",37)(7,E2e,5,1,"div",37),l(8,"div",38)(9,"div",39),k(10,"i",40),d(),l(11,"div",41),m(12,"Identity verified"),d()()()()),n&2){let t=C(2);p(),_("ngIf",t.canShowProfile),p(3),U(" About ",t.userProfile.firstName||"Host"," "),p(),_("ngIf",t.userProfile.bio),p(),_("ngIf",t.getBirthDecade()),p(),_("ngIf",t.userProfile.country)}}function T2e(n,e){n&1&&(l(0,"div",51)(1,"div",52)(2,"div",53)(3,"div",54)(4,"div",55),k(5,"div",56),d(),l(6,"div",57)(7,"div",55),k(8,"span",58)(9,"span",59),d()()(),l(10,"div",60),k(11,"span",61)(12,"span",62),d(),l(13,"div",55),k(14,"span",63)(15,"span",64)(16,"span",61),d()()()())}function L2e(n,e){n&1&&(l(0,"div",47)(1,"h3",48),m(2,"Reviews"),d(),l(3,"div",49),j(4,T2e,17,0,"div",50),d()()),n&2&&(p(4),_("ngForOf",Kt(1,jN)))}function z2e(n,e){if(n&1){let t=X();l(0,"img",83),T("error",function(r){z(t);let o=C().$implicit,a=C(3);return A(a.onImageError(r,o.user))}),d()}if(n&2){let t=C().$implicit,i=C(3);_("src",i.getImageUrl(t.user.profilePictureURL),et)("alt",(t.user.firstName||"")+" "+(t.user.lastName||""))}}function A2e(n,e){if(n&1&&(l(0,"div",84),m(1),d()),n&2){let t=C().$implicit,i=C(3);p(),U(" ",i.getInitials(t.user.firstName||"",t.user.lastName||"")," ")}}function N2e(n,e){n&1&&k(0,"i",85)}function R2e(n,e){n&1&&k(0,"i",86)}function F2e(n,e){if(n&1&&(l(0,"div",51)(1,"div",52)(2,"div",53)(3,"div",54),j(4,z2e,1,2,"img",74)(5,A2e,2,1,"div",75),l(6,"div")(7,"h6",76),m(8),d(),l(9,"small",21),m(10),d()()(),l(11,"div",77)(12,"div",78)(13,"span",79),j(14,N2e,1,0,"i",80)(15,R2e,1,0,"i",81),d()(),l(16,"small",21),m(17),d()(),l(18,"p",82),m(19),d()()()()),n&2){let t=e.$implicit,i=C(3);p(4),_("ngIf",(t.user==null?null:t.user.profilePictureURL)&&!i.imageErrors.has(t.user.userId)),p(),_("ngIf",!(t.user!=null&&t.user.profilePictureURL)||i.imageErrors.has(t.user==null?null:t.user.userId)),p(3),U(" ",t.user.firstName," "),p(2),U(" ",t.user.country||i.formatDate(t.createdAt)," "),p(4),_("ngForOf",i.getStarArray(t.rating)),p(),_("ngForOf",i.getStarArray(5-t.rating)),p(2),$(i.getTimeAgo(t.createdAt)),p(2),U(" ",i.truncateText(t.comment||"",150)," ")}}function V2e(n,e){if(n&1){let t=X();l(0,"div",47)(1,"div",65)(2,"h3",66),m(3),d(),l(4,"div",67)(5,"button",68),T("click",function(){z(t);let r=C(2);return A(r.scrollReviews("left"))}),k(6,"i",69),d(),l(7,"button",68),T("click",function(){z(t);let r=C(2);return A(r.scrollReviews("right"))}),k(8,"i",70),d()()(),l(9,"div",71)(10,"div",72,0),j(12,F2e,20,8,"div",50),d()(),l(13,"button",73),T("click",function(){z(t);let r=C(2);return A(r.openHostReviewsModal())}),m(14," Show more reviews "),d()()}if(n&2){let t=C(2);p(3),U(" ",t.userProfile.firstName||"Host","'s reviews "),p(9),_("ngForOf",t.hostReviews.slice(0,10))}}function B2e(n,e){n&1&&k(0,"hr",30)}function j2e(n,e){n&1&&(l(0,"div",88)(1,"div",89)(2,"div",55),k(3,"div",90),d(),l(4,"div",91)(5,"div",55),k(6,"span",92)(7,"span",93)(8,"span",58),d()()()())}function H2e(n,e){if(n&1&&(l(0,"div",47)(1,"h3",48),m(2),d(),l(3,"div",49),j(4,j2e,9,0,"div",87),d()()),n&2){let t=C(2);p(2),U(" ",(t.userProfile==null?null:t.userProfile.firstName)||"Host","'s listings "),p(2),_("ngForOf",Kt(2,jN))}}function U2e(n,e){n&1&&(l(0,"div",107)(1,"div",108)(2,"span",20),m(3,"Loading image..."),d()()())}function $2e(n,e){if(n&1){let t=X();l(0,"div",98)(1,"div",99),T("click",function(){let r=z(t).$implicit,o=C(3);return A(o.navigateToProperty(r.id))}),l(2,"div",100)(3,"img",101),T("error",function(r){let o=z(t).$implicit,a=C(3);return A(a.onImageError(r,o))}),d(),j(4,U2e,4,0,"div",102),d(),l(5,"div",91)(6,"h6",103),m(7),d(),l(8,"div",104)(9,"span",105),k(10,"i",85),d(),l(11,"span",106),m(12),Q(13,"number"),d(),l(14,"small",21),m(15),d()()()()()}if(n&2){let t=e.$implicit,i=C(3);p(3),_("src",i.getPropertyImage(t),et)("alt",t.title),p(),_("ngIf",t.imageLoading),p(3),U(" ",t.title," "),p(5),U(" ",Vt(13,6,t.averageRating,"1.1-1")," "),p(3),U(" (",t.reviewCount,") ")}}function W2e(n,e){if(n&1){let t=X();l(0,"div",47)(1,"div",65)(2,"h3",66),m(3),d(),l(4,"div",94)(5,"div",67)(6,"button",68),T("click",function(){z(t);let r=C(2);return A(r.scrollListings("left"))}),k(7,"i",69),d(),l(8,"button",68),T("click",function(){z(t);let r=C(2);return A(r.scrollListings("right"))}),k(9,"i",70),d()(),l(10,"button",95),T("click",function(){z(t);let r=C(2);return A(r.openHostPropertiesModal())}),m(11),k(12,"i",96),d()()(),l(13,"div",71)(14,"div",72,1),j(16,$2e,16,9,"div",97),d()()()}if(n&2){let t=C(2);p(3),U(" ",t.userProfile.firstName||"Host","'s listings "),p(8),U(" Show all ",t.hostProperties.length," listings "),p(5),_("ngForOf",t.hostProperties.slice(0,8))}}function G2e(n,e){n&1&&(l(0,"div",18),k(1,"i",109),l(2,"h5",21),m(3,"No reviews yet"),d(),l(4,"p",21),m(5,"Reviews from your guests will appear here."),d()())}function Y2e(n,e){if(n&1&&(l(0,"div",27),k(1,"div",28),j(2,I2e,13,5,"div",29),k(3,"hr",30),j(4,L2e,5,2,"div",31)(5,V2e,15,2,"div",31)(6,B2e,1,0,"hr",32)(7,H2e,5,3,"div",31)(8,W2e,17,3,"div",31)(9,G2e,6,0,"div",3),d()),n&2){let t=C();p(2),_("ngIf",t.canShowProfile),p(2),_("ngIf",t.reviewsLoading),p(),_("ngIf",t.canShowReviews&&t.hasHostReviews&&!t.reviewsLoading),p(),_("ngIf",t.canShowReviews&&t.hasHostReviews&&t.hostProperties.length>0||t.propertiesLoading),p(),_("ngIf",t.propertiesLoading),p(),_("ngIf",t.canShowReviews&&t.hostProperties.length>0&&!t.propertiesLoading),p(),_("ngIf",t.canShowReviews&&!t.hasHostReviews)}}function q2e(n,e){if(n&1&&(l(0,"div",38)(1,"div",39),k(2,"i",43),d(),l(3,"div",44),m(4),d()()),n&2){let t=C(3);p(4),$(t.userProfile.bio)}}function Z2e(n,e){if(n&1&&(l(0,"div",38)(1,"div",39),k(2,"i",45),d(),l(3,"div",44),m(4),d()()),n&2){let t=C(3);p(4),$(t.getBirthDecade())}}function X2e(n,e){if(n&1&&(l(0,"div",38)(1,"div",39),k(2,"i",46),d(),l(3,"div",44),m(4),d()()),n&2){let t=C(3);p(4),U("Lives in ",t.userProfile.country)}}function K2e(n,e){if(n&1&&(l(0,"div",33),k(1,"app-profile-card",110),l(2,"div",35)(3,"h3",36),m(4),d(),j(5,q2e,5,1,"div",37)(6,Z2e,5,1,"div",37)(7,X2e,5,1,"div",37),l(8,"div",38)(9,"div",39),k(10,"i",40),d(),l(11,"div",41),m(12,"Identity verified"),d()()()()),n&2){let t=C(2);p(),_("firstName",t.userProfile.firstName)("lastName",t.userProfile.lastName)("country",t.userProfile.country)("profileImageUrl",t.userProfile.profilePictureURL)("userId",t.userProfile.id)("userType","Guest")("stats",t.guestStats)("showHeartBadge",!0)("imageBaseUrl",t.imageBaseUrl)("imageErrors",t.imageErrors)("onImageErrorCallback",t.onImageError.bind(t)),p(3),U(" About ",t.userProfile.firstName||"Guest"," "),p(),_("ngIf",t.userProfile.bio),p(),_("ngIf",t.getBirthDecade()),p(),_("ngIf",t.userProfile.country)}}function Q2e(n,e){n&1&&k(0,"i",85)}function J2e(n,e){n&1&&k(0,"i",86)}function e0e(n,e){if(n&1&&(l(0,"div",51)(1,"div",52)(2,"div",53)(3,"div",54)(4,"div",84),m(5),d(),l(6,"div")(7,"h6",76),m(8),d(),l(9,"small",21),m(10),d()()(),l(11,"div",77)(12,"div",78)(13,"span",79),j(14,Q2e,1,0,"i",80)(15,J2e,1,0,"i",81),d()(),l(16,"small",21),m(17),d()(),l(18,"p",111),m(19),d()()()()),n&2){let t=e.$implicit,i=C(3);p(5),U(" ",i.getInitials(i.userProfile.firstName||"",i.userProfile.lastName||"")," "),p(3),U(" ",i.userProfile.firstName," "),p(2),U(" Property #",t.propertyId," "),p(4),_("ngForOf",i.getStarArray(t.rating)),p(),_("ngForOf",i.getStarArray(5-t.rating)),p(2),$(i.getTimeAgo(t.createdAt)),p(2),U(" ",i.truncateText(t.comment||"",120)," ")}}function t0e(n,e){if(n&1){let t=X();l(0,"div",47)(1,"div",65)(2,"h3",66),m(3),d(),l(4,"div",67)(5,"button",68),T("click",function(){z(t);let r=C(2);return A(r.scrollReviews("left"))}),k(6,"i",69),d(),l(7,"button",68),T("click",function(){z(t);let r=C(2);return A(r.scrollReviews("right"))}),k(8,"i",70),d()()(),l(9,"div",71)(10,"div",72,0),j(12,e0e,20,7,"div",50),d()(),l(13,"button",73),T("click",function(){z(t);let r=C(2);return A(r.openGuestReviewsModal())}),m(14," Show more reviews "),d()()}if(n&2){let t=C(2);p(3),U(" ",t.userProfile.firstName||"Guest","'s reviews "),p(9),_("ngForOf",t.guestReviews.slice(0,10))}}function n0e(n,e){n&1&&k(0,"hr",30)}function i0e(n,e){if(n&1){let t=X();l(0,"div",116)(1,"div",117),T("click",function(){let r=z(t).$implicit,o=C(3);return A(o.navigateToProperty(r.id))}),l(2,"div",118)(3,"div",119),k(4,"i",120),d(),l(5,"h6",121),m(6),d(),l(7,"p",122),m(8,"Click to view details"),d()()()()}if(n&2){let t=e.$implicit;p(6),U("Property #",t.id)}}function r0e(n,e){if(n&1&&(l(0,"div",47)(1,"div",65)(2,"h4",112),m(3),d()(),l(4,"div",113)(5,"div",114),j(6,i0e,9,1,"div",115),d()()()),n&2){let t=C(2);p(3),U(" Places I've Visited (",t.uniqueVisitedProperties.length,") "),p(3),_("ngForOf",t.uniqueVisitedProperties)}}function o0e(n,e){n&1&&(l(0,"div",18),k(1,"i",123),l(2,"h5",21),m(3,"No reviews yet"),d(),l(4,"p",21),m(5,"Your reviews will appear here after your stays."),d()())}function a0e(n,e){if(n&1&&(l(0,"div",27),k(1,"div",28),j(2,K2e,13,15,"div",29),k(3,"hr",30),j(4,t0e,15,2,"div",31)(5,n0e,1,0,"hr",32)(6,r0e,7,2,"div",31)(7,o0e,6,0,"div",3),d()),n&2){let t=C();p(2),_("ngIf",t.canShowProfile),p(2),_("ngIf",t.canShowReviews&&t.hasGuestReviews),p(),_("ngIf",t.canShowReviews&&t.hasGuestReviews&&t.hasVisitedProperties),p(),_("ngIf",t.canShowReviews&&t.hasVisitedProperties),p(),_("ngIf",t.canShowReviews&&!t.hasGuestReviews)}}function s0e(n,e){if(n&1){let t=X();l(0,"img",133),T("error",function(r){z(t);let o=C().$implicit,a=C();return A(a.onImageError(r,o.user))}),d()}if(n&2){let t=C().$implicit,i=C();_("src",i.getImageUrl(t.user.profilePictureURL),et)("alt",t.user.firstName+" "+t.user.lastName)}}function l0e(n,e){if(n&1&&(l(0,"div",134),m(1),d()),n&2){let t=C().$implicit,i=C();p(),U(" ",i.getInitials(t.user.firstName||"",t.user.lastName||"")," ")}}function c0e(n,e){n&1&&k(0,"i",85)}function d0e(n,e){n&1&&k(0,"i",86)}function u0e(n,e){if(n&1&&(l(0,"div",135),m(1),d()),n&2){let t=C().$implicit;p(),Nt(" ",t.property.title," \u2022 ",t.property.country," ")}}function p0e(n,e){if(n&1&&(l(0,"div"),j(1,s0e,1,2,"img",124)(2,l0e,2,1,"div",125),l(3,"div",126)(4,"h3",127),m(5),d(),l(6,"div",128)(7,"div",129),j(8,c0e,1,0,"i",80)(9,d0e,1,0,"i",81),d(),l(10,"span",130),m(11),d()(),l(12,"p",131),m(13),d(),j(14,u0e,2,2,"div",132),d()()),n&2){let t=e.$implicit,i=e.last,r=C();cn(i?"d-flex":"d-flex pb-4 mb-4 border-bottom"),p(),_("ngIf",r.shouldShowImage(t.user==null?null:t.user.profilePictureURL,t.user==null?null:t.user.userId)),p(),_("ngIf",r.shouldShowFallback(t.user==null?null:t.user.profilePictureURL,t.user==null?null:t.user.userId)),p(3),Nt(" ",t.user.firstName," ",t.user.lastName," "),p(3),_("ngForOf",r.getStarArray(t.rating)),p(),_("ngForOf",r.getStarArray(5-t.rating)),p(2),U("\u2022 ",r.getTimeAgo(t.createdAt)),p(2),U(" ",t.comment," "),p(),_("ngIf",t.property)}}function f0e(n,e){if(n&1){let t=X();l(0,"div",136)(1,"div",137),T("click",function(){let r=z(t).$implicit,o=C();return A(o.navigateToProperty(r.id))}),l(2,"img",138),T("error",function(r){let o=z(t).$implicit,a=C();return A(a.onImageError(r,o))}),d(),l(3,"div",91)(4,"h6",139),m(5),d(),l(6,"p",140),m(7),d(),l(8,"div",104)(9,"span",105),k(10,"i",85),d(),l(11,"span",141),m(12),Q(13,"number"),d(),l(14,"small",21),m(15),d()()()()()}if(n&2){let t=e.$implicit,i=C();p(2),_("src",i.getPropertyImage(t),et)("alt",t.title),p(3),U(" ",t.title," "),p(2),Nt(" ",t.city,", ",t.country," "),p(5),$(Vt(13,7,t.averageRating,"1.1-1")),p(3),U(" (",t.reviewCount," reviews)")}}function m0e(n,e){n&1&&k(0,"i",85)}function h0e(n,e){n&1&&k(0,"i",86)}function g0e(n,e){if(n&1&&(l(0,"div",136)(1,"div",142)(2,"div",53)(3,"div",143)(4,"div")(5,"h6",144),m(6),d(),l(7,"small",21),m(8),d()(),l(9,"div",145)(10,"div",146),j(11,m0e,1,0,"i",80)(12,h0e,1,0,"i",81),d(),l(13,"small",21),m(14),d()()(),l(15,"p",147),m(16),d()()()()),n&2){let t=e.$implicit,i=C();p(6),U(" Property #",t.propertyId," "),p(2),$(i.getTimeAgo(t.createdAt)),p(3),_("ngForOf",i.getStarArray((t==null?null:t.rating)||0)),p(),_("ngForOf",i.getStarArray(5-((t==null?null:t.rating)||0))),p(2),U("",t==null?null:t.rating,"/5"),p(2),U(" ",t==null?null:t.comment," ")}}Bg();var _7=class n{constructor(e,t,i,r,o,a){this.route=e;this.router=t;this.reviewService=i;this.userService=r;this.PropertyService=o;this.propertyImageService=a}userId="";isHost=!1;loading=!1;error=null;debugStats(){console.log("=== STATS DEBUG ==="),console.log("isHost:",this.isHost),console.log("hostStats:",this.hostStats),console.log("guestStats:",this.guestStats),console.log("statsCalculated:",this.statsCalculated),console.log("canShowStats:",this.canShowStats),console.log("canShowProfile:",this.canShowProfile),console.log("profileLoading:",this.profileLoading),console.log("reviewsLoading:",this.reviewsLoading),console.log("userProfile:",this.userProfile),console.log("hostReviews length:",this.hostReviews?.length||0),console.log("guestReviews length:",this.guestReviews?.length||0),console.log("=== END STATS DEBUG ===")}userProfile=null;hostReviews=[];guestReviews=[];hostStats=null;guestStats=null;showHostReviewsModal=!1;showHostPropertiesModal=!1;showGuestReviewsModal=!1;profileLoading=!0;reviewsLoading=!0;propertiesLoading=!0;imagesLoading=!1;statsCalculated=!1;reviewsBreakpoints={640:{slidesPerView:2,spaceBetween:16},768:{slidesPerView:3,spaceBetween:16},1024:{slidesPerView:4,spaceBetween:16}};visitedPlacesBreakpoints={640:{slidesPerView:3,spaceBetween:16},768:{slidesPerView:4,spaceBetween:16},1024:{slidesPerView:6,spaceBetween:16}};destroy$=new Re;imageBaseUrl=Ke.baseUrl.replace("/api","");imageErrors=new Set;getImageUrl(e){return e?this.imageBaseUrl+e:""}onImageError(e,t){if(t&&(t.id||t.userId)){let i=t.id?.toString()||t.userId?.toString();this.imageErrors.add(i)}}shouldShowImage(e,t){let i=t?.toString();return!!(e&&e.trim()!==""&&!this.imageErrors.has(i))}shouldShowFallback(e,t){let i=t?.toString();return!e||e.trim()===""||this.imageErrors.has(i)}getInitials(e,t){let i=e?e.charAt(0).toUpperCase():"",r=t?t.charAt(0).toUpperCase():"";return i+r}getTimeAgo(e){if(!e)return"";try{let t=new Date,i=new Date(e),r=t.getTime()-i.getTime(),o=Math.floor(r/1e3),a=Math.floor(o/60),c=Math.floor(a/60),u=Math.floor(c/24),h=Math.floor(u/7),v=Math.floor(u/30),y=Math.floor(u/365);return y>0?y===1?"1 year ago":`${y} years ago`:v>0?v===1?"1 month ago":`${v} months ago`:h>0?h===1?"1 week ago":`${h} weeks ago`:u>0?u===1?"1 day ago":`${u} days ago`:c>0?c===1?"1 hour ago":`${c} hours ago`:a>0?a===1?"1 minute ago":`${a} minutes ago`:"Just now"}catch{return console.warn("Invalid date string:",e),""}}ngOnInit(){if(this.debugApiResponse(),this.userId=this.route.snapshot.params.id,!this.userId){this.error="User ID is required";return}this.loadAllDataParallel()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}reviewsContainer;listingsContainer;currentScrollPosition=0;reviewCardWidth=280;reviewGap=12;scrollStep=this.reviewCardWidth+this.reviewGap;listingsScrollPosition=0;listingsCardWidth=240;listingsGap=12;listingsScrollStep=this.listingsCardWidth+this.listingsGap;getReviewScrollStep(){return this.reviewCardWidth+this.reviewGap}getListingsScrollStep(){return this.listingsCardWidth+this.listingsGap}scrollReviews(e){if(!this.reviewsContainer)return;let t=this.reviewsContainer.nativeElement,i=t.parentElement.clientWidth,o=t.scrollWidth-i;e==="right"?this.currentScrollPosition=Math.min(this.currentScrollPosition+this.scrollStep,o):this.currentScrollPosition=Math.max(this.currentScrollPosition-this.scrollStep,0),t.style.transform=`translateX(-${this.currentScrollPosition}px)`,t.style.transition="transform 0.3s ease"}scrollListings(e){if(!this.listingsContainer)return;let t=this.listingsContainer.nativeElement,i=t.parentElement.clientWidth,o=t.scrollWidth-i;e==="right"?this.listingsScrollPosition=Math.min(this.listingsScrollPosition+this.listingsScrollStep,o):this.listingsScrollPosition=Math.max(this.listingsScrollPosition-this.listingsScrollStep,0),t.style.transform=`translateX(-${this.listingsScrollPosition}px)`,t.style.transition="transform 0.3s ease"}hostProperties=[];loadAllDataParallel(){let e=performance.now();console.log("\u{1F680} Starting data load..."),Vl([this.userService.getUserProfile(this.userId).pipe(In(i=>(console.error("Error fetching user profile:",i),qe(null)))),this.reviewService.isUserHost(this.userId).pipe(In(i=>(console.error("Error checking user role:",i),qe(!1)))),this.reviewService.getHostReviewsWithProperties(this.userId).pipe(In(i=>(console.error("Error loading host data:",i),qe([])))),this.reviewService.getPublicReviewsByUserId(this.userId).pipe(In(i=>(console.error("Error loading guest data:",i),qe([])))),this.PropertyService.getPropertiesByHostId(this.userId).pipe(In(i=>(console.error("Error loading properties:",i),qe([]))))]).pipe(rt(this.destroy$)).subscribe(([i,r,o,a,c])=>{let u=performance.now()-e;console.log(`\u26A1 Critical data loaded in ${u.toFixed(2)}ms`),this.userProfile=i,this.profileLoading=!1,this.isHost=r,this.hostReviews=o||[],this.guestReviews=a||[],this.reviewsLoading=!1,this.hostProperties=(c||[]).map(h=>Ve(ie({},h),{images:[]})),this.propertiesLoading=!1,console.log(`\u2705 UI ready in ${(performance.now()-e).toFixed(2)}ms`),this.calculateAllStats(),this.loadPropertyImagesInBackground(c||[])})}loadPropertyImagesInBackground(e){if(e.length===0)return;this.imagesLoading=!0,console.log(`\u{1F5BC}\uFE0F Loading images for ${e.length} properties in background`);let t=e.slice(0,8),i=e.slice(8);this.loadImagesForProperties(t).then(()=>{i.length>0&&setTimeout(()=>{this.loadImagesForProperties(i)},500),this.imagesLoading=!1})}async loadImagesForProperties(e){if(e.length===0)return Promise.resolve();let t=e.map((i,r)=>this.propertyImageService.getAllImagesByPropertyId(i.id).pipe(Ne(o=>({propertyId:i.id,images:o.isSuccess?o.data||[]:[],success:!0})),In(o=>(console.warn(`\u26A0\uFE0F Failed to load images for property ${i.id}:`,o),qe({propertyId:i.id,images:[],success:!1}))),Gv(1e4),In(()=>qe({propertyId:i.id,images:[],success:!1}))));return new Promise(i=>{Bl(t).subscribe({next:r=>{let o=new Map;r.forEach(c=>{o.set(c.propertyId,c.images)}),this.hostProperties=this.hostProperties.map(c=>Ve(ie({},c),{images:o.get(c.id)||c.images||[]}));let a=r.filter(c=>c.success).length;console.log(`\u2705 Images loaded: ${a}/${r.length} properties`),i()},error:r=>{console.error("\u274C Error in batch image loading:",r),i()}})})}calculateAllStats(){this.isHost?this.calculateHostStats():this.calculateGuestStats(),this.statsCalculated=!0}calculateHostStats(){let e=this.hostReviews.length;if(e===0){this.hostStats={totalReviews:0,averageRating:0,monthsHosting:1,totalProperties:this.hostProperties.length};return}let i=this.hostReviews.reduce((a,c)=>a+c.rating,0)/e,r=this.hostReviews.reduce((a,c)=>new Date(c.createdAt)<new Date(a.createdAt)?c:a),o=Math.ceil((Date.now()-new Date(r.createdAt).getTime())/(1e3*60*60*24*30));this.hostStats={totalReviews:e,averageRating:i,monthsHosting:o,totalProperties:this.hostProperties.length}}calculateGuestStats(){if(this.guestReviews.length===0){this.guestStats={totalTrips:0,totalReviews:0,yearsOnPlatform:0};return}let e=this.guestReviews.reduce((i,r)=>new Date(r.createdAt)<new Date(i.createdAt)?r:i),t=Math.ceil((Date.now()-new Date(e.createdAt).getTime())/(1e3*60*60*24*365));this.guestStats={totalTrips:this.uniqueVisitedProperties.length,totalReviews:this.guestReviews.length,yearsOnPlatform:t}}getBirthDecade(){if(!this.userProfile?.birthDate)return"";let e=new Date(this.userProfile.birthDate).getFullYear();return`Born in the ${Math.floor(e/10)*10}s`}get uniqueHostProperties(){return this.hostProperties||[]}debugApiResponse(){console.log("=== API RESPONSE DEBUG ==="),this.reviewService.getHostReviewsWithProperties(this.userId).subscribe({next:e=>{console.log("Raw API Response:",e),console.log("Response type:",typeof e),console.log("Is Array:",Array.isArray(e)),Array.isArray(e)&&e.length>0&&(console.log("First item structure:",e[0]),console.log("First item keys:",Object.keys(e[0])))},error:e=>{console.error("API Error:",e)}}),console.log("=== END API DEBUG ===")}_uniqueVisitedProperties=null;get uniqueVisitedProperties(){if(this._uniqueVisitedProperties===null){let e=new Map;this.guestReviews.forEach(t=>{e.has(t.propertyId)||e.set(t.propertyId,{id:t.propertyId})}),this._uniqueVisitedProperties=Array.from(e.values())}return this._uniqueVisitedProperties}navigateToProperty(e){if(!e){console.warn("Property ID is required for navigation");return}this.router.navigate(["/property",e])}onPropertyClicked(e){this.navigateToProperty(e)}onWishlistClick(e){console.log("Wishlist clicked for property:",e)}activeTab="guests";switchTab(e){this.activeTab=e}get filteredReviews(){return this.activeTab==="guests"?this.hostReviews:[]}openHostReviewsModal(){this.showHostReviewsModal=!0}closeHostReviewsModal(){this.showHostReviewsModal=!1}openHostPropertiesModal(){this.showHostPropertiesModal=!0}closeHostPropertiesModal(){this.showHostPropertiesModal=!1}openGuestReviewsModal(){this.showGuestReviewsModal=!0}closeGuestReviewsModal(){this.showGuestReviewsModal=!1}getStarArray(e){return!e||e<0?[]:Array(Math.floor(Math.min(e,5))).fill(0)}formatDate(e){if(!e)return"";try{return new Date(e).toLocaleDateString()}catch{return console.warn("Invalid date string:",e),""}}get propertiesWithReviews(){if(!this.hostReviews||this.hostReviews.length===0)return[];let e=new Map;return this.hostReviews.forEach(t=>{t.property&&t.property.id&&!e.has(t.property.id)&&e.set(t.property.id,t.property)}),Array.from(e.values())}truncateText(e,t){return e?e.length>t?e.substring(0,t)+"...":e:""}retryLoadData(){this.profileLoading=!0,this.reviewsLoading=!0,this.propertiesLoading=!0,this.imagesLoading=!1,this.statsCalculated=!1,this.error=null,this._uniqueVisitedProperties=null,this.loadAllDataParallel()}get hasHostReviews(){return this.hostReviews.length>0}get hasGuestReviews(){return this.guestReviews.length>0}get hasHostProperties(){return this.uniqueHostProperties.length>0}get hasVisitedProperties(){return this.uniqueVisitedProperties.length>0}get canShowProfile(){return!this.profileLoading&&this.userProfile!==null}get canShowReviews(){return!this.reviewsLoading}get canShowStats(){return this.statsCalculated&&(this.hostStats!==null||this.guestStats!==null)}get isDataLoading(){return this.profileLoading||this.reviewsLoading||this.propertiesLoading}get areImagesLoading(){return this.imagesLoading}getAverageRatingForProperty(e){let t=this.hostReviews.filter(r=>r.propertyId===e);return t.length===0?0:t.reduce((r,o)=>r+o.rating,0)/t.length}getReviewCountForProperty(e){return this.hostReviews.filter(t=>t.propertyId===e).length}getReviewsForProperty(e){return this.hostReviews.filter(t=>t.propertyId===e)}getPropertyImage(e){let t=e.images?.find(i=>i.isCover&&!i.isDeleted);return t?.imageUrl?`${Ke.base}${t.imageUrl}`:"assets/images/deafult.png"}isDarkMode(){return document.body.classList.contains("dark-mode")}static \u0275fac=function(t){return new(t||n)(V(qn),V(nt),V(ul),V(bl),V(Cn),V(w4))};static \u0275cmp=le({type:n,selectors:[["app-user-profile"]],viewQuery:function(t,i){if(t&1&&(en(C2e,5),en(M2e,5)),t&2){let r;qt(r=Zt())&&(i.reviewsContainer=r.first),qt(r=Zt())&&(i.listingsContainer=r.first)}},decls:37,vars:25,consts:[["reviewsContainer",""],["listingsContainer",""],[1,"container-xl","py-4",2,"max-width","1200px",3,"ngClass"],["class","text-center py-5",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","w-100",4,"ngIf"],["tabindex","-1",1,"modal","fade","airbnb-modal"],[1,"modal-dialog","modal-xl"],[1,"modal-content","border-0"],[1,"modal-header","border-0","px-4","pt-4","pb-0"],[1,"modal-title","fs-4","fw-semibold","text-dark"],["type","button",1,"btn-close-custom","d-flex","align-items-center","justify-content-center","border-0","bg-transparent",3,"click"],[1,"fas","fa-times","fs-6","text-secondary"],[1,"modal-body","px-4","py-4",2,"max-height","60vh","overflow-y","auto"],[3,"class",4,"ngFor","ngForOf"],[1,"modal-body","px-4","py-4",2,"max-height","70vh","overflow-y","auto"],[1,"row","g-4"],["class","col-12 col-md-6 col-lg-4",4,"ngFor","ngForOf"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary","mb-3",2,"width","3rem","height","3rem"],[1,"visually-hidden"],[1,"text-muted"],[1,"text-muted","small"],["role","alert",1,"alert","alert-danger"],[1,"alert-heading"],[1,"btn","btn-outline-danger",3,"click"],[1,"fas","fa-redo"],[1,"w-100"],[1,"row","mb-4"],["class","d-flex flex-column flex-lg-row gap-4 align-items-start mb-5","style","max-width: 1000px; margin: 0",4,"ngIf"],[1,"my-5"],["class","mb-5",4,"ngIf"],["class","my-5",4,"ngIf"],[1,"d-flex","flex-column","flex-lg-row","gap-4","align-items-start","mb-5",2,"max-width","1000px","margin","0"],[3,"firstName","lastName","country","profileImageUrl","userId","userType","stats","showHeartBadge","imageBaseUrl","imageErrors","clickable","onImageErrorCallback",4,"ngIf"],[1,"flex-fill","ps-lg-3"],[1,"fs-4","fw-semibold","text-dark","mb-4"],["class","d-flex align-items-start mb-3 gap-3",4,"ngIf"],[1,"d-flex","align-items-start","mb-3","gap-3"],[1,"d-flex","align-items-center","justify-content-center",2,"width","20px","height","20px","margin-top","2px"],[1,"fas","fa-shield-alt","text-muted"],[1,"text-success","fw-medium"],[3,"firstName","lastName","country","profileImageUrl","userId","userType","stats","showHeartBadge","imageBaseUrl","imageErrors","clickable","onImageErrorCallback"],[1,"fas","fa-briefcase","text-muted"],[1,"text-dark"],[1,"fas","fa-birthday-cake","text-muted"],[1,"fas","fa-map-marker-alt","text-muted"],[1,"mb-5"],[1,"fs-3","fw-bold","text-dark","mb-4"],[1,"d-flex","gap-3","overflow-hidden"],["class","flex-shrink-0","style","width: 220px",4,"ngFor","ngForOf"],[1,"flex-shrink-0",2,"width","220px"],[1,"card","border-0","h-100",2,"min-height","240px"],[1,"card-body","p-4"],[1,"d-flex","align-items-center","mb-3"],[1,"placeholder-glow"],[1,"placeholder","rounded-circle","me-3",2,"width","48px","height","48px"],[1,"flex-fill"],[1,"placeholder","col-7"],[1,"placeholder","col-4"],[1,"placeholder-glow","mb-3"],[1,"placeholder","col-8"],[1,"placeholder","col-3"],[1,"placeholder","col-12"],[1,"placeholder","col-10"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"fs-3","fw-bold","text-dark","mb-0"],[1,"d-flex","align-items-center","gap-2"],[1,"btn","btn-outline-secondary","rounded-circle","p-2",2,"width","40px","height","40px",3,"click"],[1,"fas","fa-chevron-left"],[1,"fas","fa-chevron-right"],[1,"overflow-hidden"],[1,"d-flex","gap-3","pb-2","transition-transform",2,"scroll-behavior","smooth","transform","translateX(0px)"],[1,"btn","btn-md","mt-3","px-4","py-3","fw-medium","border","shadow-sm","rounded-3","show-more-reviews-btn",3,"click"],["loading","lazy","class","rounded-circle me-3","style","width: 48px; height: 48px; object-fit: cover",3,"src","alt","error",4,"ngIf"],["class","bg-dark rounded-circle d-flex align-items-center justify-content-center text-white fw-bold me-3","style","width: 48px; height: 48px; font-size: 0.9rem",4,"ngIf"],[1,"mb-0","fw-semibold","text-dark"],[1,"mb-3"],[1,"d-flex","align-items-center","gap-1","mb-2"],[2,"color","#000000"],["class","fas fa-star",4,"ngFor","ngForOf"],["class","far fa-star","style","color: #dee2e6",4,"ngFor","ngForOf"],[1,"text-dark","mb-0",2,"font-size","0.95rem","line-height","1.6"],["loading","lazy",1,"rounded-circle","me-3",2,"width","48px","height","48px","object-fit","cover",3,"error","src","alt"],[1,"bg-dark","rounded-circle","d-flex","align-items-center","justify-content-center","text-white","fw-bold","me-3",2,"width","48px","height","48px","font-size","0.9rem"],[1,"fas","fa-star"],[1,"far","fa-star",2,"color","#dee2e6"],["class","flex-shrink-0","style","width: 240px",4,"ngFor","ngForOf"],[1,"flex-shrink-0",2,"width","240px"],[1,"card","border-0","shadow-sm","h-100"],[1,"placeholder",2,"height","180px","border-radius","12px 12px 0 0"],[1,"card-body","p-3"],[1,"placeholder","col-8","mb-2"],[1,"placeholder","col-6","mb-2"],[1,"d-flex","align-items-center","gap-3"],[1,"btn","btn-link","text-decoration-none","p-0","fw-semibold","text-dark",3,"click"],[1,"fas","fa-chevron-right","ms-1"],["class","flex-shrink-0",4,"ngFor","ngForOf"],[1,"flex-shrink-0"],[1,"card","border","shadow-sm","h-100",2,"width","240px","cursor","pointer",3,"click"],[1,"position-relative"],["loading","lazy",1,"card-img-top",2,"height","160px","object-fit","cover",3,"error","src","alt"],["class","position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center bg-light","style","border-radius: 8px 8px 0 0;",4,"ngIf"],[1,"card-title","text-dark","fw-semibold","mb-2",2,"font-size","0.9rem"],[1,"d-flex","align-items-center"],[1,"me-1",2,"color","#000000"],[1,"fw-semibold","text-dark","me-2",2,"font-size","0.85rem"],[1,"position-absolute","top-0","start-0","w-100","h-100","d-flex","align-items-center","justify-content-center","bg-light",2,"border-radius","8px 8px 0 0"],["role","status",1,"spinner-border","spinner-border-sm","text-primary"],[1,"fas","fa-star","fa-3x","text-muted","mb-3"],[3,"firstName","lastName","country","profileImageUrl","userId","userType","stats","showHeartBadge","imageBaseUrl","imageErrors","onImageErrorCallback"],[1,"text-dark","mb-3",2,"font-size","0.95rem","line-height","1.6"],[1,"fs-4","fw-bold","text-dark","mb-0"],[1,"overflow-auto","my-3"],[1,"d-flex","gap-3","pb-2",2,"scroll-behavior","smooth"],["class","flex-shrink-0","style","width: 180px",4,"ngFor","ngForOf"],[1,"flex-shrink-0",2,"width","180px"],[1,"card","h-100","border","rounded-3",2,"min-height","140px","cursor","pointer",3,"click"],[1,"card-body","d-flex","flex-column","justify-content-center","align-items-center","text-center","h-100","p-3"],[1,"text-dark","mb-2","mx-auto",2,"font-size","1.5rem"],[1,"fas","fa-map-marker-alt"],[1,"card-title","small"],[1,"card-text","text-muted","small"],[1,"fas","fa-suitcase","fa-3x","text-muted","mb-3"],["loading","lazy","class","rounded-circle me-3 flex-shrink-0","style","width: 56px; height: 56px; object-fit: cover",3,"src","alt","error",4,"ngIf"],["class","avatar-fallback rounded-circle d-flex align-items-center justify-content-center text-white fw-semibold me-3 flex-shrink-0","style","width: 56px; height: 56px; font-size: 20px",4,"ngIf"],[1,"flex-grow-1"],[1,"fs-6","fw-semibold","text-dark","mb-0"],[1,"d-flex","align-items-center","my-2"],[1,"me-2",2,"color","#000000"],[1,"small","text-secondary"],[1,"fs-6","text-dark","mb-2",2,"line-height","1.5"],["class","small text-secondary mt-2",4,"ngIf"],["loading","lazy",1,"rounded-circle","me-3","flex-shrink-0",2,"width","56px","height","56px","object-fit","cover",3,"error","src","alt"],[1,"avatar-fallback","rounded-circle","d-flex","align-items-center","justify-content-center","text-white","fw-semibold","me-3","flex-shrink-0",2,"width","56px","height","56px","font-size","20px"],[1,"small","text-secondary","mt-2"],[1,"col-12","col-md-6","col-lg-4"],[1,"card","h-100","border","shadow-sm",2,"cursor","pointer","transition","all 0.3s ease",3,"click"],["loading","lazy",1,"card-img-top",2,"height","200px","object-fit","cover",3,"error","src","alt"],[1,"card-title","fw-semibold","mb-2"],[1,"card-text","text-muted","small","mb-2"],[1,"fw-semibold","me-2"],[1,"card","h-100",2,"transition","all 0.2s ease"],[1,"d-flex","justify-content-between","align-items-start","mb-3"],[1,"card-title","fw-semibold"],[1,"text-end"],[1,"mb-1",2,"color","#000000"],[1,"card-text","mb-3",2,"line-height","1.5"]],template:function(t,i){t&1&&(l(0,"div",2),j(1,S2e,8,0,"div",3)(2,P2e,8,1,"div",4)(3,Y2e,10,7,"div",5)(4,a0e,8,5,"div",5),l(5,"div",6)(6,"div",7)(7,"div",8)(8,"div",9)(9,"h1",10),m(10),d(),l(11,"button",11),T("click",function(){return i.closeHostReviewsModal()}),k(12,"i",12),d()(),l(13,"div",13),j(14,p0e,15,11,"div",14),d()()()(),l(15,"div",6)(16,"div",7)(17,"div",8)(18,"div",9)(19,"h1",10),m(20),d(),l(21,"button",11),T("click",function(){return i.closeHostPropertiesModal()}),k(22,"i",12),d()(),l(23,"div",15)(24,"div",16),j(25,f0e,16,10,"div",17),d()()()()(),l(26,"div",6)(27,"div",7)(28,"div",8)(29,"div",9)(30,"h1",10),m(31),d(),l(32,"button",11),T("click",function(){return i.closeGuestReviewsModal()}),k(33,"i",12),d()(),l(34,"div",15)(35,"div",16),j(36,g0e,17,6,"div",17),d()()()()()()),t&2&&(_("ngClass",nn(23,w2e,i.isDarkMode())),p(),_("ngIf",i.isDataLoading&&!i.error),p(),_("ngIf",i.error),p(),_("ngIf",!i.error&&!i.isDataLoading&&i.isHost),p(),_("ngIf",!i.error&&!i.isDataLoading&&!i.isHost),p(),xt("display",i.showHostReviewsModal?"block":"none"),Me("show",i.showHostReviewsModal),p(5),U(" ",i.hostReviews.length," reviews "),p(4),_("ngForOf",i.hostReviews),p(),xt("display",i.showHostPropertiesModal?"block":"none"),Me("show",i.showHostPropertiesModal),p(5),U(" ",i.hostProperties.length," listings "),p(5),_("ngForOf",i.hostProperties),p(),xt("display",i.showGuestReviewsModal?"block":"none"),Me("show",i.showGuestReviewsModal),p(5),U(" My Reviews (",i.guestReviews.length,") "),p(5),_("ngForOf",i.guestReviews))},dependencies:[he,Bt,Xe,Ce,L4,sa],styles:[".profile-avatar-img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:3px solid #fff;box-shadow:0 4px 15px #0000001a}.heart-badge[_ngcontent-%COMP%]{position:absolute;bottom:-2px;right:-2px;background:#dc3545;color:#fff;border-radius:50%;width:28px;height:28px;display:flex;align-items:center;justify-content:center;font-size:14px;box-shadow:0 2px 8px #0003;border:2px solid white}.visited-icon[_ngcontent-%COMP%]{width:60px;height:60px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.5rem;color:#fff;box-shadow:0 4px 15px #0000001a}.star-rating[_ngcontent-%COMP%]{color:#000}.star-rating[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%]{color:#dee2e6}.text-warning[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%], .stars[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{color:#000!important}.property-img[_ngcontent-%COMP%]{height:200px;object-fit:cover}.avatar-img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;object-fit:cover}.section-divider[_ngcontent-%COMP%]{height:1px;background-color:#e9ecef;margin:3rem 0 2rem;opacity:.8}.star-rating[_ngcontent-%COMP%]   .fas.fa-star[_ngcontent-%COMP%], .star-rating[_ngcontent-%COMP%]   .far.fa-star[_ngcontent-%COMP%]{font-size:.875rem}.text-darker[_ngcontent-%COMP%]{color:#222!important}.review-card[_ngcontent-%COMP%]{padding:0;background:transparent}.listing-card[_ngcontent-%COMP%]{min-width:250px;max-width:250px;transition:transform .2s ease,box-shadow .2s ease;border:1px solid #e9ecef!important}.listing-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001f!important}.reviews-scroll-container[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden;scrollbar-width:none;-ms-overflow-style:none;padding-bottom:8px}.reviews-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.btn-link.fw-semibold[_ngcontent-%COMP%]{text-decoration:none!important;color:#343a40!important;font-weight:600!important}.btn-link.fw-semibold[_ngcontent-%COMP%]:hover{color:#000!important}.listing-card[_ngcontent-%COMP%]   .property-img[_ngcontent-%COMP%]{height:180px;object-fit:cover;border-radius:.375rem .375rem 0 0}@media (max-width: 768px){.review-card[_ngcontent-%COMP%], .listing-card[_ngcontent-%COMP%]{min-width:320px;max-width:320px}.section-divider[_ngcontent-%COMP%]{margin:2rem 0 1.5rem}}@media (max-width: 576px){.profile-avatar-img[_ngcontent-%COMP%]{width:80px;height:80px}.heart-badge[_ngcontent-%COMP%]{width:24px;height:24px;font-size:12px}.visited-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.25rem}.avatar-img[_ngcontent-%COMP%]{width:40px;height:40px}.review-card[_ngcontent-%COMP%], .listing-card[_ngcontent-%COMP%]{min-width:300px;max-width:300px}.fs-3[_ngcontent-%COMP%]{font-size:1.5rem!important}}.airbnb-modal[_ngcontent-%COMP%]{transition:opacity .3s ease}.airbnb-modal.show[_ngcontent-%COMP%]{opacity:1}.airbnb-modal[_ngcontent-%COMP%]:not(.show){opacity:0}.airbnb-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border-radius:12px!important;box-shadow:0 16px 40px #0000001f!important}.btn-close-custom[_ngcontent-%COMP%]:hover{background-color:#f7f7f7!important}.tab-btn.active[_ngcontent-%COMP%]{border-bottom:2px solid #222!important}.stars[_ngcontent-%COMP%]{color:#000!important}.avatar-fallback[_ngcontent-%COMP%]{background:#e91e63!important}.property-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)!important;box-shadow:0 8px 25px #00000026!important}.review-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a!important}.property-card[_ngcontent-%COMP%], .review-card[_ngcontent-%COMP%]{transition:all .3s ease}.airbnb-modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:calc(100vh - 1rem);margin:.5rem auto}.airbnb-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border-radius:12px!important;box-shadow:0 16px 40px #0000001f!important;max-height:90vh;overflow:hidden;transition:all .3s ease;transform-origin:center center}.airbnb-modal.show[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out forwards}.airbnb-modal[_ngcontent-%COMP%]:not(.show)   .modal-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideOut .3s ease-in forwards}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:scale(.9) translateY(-20px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes _ngcontent-%COMP%_modalSlideOut{0%{opacity:1;transform:scale(1) translateY(0)}to{opacity:0;transform:scale(.9) translateY(-20px)}}.airbnb-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{transition:all .3s ease;transform-origin:center center}.show-more-reviews-btn[_ngcontent-%COMP%]{background-color:#ebebeb!important;border-color:#d6d6d6!important;color:#495057!important;transition:all .2s ease}.show-more-reviews-btn[_ngcontent-%COMP%]:hover{background-color:#dcdcdc!important;border-color:#c8c8c8!important;transform:translateY(-1px);box-shadow:0 4px 12px #0000001a!important}.show-more-reviews-btn[_ngcontent-%COMP%]:focus{background-color:#dcdcdc!important;border-color:#c8c8c8!important;box-shadow:0 0 0 3px #007bff40!important}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden}.transition-transform[_ngcontent-%COMP%]{transition:transform .3s ease}.overflow-auto[_ngcontent-%COMP%]{scroll-behavior:smooth}.dark-mode[_ngcontent-%COMP%]{background-color:#1a1a1a;color:#fff}.dark-mode[_ngcontent-%COMP%]   .text-dark[_ngcontent-%COMP%]{color:#fff!important}.dark-mode[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .text-secondary[_ngcontent-%COMP%]{color:#b0b0b0!important}.dark-mode[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#2a2a2a;border-color:#404040;color:#fff}.dark-mode[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{background-color:#404040;border-color:#666;color:#fff}.dark-mode[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]:hover{background-color:#555;border-color:#777;color:#fff}.dark-mode[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{color:#fff!important}.dark-mode[_ngcontent-%COMP%]   .show-more-reviews-btn[_ngcontent-%COMP%]{background-color:#404040!important;border-color:#666!important;color:#fff!important}.dark-mode[_ngcontent-%COMP%]   .show-more-reviews-btn[_ngcontent-%COMP%]:hover{background-color:#555!important;border-color:#777!important}.dark-mode[_ngcontent-%COMP%]   .profile-avatar-img[_ngcontent-%COMP%]{border-color:#404040;box-shadow:0 4px 15px #ffffff1a}.dark-mode[_ngcontent-%COMP%]   .heart-badge[_ngcontent-%COMP%]{border-color:#2a2a2a}.dark-mode[_ngcontent-%COMP%]   .alert-danger[_ngcontent-%COMP%]{background-color:#4a1a1a;border-color:#6a2a2a;color:#fcc}.dark-mode[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]{background-color:#6a2a2a;border-color:#8a3a3a;color:#fcc}.dark-mode[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#8a3a3a;border-color:#aa4a4a;color:#fff}.dark-mode[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom-color:#404040}.dark-mode[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{color:#fff}.dark-mode[_ngcontent-%COMP%]   .btn-close-custom[_ngcontent-%COMP%]{color:#b0b0b0}.dark-mode[_ngcontent-%COMP%]   .btn-close-custom[_ngcontent-%COMP%]:hover{color:#fff}.dark-mode[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-color:#404040}.dark-mode[_ngcontent-%COMP%]   .border-bottom[_ngcontent-%COMP%]{border-bottom-color:#404040!important}.dark-mode[_ngcontent-%COMP%]   .border-top[_ngcontent-%COMP%]{border-top-color:#404040!important}.dark-mode[_ngcontent-%COMP%]   .border-light[_ngcontent-%COMP%]{border-color:#404040!important}.dark-mode[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #ffffff1a;transform:translateY(-2px)}.dark-mode[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{color:gold}.dark-mode[_ngcontent-%COMP%]   .text-success[_ngcontent-%COMP%]{color:#4caf50!important}.dark-mode[_ngcontent-%COMP%]   .visited-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);box-shadow:0 4px 15px #ffffff1a}.placeholder[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite}.dark-mode[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{background:linear-gradient(90deg,#404040 25%,#505050,#404040 75%);background-size:200% 100%}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}.placeholder-glow[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_placeholder-glow 2s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_placeholder-glow{50%{opacity:.6}}.spinner-border-custom[_ngcontent-%COMP%]{width:2rem;height:2rem;border-width:.2em}.card-skeleton[_ngcontent-%COMP%]{border:1px solid #e9ecef;border-radius:12px;overflow:hidden}.dark-mode[_ngcontent-%COMP%]   .card-skeleton[_ngcontent-%COMP%]{border-color:#404040;background-color:#2a2a2a}"]})};var ur=(n,e)=>{let t=q(dt),i=q(nt);return t.userId?!0:i.navigate(["/"])};var y7=(n,e)=>{let t=q(dt),i=q(nt),r=n.data.roles.toString();return t.role.toString().includes(r||"")?!0:i.navigate(["/"])};var HN=()=>{let n=q(nt),e=q(N1),t=q(dt),i=q(vn),r=q(Qi),o=t.userId;return o?e.getPropertiesByHostId(o).pipe(Ne(a=>{if(a&&a.length>0)return!0;{let c=r.instant("HOME.TOAST.NEED_TO_CREATE_LISTING"),u=r.instant("HOME.TOAST.OK");return i.open(c,u,{duration:4e3,horizontalPosition:"end",verticalPosition:"top"}),n.createUrlTree(["/host"])}}),In(a=>(console.error("\u274C HasListingGuard error:",a),qe(n.createUrlTree(["/"]))))):qe(n.createUrlTree(["/"]))};var fc=mr(Ep());var x7=class n{constructor(e){this.http=e}apiUrl=`${Ke.baseUrl}/User`;getHostProfile(e){return this.http.get(`${this.apiUrl}/profile?id=${e}`)}static \u0275fac=function(t){return new(t||n)(De(Ct))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var b0e=(n,e)=>({adults:n,children:e});function _0e(n,e){if(n&1&&(l(0,"div",25)(1,"div",26)(2,"h1",27),m(3),d(),l(4,"div",28),m(5),Q(6,"date"),d(),l(7,"div",29),k(8,"img",30),d()(),l(9,"p",31),m(10,"Typically responds within an hour"),d()()),n&2){let t=C();p(3),Nt("",t.hostProfile.firstName," ",t.hostProfile.lastName),p(2),U("Host since ",Vt(6,4,t.hostProfile.createdAt,"longDate")),p(3),_("src",t.hostProfile.profilePictureURL,et)}}function y0e(n,e){if(n&1&&(l(0,"li",15),m(1),d()),n&2){let t=C();p(),Nt("Home is available from ",t.startDate.format("MMM DD YY")," \u2013 ",t.endDate.format("MMM DD YY"),". Book soon.")}}function x0e(n,e){n&1&&(l(0,"span",32),m(1,"Select your dates"),d())}function C0e(n,e){n&1&&k(0,"span",33)}function M0e(n,e){if(n&1){let t=X();l(0,"div",34)(1,"app-reverse-section",35),T("guestChange",function(r){z(t);let o=C();return A(o.onGuestChange(r))})("dateChange",function(r){z(t);let o=C();return A(o.onDateChange(r))}),d()()}if(n&2){let t=C();p(),_("dateMap",t.dateMap)("propertyId",t.propertyId)("checkIn",t.startDate)("checkOut",t.endDate)("guests",wi(6,b0e,t.guests,t.children))("isPreview",!1)}}var C7=class n{constructor(e,t,i,r,o,a,c){this.route=e;this.hostProfileService=t;this.calendarService=i;this.cdr=r;this.messageService=o;this.confirm=a;this.router=c}message="";isFirstTime=!0;isRequestLoading=!1;firstCalendarDate=(0,fc.default)().add(-5,"months");lastCalendarDate=(0,fc.default)().add(1,"year");availability;dateMap;hostId;checkIn;checkOut;startDate=(0,fc.default)();endDate=(0,fc.default)();guests=1;adults;children;infants;showReservationBox=!0;propertyId;hostProfile;ngOnInit(){this.route.paramMap.subscribe(e=>{this.propertyId=+e.get("propertyId"),this.hostId=e.get("hostId"),this.checkIn=e.get("checkIn"),this.checkOut=e.get("checkOut"),this.guests=+e.get("guests")>0?+e.get("guests"):1,this.children=+e.get("children"),this.checkIn&&(this.startDate=(0,fc.default)(this.checkIn)),this.checkOut&&(this.endDate=(0,fc.default)(this.checkOut))}),this.route.queryParamMap.subscribe(e=>{}),this.hostProfileService.getHostProfile(this.hostId).subscribe(e=>{this.hostProfile.firstName=this.getHostProfile.name}),this.getCalendarAvailability()}getHostProfile(e){this.hostProfileService.getHostProfile(e).subscribe({next:t=>{this.hostProfile=t,console.log("Host profile loaded:",t)},error:t=>{console.error("Error fetching host profile:",t)}})}getCalendarAvailability(){this.calendarService.getAvailability(this.propertyId,this.firstCalendarDate.toString(),this.lastCalendarDate.toString()).subscribe({next:e=>{console.log("getCalendarAvailability",e),console.log("date.toString",(0,fc.default)().toISOString()),this.availability=e;let t=new Map;e.forEach(i=>{let r=(0,fc.default)(i.date).format("YYYY-MM-DD");t.set(r,i)}),console.log(t),this.dateMap=t,this.cdr.detectChanges()},error:()=>{}})}onGuestChange(e){this.guests=e.adults,this.children=e.children}onDateChange(e){this.endDate=e.endDate,this.startDate=e.startDate}onSendMessage(){if(this.message.length<1||!this.endDate||!this.startDate)return;let e={propertyId:this.propertyId,checkInDate:this.startDate.startOf("day").utc().toISOString(),checkOutDate:this.endDate.startOf("day").utc().toISOString(),guestCount:this.guests,message:this.message};console.log(e),this.isRequestLoading=!0,this.messageService.reserveIntPropertyId(e).subscribe({next:t=>{this.isRequestLoading=!1,t.isSuccess&&this.confirm.success(t.message,"Go to message to see your request",()=>{this.router.navigateByUrl("/Messages")})},error:t=>{this.isRequestLoading=!1,console.log(t),this.confirm.fail(t.message,"")}})}isEmptyMessage(){return console.log("isemptyMessage"),this.message.length<1&&!this.isFirstTime}onModelChange(){this.isFirstTime=!1}static \u0275fac=function(t){return new(t||n)(V(qn),V(x7),V(ll),V(Ot),V(oo),V(Ui),V(nt))};static \u0275cmp=le({type:n,selectors:[["app-contact-host"]],decls:45,vars:7,consts:[[1,"main-container","py-5"],[1,"hostMessage"],[1,"left-column"],["href","#",1,"back-button"],["viewBox","0 0 16 16",1,"back-arrow"],["d","m10.5 13.5-5-5 5-5"],["class","host-section",4,"ngIf"],[1,"faq-section"],[1,"faq-title","fs-3","fw-bolder"],[1,"faq-item"],[1,"faq-question"],[2,"list-style","disc"],[1,"faq-list"],[1,"faq-answer"],["style","margin-top: 8px;",4,"ngIf"],[2,"margin-top","8px"],[1,"message-section"],[1,"message-title"],[1,"message-form",3,"click"],["placeholder","Hi! I'll be visiting...","name","message",1,"message-textarea",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-end"],["class","small text-danger",4,"ngIf"],["type","submit",1,"btn","send-button",3,"disabled"],["class","btn-loader",4,"ngIf"],["class","col-md-4","style","position: sticky; top: 90px;",4,"ngIf"],[1,"host-section"],[1,"host-header"],[1,"host-title"],[1,"new"],[1,"host-avatar"],["alt","Host","width","60","height","60",1,"rounded-circle","me-3",3,"src"],[1,"response-time"],[1,"small","text-danger"],[1,"btn-loader"],[1,"col-md-4",2,"position","sticky","top","90px"],[3,"guestChange","dateChange","dateMap","propertyId","checkIn","checkOut","guests","isPreview"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),$e(),l(4,"svg",4),k(5,"path",5),d(),m(6," Back "),d(),j(7,_0e,11,7,"div",6),lt(),l(8,"div",7)(9,"h2",8),m(10,"Most travelers ask about"),d(),l(11,"div",9)(12,"h3",10),m(13,"Getting there"),d(),l(14,"ul",11)(15,"li"),m(16,"Free parking on the premises."),d(),l(17,"li"),m(18," Check-in time for this home starts at 1:00\u202FPM and checkout is at 11:00\u202FAM. "),d()()(),l(19,"div",9)(20,"h3",10),m(21,"House details and rules"),d(),l(22,"ul",12)(23,"li",13),m(24,"No parties or events. No pets."),d()()(),l(25,"div",9)(26,"h3",10),m(27,"Price and availability"),d(),l(28,"div",13)(29,"ul"),j(30,y0e,2,2,"li",14),l(31,"li",15),m(32,"Cancel up to 24 hours before check-in and get a full refund. After that, cancel before check-in and get a full refund, minus the first night and service fee."),d()()()()(),l(33,"div",16)(34,"h2",17),m(35,"Still have questions? Message the host"),d(),l(36,"form",18),T("click",function(){return i.onSendMessage()}),l(37,"textarea",19),mt("ngModelChange",function(o){return _t(i.message,o)||(i.message=o),o}),T("ngModelChange",function(){return i.onModelChange()}),m(38,"                        "),d(),l(39,"div",20),j(40,x0e,2,0,"span",21),d(),l(41,"button",22),j(42,C0e,1,0,"span",23),m(43," Send message"),d()()()(),j(44,M0e,2,9,"div",24),d()()),t&2&&(p(7),_("ngIf",i.hostProfile),p(23),_("ngIf",i.startDate&&i.endDate),p(7),ft("ngModel",i.message),p(3),_("ngIf",i.message.length>0&&(!i.startDate||!i.endDate)),p(),_("disabled",i.message.length<1||!i.endDate||!i.startDate||i.isRequestLoading),p(),_("ngIf",i.isRequestLoading),p(2),_("ngIf",i.showReservationBox))},dependencies:[Mt,mn,Rt,Dt,fn,kn,wr,he,Ce,k4,mi],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Circular,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif;color:#222;line-height:1.43}.main-container[_ngcontent-%COMP%]{max-width:1280px;margin:0 auto;padding:0 24px}.hostMessage[_ngcontent-%COMP%]{margin-top:24px;display:flex;justify-content:space-between;gap:20rem;align-items:start}.left-column[_ngcontent-%COMP%]{min-width:0}.back-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;color:#222;text-decoration:none;font-weight:600;padding:8px 0;margin-bottom:24px;transition:color .2s ease}.back-button[_ngcontent-%COMP%]:hover{color:#717171}.back-arrow[_ngcontent-%COMP%]{width:16px;height:16px;margin-right:8px;stroke:currentColor;fill:none;stroke-width:3}.host-section[_ngcontent-%COMP%]{margin-bottom:48px}.host-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px}.host-title[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:#222;margin-right:16px}.host-avatar[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;object-fit:cover;background:#222}.response-time[_ngcontent-%COMP%]{color:#717171;font-size:14px}.faq-section[_ngcontent-%COMP%]{margin-bottom:48px}.faq-title[_ngcontent-%COMP%]{font-size:22px;font-weight:600;color:#222;margin-bottom:24px}.faq-item[_ngcontent-%COMP%]{margin-bottom:32px}.faq-question[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;color:#222;margin-bottom:8px}.faq-answer[_ngcontent-%COMP%]{color:#251a1a;font-size:1rem;line-height:1.5}.faq-list[_ngcontent-%COMP%]{margin:0}.faq-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding-left:16px;margin-bottom:4px}.faq-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2022";position:absolute;left:0;color:#717171}.message-section[_ngcontent-%COMP%]{margin-top:48px;padding-top:48px;border-top:1px solid #ebebeb}.message-title[_ngcontent-%COMP%]{font-size:22px;font-weight:600;color:#222;margin-bottom:24px}.message-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.message-textarea[_ngcontent-%COMP%]{width:100%;min-height:120px;padding:5px;border:1px solid #b0b0b0;border-radius:8px;font-family:inherit;font-size:15px;resize:vertical;margin-bottom:5px;transition:border-color .2s ease,box-shadow .2s ease}.message-textarea[_ngcontent-%COMP%]:focus{outline:none}.send-button[_ngcontent-%COMP%]{background:#222;color:#fff;border:none;padding:14px 24px;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;align-self:flex-start;transition:background-color .2s ease}.send-button[_ngcontent-%COMP%]:hover{background:#000}.col-md-3[_ngcontent-%COMP%]{flex:0 0 25%;max-width:25%}app-reverse-section[_ngcontent-%COMP%]{display:block;width:100%}.sticky-box[_ngcontent-%COMP%]   app-reverse-section[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 6px 16px #0000001f;overflow:hidden}ul[_ngcontent-%COMP%]{list-style:disc!important;padding-left:2rem}.property-preview[_ngcontent-%COMP%]{display:flex;margin-bottom:24px}.property-image[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:8px;object-fit:cover;margin-right:12px}.property-details[_ngcontent-%COMP%]{flex:1}.price-display[_ngcontent-%COMP%]{display:flex;align-items:baseline;margin-bottom:4px}.original-price[_ngcontent-%COMP%]{font-size:16px;color:#717171;text-decoration:line-through;margin-right:8px}.current-price[_ngcontent-%COMP%]{font-size:22px;font-weight:600;color:#222}.price-period[_ngcontent-%COMP%]{font-size:16px;color:#717171;margin-left:2px}.property-duration[_ngcontent-%COMP%]{font-size:14px;color:#717171;margin-bottom:4px}.property-title[_ngcontent-%COMP%]{font-size:14px;color:#222;font-weight:400;margin-bottom:2px;line-height:1.3}.property-type[_ngcontent-%COMP%]{font-size:12px;color:#717171}.booking-inputs[_ngcontent-%COMP%]{margin-bottom:16px}.date-selection[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;border:1px solid #b0b0b0;border-radius:8px;margin-bottom:16px;overflow:hidden}.date-field[_ngcontent-%COMP%]{padding:12px;border:none;background:transparent}.date-field[_ngcontent-%COMP%]:first-child{border-right:1px solid #b0b0b0}.date-label[_ngcontent-%COMP%]{font-size:10px;font-weight:600;color:#222;text-transform:uppercase;letter-spacing:.04em;margin-bottom:4px;display:block}.date-value[_ngcontent-%COMP%]{font-size:14px;color:#222;border:none;background:transparent;width:100%}.date-value[_ngcontent-%COMP%]:focus{outline:none}.date-selection[_ngcontent-%COMP%]:focus-within{border-color:#222;box-shadow:0 0 0 2px #2222221a}.guest-selection[_ngcontent-%COMP%]{border:1px solid #b0b0b0;border-radius:8px;padding:12px;cursor:pointer;position:relative}.guest-selection[_ngcontent-%COMP%]:hover{border-color:#222}.guest-label[_ngcontent-%COMP%]{font-size:10px;font-weight:600;color:#222;text-transform:uppercase;letter-spacing:.04em;margin-bottom:4px}.guest-value[_ngcontent-%COMP%]{font-size:14px;color:#222}.dropdown-arrow[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);width:16px;height:16px;stroke:#717171;fill:none;stroke-width:2}.reserve-button[_ngcontent-%COMP%]{width:100%;background:linear-gradient(135deg,#e61e4d,#e31c5f,#d70466);color:#fff;border:none;padding:14px;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;margin-bottom:16px;transition:all .2s ease}.reserve-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 8px 24px #e71c5f4d}.no-charge-text[_ngcontent-%COMP%]{text-align:center;color:#717171;font-size:14px;margin-bottom:24px}.price-breakdown[_ngcontent-%COMP%]{border-top:1px solid #ebebeb;padding-top:24px}.price-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.price-row[_ngcontent-%COMP%]:last-child{margin-bottom:0;padding-top:16px;border-top:1px solid #ebebeb;font-weight:600}.price-label[_ngcontent-%COMP%], .price-value[_ngcontent-%COMP%]{color:#222;font-size:16px}@media (max-width: 1200px){.hostMessage[_ngcontent-%COMP%]{gap:60px}.sticky-box[_ngcontent-%COMP%]{width:320px;max-width:320px}}@media (max-width: 1024px){.hostMessage[_ngcontent-%COMP%]{flex-direction:column;gap:48px}.col-md-3[_ngcontent-%COMP%]{flex:1 1 auto;max-width:100%;order:-1}.sticky-box[_ngcontent-%COMP%]{position:static!important;width:100%;max-width:500px;margin:0 auto}}@media (max-width: 768px){.main-container[_ngcontent-%COMP%]{padding:0 16px}.hostMessage[_ngcontent-%COMP%]{margin-top:16px;gap:32px}.host-title[_ngcontent-%COMP%]{font-size:28px}.faq-title[_ngcontent-%COMP%], .message-title[_ngcontent-%COMP%]{font-size:20px}.search-bar[_ngcontent-%COMP%]{min-width:250px}.nav-container[_ngcontent-%COMP%]{padding:0 16px}.become-host[_ngcontent-%COMP%]{display:none}}@media (max-width: 480px){.hostMessage[_ngcontent-%COMP%]{gap:24px}.host-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.host-title[_ngcontent-%COMP%]{font-size:24px;margin-right:0}.message-textarea[_ngcontent-%COMP%]{min-height:100px}}.btn-loader[_ngcontent-%COMP%]{border:2px solid #f3f3f3;border-top:2px solid #fff;border-radius:50%;width:16px;height:16px;animation:_ngcontent-%COMP%_spin .6s linear infinite;display:inline-block}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})};var UN=[{path:"",component:h8,children:[{path:"",component:v4},{path:"experiences",component:v4},{path:"services",component:v4},{path:"FilteredProperties",component:s5},{path:"property/:propertyId",component:A4},{path:"WishLists",component:d5,canActivate:[ur]},{path:"wishlist/:wishlistId/properties",component:u5,canActivate:[ur]},{path:"Messages",component:Up,canActivate:[ur]},{path:"user/:id",component:_7,canActivate:[ur]},{path:"profile/:id",component:r7,canActivate:[ur]},{path:"update-profile/:id",component:Yp,canActivate:[ur]},{path:"your-reviews",component:o7,canActivate:[ur]},{path:"notifications",component:a7,canActivate:[ur]}]},{path:"listing-wizard",component:v8,canActivateChild:[ur],canActivate:[ur],children:[{path:"",component:b8},{path:"step1-1-tell-us",component:_8},{path:"step1-2-which-of",component:y8},{path:"step1-3-what-type",component:x8},{path:"step1-4-1-where",component:M8},{path:"step1-4-2-confirm-address",component:w8},{path:"step1-5-basic-about",component:S8},{path:"step2-1-make-your",component:P8},{path:"step2-2-tell-guests",component:k8},{path:"step2-3-1-add-photos",component:D8},{path:"step2-3-3-photos-ta-da",component:E8},{path:"step2-4-title",component:I8},{path:"step2-5-describe",component:T8},{path:"step2-6-description",component:L8},{path:"step3-1-finish",component:z8},{path:"step3-2-pick-booking",component:A8},{path:"step3-3-choose-welcome",component:N8},{path:"step3-4-1-pricing",component:R8}]},{path:"take-info/:id",component:Yp,canActivate:[ur]},{path:"host",component:c5,canActivate:[ur]},{path:"contact-host/:propertyId",component:C7},{path:"propertybookings/:propertyId",component:q5,canActivate:[ur]},{path:"review/:id",component:s7,canActivate:[ur]},{path:"AdminDashboard",component:qp,canActivate:[ur,y7],data:{roles:["Admin"]}},{path:"AdminDashboard",component:qp,canActivate:[ur,y7],data:{roles:["Admin"]}},{path:"dashboard",redirectTo:"AdminDashboard",pathMatch:"full"},{path:"hostsettings",component:i7,canActivateChild:[ur,y7],children:[{path:"availability",component:n7,canActivate:[HN],data:{roles:["Host"]}},{path:"Messages",component:Up,data:{roles:["Host"]}},{path:"Wallet",component:b7,data:{roles:["Host"]}}]},{path:"updatelist",component:Fp,canActivate:[ur]},{path:"updatelist/:propertyId",component:Fp,canActivate:[ur]},{path:"404",component:p5},{path:"**",redirectTo:"/404"}];var $N=(()=>{class n{http;prefix;suffix;constructor(t,i="/assets/i18n/",r=".json"){this.http=t,this.prefix=i,this.suffix=r}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}static \u0275fac=function(i){return new(i||n)(De(Ct),De(String),De(String))};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})();function WN(n){return new $N(n,"./assets/i18n/",".json")}var M7=class n{constructor(e){this.authService=e}isRefreshing=!1;firstTimeRefresh=!0;refreshTokenSubject=new Sn(null);intercept(e,t){if(e.url.startsWith("https://countriesnow.space"))return t.handle(e);if(this.firstTimeRefresh){let o=this.handle401Error(e,t);console.log("after handle401error"),o.subscribe()}let r=this.authService.accessToken;return r&&(e=this.addToken(e,r)),e=e.clone({withCredentials:!0}),t.handle(e).pipe(In(o=>o instanceof Aa&&o.status===401&&!e.url.includes("/auth/login")?this.handle401Error(e,t):gr(()=>o)))}handle401Error(e,t){return this.isRefreshing?this.refreshTokenSubject.pipe(Nn(i=>i!=null),vr(1),ii(i=>t.handle(this.addToken(e,i)))):(this.isRefreshing=!0,this.refreshTokenSubject.next(null),this.authService.refreshTokenBackend$().pipe(ii(i=>(this.isRefreshing=!1,this.firstTimeRefresh=!1,this.authService.setAccessToken(i.accessToken),this.authService.setUserId(i.userId),this.authService.setRole(i.roles),t.handle(this.addToken(e,i.accessToken)))),In(i=>(this.isRefreshing=!1,this.firstTimeRefresh=!1,gr(()=>i)))))}addToken(e,t){return e.clone({setHeaders:{Authorization:`Bearer ${t}`}})}static \u0275fac=function(t){return new(t||n)(De(dt))};static \u0275prov=me({token:n,factory:n.\u0275fac})};var GN={providers:[{provide:xh,useClass:M7,multi:!0},O1,Mh(Hy()),_x(UN),L3(wt.forRoot({defaultLanguage:"en",loader:{provide:x1,useFactory:WN,deps:[Ct]}})),L3(qo.forRoot()),K_(),Mh(Uy())]};function w0e(n,e){if(n&1&&(l(0,"span"),m(1),Q(2,"translate"),d()),n&2){let t=C(2);p(),Nt(" ",de(2,2,"login.welcome")," ",t.user," ")}}function S0e(n,e){if(n&1&&(zt(0),k(1,"img",21),At()),n&2){let t=C(3);p(),_("src",t.img,et)}}function P0e(n,e){if(n&1&&(l(0,"h1"),m(1),d()),n&2){let t=C(4);p(),$(t.user.charAt(0).toUpperCase())}}function k0e(n,e){if(n&1&&j(0,P0e,2,1,"h1",6),n&2){let t=C(3);_("ngIf",t.user)}}function O0e(n,e){if(n&1&&(l(0,"p"),m(1),d()),n&2){let t=C(3);p(),$(t.maskEmail(t.lastLoginEmail))}}function D0e(n,e){if(n&1&&(l(0,"div",19),j(1,S0e,2,1,"ng-container",20)(2,k0e,1,1,"ng-template",null,1,Ta)(4,O0e,2,1,"p",6),d()),n&2){let t=qi(3),i=C(2);p(),_("ngIf",i.ifImg)("ngIfElse",t),p(3),_("ngIf",i.lastLoginEmail)}}function E0e(n,e){if(n&1){let t=X();l(0,"div",3),T("click",function(){z(t);let r=C();return A(r.close())}),l(1,"div",4),T("click",function(r){return z(t),A(r.stopPropagation())}),l(2,"div",5),j(3,w0e,3,4,"span",6),l(4,"i",7),T("click",function(){z(t);let r=C();return A(r.close())}),m(5,"\xD7"),d()(),j(6,D0e,5,3,"div",8),l(7,"div",9)(8,"form",10,0),T("ngSubmit",function(){z(t);let r=C();return A(r.onLogin())}),l(10,"div",11)(11,"div",12)(12,"input",13),Q(13,"translate"),mt("ngModelChange",function(r){z(t);let o=C();return _t(o.email,r)||(o.email=r),A(r)}),d()(),l(14,"div",14)(15,"input",15),Q(16,"translate"),mt("ngModelChange",function(r){z(t);let o=C();return _t(o.password,r)||(o.password=r),A(r)}),d(),l(17,"a",16),T("click",function(){z(t);let r=C();return A(r.showPass())}),m(18),Q(19,"translate"),d()()(),l(20,"button",17),m(21),Q(22,"translate"),d()()(),l(23,"div",18)(24,"a",16),T("click",function(){z(t);let r=C();return A(r.switchToForgot())}),m(25),Q(26,"translate"),d(),l(27,"span"),m(28),Q(29,"translate"),l(30,"a",16),T("click",function(){z(t);let r=C();return A(r.switchToRegister())}),m(31),Q(32,"translate"),d()()()()()}if(n&2){let t=qi(9),i=C();p(3),_("ngIf",i.user),p(3),_("ngIf",i.img||i.lastLoginEmail),p(6),_("placeholder",ar(de(13,15,"login.email"))),ft("ngModel",i.email),p(3),_("placeholder",ar(de(16,17,"login.password")))("type",i.togglePass?"text":"password"),ft("ngModel",i.password),p(3),U(" ",de(19,19,"login.showPass")," "),p(2),_("disabled",t.invalid),p(),U(" ",de(22,21,"login.login")," "),p(4),U(" ",de(26,23,"login.goTOForgotPassword")," "),p(3),U(" ",de(29,25,"login.notYou")," "),p(3),U(" ",de(32,27,"login.goToRegister")," ")}}var w7=class n{constructor(e,t,i,r,o){this.userService=e;this.notificationService=t;this.router=i;this.authService=r;this.snackBar=o}handleImgService=q(Nr);user=(()=>{let e=localStorage.getItem("user");return e?JSON.parse(e)?.firstName??"":""})();ifImg=(()=>{let e=localStorage.getItem("user");return e?JSON.parse(e)?.profilePictureURL??"":""})();img=(()=>{let e=localStorage.getItem("user");return this.handleImgService.handleImage(e?JSON.parse(e)?.profilePictureURL??"":"")})();lastLoginEmail=localStorage.getItem("email")||"";togglePass=!1;maskEmail(e){let[t,i]=e.split("@");if(!t||!i)return e;let r=t.slice(0,2),o=t.slice(-2),a="\u2022".repeat(Math.max(t.length-4,0));return`${r}${a}${o}@${i}`}email=localStorage.getItem("email")||"";password="";dialogService=q(ai);showToast(e,t,i){this.snackBar.open(e,"Close",{duration:3e3,horizontalPosition:i,verticalPosition:t,panelClass:["custom-snackbar"]})}onLogin(){this.userService.login({email:this.email,password:this.password}).subscribe({next:e=>{this.showToast("Logged in successfully","bottom","left"),this.close();let t=e.userId,i=e.roles.toString();this.userService.getProfile(t).subscribe({next:r=>{if(console.log(r),localStorage.setItem("email",r.email),localStorage.setItem("user",JSON.stringify(r)),i.includes("Admin")){this.router.navigate(["/AdminDashboard"]);return}let o="";r.firstName===null?o="Welcome to Airbnb":o=`Welcome to Airbnb ${r.firstName||r.userName}`,this.notificationService.createNotification({userId:t,message:o}).subscribe({next:()=>{console.log("Notification created successfully")},error:a=>{this.showToast("Notification creation failed","bottom","left"),console.error("Notification creation failed:",a)}}),window.Logging?.(),r.firstName===null?this.router.navigate(["/take-info/"+this.authService.userId]):this.router.navigate(["/"])},error:r=>{this.showToast("Profile not found","bottom","left"),console.error(r)}})},error:e=>{this.showToast(`Login failed: ${e.error.error}`,"bottom","left"),console.error(e)}})}close(){this.dialogService.closeDialog()}switchToRegister(){this.dialogService.openDialog("register")}switchToForgot(){let e=localStorage.getItem("email");if(this.email&&this.email.trim()!==""&&(e=this.email.trim()),!e||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){this.showToast("Please enter a valid email address","bottom","left");return}this.userService.resendOtp({email:e}).subscribe({next:()=>{this.showToast("OTP sent successfully","bottom","left"),this.dialogService.openDialog("resetPassword"),window.startOtpTimer?.()},error:i=>{this.showToast("OTP sending failed","bottom","left"),console.error(i)}})}showPass(){this.togglePass=!this.togglePass}static \u0275fac=function(t){return new(t||n)(V(cr),V(U4),V(nt),V(dt),V(vn))};static \u0275cmp=le({type:n,selectors:[["app-login"]],inputs:{user:"user",img:"img",lastLoginEmail:"lastLoginEmail"},decls:1,vars:1,consts:[["loginForm","ngForm"],["initialLetter",""],["class","overlay",3,"click",4,"ngIf"],[1,"overlay",3,"click"],[1,"dialog",3,"click"],[1,"dialog-header"],[4,"ngIf"],[1,"icon-close",3,"click"],["class","last-info",4,"ngIf"],[1,"dialog-content"],[3,"ngSubmit"],[1,"form-group"],[1,"email"],["type","email","id","email","name","email","required","",3,"ngModelChange","placeholder","ngModel"],[1,"pass"],["id","password","name","password","required","",3,"ngModelChange","type","placeholder","ngModel"],["href","#",3,"click"],["type","submit",3,"disabled"],[1,"dialog-footer"],[1,"last-info"],[4,"ngIf","ngIfElse"],["alt","user-img","loading","lazy",3,"src"]],template:function(t,i){t&1&&j(0,E0e,33,29,"div",2),t&2&&_("ngIf",i.dialogService.isDialogOpen("login"))},dependencies:[he,Ce,wt,Mt,mn,Rt,Dt,fn,gs,kn,wr,Xt],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#0009;z-index:10000;display:flex;justify-content:center;align-items:center}.dialog[_ngcontent-%COMP%]{background-color:var(--active);border-radius:30px;width:500px;max-width:90%;position:relative}.dialog-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--primary-text-color);padding:10px;display:grid;grid-template-columns:1fr auto 1fr;align-items:center;position:relative}.dialog-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;font-weight:700;grid-column:2}.icon-close[_ngcontent-%COMP%]{cursor:pointer;font-size:1.5rem;justify-self:end;grid-column:3}.last-info[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:20px}.last-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;margin-bottom:10px}.last-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;background-color:var(--primary-text-color);color:var(--bg-color);padding:20px 35px;border-radius:50%}.last-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:200}.dialog-content[_ngcontent-%COMP%]{padding:0 20px 20px}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1.2rem;color:#000;direction:ltr}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-top-left-radius:10px;border-top-right-radius:10px;border:1px solid black}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .pass[_ngcontent-%COMP%]{position:relative}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .pass[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;right:0;top:0;padding:10px;color:#000;text-decoration:underline}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .pass[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-bottom-left-radius:10px;border-bottom-right-radius:10px;border:1px solid black;border-top:0}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:10px;border-radius:5px;font-size:1.2rem;color:#fff;background-color:var(--airbnb-dark-red);cursor:pointer}.dialog-footer[_ngcontent-%COMP%]{padding:0 20px 20px;margin-bottom:10px;display:flex;flex-direction:column;justify-content:space-between;gap:10px}.dialog-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline}"]})};function I0e(n,e){if(n&1){let t=X();l(0,"div",2),T("click",function(){z(t);let r=C();return A(r.close())}),l(1,"div",3),T("click",function(r){return z(t),A(r.stopPropagation())}),l(2,"div",4)(3,"span"),m(4),Q(5,"translate"),d(),l(6,"i",5),T("click",function(){z(t);let r=C();return A(r.close())}),m(7,"\xD7"),d()(),l(8,"div",6)(9,"form",7,0),T("ngSubmit",function(){z(t);let r=C();return A(r.onConfirmOtp())}),l(11,"h1"),m(12),Q(13,"translate"),d(),l(14,"div",8)(15,"input",9),T("input",function(r){z(t);let o=C();return A(o.onOtpChange(r))}),d()(),l(16,"div",10)(17,"button",11),m(18),Q(19,"translate"),d(),l(20,"span",12),m(21),d(),l(22,"button",13),T("click",function(){z(t);let r=C();return A(r.resendOtp())}),m(23),Q(24,"translate"),d()()()()()()}if(n&2){let t=C();p(4),$(de(5,8,"confirmOtp.confirmOtp")),p(8),$(de(13,10,"confirmOtp.welcome")),p(3),_("value",t.otp),p(2),_("disabled",t.otp.length!==6),p(),U(" ",de(19,12,"confirmOtp.confirm")," "),p(3),U("",t.timer," s"),p(),_("disabled",t.resendDisabled),p(),U(" ",de(24,14,"confirmOtp.resendOtp")," ")}}var S7=class n{constructor(e){this.snackBar=e}dialogService=q(ai);userService=q(cr);otp="";timer=60;resendDisabled=!0;timerInterval;showToast(e,t,i){this.snackBar.open(e,"Close",{duration:3e3,horizontalPosition:i,verticalPosition:t,panelClass:["custom-snackbar"]})}ngAfterViewInit(){window.startOtpTimerR=()=>{this.resetTimer()}}resetTimer(){clearInterval(this.timerInterval),this.otp="",this.startTimer()}startTimer(){this.timer=60,this.resendDisabled=!0,this.timerInterval=setInterval(()=>{this.timer>0?this.timer--:(clearInterval(this.timerInterval),this.resendDisabled=!1)},1e3)}close(){clearInterval(this.timerInterval),this.otp="",this.timer=60,this.dialogService.closeDialog()}resendOtp(){let e=localStorage.getItem("email");e&&this.userService.resendOtp({email:e}).subscribe({next:t=>{this.otp="",this.startTimer()},error:t=>console.error("Resend OTP failed:",t)})}onConfirmOtp(){let e=localStorage.getItem("email");e&&this.userService.confirmOtp({email:e,code:this.otp}).subscribe({next:()=>{this.showToast("OTP verified successfully","bottom","left"),this.close(),this.dialogService.openDialog("login")},error:t=>{this.showToast("OTP verification failed","bottom","left"),console.error(t)}})}onOtpChange(e){let t=e.target.value.replace(/\D/g,"").slice(0,6);this.otp=t}static \u0275fac=function(t){return new(t||n)(V(vn))};static \u0275cmp=le({type:n,selectors:[["app-confirm-otp"]],decls:1,vars:1,consts:[["confirmOtpForm","ngForm"],["class","overlay",3,"click",4,"ngIf"],[1,"overlay",3,"click"],[1,"dialog",3,"click"],[1,"dialog-header"],[1,"icon-close",3,"click"],[1,"dialog-content"],[3,"ngSubmit"],[1,"form-group"],["type","text","name","otp","maxlength","6","pattern","[0-9]*","required","","placeholder","______",1,"otp-single-input",3,"input","value"],[1,"form-actions"],["type","submit",3,"disabled"],[1,"timer"],["type","button",3,"click","disabled"]],template:function(t,i){t&1&&j(0,I0e,25,16,"div",1),t&2&&_("ngIf",i.dialogService.isDialogOpen("confirmOtp"))},dependencies:[he,Ce,wt,Mt,mn,fn,wr,Xt],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#0009;z-index:10000;display:flex;justify-content:center;align-items:center}.dialog[_ngcontent-%COMP%]{background-color:var(--active);border-radius:30px;width:500px;max-width:90%;position:relative;box-shadow:0 10px 25px #0003}.dialog-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--primary-text-color);padding:15px 20px;display:grid;grid-template-columns:1fr auto 1fr;align-items:center;position:relative}.dialog-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center;font-size:1.3rem;font-weight:700;grid-column:2;color:var(--primary-text-color)}.icon-close[_ngcontent-%COMP%]{cursor:pointer;font-size:1.5rem;justify-self:end;grid-column:3;color:var(--primary-text-color);transition:transform .2s ease}.icon-close[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.dialog-content[_ngcontent-%COMP%]{padding:20px}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;align-items:center}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:10px;font-size:1.4rem;color:var(--primary-text-color);text-align:center}.otp-single-input[_ngcontent-%COMP%]{text-align:center;font-size:2rem;letter-spacing:10px;padding:10px 20px;border:2px solid var(--airbnb-dark-red);border-radius:10px;width:220px;background:#fff;color:#000}.otp-single-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--airbnb-dark-red);box-shadow:0 0 8px var(--airbnb-dark-red)}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-top:10px;align-items:center;flex-direction:column;width:100%}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;background-color:var(--airbnb-dark-red);color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:1rem;transition:background-color .3s ease;width:100%}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ff5a5f80;cursor:not-allowed}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]{font-size:1rem;color:var(--airbnb-red);margin-top:10px}"]})};function T0e(n,e){if(n&1){let t=X();l(0,"div",2),T("click",function(){z(t);let r=C();return A(r.close())}),l(1,"div",3),T("click",function(r){return z(t),A(r.stopPropagation())}),l(2,"div",4)(3,"span"),m(4),Q(5,"translate"),d(),l(6,"i",5),T("click",function(){z(t);let r=C();return A(r.close())}),m(7,"\xD7"),d()(),l(8,"div",6)(9,"form",7,0),T("ngSubmit",function(){z(t);let r=C();return A(r.onRegister())}),l(11,"h1"),m(12),Q(13,"translate"),d(),l(14,"div",8)(15,"div",9)(16,"input",10),Q(17,"translate"),mt("ngModelChange",function(r){z(t);let o=C();return _t(o.email,r)||(o.email=r),A(r)}),d()(),l(18,"div",11)(19,"input",12),Q(20,"translate"),mt("ngModelChange",function(r){z(t);let o=C();return _t(o.password,r)||(o.password=r),A(r)}),d(),l(21,"a",13),T("click",function(){z(t);let r=C();return A(r.showPass())}),m(22),Q(23,"translate"),d()()(),l(24,"button",14),m(25),Q(26,"translate"),d()()()()()}if(n&2){let t=qi(10),i=C();p(4),$(de(5,12,"register.hi")),p(8),$(de(13,14,"register.welcome")),p(4),_("placeholder",ar(de(17,16,"register.email"))),ft("ngModel",i.email),p(3),_("placeholder",ar(de(20,18,"register.password")))("type",i.togglePass?"text":"password"),ft("ngModel",i.password),p(3),$(de(23,20,"register.showPass")),p(2),_("disabled",t.invalid),p(),U(" ",de(26,22,"register.register")," ")}}var P7=class n{constructor(e,t){this.userService=e;this.snackBar=t}email="";password="";togglePass=!1;dialogService=q(ai);showToast(e,t,i){this.snackBar.open(e,"Close",{duration:3e3,horizontalPosition:i,verticalPosition:t,panelClass:["custom-snackbar"]})}onRegister(){if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{12,}$/.test(this.password)){this.showToast("Password must contain at least one uppercase letter, one lowercase letter, one number, one special character, and be at least 12 characters long.","bottom","left");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email)){this.showToast("Please enter a valid email address","bottom","left");return}this.userService.register({email:this.email,password:this.password}).subscribe({next:i=>{localStorage.setItem("email",this.email),localStorage.removeItem("user"),this.showToast("Registered successfully","bottom","left"),this.close(),this.dialogService.openDialog("confirmOtp"),window.startOtpTimerR?.()},error:i=>{this.showToast("Register failed","bottom","left"),console.error(i)}})}showPass(){this.togglePass=!this.togglePass}close(){this.dialogService.closeDialog()}static \u0275fac=function(t){return new(t||n)(V(cr),V(vn))};static \u0275cmp=le({type:n,selectors:[["app-register"]],decls:2,vars:1,consts:[["registerForm","ngForm"],["class","overlay",3,"click",4,"ngIf"],[1,"overlay",3,"click"],[1,"dialog",3,"click"],[1,"dialog-header"],[1,"icon-close",3,"click"],[1,"dialog-content"],[3,"ngSubmit"],[1,"form-group"],[1,"email"],["type","email","id","email","name","email","required","",3,"ngModelChange","placeholder","ngModel"],[1,"pass"],["id","password","name","password","required","",3,"ngModelChange","type","placeholder","ngModel"],["href","#",3,"click"],["type","submit",3,"disabled"]],template:function(t,i){t&1&&(j(0,T0e,27,24,"div",1),k(1,"app-confirm-otp")),t&2&&_("ngIf",i.dialogService.isDialogOpen("register"))},dependencies:[he,Ce,wt,Mt,mn,Rt,Dt,fn,gs,kn,wr,S7,Xt],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#0009;z-index:10000;display:flex;justify-content:center;align-items:center}.dialog[_ngcontent-%COMP%]{background-color:var(--active);border-radius:30px;width:500px;max-width:90%;position:relative}.dialog-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--primary-text-color);padding:10px;display:grid;grid-template-columns:1fr auto 1fr;align-items:center;position:relative}.dialog-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;font-weight:700;grid-column:2}.icon-close[_ngcontent-%COMP%]{cursor:pointer;font-size:1.5rem;justify-self:end;grid-column:3}.last-info[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:20px}.last-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;margin-bottom:10px}.last-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;background-color:var(--primary-text-color);color:var(--bg-color);padding:20px 35px;border-radius:50%}.last-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:200}.dialog-content[_ngcontent-%COMP%]{padding:0 20px 20px}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;margin:20px 0}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1.2rem;color:#000;direction:ltr}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-top-left-radius:10px;border-top-right-radius:10px;border:1px solid black}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .pass[_ngcontent-%COMP%]{position:relative}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .pass[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;right:0;top:0;padding:10px;color:#000;text-decoration:underline}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .pass[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-bottom-left-radius:10px;border-bottom-right-radius:10px;border:1px solid black;border-top:0}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:10px;border-radius:5px;font-size:1.2rem;color:#fff;background-color:var(--airbnb-dark-red);cursor:pointer}"]})};function L0e(n,e){if(n&1){let t=X();l(0,"div",2),T("click",function(){z(t);let r=C();return A(r.close())}),l(1,"div",3),T("click",function(r){return z(t),A(r.stopPropagation())}),l(2,"div",4)(3,"span"),m(4),Q(5,"translate"),d(),l(6,"i",5),T("click",function(){z(t);let r=C();return A(r.close())}),m(7,"\xD7"),d()(),l(8,"div",6)(9,"form",7,0),T("ngSubmit",function(){z(t);let r=C();return A(r.onResetPassword())}),l(11,"h1"),m(12),Q(13,"translate"),d(),l(14,"div",8)(15,"input",9),Q(16,"translate"),mt("ngModelChange",function(r){z(t);let o=C();return _t(o.password,r)||(o.password=r),A(r)}),d(),l(17,"a",10),T("click",function(){z(t);let r=C();return A(r.showPass())}),m(18),Q(19,"translate"),d()(),l(20,"div",11)(21,"input",12),T("input",function(r){z(t);let o=C();return A(o.onOtpChange(r))}),d()(),l(22,"button",13),m(23),Q(24,"translate"),d(),l(25,"span",14),m(26),d(),l(27,"button",15),T("click",function(){z(t);let r=C();return A(r.resendOtp())}),m(28),Q(29,"translate"),d()()()()()}if(n&2){let t=qi(10),i=C();p(4),$(de(5,13,"resetPassword.resetYourPassword")),p(8),$(de(13,15,"resetPassword.welcome")),p(3),_("placeholder",ar(de(16,17,"login.password")))("type",i.togglePass?"text":"password"),ft("ngModel",i.password),p(3),$(de(19,19,"login.showPass")),p(3),_("value",i.otp),p(),_("disabled",t.invalid),p(),U(" ",de(24,21,"resetPassword.confirm")," "),p(3),U("",i.timer," s"),p(),_("disabled",i.resendDisabled),p(),U(" ",de(29,23,"confirmOtp.resendOtp")," ")}}var k7=class n{constructor(e,t){this.userService=e;this.snackBar=t}password="";otp="";togglePass=!1;dialogService=q(ai);timer=60;resendDisabled=!0;timerInterval;showToast(e,t,i){this.snackBar.open(e,"Close",{duration:3e3,horizontalPosition:i,verticalPosition:t,panelClass:["custom-snackbar"]})}onResetPassword(){let e=localStorage.getItem("email");if(!e){this.showToast("Email not found","bottom","left");return}this.userService.resetPass({email:e,newPassword:this.password,code:this.otp}).subscribe({next:()=>{this.showToast("Password reset successfully","bottom","left"),this.close()},error:t=>{this.showToast("Password reset failed","bottom","left"),console.error(t)}})}showPass(){this.togglePass=!this.togglePass}ngAfterViewInit(){window.startOtpTimer=()=>{this.resetTimer()}}resetTimer(){clearInterval(this.timerInterval),this.otp="",this.startTimer()}startTimer(){this.timer=60,this.resendDisabled=!0,this.timerInterval=setInterval(()=>{this.timer>0?this.timer--:(clearInterval(this.timerInterval),this.resendDisabled=!1)},1e3)}close(){clearInterval(this.timerInterval),this.otp="",this.timer=60,this.dialogService.closeDialog()}resendOtp(){let e=localStorage.getItem("email");e&&this.userService.resendOtp({email:e}).subscribe({next:t=>{this.otp="",this.startTimer()},error:t=>console.error("Resend OTP failed:",t)})}onOtpChange(e){let t=e.target.value.replace(/\D/g,"").slice(0,6);this.otp=t}static \u0275fac=function(t){return new(t||n)(V(cr),V(vn))};static \u0275cmp=le({type:n,selectors:[["app-reset-password"]],decls:1,vars:1,consts:[["resetPasswordForm","ngForm"],["class","overlay",3,"click",4,"ngIf"],[1,"overlay",3,"click"],[1,"dialog",3,"click"],[1,"dialog-header"],[1,"icon-close",3,"click"],[1,"dialog-content"],[3,"ngSubmit"],[1,"pass"],["id","newPassword","name","newPassword","required","",3,"ngModelChange","type","placeholder","ngModel"],["href","#",3,"click"],[1,"form-group"],["type","text","name","otp","maxlength","6","pattern","[0-9]*","required","","placeholder","______",1,"otp-single-input",3,"input","value"],["type","submit",3,"disabled"],[1,"timer"],["type","button",3,"click","disabled"]],template:function(t,i){t&1&&j(0,L0e,30,25,"div",1),t&2&&_("ngIf",i.dialogService.isDialogOpen("resetPassword"))},dependencies:[he,Ce,Mt,mn,Rt,Dt,fn,gs,kn,wr,wt,Xt],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#0009;z-index:10000;display:flex;justify-content:center;align-items:center}.dialog[_ngcontent-%COMP%]{background-color:var(--active);border-radius:30px;width:500px;max-width:90%;position:relative;box-shadow:0 10px 25px #0003}.dialog-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--primary-text-color);padding:15px 20px;display:grid;grid-template-columns:1fr auto 1fr;align-items:center;position:relative}.dialog-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center;font-size:1.3rem;font-weight:700;grid-column:2;color:var(--primary-text-color)}.icon-close[_ngcontent-%COMP%]{cursor:pointer;font-size:1.5rem;justify-self:end;grid-column:3;color:var(--primary-text-color);transition:transform .2s ease}.dialog-content[_ngcontent-%COMP%]{padding:20px}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;align-items:center}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:10px;font-size:1.4rem;color:var(--primary-text-color);text-align:center}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1.2rem;color:#000;direction:ltr}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-top-left-radius:10px;border-top-right-radius:10px;border:1px solid black}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .pass[_ngcontent-%COMP%]{position:relative}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .pass[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;right:0;top:0;padding:10px;color:#000;text-decoration:underline}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .pass[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:10px;border:1px solid black}.otp-single-input[_ngcontent-%COMP%]{text-align:center;font-size:2rem;letter-spacing:10px;padding:10px 20px;border:2px solid var(--airbnb-dark-red);border-radius:10px;width:220px;background:#fff;color:#000}.otp-single-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--airbnb-dark-red);box-shadow:0 0 8px var(--airbnb-dark-red)}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-top:10px;align-items:center;flex-direction:column;width:100%}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;background-color:var(--airbnb-dark-red);color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:1rem;transition:background-color .3s ease;width:100%}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ff5a5f80;cursor:not-allowed}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]{font-size:1rem;color:var(--airbnb-red);margin-top:10px}"]})};var O7=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=le({type:n,selectors:[["app-blocking-overlay"]],decls:3,vars:0,consts:[[1,"blocking-overlay"]],template:function(t,i){t&1&&(Pe(0,"div",0)(1,"p"),m(2,"Please use a larger screen to view this site."),Le()())},styles:[".blocking-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#fff;color:#000;z-index:9999;display:flex;align-items:center;justify-content:center;text-align:center;font-size:1.5rem;padding:2rem}"]})};function z0e(n,e){n&1&&k(0,"app-login")(1,"app-register")(2,"app-confirm")(3,"app-reset-password")(4,"router-outlet")}function A0e(n,e){n&1&&k(0,"app-blocking-overlay")}function N0e(n,e){if(n&1&&j(0,A0e,1,0,"app-blocking-overlay",0),n&2){let t=C();_("ngIf",t.showOverlay)}}var D7=class n{title="Airbnb";showOverlay=!1;ngOnInit(){this.checkWidth(),window.addEventListener("resize",()=>this.checkWidth()),new MutationObserver(()=>{this.showOverlay&&!document.querySelector("app-blocking-overlay")&&(this.showOverlay=!0)}).observe(document.body,{childList:!0,subtree:!0})}checkWidth(){this.showOverlay=window.innerWidth<1200}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=le({type:n,selectors:[["app-root"]],decls:2,vars:1,consts:[[4,"ngIf"]],template:function(t,i){t&1&&yr(0,z0e,5,0)(1,N0e,1,1,"app-blocking-overlay"),t&2&&xr(i.showOverlay?1:0)},dependencies:[ms,N4,w7,P7,k7,O7,he,Ce],encapsulation:2})};var _l=globalThis;function Wa(n){return(_l.__Zone_symbol_prefix||"__zone_symbol__")+n}function R0e(){let n=_l.performance;function e(te){n&&n.mark&&n.mark(te)}function t(te,K){n&&n.measure&&n.measure(te,K)}e("Zone");let i=(()=>{class te{static __symbol__=Wa;static assertZonePatched(){if(_l.Promise!==pe.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let H=te.current;for(;H.parent;)H=H.parent;return H}static get current(){return re.zone}static get currentTask(){return ee}static __load_patch(H,Z,ke=!1){if(pe.hasOwnProperty(H)){let Be=_l[Wa("forceDuplicateZoneCheck")]===!0;if(!ke&&Be)throw Error("Already loaded patch: "+H)}else if(!_l["__Zone_disable_"+H]){let Be="Zone:"+H;e(Be),pe[H]=Z(_l,te,ge),t(Be,Be)}}get parent(){return this._parent}get name(){return this._name}_parent;_name;_properties;_zoneDelegate;constructor(H,Z){this._parent=H,this._name=Z?Z.name||"unnamed":"<root>",this._properties=Z&&Z.properties||{},this._zoneDelegate=new o(this,this._parent&&this._parent._zoneDelegate,Z)}get(H){let Z=this.getZoneWith(H);if(Z)return Z._properties[H]}getZoneWith(H){let Z=this;for(;Z;){if(Z._properties.hasOwnProperty(H))return Z;Z=Z._parent}return null}fork(H){if(!H)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,H)}wrap(H,Z){if(typeof H!="function")throw new Error("Expecting function got: "+H);let ke=this._zoneDelegate.intercept(this,H,Z),Be=this;return function(){return Be.runGuarded(ke,this,arguments,Z)}}run(H,Z,ke,Be){re={parent:re,zone:this};try{return this._zoneDelegate.invoke(this,H,Z,ke,Be)}finally{re=re.parent}}runGuarded(H,Z=null,ke,Be){re={parent:re,zone:this};try{try{return this._zoneDelegate.invoke(this,H,Z,ke,Be)}catch(Qe){if(this._zoneDelegate.handleError(this,Qe))throw Qe}}finally{re=re.parent}}runTask(H,Z,ke){if(H.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(H.zone||R).name+"; Execution: "+this.name+")");let Be=H,{type:Qe,data:{isPeriodic:Se=!1,isRefreshable:gt=!1}={}}=H;if(H.state===B&&(Qe===J||Qe===oe))return;let ze=H.state!=Y;ze&&Be._transitionTo(Y,N);let Ie=ee;ee=Be,re={parent:re,zone:this};try{Qe==oe&&H.data&&!Se&&!gt&&(H.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,Be,Z,ke)}catch(Fe){if(this._zoneDelegate.handleError(this,Fe))throw Fe}}finally{let Fe=H.state;if(Fe!==B&&Fe!==ue)if(Qe==J||Se||gt&&Fe===F)ze&&Be._transitionTo(N,Y,F);else{let Oe=Be._zoneDelegates;this._updateTaskCount(Be,-1),ze&&Be._transitionTo(B,Y,B),gt&&(Be._zoneDelegates=Oe)}re=re.parent,ee=Ie}}scheduleTask(H){if(H.zone&&H.zone!==this){let ke=this;for(;ke;){if(ke===H.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${H.zone.name}`);ke=ke.parent}}H._transitionTo(F,B);let Z=[];H._zoneDelegates=Z,H._zone=this;try{H=this._zoneDelegate.scheduleTask(this,H)}catch(ke){throw H._transitionTo(ue,F,B),this._zoneDelegate.handleError(this,ke),ke}return H._zoneDelegates===Z&&this._updateTaskCount(H,1),H.state==F&&H._transitionTo(N,F),H}scheduleMicroTask(H,Z,ke,Be){return this.scheduleTask(new a(fe,H,Z,ke,Be,void 0))}scheduleMacroTask(H,Z,ke,Be,Qe){return this.scheduleTask(new a(oe,H,Z,ke,Be,Qe))}scheduleEventTask(H,Z,ke,Be,Qe){return this.scheduleTask(new a(J,H,Z,ke,Be,Qe))}cancelTask(H){if(H.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(H.zone||R).name+"; Execution: "+this.name+")");if(!(H.state!==N&&H.state!==Y)){H._transitionTo(ne,N,Y);try{this._zoneDelegate.cancelTask(this,H)}catch(Z){throw H._transitionTo(ue,ne),this._zoneDelegate.handleError(this,Z),Z}return this._updateTaskCount(H,-1),H._transitionTo(B,ne),H.runCount=-1,H}}_updateTaskCount(H,Z){let ke=H._zoneDelegates;Z==-1&&(H._zoneDelegates=null);for(let Be=0;Be<ke.length;Be++)ke[Be]._updateTaskCount(H.type,Z)}}return te})(),r={name:"",onHasTask:(te,K,H,Z)=>te.hasTask(H,Z),onScheduleTask:(te,K,H,Z)=>te.scheduleTask(H,Z),onInvokeTask:(te,K,H,Z,ke,Be)=>te.invokeTask(H,Z,ke,Be),onCancelTask:(te,K,H,Z)=>te.cancelTask(H,Z)};class o{get zone(){return this._zone}_zone;_taskCounts={microTask:0,macroTask:0,eventTask:0};_parentDelegate;_forkDlgt;_forkZS;_forkCurrZone;_interceptDlgt;_interceptZS;_interceptCurrZone;_invokeDlgt;_invokeZS;_invokeCurrZone;_handleErrorDlgt;_handleErrorZS;_handleErrorCurrZone;_scheduleTaskDlgt;_scheduleTaskZS;_scheduleTaskCurrZone;_invokeTaskDlgt;_invokeTaskZS;_invokeTaskCurrZone;_cancelTaskDlgt;_cancelTaskZS;_cancelTaskCurrZone;_hasTaskDlgt;_hasTaskDlgtOwner;_hasTaskZS;_hasTaskCurrZone;constructor(K,H,Z){this._zone=K,this._parentDelegate=H,this._forkZS=Z&&(Z&&Z.onFork?Z:H._forkZS),this._forkDlgt=Z&&(Z.onFork?H:H._forkDlgt),this._forkCurrZone=Z&&(Z.onFork?this._zone:H._forkCurrZone),this._interceptZS=Z&&(Z.onIntercept?Z:H._interceptZS),this._interceptDlgt=Z&&(Z.onIntercept?H:H._interceptDlgt),this._interceptCurrZone=Z&&(Z.onIntercept?this._zone:H._interceptCurrZone),this._invokeZS=Z&&(Z.onInvoke?Z:H._invokeZS),this._invokeDlgt=Z&&(Z.onInvoke?H:H._invokeDlgt),this._invokeCurrZone=Z&&(Z.onInvoke?this._zone:H._invokeCurrZone),this._handleErrorZS=Z&&(Z.onHandleError?Z:H._handleErrorZS),this._handleErrorDlgt=Z&&(Z.onHandleError?H:H._handleErrorDlgt),this._handleErrorCurrZone=Z&&(Z.onHandleError?this._zone:H._handleErrorCurrZone),this._scheduleTaskZS=Z&&(Z.onScheduleTask?Z:H._scheduleTaskZS),this._scheduleTaskDlgt=Z&&(Z.onScheduleTask?H:H._scheduleTaskDlgt),this._scheduleTaskCurrZone=Z&&(Z.onScheduleTask?this._zone:H._scheduleTaskCurrZone),this._invokeTaskZS=Z&&(Z.onInvokeTask?Z:H._invokeTaskZS),this._invokeTaskDlgt=Z&&(Z.onInvokeTask?H:H._invokeTaskDlgt),this._invokeTaskCurrZone=Z&&(Z.onInvokeTask?this._zone:H._invokeTaskCurrZone),this._cancelTaskZS=Z&&(Z.onCancelTask?Z:H._cancelTaskZS),this._cancelTaskDlgt=Z&&(Z.onCancelTask?H:H._cancelTaskDlgt),this._cancelTaskCurrZone=Z&&(Z.onCancelTask?this._zone:H._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let ke=Z&&Z.onHasTask,Be=H&&H._hasTaskZS;(ke||Be)&&(this._hasTaskZS=ke?Z:r,this._hasTaskDlgt=H,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,Z.onScheduleTask||(this._scheduleTaskZS=r,this._scheduleTaskDlgt=H,this._scheduleTaskCurrZone=this._zone),Z.onInvokeTask||(this._invokeTaskZS=r,this._invokeTaskDlgt=H,this._invokeTaskCurrZone=this._zone),Z.onCancelTask||(this._cancelTaskZS=r,this._cancelTaskDlgt=H,this._cancelTaskCurrZone=this._zone))}fork(K,H){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,K,H):new i(K,H)}intercept(K,H,Z){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,K,H,Z):H}invoke(K,H,Z,ke,Be){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,K,H,Z,ke,Be):H.apply(Z,ke)}handleError(K,H){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,K,H):!0}scheduleTask(K,H){let Z=H;if(this._scheduleTaskZS)this._hasTaskZS&&Z._zoneDelegates.push(this._hasTaskDlgtOwner),Z=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,K,H),Z||(Z=H);else if(H.scheduleFn)H.scheduleFn(H);else if(H.type==fe)M(H);else throw new Error("Task is missing scheduleFn.");return Z}invokeTask(K,H,Z,ke){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,K,H,Z,ke):H.callback.apply(Z,ke)}cancelTask(K,H){let Z;if(this._cancelTaskZS)Z=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,K,H);else{if(!H.cancelFn)throw Error("Task is not cancelable");Z=H.cancelFn(H)}return Z}hasTask(K,H){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,K,H)}catch(Z){this.handleError(K,Z)}}_updateTaskCount(K,H){let Z=this._taskCounts,ke=Z[K],Be=Z[K]=ke+H;if(Be<0)throw new Error("More tasks executed then were scheduled.");if(ke==0||Be==0){let Qe={microTask:Z.microTask>0,macroTask:Z.macroTask>0,eventTask:Z.eventTask>0,change:K};this.hasTask(this._zone,Qe)}}}class a{type;source;invoke;callback;data;scheduleFn;cancelFn;_zone=null;runCount=0;_zoneDelegates=null;_state="notScheduled";constructor(K,H,Z,ke,Be,Qe){if(this.type=K,this.source=H,this.data=ke,this.scheduleFn=Be,this.cancelFn=Qe,!Z)throw new Error("callback is not defined");this.callback=Z;let Se=this;K===J&&ke&&ke.useG?this.invoke=a.invokeTask:this.invoke=function(){return a.invokeTask.call(_l,Se,this,arguments)}}static invokeTask(K,H,Z){K||(K=this),se++;try{return K.runCount++,K.zone.runTask(K,H,Z)}finally{se==1&&O(),se--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(B,F)}_transitionTo(K,H,Z){if(this._state===H||this._state===Z)this._state=K,K==B&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${K}', expecting state '${H}'${Z?" or '"+Z+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let c=Wa("setTimeout"),u=Wa("Promise"),h=Wa("then"),v=[],y=!1,P;function S(te){if(P||_l[u]&&(P=_l[u].resolve(0)),P){let K=P[h];K||(K=P.then),K.call(P,te)}else _l[c](te,0)}function M(te){se===0&&v.length===0&&S(O),te&&v.push(te)}function O(){if(!y){for(y=!0;v.length;){let te=v;v=[];for(let K=0;K<te.length;K++){let H=te[K];try{H.zone.runTask(H,null,null)}catch(Z){ge.onUnhandledError(Z)}}}ge.microtaskDrainDone(),y=!1}}let R={name:"NO ZONE"},B="notScheduled",F="scheduling",N="scheduled",Y="running",ne="canceling",ue="unknown",fe="microTask",oe="macroTask",J="eventTask",pe={},ge={symbol:Wa,currentZoneFrame:()=>re,onUnhandledError:ve,microtaskDrainDone:ve,scheduleMicroTask:M,showUncaughtError:()=>!i[Wa("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:ve,patchMethod:()=>ve,bindArguments:()=>[],patchThen:()=>ve,patchMacroTask:()=>ve,patchEventPrototype:()=>ve,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>ve,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>ve,wrapWithCurrentZone:()=>ve,filterProperties:()=>[],attachOriginToPatched:()=>ve,_redefineProperty:()=>ve,patchCallbacks:()=>ve,nativeScheduleMicroTask:S},re={parent:null,zone:new i(null,null)},ee=null,se=0;function ve(){}return t("Zone","Zone"),i}function F0e(){let n=globalThis,e=n[Wa("forceDuplicateZoneCheck")]===!0;if(n.Zone&&(e||typeof n.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return n.Zone??=R0e(),n.Zone}var Xp=Object.getOwnPropertyDescriptor,cw=Object.defineProperty,dw=Object.getPrototypeOf,V0e=Object.create,B0e=Array.prototype.slice,uw="addEventListener",pw="removeEventListener",ow=Wa(uw),aw=Wa(pw),mc="true",hc="false",Kp=Wa("");function fw(n,e){return Zone.current.wrap(n,e)}function mw(n,e,t,i,r){return Zone.current.scheduleMacroTask(n,e,t,i,r)}var Jn=Wa,T7=typeof window<"u",Qp=T7?window:void 0,Pr=T7&&Qp||globalThis,j0e="removeAttribute";function hw(n,e){for(let t=n.length-1;t>=0;t--)typeof n[t]=="function"&&(n[t]=fw(n[t],e+"_"+t));return n}function H0e(n,e){let t=n.constructor.name;for(let i=0;i<e.length;i++){let r=e[i],o=n[r];if(o){let a=Xp(n,r);if(!JN(a))continue;n[r]=(c=>{let u=function(){return c.apply(this,hw(arguments,t+"."+r))};return vc(u,c),u})(o)}}}function JN(n){return n?n.writable===!1?!1:!(typeof n.get=="function"&&typeof n.set>"u"):!0}var eR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,L7=!("nw"in Pr)&&typeof Pr.process<"u"&&Pr.process.toString()==="[object process]",gw=!L7&&!eR&&!!(T7&&Qp.HTMLElement),tR=typeof Pr.process<"u"&&Pr.process.toString()==="[object process]"&&!eR&&!!(T7&&Qp.HTMLElement),I7={},U0e=Jn("enable_beforeunload"),YN=function(n){if(n=n||Pr.event,!n)return;let e=I7[n.type];e||(e=I7[n.type]=Jn("ON_PROPERTY"+n.type));let t=this||n.target||Pr,i=t[e],r;if(gw&&t===Qp&&n.type==="error"){let o=n;r=i&&i.call(this,o.message,o.filename,o.lineno,o.colno,o.error),r===!0&&n.preventDefault()}else r=i&&i.apply(this,arguments),n.type==="beforeunload"&&Pr[U0e]&&typeof r=="string"?n.returnValue=r:r!=null&&!r&&n.preventDefault();return r};function qN(n,e,t){let i=Xp(n,e);if(!i&&t&&Xp(t,e)&&(i={enumerable:!0,configurable:!0}),!i||!i.configurable)return;let r=Jn("on"+e+"patched");if(n.hasOwnProperty(r)&&n[r])return;delete i.writable,delete i.value;let o=i.get,a=i.set,c=e.slice(2),u=I7[c];u||(u=I7[c]=Jn("ON_PROPERTY"+c)),i.set=function(h){let v=this;if(!v&&n===Pr&&(v=Pr),!v)return;typeof v[u]=="function"&&v.removeEventListener(c,YN),a?.call(v,null),v[u]=h,typeof h=="function"&&v.addEventListener(c,YN,!1)},i.get=function(){let h=this;if(!h&&n===Pr&&(h=Pr),!h)return null;let v=h[u];if(v)return v;if(o){let y=o.call(this);if(y)return i.set.call(this,y),typeof h[j0e]=="function"&&h.removeAttribute(e),y}return null},cw(n,e,i),n[r]=!0}function nR(n,e,t){if(e)for(let i=0;i<e.length;i++)qN(n,"on"+e[i],t);else{let i=[];for(let r in n)r.slice(0,2)=="on"&&i.push(r);for(let r=0;r<i.length;r++)qN(n,i[r],t)}}var Ss=Jn("originalInstance");function Zp(n){let e=Pr[n];if(!e)return;Pr[Jn(n)]=e,Pr[n]=function(){let r=hw(arguments,n);switch(r.length){case 0:this[Ss]=new e;break;case 1:this[Ss]=new e(r[0]);break;case 2:this[Ss]=new e(r[0],r[1]);break;case 3:this[Ss]=new e(r[0],r[1],r[2]);break;case 4:this[Ss]=new e(r[0],r[1],r[2],r[3]);break;default:throw new Error("Arg list too long.")}},vc(Pr[n],e);let t=new e(function(){}),i;for(i in t)n==="XMLHttpRequest"&&i==="responseBlob"||function(r){typeof t[r]=="function"?Pr[n].prototype[r]=function(){return this[Ss][r].apply(this[Ss],arguments)}:cw(Pr[n].prototype,r,{set:function(o){typeof o=="function"?(this[Ss][r]=fw(o,n+"."+r),vc(this[Ss][r],o)):this[Ss][r]=o},get:function(){return this[Ss][r]}})}(i);for(i in e)i!=="prototype"&&e.hasOwnProperty(i)&&(Pr[n][i]=e[i])}function gc(n,e,t){let i=n;for(;i&&!i.hasOwnProperty(e);)i=dw(i);!i&&n[e]&&(i=n);let r=Jn(e),o=null;if(i&&(!(o=i[r])||!i.hasOwnProperty(r))){o=i[r]=i[e];let a=i&&Xp(i,e);if(JN(a)){let c=t(o,r,e);i[e]=function(){return c(this,arguments)},vc(i[e],o)}}return o}function $0e(n,e,t){let i=null;function r(o){let a=o.data;return a.args[a.cbIdx]=function(){o.invoke.apply(this,arguments)},i.apply(a.target,a.args),o}i=gc(n,e,o=>function(a,c){let u=t(a,c);return u.cbIdx>=0&&typeof c[u.cbIdx]=="function"?mw(u.name,c[u.cbIdx],u,r):o.apply(a,c)})}function vc(n,e){n[Jn("OriginalDelegate")]=e}var ZN=!1,sw=!1;function W0e(){if(ZN)return sw;ZN=!0;try{let n=Qp.navigator.userAgent;(n.indexOf("MSIE ")!==-1||n.indexOf("Trident/")!==-1||n.indexOf("Edge/")!==-1)&&(sw=!0)}catch{}return sw}function XN(n){return typeof n=="function"}function KN(n){return typeof n=="number"}var G0e={useG:!0},Ga={},iR={},rR=new RegExp("^"+Kp+"(\\w+)(true|false)$"),oR=Jn("propagationStopped");function aR(n,e){let t=(e?e(n):n)+hc,i=(e?e(n):n)+mc,r=Kp+t,o=Kp+i;Ga[n]={},Ga[n][hc]=r,Ga[n][mc]=o}function Y0e(n,e,t,i){let r=i&&i.add||uw,o=i&&i.rm||pw,a=i&&i.listeners||"eventListeners",c=i&&i.rmAll||"removeAllListeners",u=Jn(r),h="."+r+":",v="prependListener",y="."+v+":",P=function(F,N,Y){if(F.isRemoved)return;let ne=F.callback;typeof ne=="object"&&ne.handleEvent&&(F.callback=oe=>ne.handleEvent(oe),F.originalDelegate=ne);let ue;try{F.invoke(F,N,[Y])}catch(oe){ue=oe}let fe=F.options;if(fe&&typeof fe=="object"&&fe.once){let oe=F.originalDelegate?F.originalDelegate:F.callback;N[o].call(N,Y.type,oe,fe)}return ue};function S(F,N,Y){if(N=N||n.event,!N)return;let ne=F||N.target||n,ue=ne[Ga[N.type][Y?mc:hc]];if(ue){let fe=[];if(ue.length===1){let oe=P(ue[0],ne,N);oe&&fe.push(oe)}else{let oe=ue.slice();for(let J=0;J<oe.length&&!(N&&N[oR]===!0);J++){let pe=P(oe[J],ne,N);pe&&fe.push(pe)}}if(fe.length===1)throw fe[0];for(let oe=0;oe<fe.length;oe++){let J=fe[oe];e.nativeScheduleMicroTask(()=>{throw J})}}}let M=function(F){return S(this,F,!1)},O=function(F){return S(this,F,!0)};function R(F,N){if(!F)return!1;let Y=!0;N&&N.useG!==void 0&&(Y=N.useG);let ne=N&&N.vh,ue=!0;N&&N.chkDup!==void 0&&(ue=N.chkDup);let fe=!1;N&&N.rt!==void 0&&(fe=N.rt);let oe=F;for(;oe&&!oe.hasOwnProperty(r);)oe=dw(oe);if(!oe&&F[r]&&(oe=F),!oe||oe[u])return!1;let J=N&&N.eventNameToString,pe={},ge=oe[u]=oe[r],re=oe[Jn(o)]=oe[o],ee=oe[Jn(a)]=oe[a],se=oe[Jn(c)]=oe[c],ve;N&&N.prepend&&(ve=oe[Jn(N.prepend)]=oe[N.prepend]);function te(xe,Ue){return Ue?typeof xe=="boolean"?{capture:xe,passive:!0}:xe?typeof xe=="object"&&xe.passive!==!1?Ve(ie({},xe),{passive:!0}):xe:{passive:!0}:xe}let K=function(xe){if(!pe.isExisting)return ge.call(pe.target,pe.eventName,pe.capture?O:M,pe.options)},H=function(xe){if(!xe.isRemoved){let Ue=Ga[xe.eventName],st;Ue&&(st=Ue[xe.capture?mc:hc]);let pt=st&&xe.target[st];if(pt){for(let tt=0;tt<pt.length;tt++)if(pt[tt]===xe){pt.splice(tt,1),xe.isRemoved=!0,xe.removeAbortListener&&(xe.removeAbortListener(),xe.removeAbortListener=null),pt.length===0&&(xe.allRemoved=!0,xe.target[st]=null);break}}}if(xe.allRemoved)return re.call(xe.target,xe.eventName,xe.capture?O:M,xe.options)},Z=function(xe){return ge.call(pe.target,pe.eventName,xe.invoke,pe.options)},ke=function(xe){return ve.call(pe.target,pe.eventName,xe.invoke,pe.options)},Be=function(xe){return re.call(xe.target,xe.eventName,xe.invoke,xe.options)},Qe=Y?K:Z,Se=Y?H:Be,gt=function(xe,Ue){let st=typeof Ue;return st==="function"&&xe.callback===Ue||st==="object"&&xe.originalDelegate===Ue},ze=N?.diff||gt,Ie=Zone[Jn("UNPATCHED_EVENTS")],Fe=n[Jn("PASSIVE_EVENTS")];function Oe(xe){if(typeof xe=="object"&&xe!==null){let Ue=ie({},xe);return xe.signal&&(Ue.signal=xe.signal),Ue}return xe}let Ae=function(xe,Ue,st,pt,tt=!1,vt=!1){return function(){let kt=this||n,jt=arguments[0];N&&N.transferEventName&&(jt=N.transferEventName(jt));let hn=arguments[1];if(!hn)return xe.apply(this,arguments);if(L7&&jt==="uncaughtException")return xe.apply(this,arguments);let Lt=!1;if(typeof hn!="function"){if(!hn.handleEvent)return xe.apply(this,arguments);Lt=!0}if(ne&&!ne(xe,hn,kt,arguments))return;let er=!!Fe&&Fe.indexOf(jt)!==-1,tr=Oe(te(arguments[2],er)),Po=tr?.signal;if(Po?.aborted)return;if(Ie){for(let $i=0;$i<Ie.length;$i++)if(jt===Ie[$i])return er?xe.call(kt,jt,hn,tr):xe.apply(this,arguments)}let va=tr?typeof tr=="boolean"?!0:tr.capture:!1,ki=tr&&typeof tr=="object"?tr.once:!1,Ya=Zone.current,ko=Ga[jt];ko||(aR(jt,J),ko=Ga[jt]);let Yr=ko[va?mc:hc],bn=kt[Yr],Oo=!1;if(bn){if(Oo=!0,ue){for(let $i=0;$i<bn.length;$i++)if(ze(bn[$i],hn))return}}else bn=kt[Yr]=[];let yl,Ps=kt.constructor.name,ks=iR[Ps];ks&&(yl=ks[jt]),yl||(yl=Ps+Ue+(J?J(jt):jt)),pe.options=tr,ki&&(pe.options.once=!1),pe.target=kt,pe.capture=va,pe.eventName=jt,pe.isExisting=Oo;let Xo=Y?G0e:void 0;Xo&&(Xo.taskData=pe),Po&&(pe.options.signal=void 0);let nr=Ya.scheduleEventTask(yl,hn,Xo,st,pt);if(Po){pe.options.signal=Po;let $i=()=>nr.zone.cancelTask(nr);xe.call(Po,"abort",$i,{once:!0}),nr.removeAbortListener=()=>Po.removeEventListener("abort",$i)}if(pe.target=null,Xo&&(Xo.taskData=null),ki&&(pe.options.once=!0),typeof nr.options!="boolean"&&(nr.options=tr),nr.target=kt,nr.capture=va,nr.eventName=jt,Lt&&(nr.originalDelegate=hn),vt?bn.unshift(nr):bn.push(nr),tt)return kt}};return oe[r]=Ae(ge,h,Qe,Se,fe),ve&&(oe[v]=Ae(ve,y,ke,Se,fe,!0)),oe[o]=function(){let xe=this||n,Ue=arguments[0];N&&N.transferEventName&&(Ue=N.transferEventName(Ue));let st=arguments[2],pt=st?typeof st=="boolean"?!0:st.capture:!1,tt=arguments[1];if(!tt)return re.apply(this,arguments);if(ne&&!ne(re,tt,xe,arguments))return;let vt=Ga[Ue],kt;vt&&(kt=vt[pt?mc:hc]);let jt=kt&&xe[kt];if(jt)for(let hn=0;hn<jt.length;hn++){let Lt=jt[hn];if(ze(Lt,tt)){if(jt.splice(hn,1),Lt.isRemoved=!0,jt.length===0&&(Lt.allRemoved=!0,xe[kt]=null,!pt&&typeof Ue=="string")){let er=Kp+"ON_PROPERTY"+Ue;xe[er]=null}return Lt.zone.cancelTask(Lt),fe?xe:void 0}}return re.apply(this,arguments)},oe[a]=function(){let xe=this||n,Ue=arguments[0];N&&N.transferEventName&&(Ue=N.transferEventName(Ue));let st=[],pt=sR(xe,J?J(Ue):Ue);for(let tt=0;tt<pt.length;tt++){let vt=pt[tt],kt=vt.originalDelegate?vt.originalDelegate:vt.callback;st.push(kt)}return st},oe[c]=function(){let xe=this||n,Ue=arguments[0];if(Ue){N&&N.transferEventName&&(Ue=N.transferEventName(Ue));let st=Ga[Ue];if(st){let pt=st[hc],tt=st[mc],vt=xe[pt],kt=xe[tt];if(vt){let jt=vt.slice();for(let hn=0;hn<jt.length;hn++){let Lt=jt[hn],er=Lt.originalDelegate?Lt.originalDelegate:Lt.callback;this[o].call(this,Ue,er,Lt.options)}}if(kt){let jt=kt.slice();for(let hn=0;hn<jt.length;hn++){let Lt=jt[hn],er=Lt.originalDelegate?Lt.originalDelegate:Lt.callback;this[o].call(this,Ue,er,Lt.options)}}}}else{let st=Object.keys(xe);for(let pt=0;pt<st.length;pt++){let tt=st[pt],vt=rR.exec(tt),kt=vt&&vt[1];kt&&kt!=="removeListener"&&this[c].call(this,kt)}this[c].call(this,"removeListener")}if(fe)return this},vc(oe[r],ge),vc(oe[o],re),se&&vc(oe[c],se),ee&&vc(oe[a],ee),!0}let B=[];for(let F=0;F<t.length;F++)B[F]=R(t[F],i);return B}function sR(n,e){if(!e){let o=[];for(let a in n){let c=rR.exec(a),u=c&&c[1];if(u&&(!e||u===e)){let h=n[a];if(h)for(let v=0;v<h.length;v++)o.push(h[v])}}return o}let t=Ga[e];t||(aR(e),t=Ga[e]);let i=n[t[hc]],r=n[t[mc]];return i?r?i.concat(r):i.slice():r?r.slice():[]}function q0e(n,e){let t=n.Event;t&&t.prototype&&e.patchMethod(t.prototype,"stopImmediatePropagation",i=>function(r,o){r[oR]=!0,i&&i.apply(r,o)})}function Z0e(n,e){e.patchMethod(n,"queueMicrotask",t=>function(i,r){Zone.current.scheduleMicroTask("queueMicrotask",r[0])})}var E7=Jn("zoneTask");function $4(n,e,t,i){let r=null,o=null;e+=i,t+=i;let a={};function c(h){let v=h.data;v.args[0]=function(){return h.invoke.apply(this,arguments)};let y=r.apply(n,v.args);return KN(y)?v.handleId=y:(v.handle=y,v.isRefreshable=XN(y.refresh)),h}function u(h){let{handle:v,handleId:y}=h.data;return o.call(n,v??y)}r=gc(n,e,h=>function(v,y){if(XN(y[0])){let P={isRefreshable:!1,isPeriodic:i==="Interval",delay:i==="Timeout"||i==="Interval"?y[1]||0:void 0,args:y},S=y[0];y[0]=function(){try{return S.apply(this,arguments)}finally{let{handle:Y,handleId:ne,isPeriodic:ue,isRefreshable:fe}=P;!ue&&!fe&&(ne?delete a[ne]:Y&&(Y[E7]=null))}};let M=mw(e,y[0],P,c,u);if(!M)return M;let{handleId:O,handle:R,isRefreshable:B,isPeriodic:F}=M.data;if(O)a[O]=M;else if(R&&(R[E7]=M,B&&!F)){let N=R.refresh;R.refresh=function(){let{zone:Y,state:ne}=M;return ne==="notScheduled"?(M._state="scheduled",Y._updateTaskCount(M,1)):ne==="running"&&(M._state="scheduling"),N.call(this)}}return R??O??M}else return h.apply(n,y)}),o=gc(n,t,h=>function(v,y){let P=y[0],S;KN(P)?(S=a[P],delete a[P]):(S=P?.[E7],S?P[E7]=null:S=P),S?.type?S.cancelFn&&S.zone.cancelTask(S):h.apply(n,y)})}function X0e(n,e){let{isBrowser:t,isMix:i}=e.getGlobalObjects();if(!t&&!i||!n.customElements||!("customElements"in n))return;let r=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];e.patchCallbacks(e,n.customElements,"customElements","define",r)}function K0e(n,e){if(Zone[e.symbol("patchEventTarget")])return;let{eventNames:t,zoneSymbolEventNames:i,TRUE_STR:r,FALSE_STR:o,ZONE_SYMBOL_PREFIX:a}=e.getGlobalObjects();for(let u=0;u<t.length;u++){let h=t[u],v=h+o,y=h+r,P=a+v,S=a+y;i[h]={},i[h][o]=P,i[h][r]=S}let c=n.EventTarget;if(!(!c||!c.prototype))return e.patchEventTarget(n,e,[c&&c.prototype]),!0}function Q0e(n,e){e.patchEventPrototype(n,e)}function lR(n,e,t){if(!t||t.length===0)return e;let i=t.filter(o=>o.target===n);if(i.length===0)return e;let r=i[0].ignoreProperties;return e.filter(o=>r.indexOf(o)===-1)}function QN(n,e,t,i){if(!n)return;let r=lR(n,e,t);nR(n,r,i)}function lw(n){return Object.getOwnPropertyNames(n).filter(e=>e.startsWith("on")&&e.length>2).map(e=>e.substring(2))}function J0e(n,e){if(L7&&!tR||Zone[n.symbol("patchEvents")])return;let t=e.__Zone_ignore_on_properties,i=[];if(gw){let r=window;i=i.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let o=[];QN(r,lw(r),t&&t.concat(o),dw(r))}i=i.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let r=0;r<i.length;r++){let o=e[i[r]];o?.prototype&&QN(o.prototype,lw(o.prototype),t)}}function ede(n){n.__load_patch("legacy",e=>{let t=e[n.__symbol__("legacyPatch")];t&&t()}),n.__load_patch("timers",e=>{let t="set",i="clear";$4(e,t,i,"Timeout"),$4(e,t,i,"Interval"),$4(e,t,i,"Immediate")}),n.__load_patch("requestAnimationFrame",e=>{$4(e,"request","cancel","AnimationFrame"),$4(e,"mozRequest","mozCancel","AnimationFrame"),$4(e,"webkitRequest","webkitCancel","AnimationFrame")}),n.__load_patch("blocking",(e,t)=>{let i=["alert","prompt","confirm"];for(let r=0;r<i.length;r++){let o=i[r];gc(e,o,(a,c,u)=>function(h,v){return t.current.run(a,e,v,u)})}}),n.__load_patch("EventTarget",(e,t,i)=>{Q0e(e,i),K0e(e,i);let r=e.XMLHttpRequestEventTarget;r&&r.prototype&&i.patchEventTarget(e,i,[r.prototype])}),n.__load_patch("MutationObserver",(e,t,i)=>{Zp("MutationObserver"),Zp("WebKitMutationObserver")}),n.__load_patch("IntersectionObserver",(e,t,i)=>{Zp("IntersectionObserver")}),n.__load_patch("FileReader",(e,t,i)=>{Zp("FileReader")}),n.__load_patch("on_property",(e,t,i)=>{J0e(i,e)}),n.__load_patch("customElements",(e,t,i)=>{X0e(e,i)}),n.__load_patch("XHR",(e,t)=>{h(e);let i=Jn("xhrTask"),r=Jn("xhrSync"),o=Jn("xhrListener"),a=Jn("xhrScheduled"),c=Jn("xhrURL"),u=Jn("xhrErrorBeforeScheduled");function h(v){let y=v.XMLHttpRequest;if(!y)return;let P=y.prototype;function S(ge){return ge[i]}let M=P[ow],O=P[aw];if(!M){let ge=v.XMLHttpRequestEventTarget;if(ge){let re=ge.prototype;M=re[ow],O=re[aw]}}let R="readystatechange",B="scheduled";function F(ge){let re=ge.data,ee=re.target;ee[a]=!1,ee[u]=!1;let se=ee[o];M||(M=ee[ow],O=ee[aw]),se&&O.call(ee,R,se);let ve=ee[o]=()=>{if(ee.readyState===ee.DONE)if(!re.aborted&&ee[a]&&ge.state===B){let K=ee[t.__symbol__("loadfalse")];if(ee.status!==0&&K&&K.length>0){let H=ge.invoke;ge.invoke=function(){let Z=ee[t.__symbol__("loadfalse")];for(let ke=0;ke<Z.length;ke++)Z[ke]===ge&&Z.splice(ke,1);!re.aborted&&ge.state===B&&H.call(ge)},K.push(ge)}else ge.invoke()}else!re.aborted&&ee[a]===!1&&(ee[u]=!0)};return M.call(ee,R,ve),ee[i]||(ee[i]=ge),J.apply(ee,re.args),ee[a]=!0,ge}function N(){}function Y(ge){let re=ge.data;return re.aborted=!0,pe.apply(re.target,re.args)}let ne=gc(P,"open",()=>function(ge,re){return ge[r]=re[2]==!1,ge[c]=re[1],ne.apply(ge,re)}),ue="XMLHttpRequest.send",fe=Jn("fetchTaskAborting"),oe=Jn("fetchTaskScheduling"),J=gc(P,"send",()=>function(ge,re){if(t.current[oe]===!0||ge[r])return J.apply(ge,re);{let ee={target:ge,url:ge[c],isPeriodic:!1,args:re,aborted:!1},se=mw(ue,N,ee,F,Y);ge&&ge[u]===!0&&!ee.aborted&&se.state===B&&se.invoke()}}),pe=gc(P,"abort",()=>function(ge,re){let ee=S(ge);if(ee&&typeof ee.type=="string"){if(ee.cancelFn==null||ee.data&&ee.data.aborted)return;ee.zone.cancelTask(ee)}else if(t.current[fe]===!0)return pe.apply(ge,re)})}}),n.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&H0e(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),n.__load_patch("PromiseRejectionEvent",(e,t)=>{function i(r){return function(o){sR(e,r).forEach(c=>{let u=e.PromiseRejectionEvent;if(u){let h=new u(r,{promise:o.promise,reason:o.rejection});c.invoke(h)}})}}e.PromiseRejectionEvent&&(t[Jn("unhandledPromiseRejectionHandler")]=i("unhandledrejection"),t[Jn("rejectionHandledHandler")]=i("rejectionhandled"))}),n.__load_patch("queueMicrotask",(e,t,i)=>{Z0e(e,i)})}function tde(n){n.__load_patch("ZoneAwarePromise",(e,t,i)=>{let r=Object.getOwnPropertyDescriptor,o=Object.defineProperty;function a(Oe){if(Oe&&Oe.toString===Object.prototype.toString){let Ae=Oe.constructor&&Oe.constructor.name;return(Ae||"")+": "+JSON.stringify(Oe)}return Oe?Oe.toString():Object.prototype.toString.call(Oe)}let c=i.symbol,u=[],h=e[c("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,v=c("Promise"),y=c("then"),P="__creationTrace__";i.onUnhandledError=Oe=>{if(i.showUncaughtError()){let Ae=Oe&&Oe.rejection;Ae?console.error("Unhandled Promise rejection:",Ae instanceof Error?Ae.message:Ae,"; Zone:",Oe.zone.name,"; Task:",Oe.task&&Oe.task.source,"; Value:",Ae,Ae instanceof Error?Ae.stack:void 0):console.error(Oe)}},i.microtaskDrainDone=()=>{for(;u.length;){let Oe=u.shift();try{Oe.zone.runGuarded(()=>{throw Oe.throwOriginal?Oe.rejection:Oe})}catch(Ae){M(Ae)}}};let S=c("unhandledPromiseRejectionHandler");function M(Oe){i.onUnhandledError(Oe);try{let Ae=t[S];typeof Ae=="function"&&Ae.call(this,Oe)}catch{}}function O(Oe){return Oe&&typeof Oe.then=="function"}function R(Oe){return Oe}function B(Oe){return Se.reject(Oe)}let F=c("state"),N=c("value"),Y=c("finally"),ne=c("parentPromiseValue"),ue=c("parentPromiseState"),fe="Promise.then",oe=null,J=!0,pe=!1,ge=0;function re(Oe,Ae){return xe=>{try{te(Oe,Ae,xe)}catch(Ue){te(Oe,!1,Ue)}}}let ee=function(){let Oe=!1;return function(xe){return function(){Oe||(Oe=!0,xe.apply(null,arguments))}}},se="Promise resolved with itself",ve=c("currentTaskTrace");function te(Oe,Ae,xe){let Ue=ee();if(Oe===xe)throw new TypeError(se);if(Oe[F]===oe){let st=null;try{(typeof xe=="object"||typeof xe=="function")&&(st=xe&&xe.then)}catch(pt){return Ue(()=>{te(Oe,!1,pt)})(),Oe}if(Ae!==pe&&xe instanceof Se&&xe.hasOwnProperty(F)&&xe.hasOwnProperty(N)&&xe[F]!==oe)H(xe),te(Oe,xe[F],xe[N]);else if(Ae!==pe&&typeof st=="function")try{st.call(xe,Ue(re(Oe,Ae)),Ue(re(Oe,!1)))}catch(pt){Ue(()=>{te(Oe,!1,pt)})()}else{Oe[F]=Ae;let pt=Oe[N];if(Oe[N]=xe,Oe[Y]===Y&&Ae===J&&(Oe[F]=Oe[ue],Oe[N]=Oe[ne]),Ae===pe&&xe instanceof Error){let tt=t.currentTask&&t.currentTask.data&&t.currentTask.data[P];tt&&o(xe,ve,{configurable:!0,enumerable:!1,writable:!0,value:tt})}for(let tt=0;tt<pt.length;)Z(Oe,pt[tt++],pt[tt++],pt[tt++],pt[tt++]);if(pt.length==0&&Ae==pe){Oe[F]=ge;let tt=xe;try{throw new Error("Uncaught (in promise): "+a(xe)+(xe&&xe.stack?`
`+xe.stack:""))}catch(vt){tt=vt}h&&(tt.throwOriginal=!0),tt.rejection=xe,tt.promise=Oe,tt.zone=t.current,tt.task=t.currentTask,u.push(tt),i.scheduleMicroTask()}}}return Oe}let K=c("rejectionHandledHandler");function H(Oe){if(Oe[F]===ge){try{let Ae=t[K];Ae&&typeof Ae=="function"&&Ae.call(this,{rejection:Oe[N],promise:Oe})}catch{}Oe[F]=pe;for(let Ae=0;Ae<u.length;Ae++)Oe===u[Ae].promise&&u.splice(Ae,1)}}function Z(Oe,Ae,xe,Ue,st){H(Oe);let pt=Oe[F],tt=pt?typeof Ue=="function"?Ue:R:typeof st=="function"?st:B;Ae.scheduleMicroTask(fe,()=>{try{let vt=Oe[N],kt=!!xe&&Y===xe[Y];kt&&(xe[ne]=vt,xe[ue]=pt);let jt=Ae.run(tt,void 0,kt&&tt!==B&&tt!==R?[]:[vt]);te(xe,!0,jt)}catch(vt){te(xe,!1,vt)}},xe)}let ke="function ZoneAwarePromise() { [native code] }",Be=function(){},Qe=e.AggregateError;class Se{static toString(){return ke}static resolve(Ae){return Ae instanceof Se?Ae:te(new this(null),J,Ae)}static reject(Ae){return te(new this(null),pe,Ae)}static withResolvers(){let Ae={};return Ae.promise=new Se((xe,Ue)=>{Ae.resolve=xe,Ae.reject=Ue}),Ae}static any(Ae){if(!Ae||typeof Ae[Symbol.iterator]!="function")return Promise.reject(new Qe([],"All promises were rejected"));let xe=[],Ue=0;try{for(let tt of Ae)Ue++,xe.push(Se.resolve(tt))}catch{return Promise.reject(new Qe([],"All promises were rejected"))}if(Ue===0)return Promise.reject(new Qe([],"All promises were rejected"));let st=!1,pt=[];return new Se((tt,vt)=>{for(let kt=0;kt<xe.length;kt++)xe[kt].then(jt=>{st||(st=!0,tt(jt))},jt=>{pt.push(jt),Ue--,Ue===0&&(st=!0,vt(new Qe(pt,"All promises were rejected")))})})}static race(Ae){let xe,Ue,st=new this((vt,kt)=>{xe=vt,Ue=kt});function pt(vt){xe(vt)}function tt(vt){Ue(vt)}for(let vt of Ae)O(vt)||(vt=this.resolve(vt)),vt.then(pt,tt);return st}static all(Ae){return Se.allWithCallback(Ae)}static allSettled(Ae){return(this&&this.prototype instanceof Se?this:Se).allWithCallback(Ae,{thenCallback:Ue=>({status:"fulfilled",value:Ue}),errorCallback:Ue=>({status:"rejected",reason:Ue})})}static allWithCallback(Ae,xe){let Ue,st,pt=new this((jt,hn)=>{Ue=jt,st=hn}),tt=2,vt=0,kt=[];for(let jt of Ae){O(jt)||(jt=this.resolve(jt));let hn=vt;try{jt.then(Lt=>{kt[hn]=xe?xe.thenCallback(Lt):Lt,tt--,tt===0&&Ue(kt)},Lt=>{xe?(kt[hn]=xe.errorCallback(Lt),tt--,tt===0&&Ue(kt)):st(Lt)})}catch(Lt){st(Lt)}tt++,vt++}return tt-=2,tt===0&&Ue(kt),pt}constructor(Ae){let xe=this;if(!(xe instanceof Se))throw new Error("Must be an instanceof Promise.");xe[F]=oe,xe[N]=[];try{let Ue=ee();Ae&&Ae(Ue(re(xe,J)),Ue(re(xe,pe)))}catch(Ue){te(xe,!1,Ue)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return Se}then(Ae,xe){let Ue=this.constructor?.[Symbol.species];(!Ue||typeof Ue!="function")&&(Ue=this.constructor||Se);let st=new Ue(Be),pt=t.current;return this[F]==oe?this[N].push(pt,st,Ae,xe):Z(this,pt,st,Ae,xe),st}catch(Ae){return this.then(null,Ae)}finally(Ae){let xe=this.constructor?.[Symbol.species];(!xe||typeof xe!="function")&&(xe=Se);let Ue=new xe(Be);Ue[Y]=Y;let st=t.current;return this[F]==oe?this[N].push(st,Ue,Ae,Ae):Z(this,st,Ue,Ae,Ae),Ue}}Se.resolve=Se.resolve,Se.reject=Se.reject,Se.race=Se.race,Se.all=Se.all;let gt=e[v]=e.Promise;e.Promise=Se;let ze=c("thenPatched");function Ie(Oe){let Ae=Oe.prototype,xe=r(Ae,"then");if(xe&&(xe.writable===!1||!xe.configurable))return;let Ue=Ae.then;Ae[y]=Ue,Oe.prototype.then=function(st,pt){return new Se((vt,kt)=>{Ue.call(this,vt,kt)}).then(st,pt)},Oe[ze]=!0}i.patchThen=Ie;function Fe(Oe){return function(Ae,xe){let Ue=Oe.apply(Ae,xe);if(Ue instanceof Se)return Ue;let st=Ue.constructor;return st[ze]||Ie(st),Ue}}return gt&&(Ie(gt),gc(e,"fetch",Oe=>Fe(Oe))),Promise[t.__symbol__("uncaughtPromiseErrors")]=u,Se})}function nde(n){n.__load_patch("toString",e=>{let t=Function.prototype.toString,i=Jn("OriginalDelegate"),r=Jn("Promise"),o=Jn("Error"),a=function(){if(typeof this=="function"){let v=this[i];if(v)return typeof v=="function"?t.call(v):Object.prototype.toString.call(v);if(this===Promise){let y=e[r];if(y)return t.call(y)}if(this===Error){let y=e[o];if(y)return t.call(y)}}return t.call(this)};a[i]=t,Function.prototype.toString=a;let c=Object.prototype.toString,u="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?u:c.call(this)}})}function ide(n,e,t,i,r){let o=Zone.__symbol__(i);if(e[o])return;let a=e[o]=e[i];e[i]=function(c,u,h){return u&&u.prototype&&r.forEach(function(v){let y=`${t}.${i}::`+v,P=u.prototype;try{if(P.hasOwnProperty(v)){let S=n.ObjectGetOwnPropertyDescriptor(P,v);S&&S.value?(S.value=n.wrapWithCurrentZone(S.value,y),n._redefineProperty(u.prototype,v,S)):P[v]&&(P[v]=n.wrapWithCurrentZone(P[v],y))}else P[v]&&(P[v]=n.wrapWithCurrentZone(P[v],y))}catch{}}),a.call(e,c,u,h)},n.attachOriginToPatched(e[i],a)}function rde(n){n.__load_patch("util",(e,t,i)=>{let r=lw(e);i.patchOnProperties=nR,i.patchMethod=gc,i.bindArguments=hw,i.patchMacroTask=$0e;let o=t.__symbol__("BLACK_LISTED_EVENTS"),a=t.__symbol__("UNPATCHED_EVENTS");e[a]&&(e[o]=e[a]),e[o]&&(t[o]=t[a]=e[o]),i.patchEventPrototype=q0e,i.patchEventTarget=Y0e,i.isIEOrEdge=W0e,i.ObjectDefineProperty=cw,i.ObjectGetOwnPropertyDescriptor=Xp,i.ObjectCreate=V0e,i.ArraySlice=B0e,i.patchClass=Zp,i.wrapWithCurrentZone=fw,i.filterProperties=lR,i.attachOriginToPatched=vc,i._redefineProperty=Object.defineProperty,i.patchCallbacks=ide,i.getGlobalObjects=()=>({globalSources:iR,zoneSymbolEventNames:Ga,eventNames:r,isBrowser:gw,isMix:tR,isNode:L7,TRUE_STR:mc,FALSE_STR:hc,ZONE_SYMBOL_PREFIX:Kp,ADD_EVENT_LISTENER_STR:uw,REMOVE_EVENT_LISTENER_STR:pw})})}function ode(n){tde(n),nde(n),rde(n)}var cR=F0e();ode(cR);ede(cR);zy(D7,GN).catch(n=>console.error(n));
